import{V as y,_ as Te,a as yf,b as Au,c as _,d as ie,e as VD,f as g,g as ku,h as oe,i as Z,j as Es,k as yr,l as C,m as v,n as re,o as ae,p as fe,q as dt,r as ue,s as Pe,t as Y,u as Ws,v as ot,w as Ne,x as H,y as UD,z as ms,A as pr,B as qt,C as we,D as ye,E as Ee,F as et,G as zs,H as ft,I as Dr,J as Mr,K as BD,L as Ru,M as Ce,N as Wt,O as Hu,P as fs,Q as Ll,R as Gr,S as hC,T as mC,U as lr,W as la,X as Cf,Y as GD,Z as WD,$ as zD,a0 as ei,a1 as ga,a2 as pC,a3 as Wi,a4 as qD,a5 as ZD,a6 as YD,a7 as Ri,a8 as Nr,a9 as ir,aa as XD,ab as JD,ac as KD,ad as QD,ae as e3,af as fC,ag as t3,ah as s3,ai as r3,aj as i3,ak as Zo,al as Yo,am as n3,an as a3,ao as Xo,ap as G1,aq as o3,ar as l3,as as W1,at as c3,au as u3}from"./vuetify-d556346d.js";import{g as Pn,c as Wr,a as $f,O as ml}from"./overlayscrollbars-44d87bcf.js";import{i as d3,t as h3,u as m3,a as p3,b as f3,c as g3,d as _3,e as v3,f as b3,g as y3,h as C3}from"./echarts-ff51454d.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();var $3={exports:{}};(function(e){var s=function(t){var r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(j,z,T){j[z]=T.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(j,z,T){return Object.defineProperty(j,z,{value:T,enumerable:!0,configurable:!0,writable:!0}),j[z]}try{d({},"")}catch{d=function(z,T,A){return z[T]=A}}function h(j,z,T,A){var V=z&&z.prototype instanceof D?z:D,Q=Object.create(V.prototype),le=new J(A||[]);return n(Q,"_invoke",{value:se(j,T,le)}),Q}t.wrap=h;function m(j,z,T){try{return{type:"normal",arg:j.call(z,T)}}catch(A){return{type:"throw",arg:A}}}var p="suspendedStart",f="suspendedYield",b="executing",$="completed",P={};function D(){}function R(){}function k(){}var S={};d(S,l,function(){return this});var L=Object.getPrototypeOf,I=L&&L(L(ee([])));I&&I!==r&&i.call(I,l)&&(S=I);var N=k.prototype=D.prototype=Object.create(S);R.prototype=k,n(N,"constructor",{value:k,configurable:!0}),n(k,"constructor",{value:R,configurable:!0}),R.displayName=d(k,u,"GeneratorFunction");function G(j){["next","throw","return"].forEach(function(z){d(j,z,function(T){return this._invoke(z,T)})})}t.isGeneratorFunction=function(j){var z=typeof j=="function"&&j.constructor;return z?z===R||(z.displayName||z.name)==="GeneratorFunction":!1},t.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,k):(j.__proto__=k,d(j,u,"GeneratorFunction")),j.prototype=Object.create(N),j},t.awrap=function(j){return{__await:j}};function q(j,z){function T(Q,le,he,_e){var De=m(j[Q],j,le);if(De.type==="throw")_e(De.arg);else{var it=De.arg,Dt=it.value;return Dt&&typeof Dt=="object"&&i.call(Dt,"__await")?z.resolve(Dt.__await).then(function(Nt){T("next",Nt,he,_e)},function(Nt){T("throw",Nt,he,_e)}):z.resolve(Dt).then(function(Nt){it.value=Nt,he(it)},function(Nt){return T("throw",Nt,he,_e)})}}var A;function V(Q,le){function he(){return new z(function(_e,De){T(Q,le,_e,De)})}return A=A?A.then(he,he):he()}n(this,"_invoke",{value:V})}G(q.prototype),d(q.prototype,c,function(){return this}),t.AsyncIterator=q,t.async=function(j,z,T,A,V){V===void 0&&(V=Promise);var Q=new q(h(j,z,T,A),V);return t.isGeneratorFunction(z)?Q:Q.next().then(function(le){return le.done?le.value:Q.next()})};function se(j,z,T){var A=p;return function(Q,le){if(A===b)throw new Error("Generator is already running");if(A===$){if(Q==="throw")throw le;return te()}for(T.method=Q,T.arg=le;;){var he=T.delegate;if(he){var _e=F(he,T);if(_e){if(_e===P)continue;return _e}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(A===p)throw A=$,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);A=b;var De=m(j,z,T);if(De.type==="normal"){if(A=T.done?$:f,De.arg===P)continue;return{value:De.arg,done:T.done}}else De.type==="throw"&&(A=$,T.method="throw",T.arg=De.arg)}}}function F(j,z){var T=z.method,A=j.iterator[T];if(A===a)return z.delegate=null,T==="throw"&&j.iterator.return&&(z.method="return",z.arg=a,F(j,z),z.method==="throw")||T!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+T+"' method")),P;var V=m(A,j.iterator,z.arg);if(V.type==="throw")return z.method="throw",z.arg=V.arg,z.delegate=null,P;var Q=V.arg;if(!Q)return z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,P;if(Q.done)z[j.resultName]=Q.value,z.next=j.nextLoc,z.method!=="return"&&(z.method="next",z.arg=a);else return Q;return z.delegate=null,P}G(N),d(N,u,"Generator"),d(N,l,function(){return this}),d(N,"toString",function(){return"[object Generator]"});function W(j){var z={tryLoc:j[0]};1 in j&&(z.catchLoc=j[1]),2 in j&&(z.finallyLoc=j[2],z.afterLoc=j[3]),this.tryEntries.push(z)}function X(j){var z=j.completion||{};z.type="normal",delete z.arg,j.completion=z}function J(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(W,this),this.reset(!0)}t.keys=function(j){var z=Object(j),T=[];for(var A in z)T.push(A);return T.reverse(),function V(){for(;T.length;){var Q=T.pop();if(Q in z)return V.value=Q,V.done=!1,V}return V.done=!0,V}};function ee(j){if(j||j===""){var z=j[l];if(z)return z.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var T=-1,A=function V(){for(;++T<j.length;)if(i.call(j,T))return V.value=j[T],V.done=!1,V;return V.value=a,V.done=!0,V};return A.next=A}}throw new TypeError(typeof j+" is not iterable")}t.values=ee;function te(){return{value:a,done:!0}}return J.prototype={constructor:J,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(X),!j)for(var z in this)z.charAt(0)==="t"&&i.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=a)},stop:function(){this.done=!0;var j=this.tryEntries[0],z=j.completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var z=this;function T(_e,De){return Q.type="throw",Q.arg=j,z.next=_e,De&&(z.method="next",z.arg=a),!!De}for(var A=this.tryEntries.length-1;A>=0;--A){var V=this.tryEntries[A],Q=V.completion;if(V.tryLoc==="root")return T("end");if(V.tryLoc<=this.prev){var le=i.call(V,"catchLoc"),he=i.call(V,"finallyLoc");if(le&&he){if(this.prev<V.catchLoc)return T(V.catchLoc,!0);if(this.prev<V.finallyLoc)return T(V.finallyLoc)}else if(le){if(this.prev<V.catchLoc)return T(V.catchLoc,!0)}else if(he){if(this.prev<V.finallyLoc)return T(V.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,z){for(var T=this.tryEntries.length-1;T>=0;--T){var A=this.tryEntries[T];if(A.tryLoc<=this.prev&&i.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var V=A;break}}V&&(j==="break"||j==="continue")&&V.tryLoc<=z&&z<=V.finallyLoc&&(V=null);var Q=V?V.completion:{};return Q.type=j,Q.arg=z,V?(this.method="next",this.next=V.finallyLoc,P):this.complete(Q)},complete:function(j,z){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&z&&(this.next=z),P},finish:function(j){for(var z=this.tryEntries.length-1;z>=0;--z){var T=this.tryEntries[z];if(T.finallyLoc===j)return this.complete(T.completion,T.afterLoc),X(T),P}},catch:function(j){for(var z=this.tryEntries.length-1;z>=0;--z){var T=this.tryEntries[z];if(T.tryLoc===j){var A=T.completion;if(A.type==="throw"){var V=A.arg;X(T)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(j,z,T){return this.delegate={iterator:ee(j),resultName:z,nextLoc:T},this.method==="next"&&(this.arg=a),P}},t}(e.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})($3);var gC=function(){if(typeof Map<"u")return Map;function e(s,t){var r=-1;return s.some(function(i,n){return i[0]===t?(r=n,!0):!1}),r}return function(){function s(){this.__entries__=[]}return Object.defineProperty(s.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),s.prototype.get=function(t){var r=e(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},s.prototype.set=function(t,r){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},s.prototype.delete=function(t){var r=this.__entries__,i=e(r,t);~i&&r.splice(i,1)},s.prototype.has=function(t){return!!~e(this.__entries__,t)},s.prototype.clear=function(){this.__entries__.splice(0)},s.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,n=this.__entries__;i<n.length;i++){var a=n[i];t.call(r,a[1],a[0])}},s}()}(),Xh=typeof window<"u"&&typeof document<"u"&&window.document===document,Fl=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),x3=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Fl):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),S3=2;function w3(e,s){var t=!1,r=!1,i=0;function n(){t&&(t=!1,e()),r&&o()}function a(){x3(n)}function o(){var l=Date.now();if(t){if(l-i<S3)return;r=!0}else t=!0,r=!1,setTimeout(a,s);i=l}return o}var P3=20,T3=["top","right","bottom","left","width","height","size","weight"],D3=typeof MutationObserver<"u",M3=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=w3(this.refresh.bind(this),P3)}return e.prototype.addObserver=function(s){~this.observers_.indexOf(s)||this.observers_.push(s),this.connected_||this.connect_()},e.prototype.removeObserver=function(s){var t=this.observers_,r=t.indexOf(s);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var s=this.updateObservers_();s&&this.refresh()},e.prototype.updateObservers_=function(){var s=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return s.forEach(function(t){return t.broadcastActive()}),s.length>0},e.prototype.connect_=function(){!Xh||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),D3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Xh||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(s){var t=s.propertyName,r=t===void 0?"":t,i=T3.some(function(n){return!!~r.indexOf(n)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),_C=function(e,s){for(var t=0,r=Object.keys(s);t<r.length;t++){var i=r[t];Object.defineProperty(e,i,{value:s[i],enumerable:!1,writable:!1,configurable:!0})}return e},zi=function(e){var s=e&&e.ownerDocument&&e.ownerDocument.defaultView;return s||Fl},vC=ju(0,0,0,0);function Al(e){return parseFloat(e)||0}function z1(e){for(var s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];return s.reduce(function(r,i){var n=e["border-"+i+"-width"];return r+Al(n)},0)}function E3(e){for(var s=["top","right","bottom","left"],t={},r=0,i=s;r<i.length;r++){var n=i[r],a=e["padding-"+n];t[n]=Al(a)}return t}function O3(e){var s=e.getBBox();return ju(0,0,s.width,s.height)}function L3(e){var s=e.clientWidth,t=e.clientHeight;if(!s&&!t)return vC;var r=zi(e).getComputedStyle(e),i=E3(r),n=i.left+i.right,a=i.top+i.bottom,o=Al(r.width),l=Al(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+n)!==s&&(o-=z1(r,"left","right")+n),Math.round(l+a)!==t&&(l-=z1(r,"top","bottom")+a)),!A3(e)){var c=Math.round(o+n)-s,u=Math.round(l+a)-t;Math.abs(c)!==1&&(o-=c),Math.abs(u)!==1&&(l-=u)}return ju(i.left,i.top,o,l)}var F3=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof zi(e).SVGGraphicsElement}:function(e){return e instanceof zi(e).SVGElement&&typeof e.getBBox=="function"}}();function A3(e){return e===zi(e).document.documentElement}function k3(e){return Xh?F3(e)?O3(e):L3(e):vC}function R3(e){var s=e.x,t=e.y,r=e.width,i=e.height,n=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(n.prototype);return _C(a,{x:s,y:t,width:r,height:i,top:t,right:s+r,bottom:i+t,left:s}),a}function ju(e,s,t,r){return{x:e,y:s,width:t,height:r}}var H3=function(){function e(s){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ju(0,0,0,0),this.target=s}return e.prototype.isActive=function(){var s=k3(this.target);return this.contentRect_=s,s.width!==this.broadcastWidth||s.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var s=this.contentRect_;return this.broadcastWidth=s.width,this.broadcastHeight=s.height,s},e}(),j3=function(){function e(s,t){var r=R3(t);_C(this,{target:s,contentRect:r})}return e}(),I3=function(){function e(s,t,r){if(this.activeObservations_=[],this.observations_=new gC,typeof s!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=s,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(s){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(s instanceof zi(s).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(s)||(t.set(s,new H3(s)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(s){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(s instanceof zi(s).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(s)&&(t.delete(s),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var s=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&s.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var s=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new j3(r.target,r.broadcastRect())});this.callback_.call(s,t,s),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),bC=typeof WeakMap<"u"?new WeakMap:new gC,yC=function(){function e(s){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=M3.getInstance(),r=new I3(s,t,this);bC.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){yC.prototype[e]=function(){var s;return(s=bC.get(this))[e].apply(s,arguments)}});(function(){return typeof Fl.ResizeObserver<"u"?Fl.ResizeObserver:yC})();/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pl=function(s){return typeof s}:pl=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},pl(e)}function N3(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function V3(e){return U3(e)||B3(e)||G3()}function U3(e){if(Array.isArray(e)){for(var s=0,t=new Array(e.length);s<e.length;s++)t[s]=e[s];return t}}function B3(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function G3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function W3(){return typeof Reflect<"u"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function z3(e,s){hh(e,s),Object.getOwnPropertyNames(s.prototype).forEach(function(t){hh(e.prototype,s.prototype,t)}),Object.getOwnPropertyNames(s).forEach(function(t){hh(e,s,t)})}function hh(e,s,t){var r=t?Reflect.getOwnMetadataKeys(s,t):Reflect.getOwnMetadataKeys(s);r.forEach(function(i){var n=t?Reflect.getOwnMetadata(i,s,t):Reflect.getOwnMetadata(i,s);t?Reflect.defineMetadata(i,n,e,t):Reflect.defineMetadata(i,n,e)})}var q3={__proto__:[]},Z3=q3 instanceof Array;function Iu(e){return function(s,t,r){var i=typeof s=="function"?s:s.constructor;i.__decorators__||(i.__decorators__=[]),typeof r!="number"&&(r=void 0),i.__decorators__.push(function(n){return e(n,t,r)})}}function M(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return y.extend({mixins:s})}function Y3(e){var s=pl(e);return e==null||s!=="object"&&s!=="function"}function X3(e,s){var t=s.prototype._init;s.prototype._init=function(){var n=this,a=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||a.push(o);a.forEach(function(l){Object.defineProperty(n,l,{get:function(){return e[l]},set:function(u){e[l]=u},configurable:!0})})};var r=new s;s.prototype._init=t;var i={};return Object.keys(r).forEach(function(n){r[n]!==void 0&&(i[n]=r[n])}),i}var Jh=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function q1(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.name=s.name||e._componentTag||e.name;var t=e.prototype;Object.getOwnPropertyNames(t).forEach(function(o){if(o!=="constructor"){if(Jh.indexOf(o)>-1){s[o]=t[o];return}var l=Object.getOwnPropertyDescriptor(t,o);l.value!==void 0?typeof l.value=="function"?(s.methods||(s.methods={}))[o]=l.value:(s.mixins||(s.mixins=[])).push({data:function(){return N3({},o,l.value)}}):(l.get||l.set)&&((s.computed||(s.computed={}))[o]={get:l.get,set:l.set})}}),(s.mixins||(s.mixins=[])).push({data:function(){return X3(this,e)}});var r=e.__decorators__;r&&(r.forEach(function(o){return o(s)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),n=i instanceof y?i.constructor:y,a=n.extend(s);return K3(a,e,n),W3()&&z3(a,e),a}var J3={prototype:!0,arguments:!0,callee:!0,caller:!0};function K3(e,s,t){Object.getOwnPropertyNames(s).forEach(function(r){if(!J3[r]){var i=Object.getOwnPropertyDescriptor(e,r);if(!(i&&!i.configurable)){var n=Object.getOwnPropertyDescriptor(s,r);if(!Z3){if(r==="cid")return;var a=Object.getOwnPropertyDescriptor(t,r);if(!Y3(n.value)&&a&&a.value===n.value)return}Object.defineProperty(e,r,n)}}})}function w(e){return typeof e=="function"?q1(e):function(s){return q1(s,e)}}w.registerHooks=function(s){Jh.push.apply(Jh,V3(s))};globalThis&&globalThis.__spreadArrays;var Q3=typeof Reflect<"u"&&typeof Reflect.getMetadata<"u";function eM(e,s,t){if(Q3&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type>"u"){var r=Reflect.getMetadata("design:type",s,t);r!==Object&&(e.type=r)}}function x(e){return e===void 0&&(e={}),function(s,t){eM(e,s,t),Iu(function(r,i){(r.props||(r.props={}))[i]=e})(s,t)}}function Fs(e){return Iu(function(s,t){s.computed=s.computed||{},s.computed[t]={cache:!1,get:function(){return this.$refs[e||t]}}})}function tM(e){e===void 0&&(e={});var s="value";return Iu(function(t,r){(t.props||(t.props={}))[s]=e,(t.computed||(t.computed={}))[r]={get:function(){return this[s]},set:function(i){this.$emit("input",i)}}})}function ce(e,s){s===void 0&&(s={});var t=s.deep,r=t===void 0?!1:t,i=s.immediate,n=i===void 0?!1:i;return Iu(function(a,o){typeof a.watch!="object"&&(a.watch=Object.create(null));var l=a.watch;typeof l[e]=="object"&&!Array.isArray(l[e])?l[e]=[l[e]]:typeof l[e]>"u"&&(l[e]=[]),l[e].push({handler:o,deep:r,immediate:n})})}var sM=Object.defineProperty,rM=Object.getOwnPropertyDescriptor,iM=(e,s,t,r)=>{for(var i=r>1?void 0:r?rM(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&sM(s,t,i),i};let O=class extends y{get apiUrl(){return this.$store.getters["socket/getUrl"]}get hostUrl(){return this.$store.getters["socket/getHostUrl"]}get hostPort(){var e;return parseInt((e=this.$store.state.socket.port)!=null?e:80)}get instancesDB(){var e;return(e=this.$store.state.instancesDB)!=null?e:"moonraker"}get socketIsConnected(){var e;return(e=this.$store.state.socket.isConnected)!=null?e:!1}get guiIsReady(){return this.$store.state.socket.initializationList.length===0}get klippyIsConnected(){var e;return(e=this.$store.state.server.klippy_connected)!=null?e:!1}get klipperState(){var e;return this.klippyIsConnected?(e=this.$store.state.server.klippy_state)!=null?e:"":"disconnected"}get klipperReadyForGui(){return this.socketIsConnected&&this.klipperState==="ready"}get klipperAppName(){var e;return(e=this.$store.state.printer.app_name)!=null?e:"Klipper"}get printerIsPrinting(){return this.klipperReadyForGui&&["printing","paused"].includes(this.printer_state)}get printerIsPrintingOnly(){return this.klipperReadyForGui&&this.printer_state==="printing"}get printerPowerDevice(){var t,r,i,n;const e=(t=this.$store.state.gui.uiSettings.powerDeviceName)!=null?t:null;return e!==null?e:(n=(i=((r=this.$store.getters["server/power/getDevices"])!=null?r:[]).find(a=>a.device.toLowerCase()==="printer"))==null?void 0:i.device)!=null?n:"printer"}get isPrinterPowerOff(){var r;const e=(r=this.$store.getters["server/power/getDevices"])!=null?r:[];if(e.length===0)return!1;const s=e.findIndex(i=>i.device===this.printerPowerDevice);return s===-1||e[s].status!=="off"?!1:!this.klippyIsConnected}get loadings(){var e;return(e=this.$store.state.socket.loadings)!=null?e:[]}get printer_state(){var t,r,i,n,a,o;const e=(n=(i=(t=this.$store.state.printer.print_stats)==null?void 0:t.state)!=null?i:(r=this.$store.state.printer.idle_timeout)==null?void 0:r.state)!=null?n:"",s=(o=(a=this.$store.state.printer["gcode_macro TIMELAPSE_TAKE_FRAME"])==null?void 0:a.is_paused)!=null?o:!1;return e==="paused"&&s?"printing":e}get isMobile(){return this.$vuetify.breakpoint.mobile}get isTablet(){return this.$vuetify.breakpoint.smAndUp&&!this.isDesktop&&!this.isWidescreen}get isDesktop(){return this.$vuetify.breakpoint.lgAndUp&&!this.isWidescreen}get isWidescreen(){return this.$vuetify.breakpoint.xl}get viewport(){return this.isMobile?"mobile":this.isTablet?"tablet":this.isDesktop?"desktop":"widescreen"}get isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0&&navigator.maxTouchPoints!==256}get isIOS(){return!!(navigator.userAgent.match(/(iPad|iPhone|iPod)/)||navigator.platform==="MacIntel"&&typeof navigator.standalone<"u")}get moonrakerComponents(){var e,s;return(s=(e=this.$store.state.server)==null?void 0:e.components)!=null?s:[]}get existGcodesRootDirectory(){return this.$store.state.server.registered_directories.findIndex(s=>s==="gcodes")>=0}get formatDateOptions(){switch(this.$store.state.gui.general.dateFormat){case"2-digits":return{day:"2-digit",month:"2-digit",year:"numeric"};case"short":return{day:"2-digit",month:"short",year:"numeric"};default:return{dateStyle:"medium"}}}get formatTimeOptions(){switch(this.$store.state.gui.general.timeFormat){case"24hours":return{hour:"2-digit",minute:"2-digit",hourCycle:"h23"};case"12hours":return{hour:"2-digit",minute:"2-digit",hourCycle:"h12"};default:return{timeStyle:"short"}}}get formatTimeWithSecondsOptions(){switch(this.$store.state.gui.general.timeFormat){case"24hours":return{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23"};case"12hours":return{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h12"};default:return{timeStyle:"short"}}}get browserLocale(){return navigator.language}get hours12Format(){return this.$store.getters["gui/getHours12Format"]}formatDate(e){let s=null;try{s=typeof e.getMonth=="function"?e:new Date(e)}catch{return"UNKNOWN"}return s.toLocaleDateString(this.browserLocale,this.formatDateOptions)}formatTime(e,s=!1){let t=null;try{t=typeof e.getMonth=="function"?e:new Date(e)}catch{return"UNKNOWN"}return s?t.toLocaleTimeString(this.browserLocale,this.formatTimeWithSecondsOptions):t.toLocaleTimeString(this.browserLocale,this.formatTimeOptions)}formatDateTime(e,s=!1){const t=this.formatDate(e),r=this.formatTime(e,s);return"".concat(t," ").concat(r)}};O=iM([w],O);const CC="dark",$C="mainsail",ti="#D41216",kl="#2196f3",kt="#1e1e1e",Z1="v0.11.0-257",Y1="v0.8.0-306",nM=[{name:"safari",version:"16.5.2"}],aM=["#F44336","#8e379d","#03DAC5","#3F51B5","#ffde03","#009688","#E91E63"],oM="#2196F3",lM="#4CAF50",xC="99",SC="44",qi=".theme",cM=1e3,ta=["temperature","target","power","speed"],_a=["power","speed"],uM=["aht10","bme280","htu21d","sgp40","sht3x"],Zi=[".gcode",".g",".gco",".ufp",".nc"],wC=["history","power","updateManager","timelapse","jobQueue","announcements","spoolman","sensor"],dM=["virtual_sdcard","pause_resume","gcode_macro pause","gcode_macro resume","gcode_macro cancel_print"],hM=["uuid","estimated_time","filament_name","filament_type","filament_colors","extruder_colors","filament_temps","referenced_tools","mmu_print","filament_total","filament_weight_total","nozzle_diameter","first_layer_bed_temp","first_layer_extr_temp","chamber_temp","first_layer_height","gcode_end_byte","gcode_start_byte","job_id","layer_height","object_height","print_start_time","size","slicer","slicer_version","thumbnails"],Jo=500,mM=50,pM=["toolhead-control","extruder-control","macros","machine-settings","miniconsole","miscellaneous","spoolman","mmu","temperature","webcam"],Qt=30,es=64,Vs=128,fM=220,gM=48,Kh=48,ca=48,_M=["^_TIMELAPSE_NEW_FRAME","^TIMELAPSE_TAKE_FRAME","^TIMELAPSE_RENDER","^_SET_TIMELAPSE_SETUP","^HYPERLAPSE ACTION=","^SET_GCODE_VARIABLE MACRO=TIMELAPSE_"],vM=["gcodes","timelapse","timelapse_frames"],bM=[".git"],yM=["klippy","moonraker","crowsnest","mmu","sonar"],CM=["klipper","moonraker"],Ui=[{name:"mainsail",displayName:"Mainsail",colorLogo:ti},{name:"klipper",displayName:"Klipper",colorLogo:"#b12f35",logo:{show:!0,light:!1}},{name:"voron",displayName:"Voron Design",colorLogo:"#FF2300",logo:{show:!0,light:!1}},{name:"ldo",displayName:"LDO Motion (Sponsor)",colorLogo:"#326799",colorPrimary:"#326799",logo:{show:!0,light:!1}},{name:"yumi",displayName:"YUMI (Sponsor)",colorLogo:"#F6CF3D",colorPrimary:"#F6CF3D",logo:{show:!0,light:!1}},{name:"vzbot",displayName:"VzBot",colorLogo:"#FF0000",logo:{show:!0,light:!1},sidebarBackground:{show:!0,light:!1},css:!0},{name:"prusa",displayName:"Prusa Research (Sponsor)",colorLogo:"#fa6831",colorPrimary:"#fa6831",logo:{show:!0,light:!1}},{name:"btt",displayName:"BigTreeTech (Sponsor)",colorLogo:"#ef0025",logo:{show:!0,light:!1}},{name:"multec",displayName:"Multec GmbH (Sponsor)",colorLogo:"#234D7A",colorPrimary:"#234D7A",logo:{show:!0,light:!1}}],X1={Klipper:{url:"https://www.klipper3d.org/",docsLanguages:["it","hu","zh"]},Kalico:{url:"https://docs.kalico.gg/"}};var Er="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12Z",va="M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z",$M="M9.29,3.25L5.16,6.72L4,5.34L8.14,1.87L9.29,3.25M22,5.35L20.84,6.73L16.7,3.25L17.86,1.87L22,5.35M13,4A8,8 0 0,1 21,12A8,8 0 0,1 13,20A8,8 0 0,1 5,12A8,8 0 0,1 13,4M13,6A6,6 0 0,0 7,12A6,6 0 0,0 13,18A6,6 0 0,0 19,12A6,6 0 0,0 13,6M12,7.5H13.5V12.03L16.72,13.5L16.1,14.86L12,13V7.5M1,14C1,11.5 2.13,9.3 3.91,7.83C3.33,9.1 3,10.5 3,12L3.06,13.13L3,14C3,16.28 4.27,18.26 6.14,19.28C7.44,20.5 9.07,21.39 10.89,21.78C10.28,21.92 9.65,22 9,22A8,8 0 0,1 1,14Z",xM="M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12,16.5C9.5,16.5 7.5,14.5 7.5,12C7.5,9.5 9.5,7.5 12,7.5C14.5,7.5 16.5,9.5 16.5,12C16.5,14.5 14.5,16.5 12,16.5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",SM="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",PC="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",TC="M8.27,3L3,8.27V15.73L8.27,21H15.73C17.5,19.24 21,15.73 21,15.73V8.27L15.73,3M9.1,5H14.9L19,9.1V14.9L14.9,19H9.1L5,14.9V9.1M11,15H13V17H11V15M11,7H13V13H11V7",ba="M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",Nu="M19.92,12.08L12,20L4.08,12.08L5.5,10.67L11,16.17V2H13V16.17L18.5,10.66L19.92,12.08M12,20H2V22H22V20H12Z",wM="M13,20V4H15.03V20H13M10,20V4H12.03V20H10M5,8L9.03,12L5,16V13H2V11H5V8M20,16L16,12L20,8V11H23V13H20V16Z",PM="M4,12H20V14H4V12M4,9H20V11H4V9M16,4L12,8L8,4H11V1H13V4H16M8,19L12,15L16,19H13V22H11V19H8Z",TM="M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z",DM="M7.03 13.92H11.03V5L13.04 4.97V13.92H17.03L12.03 18.92Z",MM="M9,11H15V8L19,12L15,16V13H9V16L5,12L9,8V11M2,20V4H4V20H2M20,20V4H22V20H20Z",DC="M2,20V22H22V20H13V5.83L18.5,11.33L19.92,9.92L12,2L4.08,9.92L5.5,11.33L11,5.83V20H2Z",EM="M13,9V15H16L12,19L8,15H11V9H8L12,5L16,9H13M4,2H20V4H4V2M4,20H20V22H4V20Z",OM="M6.45,17.45L1,12L6.45,6.55L7.86,7.96L4.83,11H19.17L16.14,7.96L17.55,6.55L23,12L17.55,17.45L16.14,16.04L19.17,13H4.83L7.86,16.04L6.45,17.45Z",LM="M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z",FM="M7.03 9.97H11.03V18.89L13.04 18.92V9.97H17.03L12.03 4.97Z",MC="M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z",AM="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21",kM="M22.11,21.46L2.39,1.73L1.11,3L5.83,7.72C5.29,8.73 5,9.86 5,11V17L3,19V20H18.11L20.84,22.73L22.11,21.46M7,18V11C7,10.39 7.11,9.79 7.34,9.23L16.11,18H7M10,21H14A2,2 0 0,1 12,23A2,2 0 0,1 10,21M8.29,5.09C8.82,4.75 9.4,4.5 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V15.8L17,13.8V11A5,5 0 0,0 12,6C11.22,6 10.45,6.2 9.76,6.56L8.29,5.09Z",RM="M10 21H14C14 22.1 13.1 23 12 23S10 22.1 10 21M21 19V20H3V19L5 17V11C5 7.9 7 5.2 10 4.3V4C10 2.9 10.9 2 12 2S14 2.9 14 4V4.3C17 5.2 19 7.9 19 11V17L21 19M17 11C17 8.2 14.8 6 12 6S7 8.2 7 11V18H17V11Z",EC="M19.36,2.72L20.78,4.14L15.06,9.85C16.13,11.39 16.28,13.24 15.38,14.44L9.06,8.12C10.26,7.22 12.11,7.37 13.65,8.44L19.36,2.72M5.93,17.57C3.92,15.56 2.69,13.16 2.35,10.92L7.23,8.83L14.67,16.27L12.58,21.15C10.34,20.81 7.94,19.58 5.93,17.57Z",Vu="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",Yfe="M20,5H17L15,3H9L7,5H4A2,2 0 0,0 2,7V19A2,2 0 0,0 4,21H20A2,2 0 0,0 22,19V7A2,2 0 0,0 20,5M12,18C10.92,18 9.86,17.65 9,17L10.44,15.56C10.91,15.85 11.45,16 12,16A3,3 0 0,0 15,13A3,3 0 0,0 12,10C10.74,10 9.6,10.8 9.18,12H11L8,15L5,12H7.1C7.65,9.29 10.29,7.55 13,8.1C15.7,8.65 17.45,11.29 16.9,14C16.42,16.33 14.38,18 12,18Z",HM="M15.9,18.5L21.9,20.1L21.5,22L12.1,19.5L2.7,22L2.2,20.1L8.2,18.5L2.1,16.9L2.6,15L12,17.5L21.4,15L21.9,16.9L15.9,18.5M16.07,7.92C15.91,7.7 15.71,7.5 15.5,7.33C15.05,6.9 14.5,6.59 14.06,6.13C13,5.08 12.79,3.34 13.44,2C12.79,2.17 12.18,2.54 11.67,2.95C9.84,4.46 9.11,7.1 10,9.38C10,9.45 10.04,9.53 10.04,9.62C10.04,9.78 9.93,9.92 9.79,10C9.63,10.05 9.46,10 9.33,9.9C9.28,9.86 9.25,9.82 9.22,9.77C8.42,8.74 8.29,7.26 8.84,6.07C7.65,7.06 7,8.72 7.11,10.29C7.13,10.65 7.18,11 7.3,11.36C7.41,11.8 7.59,12.23 7.82,12.61C8.57,13.86 9.9,14.76 11.32,14.94C12.84,15.14 14.46,14.85 15.63,13.79C16.93,12.59 17.4,10.67 16.71,9L16.61,8.83C16.47,8.5 16.28,8.2 16.04,7.93L16.07,7.92M13.83,12.47C13.63,12.65 13.31,12.83 13.05,12.91C12.26,13.19 11.46,12.79 11,12.31C11.84,12.11 12.34,11.47 12.5,10.83C12.61,10.25 12.39,9.78 12.29,9.22C12.21,8.69 12.22,8.23 12.42,7.73C12.55,8 12.69,8.28 12.86,8.5C13.41,9.22 14.27,9.54 14.45,10.5C14.47,10.63 14.5,10.72 14.5,10.83C14.5,11.43 14.26,12.07 13.82,12.47",OC="M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",jM="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z",IM="M17.45,15.18L22,7.31V19L22,21H2V3H4V15.54L9.5,6L16,9.78L20.24,2.45L21.97,3.45L16.74,12.5L10.23,8.75L4.31,19H6.57L10.96,11.44L17.45,15.18Z",xf="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",NM="M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z",Sf="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",wf="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",LC="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",VM="M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z",UM="M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z",Or="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",BM="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",GM="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",WM="M9.42,7.41L4.83,12L9.42,16.59L8,18L2,12L8,6L9.42,7.41M15.42,7.41L10.83,12L15.42,16.59L14,18L8,12L14,6L15.42,7.41M21.42,7.41L16.83,12L21.42,16.59L20,18L14,12L20,6L21.42,7.41Z",zM="M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z",Uu="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",qM="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z",go="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",ZM="M20 2H8C6.9 2 6 2.9 6 4V16C6 17.11 6.9 18 8 18H20C21.11 18 22 17.11 22 16V4C22 2.9 21.11 2 20 2M20 16H8V4H20V16M4 6V20H18V22H4C2.9 22 2 21.11 2 20V6H4M9.77 12.84L12.6 10L9.77 7.15L11.17 5.75L14 8.6L16.84 5.77L18.24 7.17L15.4 10L18.23 12.84L16.83 14.24L14 11.4L11.17 14.24L9.77 12.84Z",Rl="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",YM="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z",pe="M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12L20 6.91Z",ya="M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.83 7.13 7.39 5.75 8.95 4.38 11 4.08V12.15L9.4 10.6L8 12L12 16L16 12L14.6 10.6L13 12.15V4.08Q15.58 4.43 17.29 6.39 19 8.35 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20Z",Ca="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z",Yt="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",XM="M22.12 21.46L2.4 1.73L1.12 3L4 5.87L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11C4.53 11.34 4.5 11.67 4.5 12S4.53 12.65 4.57 12.97L2.46 14.63C2.27 14.78 2.21 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.5 18.68 9.13 18.93L9.5 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.5 21.58L14.87 18.93C15.38 18.72 15.83 18.45 16.26 18.14L20.85 22.73L22.12 21.46M12 15.5C10.07 15.5 8.5 13.93 8.5 12C8.5 11.5 8.62 11.08 8.79 10.67L13.33 15.21C12.92 15.39 12.5 15.5 12 15.5M11.74 8.53L8.56 5.35C8.75 5.25 8.93 5.15 9.13 5.07L9.5 2.42C9.54 2.18 9.75 2 10 2H14C14.25 2 14.46 2.18 14.5 2.42L14.87 5.07C15.5 5.32 16.04 5.66 16.56 6.05L19.05 5.05C19.27 4.96 19.54 5.05 19.66 5.27L21.66 8.73C21.78 8.95 21.73 9.22 21.54 9.37L19.43 11C19.47 11.34 19.5 11.67 19.5 12S19.47 12.65 19.43 12.97L21.54 14.63C21.73 14.78 21.78 15.05 21.66 15.27L20.5 17.29L15.47 12.26C15.5 12.18 15.5 12.09 15.5 12C15.5 10.07 13.93 8.5 12 8.5C11.91 8.5 11.83 8.5 11.74 8.53Z",FC="M18 14.5C19.1 14.5 20.1 14.9 20.8 15.7L22 14.5V18.5H18L19.8 16.7C19.3 16.3 18.7 16 18 16C16.6 16 15.5 17.1 15.5 18.5S16.6 21 18 21C18.8 21 19.5 20.6 20 20H21.7C21.1 21.5 19.7 22.5 18 22.5C15.8 22.5 14 20.7 14 18.5S15.8 14.5 18 14.5M11.5 18.5C11.5 17.4 11.8 16.4 12.2 15.5H12C10.1 15.5 8.5 13.9 8.5 12S10.1 8.5 12 8.5 15.5 10.1 15.5 12C15.5 12.2 15.5 12.4 15.4 12.5C16.2 12.2 17 12 18 12C18.5 12 19 12.1 19.5 12.2V12C19.5 11.7 19.5 11.3 19.4 11L21.5 9.4C21.7 9.2 21.7 9 21.6 8.8L19.6 5.3C19.5 5 19.3 5 19 5L16.5 6C16 5.6 15.4 5.3 14.8 5L14.4 2.3C14.5 2.2 14.2 2 14 2H10C9.8 2 9.5 2.2 9.5 2.4L9.1 5.1C8.5 5.3 8 5.7 7.4 6L5 5C4.7 5 4.5 5 4.3 5.3L2.3 8.8C2.2 9 2.3 9.2 2.5 9.4L4.6 11C4.6 11.3 4.5 11.7 4.5 12S4.5 12.7 4.6 13L2.5 14.7C2.3 14.9 2.3 15.1 2.4 15.3L4.4 18.8C4.5 19 4.7 19 5 19L7.5 18C8 18.4 8.6 18.7 9.2 19L9.6 21.7C9.6 21.9 9.8 22.1 10.1 22.1H12.6C11.9 21 11.5 19.8 11.5 18.5Z",JM="M15.9,18.45C17.25,18.45 18.35,17.35 18.35,16C18.35,14.65 17.25,13.55 15.9,13.55C14.54,13.55 13.45,14.65 13.45,16C13.45,17.35 14.54,18.45 15.9,18.45M21.1,16.68L22.58,17.84C22.71,17.95 22.75,18.13 22.66,18.29L21.26,20.71C21.17,20.86 21,20.92 20.83,20.86L19.09,20.16C18.73,20.44 18.33,20.67 17.91,20.85L17.64,22.7C17.62,22.87 17.47,23 17.3,23H14.5C14.32,23 14.18,22.87 14.15,22.7L13.89,20.85C13.46,20.67 13.07,20.44 12.71,20.16L10.96,20.86C10.81,20.92 10.62,20.86 10.54,20.71L9.14,18.29C9.05,18.13 9.09,17.95 9.22,17.84L10.7,16.68L10.65,16L10.7,15.31L9.22,14.16C9.09,14.05 9.05,13.86 9.14,13.71L10.54,11.29C10.62,11.13 10.81,11.07 10.96,11.13L12.71,11.84C13.07,11.56 13.46,11.32 13.89,11.15L14.15,9.29C14.18,9.13 14.32,9 14.5,9H17.3C17.47,9 17.62,9.13 17.64,9.29L17.91,11.15C18.33,11.32 18.73,11.56 19.09,11.84L20.83,11.13C21,11.07 21.17,11.13 21.26,11.29L22.66,13.71C22.75,13.86 22.71,14.05 22.58,14.16L21.1,15.31L21.15,16L21.1,16.68M6.69,8.07C7.56,8.07 8.26,7.37 8.26,6.5C8.26,5.63 7.56,4.92 6.69,4.92A1.58,1.58 0 0,0 5.11,6.5C5.11,7.37 5.82,8.07 6.69,8.07M10.03,6.94L11,7.68C11.07,7.75 11.09,7.87 11.03,7.97L10.13,9.53C10.08,9.63 9.96,9.67 9.86,9.63L8.74,9.18L8,9.62L7.81,10.81C7.79,10.92 7.7,11 7.59,11H5.79C5.67,11 5.58,10.92 5.56,10.81L5.4,9.62L4.64,9.18L3.5,9.63C3.41,9.67 3.3,9.63 3.24,9.53L2.34,7.97C2.28,7.87 2.31,7.75 2.39,7.68L3.34,6.94L3.31,6.5L3.34,6.06L2.39,5.32C2.31,5.25 2.28,5.13 2.34,5.03L3.24,3.47C3.3,3.37 3.41,3.33 3.5,3.37L4.63,3.82L5.4,3.38L5.56,2.19C5.58,2.08 5.67,2 5.79,2H7.59C7.7,2 7.79,2.08 7.81,2.19L8,3.38L8.74,3.82L9.86,3.37C9.96,3.33 10.08,3.37 10.13,3.47L11.03,5.03C11.09,5.13 11.07,5.25 11,5.32L10.03,6.06L10.06,6.5L10.03,6.94Z",Pf="M21.4 7.5C22.2 8.3 22.2 9.6 21.4 10.3L18.6 13.1L10.8 5.3L13.6 2.5C14.4 1.7 15.7 1.7 16.4 2.5L18.2 4.3L21.2 1.3L22.6 2.7L19.6 5.7L21.4 7.5M15.6 13.3L14.2 11.9L11.4 14.7L9.3 12.6L12.1 9.8L10.7 8.4L7.9 11.2L6.4 9.8L3.6 12.6C2.8 13.4 2.8 14.7 3.6 15.4L5.4 17.2L1.4 21.2L2.8 22.6L6.8 18.6L8.6 20.4C9.4 21.2 10.7 21.2 11.4 20.4L14.2 17.6L12.8 16.2L15.6 13.3Z",_o="M13,19V16H21V19H13M8.5,13L2.47,7H6.71L11.67,11.95C12.25,12.54 12.25,13.5 11.67,14.07L6.74,19H2.5L8.5,13Z",Tf="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",Df="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",KM="M7 22H9V24H7V22M11 22H13V24H11V22M15 22H17V24H15V22M17 2H5C3.89 2 3 2.9 3 4V18C3 19.1 3.89 20 5 20H19C20.1 20 21 19.1 21 18V6L17 2M19 18H5V4H16.17L19 6.83V18M12 11C10.34 11 9 12.34 9 14S10.34 17 12 17 15 15.66 15 14 13.66 11 12 11M6 5H15V9H6V5Z",AC="M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M4,6V18H11V6H4M20,18V6H18.76C19,6.54 18.95,7.07 18.95,7.13C18.88,7.8 18.41,8.5 18.24,8.75L15.91,11.3L19.23,11.28L19.24,12.5L14.04,12.47L14,11.47C14,11.47 17.05,8.24 17.2,7.95C17.34,7.67 17.91,6 16.5,6C15.27,6.05 15.41,7.3 15.41,7.3L13.87,7.31C13.87,7.31 13.88,6.65 14.25,6H13V18H15.58L15.57,17.14L16.54,17.13C16.54,17.13 17.45,16.97 17.46,16.08C17.5,15.08 16.65,15.08 16.5,15.08C16.37,15.08 15.43,15.13 15.43,15.95H13.91C13.91,15.95 13.95,13.89 16.5,13.89C19.1,13.89 18.96,15.91 18.96,15.91C18.96,15.91 19,17.16 17.85,17.63L18.37,18H20M8.92,16H7.42V10.2L5.62,10.76V9.53L8.76,8.41H8.92V16Z",QM="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M3.05,13H1V11H3.05C3.5,6.83 6.83,3.5 11,3.05V1H13V3.05C17.17,3.5 20.5,6.83 20.95,11H23V13H20.95C20.5,17.17 17.17,20.5 13,20.95V23H11V20.95C6.83,20.5 3.5,17.17 3.05,13M12,5A7,7 0 0,0 5,12A7,7 0 0,0 12,19A7,7 0 0,0 19,12A7,7 0 0,0 12,5Z",e5="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",kC="M20 13.09V7C20 4.79 16.42 3 12 3S4 4.79 4 7V17C4 19.21 7.59 21 12 21C12.46 21 12.9 21 13.33 20.94C13.12 20.33 13 19.68 13 19L13 18.95C12.68 19 12.35 19 12 19C8.13 19 6 17.5 6 17V14.77C7.61 15.55 9.72 16 12 16C12.65 16 13.27 15.96 13.88 15.89C14.93 14.16 16.83 13 19 13C19.34 13 19.67 13.04 20 13.09M18 12.45C16.7 13.4 14.42 14 12 14S7.3 13.4 6 12.45V9.64C7.47 10.47 9.61 11 12 11S16.53 10.47 18 9.64V12.45M12 9C8.13 9 6 7.5 6 7S8.13 5 12 5 18 6.5 18 7 15.87 9 12 9M22 20L19 23L16 20H18V16H20V20H22Z",RC="M4,14V17C4,19 7.05,20.72 11,21V18.11L11.13,18C7.12,17.76 4,16.06 4,14M12,13C7.58,13 4,11.21 4,9V12C4,14.21 7.58,16 12,16C12.39,16 12.77,16 13.16,16L17,12.12C15.4,12.72 13.71,13 12,13M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M21,11.13C20.85,11.13 20.71,11.19 20.61,11.3L19.61,12.3L21.66,14.3L22.66,13.3C22.87,13.1 22.88,12.76 22.66,12.53L21.42,11.3C21.32,11.19 21.18,11.13 21.04,11.13M19.04,12.88L13,18.94V21H15.06L21.12,14.93L19.04,12.88Z",t5="M17.86 18L18.9 19C17.5 20.2 14.94 21 12 21C7.59 21 4 19.21 4 17V7C4 4.79 7.58 3 12 3C14.95 3 17.5 3.8 18.9 5L17.86 6L17.5 6.4C16.65 5.77 14.78 5 12 5C8.13 5 6 6.5 6 7S8.13 9 12 9C13.37 9 14.5 8.81 15.42 8.54L16.38 9.5H13.5V10.92C13 10.97 12.5 11 12 11C9.61 11 7.47 10.47 6 9.64V12.45C7.3 13.4 9.58 14 12 14C12.5 14 13 13.97 13.5 13.92V14.5H16.38L15.38 15.5L15.5 15.61C14.41 15.86 13.24 16 12 16C9.72 16 7.61 15.55 6 14.77V17C6 17.5 8.13 19 12 19C14.78 19 16.65 18.23 17.5 17.61L17.86 18M18.92 7.08L17.5 8.5L20 11H15V13H20L17.5 15.5L18.92 16.92L23.84 12L18.92 7.08Z",Ge="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",s5="M4.15,21.46L5.47,19.58C3.35,17.74 2,15.03 2,12A10,10 0 0,1 12,2C13.78,2 15.44,2.46 16.89,3.27L18.21,1.39L19.85,2.54L18.53,4.42C20.65,6.26 22,8.97 22,12A10,10 0 0,1 12,22C10.22,22 8.56,21.54 7.11,20.73L5.79,22.61L4.15,21.46M12,4A8,8 0 0,0 4,12C4,14.35 5,16.46 6.63,17.93L15.73,4.92C14.62,4.33 13.35,4 12,4M12,20A8,8 0 0,0 20,12C20,9.65 19,7.54 17.37,6.07L8.27,19.08C9.38,19.67 10.65,20 12,20Z",Mf="M3,4H7A1,1 0 0,1 8,5V19A1,1 0 0,1 7,20H3A1,1 0 0,1 2,19V5A1,1 0 0,1 3,4M10,4H14A1,1 0 0,1 15,5V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V5A1,1 0 0,1 10,4M17,4H21A1,1 0 0,1 22,5V19A1,1 0 0,1 21,20H17A1,1 0 0,1 16,19V5A1,1 0 0,1 17,4M4,18H6V13H4V18M11,11H13V6H11V11M18,18H20V13H18V18Z",r5="M8,3C6.89,3 6,3.89 6,5V21H18V5C18,3.89 17.11,3 16,3H8M8,5H16V19H8V5M13,11V13H15V11H13Z",i5="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",vo="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",Ef="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",HC="M13,5V11H14.17L12,13.17L9.83,11H11V5H13M15,3H9V9H5L12,16L19,9H15V3M19,18H5V20H19V18Z",bo="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z",Of="M12,5L5.33,15H18.67M5,17H19V19H5V17Z",jC="M7,4V6H10V8H7L5,10V13H3V10H1V18H3V15H5V18H8L10,20H18V16H20V19H23V9H20V12H18V8H12V6H15V4H7Z",Lf="M3.78,2.5L21.5,20.22L20.23,21.5L18,19.27V20H10L8,18H5V15H3V18H1V10H3V13H5V10L6.87,8.14L2.5,3.77L3.78,2.5M20,9V12H18V8H12V6H15V4H7.82L22.82,19H23V9H20Z",n5="M2.5,3.77L6.87,8.14L5,10V13H3V10H1V18H3V15H5V18H8L10,20H18V19.27L21.23,22.5L22.5,21.22L3.78,2.5L2.5,3.77M16,18H11L9,16H7V11L8,10H8.73L16,17.27V18M23,9V19H22.82L16,12.18V10H13.82L7.82,4H15V6H12V8H18V12H20V9H23Z",a5="M8,10H16V18H11L9,16H7V11M7,4V6H10V8H7L5,10V13H3V10H1V18H3V15H5V18H8L10,20H18V16H20V19H23V9H20V12H18V8H12V6H15V4H7Z",o5="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",Ff="M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12.5,2C17,2 17.11,5.57 14.75,6.75C13.76,7.24 13.32,8.29 13.13,9.22C13.61,9.42 14.03,9.73 14.35,10.13C18.05,8.13 22.03,8.92 22.03,12.5C22.03,17 18.46,17.1 17.28,14.73C16.78,13.74 15.72,13.3 14.79,13.11C14.59,13.59 14.28,14 13.88,14.34C15.87,18.03 15.08,22 11.5,22C7,22 6.91,18.42 9.27,17.24C10.25,16.75 10.69,15.71 10.89,14.79C10.4,14.59 9.97,14.27 9.65,13.87C5.96,15.85 2,15.07 2,11.5C2,7 5.56,6.89 6.74,9.26C7.24,10.25 8.29,10.68 9.22,10.87C9.41,10.39 9.73,9.97 10.14,9.65C8.15,5.96 8.94,2 12.5,2Z",Xfe="M13,6V18L21.5,12M4,18L12.5,12L4,6V18Z",Ks="M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z",l5="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M10.5,11C8,11 6,13 6,15.5C6,18 8,20 10.5,20C13,20 15,18 15,15.5C15,13 13,11 10.5,11M10.5,12.5A3,3 0 0,1 13.5,15.5C13.5,16.06 13.35,16.58 13.08,17L9,12.92C9.42,12.65 9.94,12.5 10.5,12.5M7.5,15.5C7.5,14.94 7.65,14.42 7.92,14L12,18.08C11.58,18.35 11.06,18.5 10.5,18.5A3,3 0 0,1 7.5,15.5Z",c5="M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H10V20.09L12.09,18H6V16H14.09L16.09,14H6V12H18.09L20,10.09V8L14,2H6M13,3.5L18.5,9H13V3.5M20.15,13C20,13 19.86,13.05 19.75,13.16L18.73,14.18L20.82,16.26L21.84,15.25C22.05,15.03 22.05,14.67 21.84,14.46L20.54,13.16C20.43,13.05 20.29,13 20.15,13M18.14,14.77L12,20.92V23H14.08L20.23,16.85L18.14,14.77Z",yo="M8,12H16V14H8V12M10,20H6V4H13V9H18V12.1L20,10.1V8L14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H10V20M8,18H12.1L13,17.1V16H8V18M20.2,13C20.3,13 20.5,13.1 20.6,13.2L21.9,14.5C22.1,14.7 22.1,15.1 21.9,15.3L20.9,16.3L18.8,14.2L19.8,13.2C19.9,13.1 20,13 20.2,13M20.2,16.9L14.1,23H12V20.9L18.1,14.8L20.2,16.9Z",Co="M16 0H8C6.9 0 6 .9 6 2V18C6 19.1 6.9 20 8 20H20C21.1 20 22 19.1 22 18V6L16 0M20 18H8V2H15V7H20V18M4 4V22H20V24H4C2.9 24 2 23.1 2 22V4H4M10 10V12H18V10H10M10 14V16H15V14H10Z",u5="M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z",d5="M15,7H20.5L15,1.5V7M8,0H16L22,6V18A2,2 0 0,1 20,20H8C6.89,20 6,19.1 6,18V2A2,2 0 0,1 8,0M4,4V22H20V24H4A2,2 0 0,1 2,22V4H4Z",IC="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z",h5="M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 15.69 15.69 13 19 13C19.34 13 19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M23 20H20V23H18V20H15V18H18V15H20V18H23V20Z",NC="M12.8 22H6C4.9 22 4 21.1 4 20V4C4 2.9 4.9 2 6 2H14L20 8V11.5C19.4 11.2 18.7 11.1 18 11V9H13V4H6V20H11.5C11.8 20.7 12.3 21.4 12.8 22M17 12L14.8 14.2L17 16.4V15C18.4 15 19.5 16.1 19.5 17.5C19.5 17.9 19.4 18.3 19.2 18.6L20.3 19.7C20.7 19.1 21 18.3 21 17.5C21 15.3 19.2 13.5 17 13.5V12M19.2 20.8L17 18.5V20C15.6 20 14.5 18.9 14.5 17.5C14.5 17.1 14.6 16.7 14.8 16.4L13.7 15.3C13.3 15.9 13 16.7 13 17.5C13 19.7 14.8 21.5 17 21.5V23L19.2 20.8Z",VC="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13.5,16V19H10.5V16H8L12,12L16,16H13.5M13,9V3.5L18.5,9H13Z",m5="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M17,19V13L14,15.2V13H7V19H14V16.8L17,19Z",p5="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z",f5="M2.39 1.73L1.11 3L9.5 11.37L9.97 12H10V17.87C9.96 18.16 10.06 18.47 10.29 18.7L12.3 20.71C12.69 21.1 13.32 21.1 13.71 20.71C13.94 20.5 14.04 20.18 14 19.88V15.89L20.84 22.73L22.11 21.46L14 13.35L9.41 8.76L4.15 3.5L2.39 1.73M6.21 3L14.54 11.34L19.79 4.62C20.13 4.19 20.05 3.56 19.62 3.22C19.43 3.08 19.22 3 19 3H6.21Z",Tn="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",g5="M7,2V13H10V22L17,10H13L17,2H7Z",Af="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",kf="M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z",Rf="M20,6A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H10L12,6H20M10.75,13H14V17H16V13H19.25L15,8.75",_5="M20 6H12L10 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6M20 18H16V16H14V18H4V8H14V10H16V8H20V18M16 12V10H18V12H16M14 12H16V14H14V12M18 16H16V14H18V16Z",v5="M21,19V17H8V19H21M21,13V11H8V13H21M8,7H21V5H8V7M4,5V7H6V5H4M3,5A1,1 0 0,1 4,4H6A1,1 0 0,1 7,5V7A1,1 0 0,1 6,8H4A1,1 0 0,1 3,7V5M4,11V13H6V11H4M3,11A1,1 0 0,1 4,10H6A1,1 0 0,1 7,11V13A1,1 0 0,1 6,14H4A1,1 0 0,1 3,13V11M4,17V19H6V17H4M3,17A1,1 0 0,1 4,16H6A1,1 0 0,1 7,17V19A1,1 0 0,1 6,20H4A1,1 0 0,1 3,19V17Z",Hf="M16.5,9L13.5,12L16.5,15H22V9M9,16.5V22H15V16.5L12,13.5M7.5,9H2V15H7.5L10.5,12M15,7.5V2H9V7.5L12,10.5L15,7.5Z",b5="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12C20,14.4 19,16.5 17.3,18C15.9,16.7 14,16 12,16C10,16 8.2,16.7 6.7,18C5,16.5 4,14.4 4,12A8,8 0 0,1 12,4M14,5.89C13.62,5.9 13.26,6.15 13.1,6.54L11.81,9.77L11.71,10C11,10.13 10.41,10.6 10.14,11.26C9.73,12.29 10.23,13.45 11.26,13.86C12.29,14.27 13.45,13.77 13.86,12.74C14.12,12.08 14,11.32 13.57,10.76L13.67,10.5L14.96,7.29L14.97,7.26C15.17,6.75 14.92,6.17 14.41,5.96C14.28,5.91 14.15,5.89 14,5.89M10,6A1,1 0 0,0 9,7A1,1 0 0,0 10,8A1,1 0 0,0 11,7A1,1 0 0,0 10,6M7,9A1,1 0 0,0 6,10A1,1 0 0,0 7,11A1,1 0 0,0 8,10A1,1 0 0,0 7,9M17,9A1,1 0 0,0 16,10A1,1 0 0,0 17,11A1,1 0 0,0 18,10A1,1 0 0,0 17,9Z",Bu="M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z",jf="M10,19H13V22H10V19M12,2C17.35,2.22 19.68,7.62 16.5,11.67C15.67,12.67 14.33,13.33 13.67,14.17C13,15 13,16 13,17H10C10,15.33 10,13.92 10.67,12.92C11.33,11.92 12.67,11.33 13.5,10.67C15.92,8.43 15.32,5.26 12,5A3,3 0 0,0 9,8H6A6,6 0 0,1 12,2Z",Gu="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",UC="M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z",BC="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3",GC="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",y5="M12 5.69L17 10.19V18H15V12H9V18H7V10.19L12 5.69M12 3L2 12H5V20H11V14H13V20H19V12H22",It="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",If="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",C5="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22M12.3 7.29C12.5 7.11 12.74 7 13 7C13.27 7 13.5 7.11 13.71 7.29C13.9 7.5 14 7.74 14 8C14 8.27 13.9 8.5 13.71 8.71C13.5 8.9 13.27 9 13 9C12.74 9 12.5 8.9 12.3 8.71C12.11 8.5 12 8.27 12 8C12 7.74 12.11 7.5 12.3 7.29M9.8 11.97C9.8 11.97 11.97 10.25 12.76 10.18C13.5 10.12 13.35 10.97 13.28 11.41L13.27 11.47C13.13 12 12.96 12.64 12.79 13.25C12.41 14.64 12.04 16 12.13 16.25C12.23 16.59 12.85 16.16 13.3 15.86C13.36 15.82 13.41 15.78 13.46 15.75C13.46 15.75 13.54 15.67 13.62 15.78C13.64 15.81 13.66 15.84 13.68 15.86C13.77 16 13.82 16.05 13.7 16.13L13.66 16.15C13.44 16.3 12.5 16.96 12.12 17.2C11.71 17.47 10.14 18.37 10.38 16.62C10.59 15.39 10.87 14.33 11.09 13.5C11.5 12 11.68 11.32 10.76 11.91C10.39 12.13 10.17 12.27 10.04 12.36C9.93 12.44 9.92 12.44 9.85 12.31L9.82 12.25L9.77 12.17C9.7 12.07 9.7 12.06 9.8 11.97Z",$5="M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",Qh="M17,14H19V17H22V19H19V22H17V19H14V17H17V14M11,16L2,9L11,2L20,9L11,16M11,18.54L12,17.75V18C12,18.71 12.12,19.39 12.35,20L11,21.07L2,14.07L3.62,12.81L11,18.54Z",WC="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z",Nf="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z",x5="M11 9.47V11H14.76L13 14.53V13H9.24L11 9.47M13 1L6 15H11V23L18 9H13V1Z",zC="M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z",S5="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",qC="M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17S8 16.11 8 15 8.9 13 10 13M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.9 2 10V20C2 21.1 2.9 22 4 22H16C17.1 22 18 21.1 18 20V10C18 8.9 17.1 8 16 8H15V6C15 4.34 16.34 3 18 3S21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M16 10V20H4V10H16Z",Wu="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",zu="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",ZC="M17,17H7V7H17M21,11V9H19V7C19,5.89 18.1,5 17,5H15V3H13V5H11V3H9V5H7C5.89,5 5,5.89 5,7V9H3V11H5V13H3V15H5V17A2,2 0 0,0 7,19H9V21H11V19H13V21H15V19H17A2,2 0 0,0 19,17V15H21V13H19V11M13,13H11V11H13M15,9H9V15H15V9Z",w5="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",Lr="M7,10L12,15L17,10H7Z",P5="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2M20 16H5.2L4 17.2V4H20V16Z",T5="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2M20 16H5.2L4 17.2V4H20V16M17 11H15V9H17M13 11H11V9H13M9 11H7V9H9",D5="M21 11C21 6.03 16.97 2 12 2S3 6.03 3 11C3 14.92 5.5 18.24 9 19.5V22H11V19.94C11.33 20 11.66 20 12 20S12.67 20 13 19.94V22H15V19.5C18.5 18.24 21 14.92 21 11M12 18C8.14 18 5 14.86 5 11S8.14 4 12 4 19 7.14 19 11 15.86 18 12 18M8 7H16V9H8V7M12.75 10L9.75 13L11 14.25L9.75 15.5L11.25 17L14.25 14L13 12.75L14.25 11.5L12.75 10Z",Vf="M19,13H5V11H19V13Z",M5="M20 14H4V10H20",Uf="M21,16V4H3V16H21M21,2A2,2 0 0,1 23,4V16A2,2 0 0,1 21,18H14V20H16V22H8V20H10V18H3C1.89,18 1,17.1 1,16V4C1,2.89 1.89,2 3,2H21M5,6H14V11H5V6M15,6H19V8H15V6M19,9V14H15V9H19M5,12H9V14H5V12M10,12H14V14H10V12Z",E5="M9,6H5V10H7V8H9M19,10H17V12H15V14H19M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2",O5="M2 12A10 10 0 0 0 15 21.54A10 10 0 0 1 15 2.46A10 10 0 0 0 2 12Z",YC="M17 2V4H12C10.9 4 10 4.89 10 6V9H12V6H17V8L20 5L17 2M17 9V11H6.73C6.37 10.38 5.71 10 5 10C3.9 10 3 10.9 3 12S3.9 14 5 14C5.71 14 6.37 13.62 6.73 13H17V15L20 12L17 9M10 15V18C10 19.11 10.9 20 12 20H17V22L20 19L17 16V18H12V15H10Z",XC="M18.13 12L19.39 10.74C19.83 10.3 20.39 10.06 21 10V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H11V19.13L11.13 19H5V5H12V12H18.13M14 4.5L19.5 10H14V4.5M19.13 13.83L21.17 15.87L15.04 22H13V19.96L19.13 13.83M22.85 14.19L21.87 15.17L19.83 13.13L20.81 12.15C21 11.95 21.33 11.95 21.53 12.15L22.85 13.47C23.05 13.67 23.05 14 22.85 14.19Z",JC="M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z",L5="M14,10H19.5L14,4.5V10M5,3H15L21,9V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3M5,12V14H19V12H5M5,16V18H14V16H5Z",F5="M15 3H5A2 2 0 0 0 3 5V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V9L15 3M19 19H5V5H14V10H19M17 14H7V12H17M14 17H7V15H14",qu="M3,7V5H5V4C5,2.89 5.9,2 7,2H13V9L15.5,7.5L18,9V2H19C20.05,2 21,2.95 21,4V20C21,21.05 20.05,22 19,22H7C5.95,22 5,21.05 5,20V19H3V17H5V13H3V11H5V7H3M7,11H5V13H7V11M7,7V5H5V7H7M7,19V17H5V19H7Z",A5="M16.75 22.16L14 19.16L15.16 18L16.75 19.59L20.34 16L21.5 17.41L16.75 22.16M3 7V5H5V4C5 2.89 5.9 2 7 2H13V9L15.5 7.5L18 9V2H19C20.05 2 21 2.95 21 4V13.8C20.12 13.29 19.09 13 18 13C14.69 13 12 15.69 12 19C12 20.09 12.29 21.12 12.8 22H7C5.95 22 5 21.05 5 20V19H3V17H5V13H3V11H5V7H3M5 5V7H7V5H5M5 19H7V17H5V19M5 13H7V11H5V13Z",KC="M3 7V5H5V4C5 2.9 5.9 2 7 2H13V9L15.5 7.5L18 9V2H19C20 2 21 3 21 4V13.8C20.1 13.3 19.1 13 18 13C14.7 13 12 15.7 12 19C12 20.1 12.3 21.1 12.8 22H7C5.9 22 5 21 5 20V19H3V17H5V13H3V11H5V7H3M5 5V7H7V5H5M5 19H7V17H5V19M5 13H7V11H5V13M17 15V18H14V20H17V23H19V20H22V18H19V15H17Z",QC="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",k5="M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L10.11,5.22L16,8.61L17.96,7.5L12,4.15M6.04,7.5L12,10.85L13.96,9.75L8.08,6.35L6.04,7.5M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V9.21L13,12.58V19.29L19,15.91Z",Zu="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",Bf="M14,19H18V5H14M6,19H10V5H6V19Z",Ct="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Dn="M8,5.14V19.14L19,12.14L8,5.14Z",$o="M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z",R5="M14 10H3V12H14V10M14 6H3V8H14V6M3 16H10V14H3V16M14.4 22L17 19.4L19.6 22L21 20.6L18.4 18L21 15.4L19.6 14L17 16.6L14.4 14L13 15.4L15.6 18L13 20.6L14.4 22Z",Yu="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",H5="M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z",e$="M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",j5="M13,3H11V13H13V3M17.83,5.17L16.41,6.59C18.05,7.91 19,9.9 19,12A7,7 0 0,1 12,19C8.14,19 5,15.88 5,12C5,9.91 5.95,7.91 7.58,6.58L6.17,5.17C2.38,8.39 1.92,14.07 5.14,17.86C8.36,21.64 14.04,22.1 17.83,18.88C19.85,17.17 21,14.65 21,12C21,9.37 19.84,6.87 17.83,5.17Z",Gf="M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z",xo="M19,6A1,1 0 0,0 20,5A1,1 0 0,0 19,4A1,1 0 0,0 18,5A1,1 0 0,0 19,6M19,2A3,3 0 0,1 22,5V11H18V7H6V11H2V5A3,3 0 0,1 5,2H19M18,18.25C18,18.63 17.79,18.96 17.47,19.13L12.57,21.82C12.4,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L6.53,19.13C6.21,18.96 6,18.63 6,18.25V13C6,12.62 6.21,12.29 6.53,12.12L11.43,9.68C11.59,9.56 11.79,9.5 12,9.5C12.21,9.5 12.4,9.56 12.57,9.68L17.47,12.12C17.79,12.29 18,12.62 18,13V18.25M12,11.65L9.04,13L12,14.6L14.96,13L12,11.65M8,17.66L11,19.29V16.33L8,14.71V17.66M16,17.66V14.71L13,16.33V19.29L16,17.66Z",Qs="M7,2H17V8H19V13H16.5L13,17H11L7.5,13H5V8H7V2M10,22H2V20H10A1,1 0 0,0 11,19V18H13V19A3,3 0 0,1 10,22Z",t$="M7 2H17V8H19V13H16.5L13 17H11L7.5 13H5V8H7V2M10 22H2V20H10C10.6 20 11 19.5 11 19V18H13V19C13 20.7 11.7 22 10 22M21 13V7H23V13H21M21 17V15H23V17H21Z",I5="M7,2H17V7H19V13H16.5L13,17H11L7.5,13H5V7H7V2M10,22H2V20H10A1,1 0 0,0 11,19V18H13V19A3,3 0 0,1 10,22M7,9V11H8.5L12,15L15.5,11H17V9H15V4H9V9H7Z",N5="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",s$="M13 18H11V16H13V18M13 15H11C11 11.75 14 12 14 10C14 8.9 13.1 8 12 8C10.9 8 10 8.9 10 10H8C8 7.79 9.79 6 12 6C14.21 6 16 7.79 16 10C16 12.5 13 12.75 13 15M22 12C22 17.18 18.05 21.45 13 21.95V19.94C16.95 19.45 20 16.08 20 12C20 7.92 16.95 4.55 13 4.06V2.05C18.05 2.55 22 6.82 22 12M11 2.05V4.06C9.54 4.24 8.2 4.82 7.09 5.68L5.67 4.26C7.15 3.05 9 2.25 11 2.05M4.06 11H2.05C2.25 9 3.05 7.15 4.26 5.67L5.68 7.1C4.82 8.2 4.24 9.54 4.06 11M11 19.94V21.95C9 21.75 7.15 20.96 5.67 19.74L7.09 18.32C8.2 19.18 9.54 19.76 11 19.94M2.05 13H4.06C4.24 14.46 4.82 15.8 5.68 16.91L4.26 18.33C3.05 16.85 2.25 15 2.05 13Z",Hl="M13,2.03C17.73,2.5 21.5,6.25 21.95,11C22.5,16.5 18.5,21.38 13,21.93V19.93C16.64,19.5 19.5,16.61 19.96,12.97C20.5,8.58 17.39,4.59 13,4.05V2.05L13,2.03M11,2.06V4.06C9.57,4.26 8.22,4.84 7.1,5.74L5.67,4.26C7.19,3 9.05,2.25 11,2.06M4.26,5.67L5.69,7.1C4.8,8.23 4.24,9.58 4.05,11H2.05C2.25,9.04 3,7.19 4.26,5.67M2.06,13H4.06C4.24,14.42 4.81,15.77 5.69,16.9L4.27,18.33C3.03,16.81 2.26,14.96 2.06,13M7.1,18.37C8.23,19.25 9.58,19.82 11,20V22C9.04,21.79 7.18,21 5.67,19.74L7.1,18.37M12,7.5L7.5,12H11V16H13V12H16.5L12,7.5Z",V5="M7.95,3L6.53,5.19L7.95,7.4H7.94L5.95,10.5L4.22,9.6L5.64,7.39L4.22,5.19L6.22,2.09L7.95,3M13.95,2.89L12.53,5.1L13.95,7.3L13.94,7.31L11.95,10.4L10.22,9.5L11.64,7.3L10.22,5.1L12.22,2L13.95,2.89M20,2.89L18.56,5.1L20,7.3V7.31L18,10.4L16.25,9.5L17.67,7.3L16.25,5.1L18.25,2L20,2.89M2,22V14A2,2 0 0,1 4,12H20A2,2 0 0,1 22,14V22H20V20H4V22H2M6,14A1,1 0 0,0 5,15V17A1,1 0 0,0 6,18A1,1 0 0,0 7,17V15A1,1 0 0,0 6,14M10,14A1,1 0 0,0 9,15V17A1,1 0 0,0 10,18A1,1 0 0,0 11,17V15A1,1 0 0,0 10,14M14,14A1,1 0 0,0 13,15V17A1,1 0 0,0 14,18A1,1 0 0,0 15,17V15A1,1 0 0,0 14,14M18,14A1,1 0 0,0 17,15V17A1,1 0 0,0 18,18A1,1 0 0,0 19,17V15A1,1 0 0,0 18,14Z",r$="M20,12H4A2,2 0 0,0 2,14V22H4V20H20V22H22V14A2,2 0 0,0 20,12M7,17A1,1 0 0,1 6,18A1,1 0 0,1 5,17V15A1,1 0 0,1 6,14A1,1 0 0,1 7,15V17M11,17A1,1 0 0,1 10,18A1,1 0 0,1 9,17V15A1,1 0 0,1 10,14A1,1 0 0,1 11,15V17M15,17A1,1 0 0,1 14,18A1,1 0 0,1 13,17V15A1,1 0 0,1 14,14A1,1 0 0,1 15,15V17M19,17A1,1 0 0,1 18,18A1,1 0 0,1 17,17V15A1,1 0 0,1 18,14A1,1 0 0,1 19,15V17Z",U5="M20,8H22V10H20V8M4,5H20A2,2 0 0,1 22,7H19V9H5V13H8V16H19V17H22A2,2 0 0,1 20,19H16V20H14V19H11V20H7V19H4A2,2 0 0,1 2,17V7A2,2 0 0,1 4,5M19,15H9V10H19V11H22V13H19V15M13,12V14H15V12H13M5,6V8H6V6H5M7,6V8H8V6H7M9,6V8H10V6H9M11,6V8H12V6H11M13,6V8H14V6H13M15,6V8H16V6H15M20,14H22V16H20V14Z",bi="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",B5="M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z",Jfe="M2 12C2 17 6 21 11 21C13.4 21 15.7 20.1 17.4 18.4L15.9 16.9C14.6 18.3 12.9 19 11 19C4.8 19 1.6 11.5 6.1 7.1S18 5.8 18 12H15L19 16H19.1L23 12H20C20 7 16 3 11 3S2 7 2 12M10 15H12V17H10V15M10 7H12V13H10V7",Xu="M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",er="M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5 16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6 12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6 5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z",G5="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z",W5="M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39C21.61 2.39 16.66 .269 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.79 17.45 10.61 17.63 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z",z5="M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z",q5="M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,5.55Z",jl="M20 20V17H22V20C22 21.11 21.1 22 20 22H17V20H20M2 20V17H4V20H7V22H4C2.9 22 2 21.1 2 20M10 20H14V22H10V20M14.59 8L12 10.59L9.41 8L8 9.41L10.59 12L8 14.59L9.41 16L12 13.41L14.59 16L16 14.59L13.41 12L16 9.41L14.59 8M20 10H22V14H20V10M2 10H4V14H2V10M2 4C2 2.89 2.9 2 4 2H7V4H4V7H2V4M22 4V7H20V4H17V2H20C21.1 2 22 2.9 22 4M10 2H14V4H10V2Z",Z5="M2,21L23,12L2,3V10L17,12L2,14V21Z",Y5="M23,12H17V10L20.39,6H17V4H23V6L19.62,10H23V12M15,16H9V14L12.39,10H9V8H15V10L11.62,14H15V16M7,20H1V18L4.39,14H1V12H7V14L3.62,18H7V20Z",Ju="M20.79,13.95L18.46,14.57L16.46,13.44V10.56L18.46,9.43L20.79,10.05L21.31,8.12L19.54,7.65L20,5.88L18.07,5.36L17.45,7.69L15.45,8.82L13,7.38V5.12L14.71,3.41L13.29,2L12,3.29L10.71,2L9.29,3.41L11,5.12V7.38L8.5,8.82L6.5,7.69L5.92,5.36L4,5.88L4.47,7.65L2.7,8.12L3.22,10.05L5.55,9.43L7.55,10.56V13.45L5.55,14.58L3.22,13.96L2.7,15.89L4.47,16.36L4,18.12L5.93,18.64L6.55,16.31L8.55,15.18L11,16.62V18.88L9.29,20.59L10.71,22L12,20.71L13.29,22L14.7,20.59L13,18.88V16.62L15.5,15.17L17.5,16.3L18.12,18.63L20,18.12L19.53,16.35L21.3,15.88L20.79,13.95M9.5,10.56L12,9.11L14.5,10.56V13.44L12,14.89L9.5,13.44V10.56Z",Wf="M12,16A3,3 0 0,1 9,13C9,11.88 9.61,10.9 10.5,10.39L20.21,4.77L14.68,14.35C14.18,15.33 13.17,16 12,16M12,3C13.81,3 15.5,3.5 16.97,4.32L14.87,5.53C14,5.19 13,5 12,5A8,8 0 0,0 4,13C4,15.21 4.89,17.21 6.34,18.65H6.35C6.74,19.04 6.74,19.67 6.35,20.06C5.96,20.45 5.32,20.45 4.93,20.07V20.07C3.12,18.26 2,15.76 2,13A10,10 0 0,1 12,3M22,13C22,15.76 20.88,18.26 19.07,20.07V20.07C18.68,20.45 18.05,20.45 17.66,20.06C17.27,19.67 17.27,19.04 17.66,18.65V18.65C19.11,17.2 20,15.21 20,13C20,12 19.81,11 19.46,10.1L20.67,8C21.5,9.5 22,11.18 22,13Z",Kfe="M17.36,20.2V14.82H19.15V22H3V14.82H4.8V20.2H17.36M6.77,14.32L7.14,12.56L15.93,14.41L15.56,16.17L6.77,14.32M7.93,10.11L8.69,8.5L16.83,12.28L16.07,13.9L7.93,10.11M10.19,6.12L11.34,4.74L18.24,10.5L17.09,11.87L10.19,6.12M14.64,1.87L20,9.08L18.56,10.15L13.2,2.94L14.64,1.87M6.59,18.41V16.61H15.57V18.41H6.59Z",zf="M6.27 17.05C6.72 17.58 7 18.25 7 19C7 20.66 5.66 22 4 22S1 20.66 1 19 2.34 16 4 16C4.18 16 4.36 16 4.53 16.05L7.6 10.69L5.86 9.7L9.95 8.58L11.07 12.67L9.33 11.68L6.27 17.05M20 16C18.7 16 17.6 16.84 17.18 18H11V16L8 19L11 22V20H17.18C17.6 21.16 18.7 22 20 22C21.66 22 23 20.66 23 19S21.66 16 20 16M12 8C12.18 8 12.36 8 12.53 7.95L15.6 13.31L13.86 14.3L17.95 15.42L19.07 11.33L17.33 12.32L14.27 6.95C14.72 6.42 15 5.75 15 5C15 3.34 13.66 2 12 2S9 3.34 9 5 10.34 8 12 8Z",i$="M18,18H6V6H18V18Z",X5="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9",n$="M9,3L5,7H8V14H10V7H13M16,17V10H14V17H11L15,21L19,17H16Z",qf="M12,18A6,6 0 0,1 6,12C6,11 6.25,10.03 6.7,9.2L5.24,7.74C4.46,8.97 4,10.43 4,12A8,8 0 0,0 12,20V23L16,19L12,15M12,4V1L8,5L12,9V6A6,6 0 0,1 18,12C18,13 17.75,13.97 17.3,14.8L18.76,16.26C19.54,15.03 20,13.57 20,12A8,8 0 0,0 12,4Z",J5="M20,4H14V10L16.24,7.76C17.32,8.85 18,10.34 18,12C18,13 17.75,13.94 17.32,14.77L18.78,16.23C19.55,15 20,13.56 20,12C20,9.79 19.09,7.8 17.64,6.36L20,4M2.86,5.41L5.22,7.77C4.45,9 4,10.44 4,12C4,14.21 4.91,16.2 6.36,17.64L4,20H10V14L7.76,16.24C6.68,15.15 6,13.66 6,12C6,11 6.25,10.06 6.68,9.23L14.76,17.31C14.5,17.44 14.26,17.56 14,17.65V19.74C14.79,19.53 15.54,19.2 16.22,18.78L18.58,21.14L19.85,19.87L4.14,4.14L2.86,5.41M10,6.35V4.26C9.2,4.47 8.45,4.8 7.77,5.22L9.23,6.68C9.5,6.56 9.73,6.44 10,6.35Z",K5="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z",a$="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M7,15V17H9C9.14,18.55 9.8,19.94 10.81,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V13.03C19.85,11.21 17.82,10 15.5,10C14.23,10 13.04,10.37 12.04,11H7V13H10C9.64,13.6 9.34,14.28 9.17,15H7M17,9V7H7V9H17Z",o$="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M5,3H19C20.11,3 21,3.89 21,5V13.03C20.5,12.23 19.81,11.54 19,11V5H5V19H9.5C9.81,19.75 10.26,20.42 10.81,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3M7,7H17V9H7V7M7,11H12.03C11.23,11.5 10.54,12.19 10,13H7V11M7,15H9.17C9.06,15.5 9,16 9,16.5V17H7V15Z",l$="M15 13V5A3 3 0 0 0 9 5V13A5 5 0 1 0 15 13M12 4A1 1 0 0 1 13 5V8H11V5A1 1 0 0 1 12 4Z",c$="M17 3H21V5H17V3M17 7H21V9H17V7M17 11H21V13H17.75L17 12.1V11M21 15V17H19C19 16.31 18.9 15.63 18.71 15H21M7 3V5H3V3H7M7 7V9H3V7H7M7 11V12.1L6.25 13H3V11H7M3 15H5.29C5.1 15.63 5 16.31 5 17H3V15M15 13V5C15 3.34 13.66 2 12 2S9 3.34 9 5V13C6.79 14.66 6.34 17.79 8 20S12.79 22.66 15 21 17.66 16.21 16 14C15.72 13.62 15.38 13.28 15 13M12 4C12.55 4 13 4.45 13 5V8H11V5C11 4.45 11.45 4 12 4Z",Q5="M19 11V8H17V11H14V13H17V16H19V13H22V11M11 13V5C11 3.34 9.66 2 8 2S5 3.34 5 5V13C2.79 14.66 2.34 17.79 4 20S8.79 22.66 11 21 13.66 16.21 12 14C11.72 13.62 11.38 13.28 11 13M8 4C8.55 4 9 4.45 9 5V8H7V5C7 4.45 7.45 4 8 4Z",u$="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.24,7.76C15.07,6.58 13.53,6 12,6V12L7.76,16.24C10.1,18.58 13.9,18.58 16.24,16.24C18.59,13.9 18.59,10.1 16.24,7.76Z",eE="M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M19.03,7.39L20.45,5.97C20,5.46 19.55,5 19.04,4.56L17.62,6C16.07,4.74 14.12,4 12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22C17,22 21,17.97 21,13C21,10.88 20.26,8.93 19.03,7.39M11,14H13V8H11M15,1H9V3H15V1Z",Zf="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z",tE="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z",d$="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",h$="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z",sE="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",m$="M18 5H6V7H18M6 9H18V11H6M2 12H4V17H20V12H22V17A2 2 0 0 1 20 19H4A2 2 0 0 1 2 17M18 13H6V15H18Z",rE="M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z",So="M21,10.12H14.22L16.96,7.3C14.23,4.6 9.81,4.5 7.08,7.2C4.35,9.91 4.35,14.28 7.08,17C9.81,19.7 14.23,19.7 16.96,17C18.32,15.65 19,14.08 19,12.1H21C21,14.08 20.12,16.65 18.36,18.39C14.85,21.87 9.15,21.87 5.64,18.39C2.14,14.92 2.11,9.28 5.62,5.81C9.13,2.34 14.76,2.34 18.27,5.81L21,3V10.12M12.5,8V12.25L16,14.33L15.28,15.54L11,13V8H12.5Z",p$="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",iE="M9,10V16H15V10H19L12,3L5,10H9M12,5.8L14.2,8H13V14H11V8H9.8L12,5.8M19,18H5V20H19V18Z",Yf="M15,7V11H16V13H13V5H15L12,1L9,5H11V13H8V10.93C8.7,10.56 9.2,9.85 9.2,9C9.2,7.78 8.21,6.8 7,6.8C5.78,6.8 4.8,7.78 4.8,9C4.8,9.85 5.3,10.56 6,10.93V13A2,2 0 0,0 8,15H11V18.05C10.29,18.41 9.8,19.15 9.8,20A2.2,2.2 0 0,0 12,22.2A2.2,2.2 0 0,0 14.2,20C14.2,19.15 13.71,18.41 13,18.05V15H16A2,2 0 0,0 18,13V11H19V7H15Z",Ku="M5,7H9A2,2 0 0,1 11,9V15A2,2 0 0,1 9,17H5V15H9V13H6V11H9V9H5V7M13,7H16A3,3 0 0,1 19,10V14A3,3 0 0,1 16,17H13V7M16,15A1,1 0 0,0 17,14V10A1,1 0 0,0 16,9H15V15H16Z",nE="M19,5V7H15V5H19M9,5V11H5V5H9M19,13V19H15V13H19M9,17V19H5V17H9M21,3H13V9H21V3M11,3H3V13H11V3M21,11H13V21H21V11M11,15H3V21H11V15Z",J1="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3",Mn="M12,2A7,7 0 0,1 19,9A7,7 0 0,1 12,16A7,7 0 0,1 5,9A7,7 0 0,1 12,2M12,4A5,5 0 0,0 7,9A5,5 0 0,0 12,14A5,5 0 0,0 17,9A5,5 0 0,0 12,4M12,6A3,3 0 0,1 15,9A3,3 0 0,1 12,12A3,3 0 0,1 9,9A3,3 0 0,1 12,6M6,22A2,2 0 0,1 4,20C4,19.62 4.1,19.27 4.29,18.97L6.11,15.81C7.69,17.17 9.75,18 12,18C14.25,18 16.31,17.17 17.89,15.81L19.71,18.97C19.9,19.27 20,19.62 20,20A2,2 0 0,1 18,22H6Z",aE="M12 6C13.66 6 15 7.34 15 9C15 9.78 14.7 10.5 14.21 11L10 6.79C10.5 6.3 11.22 6 12 6M12 4C14.76 4 17 6.24 17 9C17 10.33 16.47 11.53 15.62 12.42L17.04 13.84C18.25 12.59 19 10.88 19 9C19 5.13 15.87 2 12 2C10.12 2 8.41 2.75 7.16 3.96L8.58 5.38C9.47 4.53 10.67 4 12 4M22.11 21.46L20.84 22.73L19.46 21.35C19.1 21.75 18.58 22 18 22H6C4.89 22 4 21.11 4 20C4 19.62 4.1 19.27 4.29 18.97L6.11 15.81C7.69 17.17 9.75 18 12 18C13.21 18 14.37 17.75 15.43 17.32L13.85 15.74C13.26 15.91 12.64 16 12 16C8.13 16 5 12.87 5 9C5 8.36 5.09 7.74 5.26 7.15L1.11 3L2.39 1.73L22.11 21.46M12.1 14L7 8.9C7 8.93 7 8.97 7 9C7 11.76 9.24 14 12 14C12.03 14 12.07 14 12.1 14Z",oE="M22.7,19L13.6,9.9C14.5,7.6 14,4.9 12.1,3C10.1,1 7.1,0.6 4.7,1.7L9,6L6,9L1.6,4.7C0.4,7.1 0.9,10.1 2.9,12.1C4.8,14 7.5,14.5 9.8,13.6L18.9,22.7C19.3,23.1 19.9,23.1 20.3,22.7L22.6,20.4C23.1,20 23.1,19.3 22.7,19Z",f$="M19.94 17.94C19.96 17.79 19.97 17.65 19.97 17.5S19.96 17.2 19.94 17.05L20.91 16.32C21 16.25 21.03 16.13 20.97 16.03L20.05 14.47C20 14.37 19.86 14.33 19.76 14.37L18.61 14.82C18.37 14.65 18.12 14.5 17.83 14.38L17.66 13.19C17.64 13.08 17.54 13 17.43 13H15.58C15.46 13 15.36 13.08 15.34 13.19L15.17 14.38C14.88 14.5 14.63 14.65 14.39 14.82L13.24 14.37C13.14 14.33 13 14.37 12.96 14.47L12.03 16.03C11.97 16.13 12 16.25 12.09 16.32L13.06 17.05C13.05 17.2 13.03 17.35 13.03 17.5S13.05 17.79 13.06 17.94L12.09 18.68C12 18.75 11.97 18.87 12.03 18.97L12.96 20.53C13 20.63 13.14 20.66 13.24 20.63L14.39 20.17C14.63 20.35 14.88 20.5 15.17 20.62L15.34 21.81C15.36 21.92 15.46 22 15.58 22H17.43C17.54 22 17.64 21.92 17.66 21.81L17.83 20.62C18.12 20.5 18.37 20.35 18.61 20.17L19.76 20.63C19.86 20.66 20 20.63 20.05 20.53L20.97 18.97C21.03 18.87 21 18.75 20.91 18.68L19.94 17.94M16.5 19C15.67 19 15 18.33 15 17.5S15.67 16 16.5 16 18 16.67 18 17.5 17.33 19 16.5 19M9 2C10.8 2.6 12 4.3 12 6.2C12 8.2 10.8 9.9 9 10.5V21.5C9 21.8 8.8 22 8.5 22H6.5C6.2 22 6 21.8 6 21.4V10.4C4.2 9.8 3 8.1 3 6.2S4.2 2.6 6 2V5.7H9V2Z",lE=Object.defineProperty,cE=Object.getOwnPropertyDescriptor,As=(e,s,t,r)=>{for(var i=r>1?void 0:r?cE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&lE(s,t,i),i};let ss=class extends M(O){constructor(){super(...arguments),this.mdiChevronDown=Or,this.panelToolbarHeight=Kh}get expand(){return this.$store.getters["gui/getPanelExpand"](this.cardClass,this.viewport)}set expand(s){this.$store.dispatch("gui/saveExpandPanel",{name:this.cardClass,value:s,viewport:this.viewport})}get hasIconSlot(){return!!this.$slots.icon}get hasButtonsSlot(){return!!this.$slots.buttons}get getToolbarClass(){let s=this.toolbarClass;return this.collapsible&&(s+=" collapsible"),s}get additionalStyle(){return this.$vuetify.theme.dark?"":"border-bottom: 1px solid #A8A8A8"}};As([x({default:null})],ss.prototype,"icon",2);As([x({required:!0,default:""})],ss.prototype,"title",2);As([x({default:!1})],ss.prototype,"collapsible",2);As([x({required:!0})],ss.prototype,"cardClass",2);As([x({default:""})],ss.prototype,"toolbarColor",2);As([x({default:""})],ss.prototype,"toolbarClass",2);As([x({default:!1})],ss.prototype,"loading",2);As([x({default:!0})],ss.prototype,"marginBottom",2);As([x({default:!1})],ss.prototype,"hideButtonsOnCollapse",2);ss=As([w],ss);var uE=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{class:"panel "+e.cardClass+" "+(e.marginBottom?"mb-3 mb-md-6":"")+" "+(e.expand?"":"expanded"),attrs:{loading:e.loading}},[t(yf,{staticClass:"panel-toolbar",class:e.getToolbarClass,style:e.additionalStyle,attrs:{flat:"",dense:"",color:e.toolbarColor,height:e.panelToolbarHeight}},[e._t("buttons-left"),t(Au,{staticClass:"d-flex align-center"},[e.hasIconSlot?e._t("icon"):e._e(),e.icon!==null&&!e.hasIconSlot?t(_,{attrs:{left:""}},[e._v(e._s(e.icon))]):e._e(),e.title?t("span",{staticClass:"subheading"},[e._v(e._s(e.title))]):e._e()],2),e._t("buttons-title"),t(ie),t(VD,{directives:[{name:"show",rawName:"v-show",value:e.hasButtonsSlot||e.collapsible,expression:"hasButtonsSlot || collapsible"}]},[e.expand||!e.hideButtonsOnCollapse?t("div",{staticClass:"d-flex align-center"},[e._t("buttons")],2):e._e(),e.collapsible?t(g,{staticClass:"btn-collapsible",attrs:{icon:"",ripple:!0},on:{click:function(r){e.expand=!e.expand}}},[t(_,{class:e.expand?"":"icon-rotate-90"},[e._v(e._s(e.mdiChevronDown))])],1):e._e()],1)],2),t(ku,[t("div",{directives:[{name:"show",rawName:"v-show",value:e.expand||!e.collapsible,expression:"expand || !collapsible"}]},[e._t("default")],2)])],1)},dE=[];function E(e,s,t,r,i,n,a,o){var l=typeof e=="function"?e.options:e;s&&(l.render=s,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var c;if(a?(c=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),i&&i.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(m,p){return c.call(p),u(m,p)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}const K1={};var hE=E(ss,uE,dE,!1,mE,"3cfcc6d8",null,null);function mE(e){for(let s in K1)this[s]=K1[s]}const B=function(){return hE.exports}();var pE=Object.defineProperty,fE=Object.getOwnPropertyDescriptor,gE=(e,s,t,r)=>{for(var i=r>1?void 0:r?fE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&pE(s,t,i),i};let em=class extends M(O){constructor(){super(...arguments),this.addPrinterValid=!1,this.dialogAddPrinter={bool:!1,hostname:"",port:7125,path:"/",name:""},this.editPrinterValid=!1,this.dialogEditPrinter={bool:!1,id:"",hostname:"",port:0,path:"/",name:""},this.showOptionalSettings=!1,this.mdiConnection=Pf,this.mdiCloseThick=pe,this.mdiSync=qf,this.mdiDelete=Ge,this.mdiPencil=Ct,this.mdiCheckboxMarkedCircle=LC,this.mdiCancel=OC,this.mdiShowOptional=Yt,this.mdiHideOptional=XM}get printers(){var e;return(e=this.$store.getters["gui/remoteprinters/getRemoteprinters"])!=null?e:[]}get canAddPrinters(){return this.instancesDB!=="json"}get protocol(){return this.$store.state.socket.protocol}get defaultMoonrakerPort(){return this.protocol==="wss"?7130:7125}get hostname(){return this.$store.state.socket.hostname}get port(){return this.$store.state.socket.port}get path(){return this.$store.state.socket.path}get name(){return this.$store.state.printer}get formatHostname(){return this.hostname+(this.port!==""?":"+this.port:"")+(this.path!==""?this.path:"")}get isConnected(){return this.$store.state.socket.isConnected}get isConnecting(){return this.$store.state.socket.isConnecting}get connectingFailed(){return this.$store.state.socket.connectingFailed}get showDialog(){return!this.isConnected||this.isConnected&&!this.guiIsReady}get currentUrl(){let e=document.location.protocol+"//"+window.location.hostname;return parseInt(window.location.port)!==80&&window.location.port!==""&&(e+=":"+window.location.port),e}get showCorsInfo(){return this.printers.length?(this.printers.forEach(e=>{var s;if(e&&!((s=e.socket)!=null&&s.isConnected))return!0}),!1):!0}get panelTitle(){return this.dialogAddPrinter.bool?this.$t("SelectPrinterDialog.AddPrinter"):this.dialogEditPrinter.bool?this.$t("SelectPrinterDialog.EditPrinter"):this.isConnecting?this.$t("SelectPrinterDialog.Connecting",{host:this.formatHostname}):this.isConnected&&!this.guiIsReady?this.$t("ConnectionDialog.Initializing"):this.connectingFailed?this.$t("SelectPrinterDialog.ConnectionFailed",{host:this.formatHostname}):this.$t("SelectPrinterDialog.SelectPrinter")}getPrinterName(e){return this.$store.getters["farm/getPrinterName"](e)}createPrinter(){this.dialogAddPrinter.hostname="",this.dialogAddPrinter.port=this.defaultMoonrakerPort,this.dialogAddPrinter.bool=!0}addPrinter(){const e={hostname:this.dialogAddPrinter.hostname,port:this.dialogAddPrinter.port,path:this.dialogAddPrinter.path,name:this.dialogAddPrinter.name};this.$store.dispatch("gui/remoteprinters/store",{values:e}),this.dialogAddPrinter.hostname="",this.dialogAddPrinter.bool=!1,this.dialogAddPrinter.path="/",this.dialogAddPrinter.name=""}editPrinter(e){var s,t,r;this.dialogEditPrinter.hostname=e.hostname,this.dialogEditPrinter.port=e.port,this.dialogEditPrinter.id=(s=e.id)!=null?s:"",this.dialogEditPrinter.path=(t=e.path)!=null?t:"/",this.dialogEditPrinter.name=(r=e.name)!=null?r:"",this.dialogEditPrinter.bool=!0,this.showOptionalSettings=e.name?e.name.length>0:!1}updatePrinter(){const e={hostname:this.dialogEditPrinter.hostname,port:this.dialogEditPrinter.port,path:this.dialogEditPrinter.path,id:this.dialogEditPrinter.id,name:this.dialogEditPrinter.name};this.$store.dispatch("gui/remoteprinters/update",{id:this.dialogEditPrinter.id,values:e}),this.dialogEditPrinter.bool=!1}delPrinter(){this.$store.dispatch("gui/remoteprinters/delete",this.dialogEditPrinter.id),this.dialogEditPrinter.bool=!1}connect(e){this.$store.dispatch("socket/setData",{hostname:e.socket.hostname,port:e.socket.port,path:e.socket.path});const s=e.socket.path.replaceAll(/(^\/*)|(\/*$)/g,""),t=this.protocol+"://"+e.socket.hostname+":"+e.socket.port+(s.length>0?"/".concat(s):"")+"/websocket";this.$socket.setUrl(t),this.$socket.connect()}reconnect(){this.$store.dispatch("socket/setData",{connectingFailed:!1}),this.$socket.connect()}switchToChangePrinter(){this.$store.dispatch("socket/setData",{connectingFailed:!1})}checkPrinters(){this.printers.forEach(e=>{var s,t;e&&!((s=e.socket)!=null&&s.isConnected)&&!((t=e.socket)!=null&&t.isConnecting)&&this.$store.dispatch("farm/"+e.id+"/connect")})}mounted(){this.$store.dispatch("gui/remoteprinters/initFromLocalstorage").then(()=>{if(!("printer"in this.$route.query))return;let e=this.$route.query.printer.toString().toLowerCase(),s=this.printers.filter(t=>{var r;return((r=t.name)==null?void 0:r.toLowerCase())===e});if(s.length==0){window.console.error("No printer with given name '".concat(e,"' found. Showing selection dialog instead."));return}if(s.length>1){window.console.error("Multiple printers with name '".concat(e,"' found. Showing selection dialog instead."));return}this.connect(s[0])})}};em=gE([w({components:{Panel:B}})],em);var _E=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"",width:400},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{"card-class":"select-printer-dialog",icon:e.mdiConnection,title:e.panelTitle,"margin-bottom":!1,"toolbar-color":"toolbar"},scopedSlots:e._u([{key:"buttons",fn:function(){return[!e.isConnecting&&!e.connectingFailed?[e.dialogEditPrinter.bool?[t(g,{staticClass:"minwidth-0",attrs:{icon:"",tile:""},on:{click:function(r){e.dialogEditPrinter.bool=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]:e.dialogAddPrinter.bool?[e.dialogAddPrinter.bool?t(g,{staticClass:"minwidth-0",attrs:{icon:"",tile:""},on:{click:function(r){e.dialogAddPrinter.bool=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1):e._e()]:e.printers.length>0?[t(g,{staticClass:"minwidth-0",attrs:{icon:"",tile:"",color:"primary"},on:{click:e.checkPrinters}},[t(_,[e._v(e._s(e.mdiSync))])],1)]:e._e()]:e._e()]},proxy:!0}])},[e.isConnecting||e.isConnected&&!e.guiIsReady?[t(Z,[t(Es,{attrs:{color:"primary",indeterminate:""}})],1)]:e.connectingFailed?[t(Z,[t("p",[e._v(" "+e._s(e.$t("SelectPrinterDialog.CannotConnectTo",{host:parseInt(e.port)!==80?e.hostname+":"+e.port:e.hostname}))+" ")]),t("div",{staticClass:"text-center"},[t(g,{staticClass:"mr-3",attrs:{text:"",color:"white"},on:{click:e.switchToChangePrinter}},[e._v(" "+e._s(e.$t("SelectPrinterDialog.ChangePrinter"))+" ")]),t(g,{attrs:{text:"",color:"primary"},on:{click:e.reconnect}},[e._v(e._s(e.$t("SelectPrinterDialog.TryAgain")))])],1)])]:e.dialogAddPrinter.bool?[t(yr,{on:{submit:function(r){return r.preventDefault(),e.addPrinter.apply(null,arguments)}},model:{value:e.addPrinterValid,callback:function(r){e.addPrinterValid=r},expression:"addPrinterValid"}},[t(Z,[t(C,[t(v,{staticClass:"col-8"},[t(re,{attrs:{rules:[function(r){return!!r||e.$t("SelectPrinterDialog.HostnameRequired")},function(r){return!r.startsWith("http:")||e.$t("SelectPrinterDialog.HostnameInvalid")},function(r){return!r.startsWith("https:")||e.$t("SelectPrinterDialog.HostnameInvalid")}],label:e.$t("SelectPrinterDialog.HostnameIp"),required:"",outlined:"","hide-details":"auto",dense:""},model:{value:e.dialogAddPrinter.hostname,callback:function(r){e.$set(e.dialogAddPrinter,"hostname",r)},expression:"dialogAddPrinter.hostname"}})],1),t(v,{staticClass:"col-4"},[t(re,{attrs:{rules:[function(r){return!!r||e.$t("SelectPrinterDialog.PortRequired")}],label:e.$t("SelectPrinterDialog.Port"),"hide-details":"auto",required:"",outlined:"",dense:""},model:{value:e.dialogAddPrinter.port,callback:function(r){e.$set(e.dialogAddPrinter,"port",r)},expression:"dialogAddPrinter.port"}})],1)],1),e.showOptionalSettings?t(C,[t(v,{attrs:{cols:6}},[t(re,{attrs:{rules:[function(r){return!r||r.startsWith("/")||"Path must start with /"}],label:e.$t("SelectPrinterDialog.Path"),"hide-details":"auto",outlined:"",dense:""},model:{value:e.dialogAddPrinter.path,callback:function(r){e.$set(e.dialogAddPrinter,"path",r)},expression:"dialogAddPrinter.path"}})],1),t(v,{attrs:{cols:6}},[t(re,{attrs:{label:e.$t("SelectPrinterDialog.Name"),outlined:"","hide-details":"auto",dense:""},model:{value:e.dialogAddPrinter.name,callback:function(r){e.$set(e.dialogAddPrinter,"name",r)},expression:"dialogAddPrinter.name"}})],1)],1):e._e()],1),t(ae,[t(fe,{staticClass:"ml-2",attrs:{"on-icon":e.mdiShowOptional,"off-icon":e.mdiHideOptional,"true-value":!1,"false-value":!0},model:{value:e.showOptionalSettings,callback:function(r){e.showOptionalSettings=r},expression:"showOptionalSettings"}}),t(ie),t(g,{staticClass:"middle",attrs:{color:"primary",text:"",type:"submit",disabled:!e.addPrinterValid}},[e._v(" "+e._s(e.$t("SelectPrinterDialog.AddPrinter"))+" ")])],1)],1)]:e.dialogEditPrinter.bool?[t(yr,{on:{submit:function(r){return r.preventDefault(),e.updatePrinter.apply(null,arguments)}},model:{value:e.editPrinterValid,callback:function(r){e.editPrinterValid=r},expression:"editPrinterValid"}},[t(Z,[t(C,[t(v,{staticClass:"col-8"},[t(re,{attrs:{rules:[function(r){return!!r||e.$t("SelectPrinterDialog.HostnameRequired")},function(r){return!r.startsWith("http:")||e.$t("SelectPrinterDialog.HostnameInvalid")},function(r){return!r.startsWith("https:")||e.$t("SelectPrinterDialog.HostnameInvalid")}],label:e.$t("SelectPrinterDialog.HostnameIp"),required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.dialogEditPrinter.hostname,callback:function(r){e.$set(e.dialogEditPrinter,"hostname",r)},expression:"dialogEditPrinter.hostname"}})],1),t(v,{staticClass:"col-4"},[t(re,{attrs:{rules:[function(r){return!!r||e.$t("SelectPrinterDialog.PortRequired")}],label:e.$t("SelectPrinterDialog.Port"),required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.dialogEditPrinter.port,callback:function(r){e.$set(e.dialogEditPrinter,"port",r)},expression:"dialogEditPrinter.port"}})],1)],1),e.showOptionalSettings?t(C,[t(v,{attrs:{cols:6}},[t(re,{attrs:{rules:[function(r){return!r||r.startsWith("/")||"Path must start with /"}],label:e.$t("SelectPrinterDialog.Path"),"hide-details":"auto",outlined:"",dense:""},model:{value:e.dialogEditPrinter.path,callback:function(r){e.$set(e.dialogEditPrinter,"path",r)},expression:"dialogEditPrinter.path"}})],1),t(v,{attrs:{cols:6}},[t(re,{attrs:{label:e.$t("SelectPrinterDialog.Name"),outlined:"","hide-details":"auto",dense:""},model:{value:e.dialogEditPrinter.name,callback:function(r){e.$set(e.dialogEditPrinter,"name",r)},expression:"dialogEditPrinter.name"}})],1)],1):e._e()],1),t(ae,[t(g,{staticClass:"minwidth-0 rounded",attrs:{color:"red",icon:"",tile:""},on:{click:e.delPrinter}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1),t(fe,{staticClass:"ml-2",attrs:{"on-icon":e.mdiShowOptional,"off-icon":e.mdiHideOptional,"true-value":!1,"false-value":!0},model:{value:e.showOptionalSettings,callback:function(r){e.showOptionalSettings=r},expression:"showOptionalSettings"}}),t(ie),t(g,{attrs:{color:"primary",text:"",type:"submit",disabled:!e.editPrinterValid}},[e._v(" "+e._s(e.$t("SelectPrinterDialog.UpdatePrinter"))+" ")])],1)],1)]:[t(Z,{staticClass:"mt-3"},[e.printers.length?t(C,[t(v,{staticClass:"px-6"},e._l(e.printers,function(r,i){return t(C,{key:i},[t(v,{staticClass:"rounded transition-swing toolbar py-2 px-2 mb-2 overflow-hidden",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.connect(r)}}},[t(C,{attrs:{align:"center"}},[t(v,{staticClass:"col-auto pr-0"},[r.socket.isConnecting?t(dt,{attrs:{indeterminate:"",color:"primary",size:"24",width:"2.5"}}):e._e(),r.socket.isConnecting?e._e():t(_,{attrs:{color:r.socket.isConnected?"green":"red"}},[e._v(" "+e._s(r.socket.isConnected?e.mdiCheckboxMarkedCircle:e.mdiCancel)+" ")])],1),t(v,[e._v(e._s(e.getPrinterName(r.id)))]),e.canAddPrinters?t(v,{staticClass:"col-auto pa-0"},[t(g,{staticClass:"mr-1",attrs:{tile:"",text:"",icon:"",large:""},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.editPrinter(r)}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiPencil))])],1)],1):e._e()],1)],1)],1)}),1)],1):e._e(),e.instancesDB==="browser"?[e.showCorsInfo?t(C,[t(v,[e.printers.length===0?t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("SelectPrinterDialog.Hello"))+" ")]):e._e(),t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("SelectPrinterDialog.RememberToAdd",{cors:e.currentUrl}))+" ")]),t("p",{staticClass:"text-center mb-0"},[e._v(" "+e._s(e.$t("SelectPrinterDialog.YouCanFindMore"))+" "),t("br"),t("a",{attrs:{href:"https://docs.mainsail.xyz/remotemode",target:"_blank"}},[e._v(" https://docs.mainsail.xyz/remotemode ")]),e._v(" . ")])])],1):e._e(),t(C,[t(v,{staticClass:"text-center mt-0"},[t(g,{attrs:{text:"",color:"primary"},on:{click:e.createPrinter}},[e._v(" "+e._s(e.$t("SelectPrinterDialog.AddPrinter"))+" ")])],1)],1)]:e.instancesDB==="json"&&e.printers.length===0?t(C,[t(v,{staticClass:"text-center mt-0"},[t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("SelectPrinterDialog.AddPrintersToJson"))+" ")])])],1):e._e()],2)]],2)],1)},vE=[];const Q1={};var bE=E(em,_E,vE,!1,yE,null,null,null);function yE(e){for(let s in Q1)this[s]=Q1[s]}const Xf=function(){return bE.exports}();var CE=Object.defineProperty,$E=Object.getOwnPropertyDescriptor,xE=(e,s,t,r)=>{for(var i=r>1?void 0:r?$E(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&CE(s,t,i),i};let tm=class extends M(O){constructor(){super(...arguments),this.mdiHelpCircleOutline=UC,this.mdiCloseThick=pe,this.mdiMoonWaningCrescent=O5}get mainsailVersion(){return this.$store.state.packageVersion}get klipperVersion(){var e,s;return(s=(e=this.$store.state.printer)==null?void 0:e.software_version)!=null?s:""}get moonrakerVersion(){var e,s;return(s=(e=this.$store.state.server)==null?void 0:e.moonraker_version)!=null?s:""}};tm=xE([w({})],tm);var SE=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ue,{attrs:{right:"",color:"panel"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({},"v-icon",n,!1),i),[e._v(" "+e._s(e.mdiHelpCircleOutline)+" ")])]}}])},[t(Pe,{staticClass:"version-container pa-0"},[t("div",[t("img",{attrs:{height:"12",src:"/img/logo.svg",alt:"mainsail-logo"}})]),t("div",[e._v("v"+e._s(e.mainsailVersion))]),t("div",[t(_,{staticClass:"moonraker-logo",attrs:{small:""}},[e._v(e._s(e.mdiMoonWaningCrescent))])],1),t("div",[e._v(e._s(e.moonrakerVersion))]),t("div",[t("img",{staticClass:"klipper-logo",attrs:{height:"12",src:"/img/klipper.svg",alt:"klipper-logo"}})]),t("div",[e._v(e._s(e.klipperVersion))])])],1)},wE=[];const e_={};var PE=E(tm,SE,wE,!1,TE,"24513c96",null,null);function TE(e){for(let s in e_)this[s]=e_[s]}const g$=function(){return PE.exports}();var DE=Object.defineProperty,ME=Object.getOwnPropertyDescriptor,Jf=(e,s,t,r)=>{for(var i=r>1?void 0:r?ME(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&DE(s,t,i),i};let $a=class extends M(O){constructor(){super(...arguments),this.internalColor=ti}colorChanged(e){this.internalColor=e!==""?e:ti}created(){this.color!==""&&(this.internalColor=this.color)}};Jf([x({required:!1,default:""})],$a.prototype,"color",2);Jf([ce("color")],$a.prototype,"colorChanged",1);$a=Jf([w],$a);var EE=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 599.38 523.11","xml:space":"preserve"}},[t("g",[t("path",{style:"fill:"+e.color+";",attrs:{d:"M382.29,142.98L132.98,522.82L0,522.68L344.3,0l0,0C352.18,49.06,365.2,97.68,382.29,142.98"}}),t("path",{style:"fill:"+e.color+";",attrs:{d:"M413.28,213.54L208.5,522.92l132.94,0.19l135.03-206.33l0,0C452.69,284.29,431.53,249.77,413.28,213.54 L413.28,213.54"}}),t("path",{style:"fill:"+e.color+";",attrs:{d:"M599.38,447.69l-49.25,75.42L417,522.82l101.6-153.67l0,0C543.48,397.35,570.49,423.61,599.38,447.69 L599.38,447.69z"}})])])},OE=[];const t_={};var LE=E($a,EE,OE,!1,FE,null,null,null);function FE(e){for(let s in t_)this[s]=t_[s]}const En=function(){return LE.exports}();var AE=Object.defineProperty,kE=Object.getOwnPropertyDescriptor,_$=(e,s,t,r)=>{for(var i=r>1?void 0:r?kE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&AE(s,t,i),i};let Il=class extends M(O){get navigationStyle(){return this.$store.state.gui.uiSettings.navigationStyle}get icon(){return this.item.icon}get title(){return this.item.title}get to(){var e;return(e=this.item.to)!=null?e:void 0}get href(){var e;return(e=this.item.href)!=null?e:void 0}get target(){var e;return(e=this.item.target)!=null?e:void 0}get borderBottom(){return this.item.to==="/allPrinters"}};_$([x({type:Object,required:!0})],Il.prototype,"item",2);Il=_$([w],Il);var RE=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(ue,{attrs:{right:"","open-delay":500,disabled:e.navigationStyle!=="iconsOnly"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(Y,e._g(e._b({staticClass:"small-list-item",attrs:{router:"",to:e.to,href:e.href,target:e.target}},"v-list-item",n,!1),i),[t(Ws,{staticClass:"my-3 mr-3 menu-item-icon"},[t(_,[e._v(e._s(e.icon))])],1),t(ot,[t(Ne,{staticClass:"menu-item-title",attrs:{tile:""}},[e._v(" "+e._s(e.title)+" ")])],1)],1)]}}])},[t("span",[e._v(e._s(e.title))])]),e.borderBottom?t(H,{staticClass:"my-1"}):e._e()],1)},HE=[];const s_={};var jE=E(Il,RE,HE,!1,IE,"99ab1bec",null,null);function IE(e){for(let s in s_)this[s]=s_[s]}const v$=function(){return jE.exports}(),NE="modulepreload",VE=function(e){return"/"+e},r_={},ge=function(s,t,r){if(!t||t.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if(n=VE(n),n in r_)return;r_[n]=!0;const a=n.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===n&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(n,'"]').concat(o)))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":NE,a||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),a)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(n))))})})).then(()=>s()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})};var UE=Object.defineProperty,BE=Object.getOwnPropertyDescriptor,GE=(e,s,t,r)=>{for(var i=r>1?void 0:r?BE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&UE(s,t,i),i};let Xe=class extends y{get absolute_coordinates(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.gcode_move)==null?void 0:s.absolute_coordinates)!=null?t:!0}get enableXYHoming(){return this.$store.state.gui.control.enableXYHoming}get feedrateXY(){var e,s;return(s=(e=this.$store.state.gui.control)==null?void 0:e.feedrateXY)!=null?s:100}get feedrateZ(){var e,s;return(s=(e=this.$store.state.gui.control)==null?void 0:e.feedrateZ)!=null?s:10}get existsQGL(){return this.$store.getters["printer/existsQGL"]}get existsZtilt(){return this.$store.getters["printer/existsZtilt"]}get existsBedTilt(){return this.$store.getters["printer/existsBedTilt"]}get existsBedScrews(){return this.$store.getters["printer/existsBedScrews"]}get existsDeltaCalibrate(){return this.$store.getters["printer/existsDeltaCalibrate"]}get existsScrewsTilt(){return this.$store.getters["printer/existsScrewsTilt"]}get existsFirmwareRetraction(){return this.$store.getters["printer/existsFirmwareRetraction"]}get colorQuadGantryLevel(){var s,t;return((t=(s=this.$store.state.printer.quad_gantry_level)==null?void 0:s.applied)!=null?t:!0)?"primary":"warning"}get colorZTilt(){var s,t;let e=!0;return"z_tilt"in this.$store.state.printer?e=(s=this.$store.state.printer.z_tilt)==null?void 0:s.applied:"z_tilt_ng"in this.$store.state.printer&&(e=(t=this.$store.state.printer.z_tilt_ng)==null?void 0:t.applied),e?"primary":"warning"}get defaultActionButton(){return this.$store.getters["gui/getDefaultControlActionButton"]}get actionButton(){var s;const e=(s=this.$store.state.gui.control.actionButton)!=null?s:this.defaultActionButton;return e==="qgl"&&!this.$store.getters["printer/existsQGL"]||e==="ztilt"&&!this.$store.getters["printer/existsZTilt"]?this.defaultActionButton:e}get homedAxes(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.toolhead)==null?void 0:s.homed_axes)!=null?t:""}get xAxisHomed(){return this.homedAxes.includes("x")}get yAxisHomed(){return this.homedAxes.includes("y")}get zAxisHomed(){return this.homedAxes.includes("z")}get macros(){return this.$store.getters["printer/getMacros"]}get toolchangeMacros(){var t,r;const e=(i,n)=>{const a=parseInt(i.slice(1)),o=parseInt(n.slice(1));return a-o},s=(r=(t=this.$store.state.printer.gcode)==null?void 0:t.commands)!=null?r:null;return s?Object.keys(s).filter(i=>i.match(/^T\d+/)).sort(e):Object.keys(this.$store.state.printer).filter(i=>i.toLowerCase().match(/^gcode_macro t\d+/)).map(i=>i.slice(i.indexOf(" ")+1)).sort(e)}get existsClientLinearMoveMacro(){var s,t,r;return"_CLIENT_LINEAR_MOVE"in((r=(t=(s=this.$store.state.printer)==null?void 0:s.gcode)==null?void 0:t.commands)!=null?r:{})}doHome(){this.$store.dispatch("server/addEvent",{message:"G28",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"G28"},{loading:"homeAll"})}doHomeX(){this.$store.dispatch("server/addEvent",{message:"G28 X",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"G28 X"},{loading:"homeX"})}doHomeY(){this.$store.dispatch("server/addEvent",{message:"G28 Y",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"G28 Y"},{loading:"homeY"})}doHomeXY(){this.$store.dispatch("server/addEvent",{message:"G28 X Y",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"G28 X Y"},{loading:"homeXY"})}doHomeZ(){this.$store.dispatch("server/addEvent",{message:"G28 Z",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"G28 Z"},{loading:"homeZ"})}doQGL(){this.$store.dispatch("server/addEvent",{message:"QUAD_GANTRY_LEVEL",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"QUAD_GANTRY_LEVEL"},{loading:"qgl"})}doZtilt(){this.$store.dispatch("server/addEvent",{message:"Z_TILT_ADJUST",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"Z_TILT_ADJUST"},{loading:"zTilt"})}doSendMove(e,s){let t="SAVE_GCODE_STATE NAME=_ui_movement\nG91\nG1 ".concat(e," F").concat(s*60,"\nRESTORE_GCODE_STATE NAME=_ui_movement");this.existsClientLinearMoveMacro&&(e=e.split(" ").map(r=>{const i=r.slice(0,1),n=parseFloat(r.slice(1));return"".concat(i,"=").concat(n)}).join(" "),t="_CLIENT_LINEAR_MOVE ".concat(e," F=").concat(s*60)),this.doSend(t)}doSend(e){this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e})}};Xe=GE([w],Xe);var WE=Object.defineProperty,zE=Object.getOwnPropertyDescriptor,qE=(e,s,t,r)=>{for(var i=r>1?void 0:r?zE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&WE(s,t,i),i};let Yi=class extends y{get extruders(){return this.$store.getters["printer/getExtruders"]}get activeExtruder(){var e;return(e=this.$store.state.printer.toolhead)==null?void 0:e.extruder}get activeExtruderSettings(){var e,s;return(s=(e=this.$store.state.printer.configfile)==null?void 0:e.settings)==null?void 0:s[this.activeExtruder]}get filamentDiameter(){var e,s;return(s=(e=this.activeExtruderSettings)==null?void 0:e.filament_diameter)!=null?s:1.75}get nozzleDiameter(){var e,s;return(s=(e=this.activeExtruderSettings)==null?void 0:e.nozzle_diameter)!=null?s:.4}get feedamount(){return parseFloat(this.$store.state.gui.control.extruder.feedamount)}get feedrate(){return parseFloat(this.$store.state.gui.control.extruder.feedrate)}get extrudeFactor(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.gcode_move)==null?void 0:s.extrude_factor)!=null?t:1}get extrudePossible(){return this.$store.getters["printer/getExtrudePossible"]}get minExtrudeTemp(){var e,s;return(s=(e=this.activeExtruderSettings)==null?void 0:e.min_extrude_temp)!=null?s:170}};Yi=qE([w],Yi);var ZE=Object.defineProperty,YE=Object.getOwnPropertyDescriptor,XE=(e,s,t,r)=>{for(var i=r>1?void 0:r?YE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ZE(s,t,i),i};let sm=class extends M(O,Xe,Yi){constructor(){super(...arguments),this.mdiPrinter3dNozzle=Qs,this.mdiDotsVertical=vo,this.heatWaitGcodes=["printer.extruder.can_extrude","TEMPERATURE_WAIT","M109"]}get showPanel(){return this.klipperReadyForGui&&this.extruders.length>0}get macros(){return this.$store.getters["printer/getMacros"]}get loadFilamentMacro(){const s=["LOAD_FILAMENT","FILAMENT_LOAD"];return this.macros.find(t=>s.includes(t.name.toUpperCase()))}get unloadFilamentMacro(){const s=["UNLOAD_FILAMENT","FILAMENT_UNLOAD"];return this.macros.find(t=>s.includes(t.name.toUpperCase()))}get purgeFilamentMacro(){const s=["PURGE_FILAMENT","FILAMENT_PURGE"];return this.macros.find(t=>s.includes(t.name.toUpperCase()))}get cleanNozzleMacro(){const s=["CLEAN_NOZZLE","NOZZLE_CLEAN","WIPE_NOZZLE","NOZZLE_WIPE"];return this.macros.find(t=>s.includes(t.name.toUpperCase()))}get canExecuteLoadMacro(){return this.extrudePossible?!0:this.heatWaitGcodes.some(s=>{var t;return(t=this.loadFilamentMacro)==null?void 0:t.prop.gcode.includes(s)})}get canExecuteUnloadMacro(){return this.extrudePossible?!0:this.heatWaitGcodes.some(s=>{var t;return(t=this.unloadFilamentMacro)==null?void 0:t.prop.gcode.includes(s)})}get canExecutePurgeMacro(){return this.extrudePossible?!0:this.heatWaitGcodes.some(s=>{var t;return(t=this.purgeFilamentMacro)==null?void 0:t.prop.gcode.includes(s)})}get showFilamentMacros(){return this.loadFilamentMacro!==void 0||this.unloadFilamentMacro!==void 0||this.purgeFilamentMacro!==void 0||this.cleanNozzleMacro!==void 0}get showTools(){var s;return this.toolchangeMacros.length<1?!1:(s=this.$store.state.gui.view.extruder.showTools)!=null?s:!0}get showExtrusionFactor(){var s;return(s=this.$store.state.gui.view.extruder.showExtrusionFactor)!=null?s:!0}get existsPressureAdvance(){return!(this.$store.getters["printer/getExtruderSteppers"].length>0)}get showPressureAdvance(){var s;return this.existsPressureAdvance?(s=this.$store.state.gui.view.extruder.showPressureAdvance)!=null?s:!0:!1}get showFirmwareRetraction(){var s;return this.existsFirmwareRetraction?(s=this.$store.state.gui.view.extruder.showFirmwareRetraction)!=null?s:!0:!1}get showExtruderControl(){var s;return(s=this.$store.state.gui.view.extruder.showExtruderControl)!=null?s:!0}};sm=XE([w({components:{Panel:B}})],sm);var JE=Object.defineProperty,KE=Object.getOwnPropertyDescriptor,wt=(e,s,t,r)=>{for(var i=r>1?void 0:r?KE(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&JE(s,t,i),i};let gt=class extends M(O){constructor(){super(...arguments),this.mdiRestart=er,this.mdiChevronUp=Uu,this.mdiChevronDown=Or,this.value="0",this.error=!1,this.invalidChars=["e","E","+"]}created(){this.value=this.target.toString()}updateTarget(){this.value=this.target.toString()}incrementValue(){this.inputValue+this.step*this.spinnerFactor<this.max||this.max===null?this.value=(Math.round((this.inputValue+this.step*this.spinnerFactor)*10**this.dec)/10**this.dec).toString():this.value=this.max.toString(),this.submit()}decrementValue(){this.inputValue-this.step*this.spinnerFactor>this.min?this.value=(Math.round((this.inputValue-this.step*this.spinnerFactor)*10**this.dec)/10**this.dec).toString():this.value=this.min.toString(),this.submit()}resetToDefault(){this.value=this.defaultValue.toString(),this.submit()}submit(){this.invalidInput||this.$emit("submit",{name:this.param,value:this.inputValue})}checkInvalidChars(e){this.min>=0&&this.invalidChars.push("-"),this.invalidChars.includes(e.key)&&e.preventDefault()}get inputValue(){return this.value.toString()===""?0:parseFloat(this.value.replace(",","."))}get invalidInput(){return this.inputErrors.length>0}get inputErrors(){if(!this.outputErrorMsg)return[];const e=[];return this.max===null&&this.inputValue<this.min&&e.push(this.$t("App.NumberInput.GreaterOrEqualError",{min:this.min})),this.max!==null&&(this.inputValue>this.max||this.inputValue<this.min)&&e.push(this.$t("App.NumberInput.MustBeBetweenError",{min:this.min,max:this.max})),e}};wt([x({required:!0})],gt.prototype,"label",2);wt([x({type:String,required:!0})],gt.prototype,"param",2);wt([x({type:Number,required:!0})],gt.prototype,"target",2);wt([x({type:Number,required:!1})],gt.prototype,"defaultValue",2);wt([x({type:Number,required:!0})],gt.prototype,"min",2);wt([x({default:null})],gt.prototype,"max",2);wt([x({type:Number,required:!0})],gt.prototype,"dec",2);wt([x({type:Number,required:!1,default:1})],gt.prototype,"step",2);wt([x({type:String,required:!1})],gt.prototype,"unit",2);wt([x({type:Boolean,required:!1,default:!1})],gt.prototype,"hasSpinner",2);wt([x({type:Number,required:!1,default:1})],gt.prototype,"spinnerFactor",2);wt([x({type:Boolean,required:!1,default:!1})],gt.prototype,"disabled",2);wt([x({type:Boolean,required:!1,default:!1})],gt.prototype,"outputErrorMsg",2);wt([ce("target")],gt.prototype,"updateTarget",1);gt=wt([w],gt);var QE=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("form",{on:{submit:function(r){return r.preventDefault(),e.submit.apply(null,arguments)}}},[t(re,{staticClass:"d-flex align-top",attrs:{label:e.label,suffix:e.unit,error:e.invalidInput,"error-messages":e.inputErrors,disabled:e.disabled,step:e.step,min:e.min,max:e.max,dec:e.dec,"hide-spin-buttons":"","hide-details":"auto",outlined:"",dense:""},on:{blur:function(r){e.value=e.target.toString()},focus:function(r){return r.target.select()},keydown:e.checkInvalidChars},scopedSlots:e._u([e.defaultValue?{key:"append",fn:function(){return[t(_,{on:{click:e.resetToDefault}},[e._v(e._s(e.value!==e.defaultValue.toString()?e.mdiRestart:""))])]},proxy:!0}:null,e.hasSpinner?{key:"append-outer",fn:function(){return[t("div",{staticClass:"_spin_button_group"},[t(g,{staticClass:"mt-n3",attrs:{disabled:e.value>=e.max&&e.max!==null||e.error||e.disabled,icon:"",plain:"",small:""},on:{click:e.incrementValue}},[t(_,[e._v(e._s(e.mdiChevronUp))])],1),t(g,{staticClass:"mb-n3",attrs:{disabled:e.value<=e.min||e.error||e.disabled,icon:"",plain:"",small:""},on:{click:e.decrementValue}},[t(_,[e._v(e._s(e.mdiChevronDown))])],1)],1)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(r){e.value=r},expression:"value"}})],1)},eO=[];const i_={};var tO=E(gt,QE,eO,!1,sO,"799eadb6",null,null);function sO(e){for(let s in i_)this[s]=i_[s]}const He=function(){return tO.exports}();var b$="Expected a function",n_=0/0,rO="[object Symbol]",iO=/^\s+|\s+$/g,nO=/^[-+]0x[0-9a-f]+$/i,aO=/^0b[01]+$/i,oO=/^0o[0-7]+$/i,lO=parseInt,cO=typeof Wr=="object"&&Wr&&Wr.Object===Object&&Wr,uO=typeof self=="object"&&self&&self.Object===Object&&self,dO=cO||uO||Function("return this")(),hO=Object.prototype,mO=hO.toString,pO=Math.max,fO=Math.min,mh=function(){return dO.Date.now()};function gO(e,s,t){var r,i,n,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(b$);s=a_(s)||0,Nl(t)&&(u=!!t.leading,d="maxWait"in t,n=d?pO(a_(t.maxWait)||0,s):n,h="trailing"in t?!!t.trailing:h);function m(S){var L=r,I=i;return r=i=void 0,c=S,a=e.apply(I,L),a}function p(S){return c=S,o=setTimeout($,s),u?m(S):a}function f(S){var L=S-l,I=S-c,N=s-L;return d?fO(N,n-I):N}function b(S){var L=S-l,I=S-c;return l===void 0||L>=s||L<0||d&&I>=n}function $(){var S=mh();if(b(S))return P(S);o=setTimeout($,f(S))}function P(S){return o=void 0,h&&r?m(S):(r=i=void 0,a)}function D(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function R(){return o===void 0?a:P(mh())}function k(){var S=mh(),L=b(S);if(r=arguments,i=this,l=S,L){if(o===void 0)return p(l);if(d)return o=setTimeout($,s),m(l)}return o===void 0&&(o=setTimeout($,s)),a}return k.cancel=D,k.flush=R,k}function _O(e,s,t){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(b$);return Nl(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),gO(e,s,{leading:r,maxWait:s,trailing:i})}function Nl(e){var s=typeof e;return!!e&&(s=="object"||s=="function")}function vO(e){return!!e&&typeof e=="object"}function bO(e){return typeof e=="symbol"||vO(e)&&mO.call(e)==rO}function a_(e){if(typeof e=="number")return e;if(bO(e))return n_;if(Nl(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=Nl(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=e.replace(iO,"");var t=aO.test(e);return t||oO.test(e)?lO(e.slice(2),t?2:8):nO.test(e)?n_:+e}var yO=_O;const y$=Pn(yO);var CO=Object.defineProperty,$O=Object.getOwnPropertyDescriptor,C$=(e,s,t,r)=>{for(var i=r>1?void 0:r?$O(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&CO(s,t,i),i};let Vl=class extends O{constructor(){super(...arguments),this.el={is:{}}}mounted(){this.breakpoints&&this.$nextTick(()=>{this.observer=new ResizeObserver(y$(this.onResize,50)),this.$el instanceof Element&&this.observer.observe(this.$el)})}beforeDestroy(){var e;this.$el instanceof Element&&((e=this.observer)==null||e.unobserve(this.$el))}onResize(e){if(e[0].contentRect.height===0&&e[0].contentRect.width===0)return;const s=e[0].contentRect,t=this.breakpoints;for(const r in t)this.$set(this.el.is,r,t[r](s))}};C$([x()],Vl.prototype,"breakpoints",2);Vl=C$([w],Vl);var xO=Object.defineProperty,SO=Object.getOwnPropertyDescriptor,$$=(e,s,t,r)=>{for(var i=r>1?void 0:r?SO(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xO(s,t,i),i};let Ul=class extends M(Vl){constructor(){super(...arguments),this.init=!1}mounted(){this.init=!0}};$$([x({default:!1})],Ul.prototype,"noHide",2);Ul=$$([w],Ul);var wO=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[!e.noHide&&!e.init?t("div",{staticStyle:{visibility:"hidden"}},[e._t("default",null,{el:e.el})],2):e._e(),e._t("default",null,{el:e.el})],2)},PO=[];const o_={};var TO=E(Ul,wO,PO,!1,DO,null,null,null);function DO(e){for(let s in o_)this[s]=o_[s]}const st=function(){return TO.exports}();var Qu={};const MO=$f(UD);/**
  * vue-class-component v6.3.2
  * (c) 2015-present Evan You
  * @license MIT
  */Object.defineProperty(Qu,"__esModule",{value:!0});function EO(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var rm=EO(MO),OO=typeof Reflect<"u"&&Reflect.defineMetadata;function LO(e,s){ph(e,s),Object.getOwnPropertyNames(s.prototype).forEach(function(t){ph(e.prototype,s.prototype,t)}),Object.getOwnPropertyNames(s).forEach(function(t){ph(e,s,t)})}function ph(e,s,t){var r=t?Reflect.getOwnMetadataKeys(s,t):Reflect.getOwnMetadataKeys(s);r.forEach(function(i){var n=t?Reflect.getOwnMetadata(i,s,t):Reflect.getOwnMetadata(i,s);t?Reflect.defineMetadata(i,n,e,t):Reflect.defineMetadata(i,n,e)})}var FO={__proto__:[]},AO=FO instanceof Array;function kO(e){return function(s,t,r){var i=typeof s=="function"?s:s.constructor;i.__decorators__||(i.__decorators__=[]),typeof r!="number"&&(r=void 0),i.__decorators__.push(function(n){return e(n,t,r)})}}function RO(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return rm.extend({mixins:e})}function HO(e){var s=typeof e;return e==null||s!=="object"&&s!=="function"}function jO(e,s){var t=s.prototype._init;s.prototype._init=function(){var n=this,a=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||a.push(o);a.forEach(function(l){l.charAt(0)!=="_"&&Object.defineProperty(n,l,{get:function(){return e[l]},set:function(c){e[l]=c},configurable:!0})})};var r=new s;s.prototype._init=t;var i={};return Object.keys(r).forEach(function(n){r[n]!==void 0&&(i[n]=r[n])}),i}var im=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function l_(e,s){s===void 0&&(s={}),s.name=s.name||e._componentTag||e.name;var t=e.prototype;Object.getOwnPropertyNames(t).forEach(function(o){if(o!=="constructor"){if(im.indexOf(o)>-1){s[o]=t[o];return}var l=Object.getOwnPropertyDescriptor(t,o);l.value!==void 0?typeof l.value=="function"?(s.methods||(s.methods={}))[o]=l.value:(s.mixins||(s.mixins=[])).push({data:function(){var c;return c={},c[o]=l.value,c}}):(l.get||l.set)&&((s.computed||(s.computed={}))[o]={get:l.get,set:l.set})}}),(s.mixins||(s.mixins=[])).push({data:function(){return jO(this,e)}});var r=e.__decorators__;r&&(r.forEach(function(o){return o(s)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),n=i instanceof rm?i.constructor:rm,a=n.extend(s);return IO(a,e,n),OO&&LO(a,e),a}function IO(e,s,t){Object.getOwnPropertyNames(s).forEach(function(r){if(r!=="prototype"){var i=Object.getOwnPropertyDescriptor(e,r);if(!(i&&!i.configurable)){var n=Object.getOwnPropertyDescriptor(s,r);if(!AO){if(r==="cid")return;var a=Object.getOwnPropertyDescriptor(t,r);if(!HO(n.value)&&a&&a.value===n.value)return}Object.defineProperty(e,r,n)}}})}function x$(e){return typeof e=="function"?l_(e):function(s){return l_(s,e)}}x$.registerHooks=function(s){im.push.apply(im,s)};Qu.default=x$;var NO=Qu.createDecorator=kO;Qu.mixins=RO;function Ye(e){return NO(function(s,t){if(!s.methods)throw new Error("This decorator must be used on a vue component method.");var r=typeof e=="number"?e:e.time,i=s.methods[t],n=0,a=function(){n&&(clearTimeout(n),n=0)};s.methods[t]=function(){for(var o=this,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];a(),n=setTimeout(function(){n=0,i.apply(o,l)},r)}})}var VO=Object.defineProperty,UO=Object.getOwnPropertyDescriptor,rt=(e,s,t,r)=>{for(var i=r>1?void 0:r?UO(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VO(s,t,i),i};let Ze=class extends M(O){constructor(){super(...arguments),this.mdiRestart=er,this.mdiLockOutline=Wu,this.mdiLockOpenVariantOutline=qC,this.mdiMinus=Vf,this.mdiPlus=Yu,this.isLocked=!1,this.invalidChars=["e","E","+"],this.value=0,this.numInput=0,this.startValue=0,this.processedMax=100,this.dynamicStep=50}created(){this.value=this.target*this.multi,this.numInput=this.value,this.startValue=this.target*this.multi,this.dynamicStep=Math.floor(this.max/2),this.value>=this.processedMax&&(this.processedMax=(Math.ceil(this.value/this.dynamicStep)+1)*this.dynamicStep)}lockSlidersChanged(){this.isLocked=this.lockSliders&&this.isTouchDevice}startLockTimer(){let e=this.lockSlidersDelay;!this.isTouchDevice||!this.lockSliders||e<=0||(this.timeout=setTimeout(()=>this.isLocked=!0,e*1e3))}resetLockTimer(){clearTimeout(this.timeout)}get lockSliders(){return this.$store.state.gui.uiSettings.lockSlidersOnTouchDevices}get lockSlidersDelay(){return this.$store.state.gui.uiSettings.lockSlidersDelay}get colorBar(){return this.max<this.value?"warning":"primary"}changeSlider(){this.sendCmd(),this.dynamicRange&&this.value>=this.processedMax&&(this.processedMax=this.value+this.dynamicStep)}valueChanged(e){this.numInput=e}targetChanged(e){this.value=Math.round(e*this.multi),this.dynamicRange&&this.value>=this.processedMax&&(this.processedMax=this.value+this.dynamicStep)}maxChanged(e){this.processedMax=e>this.value?e:Math.ceil(this.value/this.dynamicStep)*this.dynamicStep}checkInvalidChars(e){this.min>=0&&this.invalidChars.push("-"),this.invalidChars.includes(e.key)&&e.preventDefault()}errors(){const e=[];return this.numInput.toString()===""&&e.push(this.$t("App.NumberInput.NoEmptyAllowedError")),this.numInput<this.min&&e.push(this.$t("App.NumberInput.GreaterOrEqualError",{min:this.min})),(!this.dynamicRange&&this.numInput>this.max||this.numInput<this.min)&&e.push(this.$t("App.NumberInput.MustBeBetweenError",{min:this.min,max:this.max})),e}submitInput(){this.errors().length>0||(!this.dynamicRange&&this.numInput>this.max?this.value=this.max:this.value=this.numInput,this.sendCmd())}resetSlider(){this.value=this.defaultValue,this.numInput=this.defaultValue,this.processedMax=this.max,this.value>=this.processedMax&&(this.processedMax=(Math.ceil(this.value/this.dynamicStep)+1)*this.dynamicStep),this.sendCmd()}sendCmd(){const e=(Math.max(1,this.value)*this.attributeScale).toFixed(0),s="".concat(this.command," ").concat(this.attributeName).concat(e);this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s}),this.startLockTimer()}decrement(){this.value=this.value>this.min?Math.round(this.value-this.step):this.min,this.sendCmd()}increment(){this.value=this.value<this.processedMax||this.dynamicRange?Math.round(this.value+this.step):this.processedMax,this.sendCmd()}};rt([x({type:Number,required:!0})],Ze.prototype,"target",2);rt([x({type:String,required:!0})],Ze.prototype,"command",2);rt([x({type:String,default:""})],Ze.prototype,"attributeName",2);rt([x({default:""})],Ze.prototype,"label",2);rt([x({type:String,default:""})],Ze.prototype,"icon",2);rt([x({type:String,default:"%"})],Ze.prototype,"unit",2);rt([x({type:Number,default:1})],Ze.prototype,"attributeScale",2);rt([x({type:Number,default:0})],Ze.prototype,"min",2);rt([x({type:Number,default:100})],Ze.prototype,"max",2);rt([x({type:Boolean,required:!1,default:!1})],Ze.prototype,"hasInputField",2);rt([x({type:Boolean,default:!1})],Ze.prototype,"dynamicRange",2);rt([x({type:Number,default:100})],Ze.prototype,"defaultValue",2);rt([x({type:Number,default:100})],Ze.prototype,"step",2);rt([x({type:Number,default:1})],Ze.prototype,"multi",2);rt([ce("lockSliders",{immediate:!0})],Ze.prototype,"lockSlidersChanged",1);rt([Ye(250)],Ze.prototype,"changeSlider",1);rt([ce("value",{immediate:!0})],Ze.prototype,"valueChanged",1);rt([ce("target",{immediate:!0})],Ze.prototype,"targetChanged",1);rt([ce("max",{immediate:!0})],Ze.prototype,"maxChanged",1);Ze=rt([w],Ze);var BO=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{attrs:{dense:""}},[t(v,{staticClass:"pa-0"},[t(ms,{staticClass:"_tool-slider-subheader px-1"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(" "+e._s(e.icon)+" ")]),t("span",[e._v(e._s(e.label))]),e.value!==e.defaultValue&&!e.hasInputField?t(g,{staticClass:"ml-2",attrs:{"x-small":"",icon:"",disabled:e.isLocked},on:{click:e.resetSlider}},[t(_,[e._v(e._s(e.mdiRestart))])],1):e._e(),t(ie),e.hasInputField?e._e():t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.value)+" "+e._s(e.unit))]),t("form",{on:{submit:function(r){return r.preventDefault(),e.submitInput.apply(null,arguments)}}},[e.hasInputField?t(re,{staticClass:"_slider-input d-flex align-center pt-1",attrs:{error:e.errors().length>0,suffix:e.unit,type:"number","hide-spin-buttons":"","hide-details":"",outlined:"",dense:""},on:{blur:function(r){e.numInput=e.value},focus:function(r){return r.target.select()},keydown:e.checkInvalidChars},scopedSlots:e._u([e.value!==e.defaultValue||e.value!==e.numInput?{key:"append",fn:function(){return[t(_,{attrs:{small:""},on:{click:e.resetSlider}},[e._v(e._s(e.mdiRestart))])]},proxy:!0}:null],null,!0),model:{value:e.numInput,callback:function(r){e.numInput=r},expression:"numInput"}}):e._e()],1)],1),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors().length>0,expression:"errors().length > 0"}],staticClass:"_error-msg d-flex justify-end"},[e._v(" "+e._s(e.errors()[0])+" ")])]),t(Z,{staticClass:"pa-0 d-flex align-center"},[e.lockSliders&&e.isTouchDevice?t(g,{staticClass:"_lock-button",attrs:{plain:"",small:"",icon:""},on:{click:function(r){e.isLocked=!e.isLocked}}},[t(_,{attrs:{small:"",color:e.isLocked?"red":""}},[e._v(" "+e._s(e.isLocked?e.mdiLockOutline:e.mdiLockOpenVariantOutline)+" ")])],1):e._e(),t(pr,{directives:[{name:"touch",rawName:"v-touch",value:{start:e.resetLockTimer},expression:"{ start: resetLockTimer }"}],attrs:{disabled:e.isLocked,min:e.min,max:e.processedMax,color:e.colorBar,"hide-details":""},on:{change:e.changeSlider},scopedSlots:e._u([{key:"prepend",fn:function(){return[t(_,{attrs:{disabled:e.isLocked||e.value<=e.min},on:{click:e.decrement}},[e._v(e._s(e.mdiMinus))])]},proxy:!0},{key:"append",fn:function(){return[t(_,{attrs:{disabled:e.isLocked||e.value>=e.max&&!e.dynamicRange},on:{click:e.increment}},[e._v(" "+e._s(e.mdiPlus)+" ")])]},proxy:!0}]),model:{value:e.value,callback:function(r){e.value=r},expression:"value"}})],1)],1)],1)},GO=[];const c_={};var WO=E(Ze,BO,GO,!1,zO,"2b843f9d",null,null);function zO(e){for(let s in c_)this[s]=c_[s]}const ed=function(){return WO.exports}();var qO=Object.defineProperty,ZO=Object.getOwnPropertyDescriptor,S$=(e,s,t,r)=>{for(var i=r>1?void 0:r?ZO(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&qO(s,t,i),i};let Bl=class extends M(O,Yi){constructor(){super(...arguments),this.mdiArrowDownBold=TM,this.mdiArrowUpBold=LM,this.mdiPrinter3dNozzle=Qs}get feedamounts(){var s,t;return(t=(s=this.$store.state.gui.control.extruder)==null?void 0:s.feedamounts)!=null?t:[]}get feedrates(){var s,t;return(t=(s=this.$store.state.gui.control.extruder)==null?void 0:s.feedrates)!=null?t:[]}get feedamountsSorted(){return[...this.feedamounts].sort((s,t)=>t-s)}get feedratesSorted(){return[...this.feedrates].sort((s,t)=>t-s)}setFeedamount(s){this.$store.dispatch("gui/saveSetting",{name:"control.extruder.feedamount",value:s.value})}setFeedrate(s){this.$store.dispatch("gui/saveSetting",{name:"control.extruder.feedrate",value:s.value})}get maxExtrudeOnlyDistance(){var s,t;return(t=(s=this.activeExtruderSettings)==null?void 0:s.max_extrude_only_distance)!=null?t:50}get tooLargeExtrusion(){return this.feedamount*this.extrudeFactor>this.maxExtrudeOnlyDistance}get existsClientLinearMoveMacro(){var t,r,i;return"_CLIENT_LINEAR_MOVE"in((i=(r=(t=this.$store.state.printer)==null?void 0:t.gcode)==null?void 0:r.commands)!=null?i:{})}onMaxExtrudeOnlyDistanceChange(){this.feedamount>this.maxExtrudeOnlyDistance&&this.setFeedamount({value:this.maxExtrudeOnlyDistance})}sendRetract(){this.sendCommand(this.feedamount*-1,"btnRetract")}sendExtrude(){this.sendCommand(this.feedamount,"btnExtrude")}sendCommand(s,t){let r="SAVE_GCODE_STATE NAME=_ui_extrude\nM83\nG1 E".concat(s," F").concat(this.feedrate*60,"\nRESTORE_GCODE_STATE NAME=_ui_extrude");this.existsClientLinearMoveMacro&&(r="_CLIENT_LINEAR_MOVE E=".concat(s," F=").concat(this.feedrate*60)),this.$store.dispatch("server/addEvent",{message:r,type:"command"}),this.$socket.emit("printer.gcode.script",{script:r},{loading:t})}};S$([ce("maxExtrudeOnlyDistance",{immediate:!0})],Bl.prototype,"onMaxExtrudeOnlyDistanceChange",1);Bl=S$([w({components:{NumberInput:He,Responsive:st,ToolSlider:ed}})],Bl);var YO=Object.defineProperty,XO=Object.getOwnPropertyDescriptor,JO=(e,s,t,r)=>{for(var i=r>1?void 0:r?XO(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&YO(s,t,i),i};let nm=class extends M(O,Yi){constructor(){super(...arguments),this.mdiDiameterVariant=s5,this.mdiInformationOutline=If}get showEstimatedExtrusion(){var s;return(s=this.$store.state.gui.control.extruder.showEstimatedExtrusionInfo)!=null?s:!0}get extrudedLength(){return Math.round(this.feedamount*this.extrudeFactor*(Math.pow(this.filamentDiameter,2)/Math.pow(this.nozzleDiameter,2)))}get speed_factor(){var s,t;return(t=(s=this.$store.state.printer.gcode_move)==null?void 0:s.speed_factor)!=null?t:1}get volumetricFlow(){return Math.round(Math.pow(this.filamentDiameter/2,2)*Math.PI*this.feedrate*this.speed_factor*10)/10}get showTooltip(){return this.speed_factor!==1||this.extrudeFactor!==1}get speedFactorOutput(){return(this.speed_factor*100).toFixed(0)}get extrudeFactorOutput(){return(this.extrudeFactor*100).toFixed(0)}};nm=JO([w({})],nm);var KO=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showEstimatedExtrusion?t(Pe,{staticClass:"pa-0 ma-0 pb-2"},[t("div",{staticClass:"text--disabled text-caption font-weight-light d-flex justify-center",staticStyle:{"font-size":"0.8em"}},[t("span",[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.EstimatedExtrusion"))+" ~ "+e._s(e.extrudedLength)+" mm @ "+e._s(e.volumetricFlow)+" mm³/s - "),t(_,{staticStyle:{opacity:"0.4","margin-top":"-2px"},attrs:{"x-small":""}},[e._v(" "+e._s(e.mdiDiameterVariant)+" ")]),e._v(" "+e._s(e.nozzleDiameter)+" mm "),e.showTooltip?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({attrs:{small:"",color:"warning"}},"v-icon",n,!1),i),[e._v(" "+e._s(e.mdiInformationOutline)+" ")])]}}],null,!1,3195294278)},[t("span",[e.speed_factor!==1?t("div",[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.SpeedFactor"))+": "+e._s(e.speedFactorOutput)+" % ")]):e._e(),e.extrudeFactor!==1?t("div",[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtrusionFactor"))+": "+e._s(e.extrudeFactorOutput)+" % ")]):e._e()])]):e._e()],1)])]):e._e()},QO=[];const u_={};var e4=E(nm,KO,QO,!1,t4,null,null,null);function t4(e){for(let s in u_)this[s]=u_[s]}const s4=function(){return e4.exports}();var r4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(st,{attrs:{breakpoints:{large:function(r){return r.width>=640}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(Pe,[t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.FilamentLength"),param:"feedamount",target:e.feedamount,disabled:e.printerIsPrintingOnly,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":100,step:.01,min:.01,max:e.maxExtrudeOnlyDistance,dec:2,unit:"mm","submit-on-blur":!0},on:{submit:e.setFeedamount}}),t(qt,{staticClass:"_btn-group pt-3"},e._l(e.feedamountsSorted,function(n){return t(g,{key:n,staticClass:"_btn-qs flex-grow-1 px-0",attrs:{disabled:e.printerIsPrintingOnly,dense:""},on:{click:function(a){return e.setFeedamount({value:n})}}},[e._v(" "+e._s(n)+" ")])}),1)],1),t(v,[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.ExtrusionFeedrate"),param:"feedrate",target:e.feedrate,disabled:e.printerIsPrintingOnly,"has-spinner":!0,"output-error-msg":!0,"spinner-factor":100,step:.01,min:.01,max:null,dec:2,type:"number",unit:"mm/s"},on:{submit:e.setFeedrate}}),t(qt,{staticClass:"_btn-group pt-3"},e._l(e.feedratesSorted,function(n){return t(g,{key:n,staticClass:"_btn-qs flex-grow-1 px-0",attrs:{disabled:e.printerIsPrintingOnly,dense:""},on:{click:function(a){return e.setFeedrate({value:n})}}},[e._v(" "+e._s(n)+" ")])}),1)],1),i.is.large?t(v,{staticClass:"col-3 d-flex align-center flex-column justify-center"},[t(ue,{attrs:{left:"",disabled:e.extrudePossible&&!e.tooLargeExtrusion,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("div",e._g({staticClass:"mb-4"},a),[t(g,{staticClass:"_btn-extruder-cmd",attrs:{loading:e.loadings.includes("btnRetract"),disabled:!e.extrudePossible||e.tooLargeExtrusion||e.printerIsPrintingOnly,small:""},on:{click:function(o){return e.sendRetract()}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiArrowUpBold))]),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Retract"))+" ")],1)],1)]}}],null,!0)},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.extrudePossible,expression:"!extrudePossible"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tooLargeExtrusion,expression:"tooLargeExtrusion"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.TooLargeExtrusion"))+" "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Requested"))+": "+e._s(e.feedamount*e.extrudeFactor)+" mm "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Allowed"))+": "+e._s(e.maxExtrudeOnlyDistance)+" mm ")])]),t(ue,{attrs:{left:"",disabled:e.extrudePossible&&!e.tooLargeExtrusion,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("div",e._g({},a),[t(g,{staticClass:"_btn-extruder-cmd",attrs:{loading:e.loadings.includes("btnExtrude"),disabled:!e.extrudePossible||e.tooLargeExtrusion||e.printerIsPrintingOnly,small:""},on:{click:function(o){return e.sendExtrude()}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiArrowDownBold))]),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Extrude"))+" ")],1)],1)]}}],null,!0)},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.extrudePossible,expression:"!extrudePossible"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tooLargeExtrusion,expression:"tooLargeExtrusion"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.TooLargeExtrusion"))+" "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Requested"))+": "+e._s(e.feedamount*e.extrudeFactor)+" mm "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Allowed"))+": "+e._s(e.maxExtrudeOnlyDistance)+" mm ")])])],1):e._e()],1),i.is.large?e._e():t(C,[t(v,{staticClass:"pa-0"},[t("div",{staticClass:"d-flex justify-space-around"},[t("div",{staticClass:"d-flex align-center"},[t(ue,{attrs:{top:"",disabled:e.extrudePossible&&!e.tooLargeExtrusion,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("div",e._g({staticClass:"pt-1 pb-2 px-3"},a),[t(g,{staticClass:"_btn-extruder-cmd",attrs:{loading:e.loadings.includes("btnRetract"),disabled:!e.extrudePossible||e.tooLargeExtrusion||e.printerIsPrintingOnly,small:""},on:{click:function(o){return e.sendRetract()}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiArrowUpBold))]),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Retract"))+" ")],1)],1)]}}],null,!0)},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.extrudePossible,expression:"!extrudePossible"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tooLargeExtrusion,expression:"tooLargeExtrusion"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.TooLargeExtrusion"))+" "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Requested"))+": "+e._s(e.feedamount*e.extrudeFactor)+" mm "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Allowed"))+": "+e._s(e.maxExtrudeOnlyDistance)+" mm ")])]),t(ue,{attrs:{top:"",disabled:e.extrudePossible&&!e.tooLargeExtrusion,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("div",e._g({staticClass:"pt-1 pb-2 px-3"},a),[t(g,{staticClass:"_btn-extruder-cmd",attrs:{loading:e.loadings.includes("btnExtrude"),disabled:!e.extrudePossible||e.tooLargeExtrusion||e.printerIsPrintingOnly,small:""},on:{click:function(o){return e.sendExtrude()}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiArrowDownBold))]),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Extrude"))+" ")],1)],1)]}}],null,!0)},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.extrudePossible,expression:"!extrudePossible"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tooLargeExtrusion,expression:"tooLargeExtrusion"}]},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.TooLargeExtrusion"))+" "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Requested"))+": "+e._s(e.feedamount*e.extrudeFactor)+" mm "),t("br"),e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Allowed"))+": "+e._s(e.maxExtrudeOnlyDistance)+" mm ")])])],1)])])],1)],1),t(s4)]}}])})},i4=[];const d_={};var n4=E(Bl,r4,i4,!1,a4,"517c58ba",null,null);function a4(e){for(let s in d_)this[s]=d_[s]}const o4=function(){return n4.exports}();var l4=Object.defineProperty,c4=Object.getOwnPropertyDescriptor,w$=(e,s,t,r)=>{for(var i=r>1?void 0:r?c4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&l4(s,t,i),i};let Gl=class extends M(O,Xe){get retractLength(){var e,s,t;return Math.floor(((t=(s=(e=this.$store.state.printer)==null?void 0:e.firmware_retraction)==null?void 0:s.retract_length)!=null?t:0)*100)/100}get retractSpeed(){var e,s,t;return Math.trunc((t=(s=(e=this.$store.state.printer)==null?void 0:e.firmware_retraction)==null?void 0:s.retract_speed)!=null?t:20)}get unretractExtraLength(){var e,s,t;return Math.floor(((t=(s=(e=this.$store.state.printer)==null?void 0:e.firmware_retraction)==null?void 0:s.unretract_extra_length)!=null?t:0)*100)/100}get unretractSpeed(){var e,s,t;return Math.trunc((t=(s=(e=this.$store.state.printer)==null?void 0:e.firmware_retraction)==null?void 0:s.unretract_speed)!=null?t:10)}get defaultRetractLength(){var e,s,t,r,i;return Math.floor(((i=(r=(t=(s=(e=this.$store.state.printer)==null?void 0:e.configfile)==null?void 0:s.settings)==null?void 0:t.firmware_retraction)==null?void 0:r.retract_length)!=null?i:0)*100)/100}get defaultRetractSpeed(){var e,s,t,r,i;return Math.trunc((i=(r=(t=(s=(e=this.$store.state.printer)==null?void 0:e.configfile)==null?void 0:s.settings)==null?void 0:t.firmware_retraction)==null?void 0:r.retract_speed)!=null?i:20)}get defaultUnretractExtraLength(){var e,s,t,r,i;return Math.floor(((i=(r=(t=(s=(e=this.$store.state.printer)==null?void 0:e.configfile)==null?void 0:s.settings)==null?void 0:t.firmware_retraction)==null?void 0:r.unretract_extra_length)!=null?i:0)*100)/100}get defaultUnretractSpeed(){var e,s,t,r,i;return Math.trunc((i=(r=(t=(s=(e=this.$store.state.printer)==null?void 0:e.configfile)==null?void 0:s.settings)==null?void 0:t.firmware_retraction)==null?void 0:r.unretract_speed)!=null?i:0)}sendCmd(e){const s="SET_RETRACTION ".concat(e.name,"=").concat(e.value);this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})}};w$([Ye(500)],Gl.prototype,"sendCmd",1);Gl=w$([w({components:{Panel:B,NumberInput:He,Responsive:st}})],Gl);var u4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.existsFirmwareRetraction?t("div",[t(Pe,[t(st,{attrs:{breakpoints:{small:function(r){return r.width<=350}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(C,[t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.FirmwareRetractionSettings.RetractLength"),param:"RETRACT_LENGTH",target:e.retractLength,"default-value":e.defaultRetractLength,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":10,step:.01,min:0,max:null,dec:2,unit:"mm"},on:{submit:e.sendCmd}})],1),t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.FirmwareRetractionSettings.RetractSpeed"),param:"RETRACT_SPEED",target:e.retractSpeed,"default-value":e.defaultRetractSpeed,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":5,step:1,min:1,max:null,dec:0,unit:"mm/s"},on:{submit:e.sendCmd}})],1)],1),t(C,[t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.FirmwareRetractionSettings.UnretractExtraLength"),param:"UNRETRACT_EXTRA_LENGTH",target:e.unretractExtraLength,"default-value":e.defaultUnretractExtraLength,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":10,step:.01,min:0,max:null,dec:2,unit:"mm"},on:{submit:e.sendCmd}})],1),t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.FirmwareRetractionSettings.UnretractSpeed"),param:"UNRETRACT_SPEED",target:e.unretractSpeed,"default-value":e.defaultUnretractSpeed,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":5,step:1,min:1,max:null,dec:0,unit:"mm/s"},on:{submit:e.sendCmd}})],1)],1)]}}],null,!1,259554286)})],1)],1):e._e()},d4=[];const h_={};var h4=E(Gl,u4,d4,!1,m4,null,null,null);function m4(e){for(let s in h_)this[s]=h_[s]}const p4=function(){return h4.exports}();var f4=Object.defineProperty,g4=Object.getOwnPropertyDescriptor,P$=(e,s,t,r)=>{for(var i=r>1?void 0:r?g4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&f4(s,t,i),i};let Wl=class extends M(O){constructor(){super(...arguments),this.mdiRestart=er,this.extruders=[],this.selectedExtruder=""}resetToActiveExtruder(){var s;this.selectedExtruder=(s=this.$store.state.printer.toolhead)==null?void 0:s.extruder}get allExtruders(){return Object.keys(this.$store.state.printer).forEach(s=>{s.startsWith("extruder")&&!this.extruders.includes(s)&&this.extruders.push(s)}),this.extruders.length===1&&this.resetToActiveExtruder(),this.extruders}get activeExtruder(){var s;return this.resetToActiveExtruder(),(s=this.$store.state.printer.toolhead)==null?void 0:s.extruder}get pressureAdvance(){var s,t,r;return Math.floor(((r=(t=(s=this.$store.state.printer)==null?void 0:s[this.selectedExtruder])==null?void 0:t.pressure_advance)!=null?r:0)*1e3)/1e3}get smoothTime(){var s,t,r;return Math.floor(((r=(t=(s=this.$store.state.printer)==null?void 0:s[this.selectedExtruder])==null?void 0:t.smooth_time)!=null?r:.04)*1e3)/1e3}get defaultPressureAdvance(){var s,t,r,i;return Math.floor(((i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t[this.selectedExtruder])==null?void 0:r.pressure_advance)!=null?i:0)*1e3)/1e3}get defaultSmoothTime(){var s,t,r,i;return Math.floor(((i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t[this.selectedExtruder])==null?void 0:r.pressure_advance_smooth_time)!=null?i:.04)*1e3)/1e3}sendCmd(s){const t="SET_PRESSURE_ADVANCE EXTRUDER=".concat(this.selectedExtruder," ").concat(s.name,"=").concat(s.value);this.$store.dispatch("server/addEvent",{message:t,type:"command"}),this.$socket.emit("printer.gcode.script",{script:t})}};P$([Ye(500)],Wl.prototype,"sendCmd",1);Wl=P$([w({components:{NumberInput:He,Panel:B,Responsive:st}})],Wl);var _4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(st,{attrs:{breakpoints:{small:function(r){return r.width<=350},medium:function(r){return r.width>350&&r.width<=500}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(Pe,[t(C,[e.allExtruders.length>1?t(v,{class:{"col-12":i.is.small||i.is.medium}},[t("div",{staticClass:"d-flex align-center"},[e.selectedExtruder!==e.activeExtruder?t(g,{attrs:{icon:"",plain:""},on:{click:e.resetToActiveExtruder}},[t(_,[e._v(e._s(e.mdiRestart))])],1):e._e(),t(we,{attrs:{label:e.$t("Panels.ExtruderControlPanel.PressureAdvanceSettings.Extruder"),items:e.allExtruders,value:e.activeExtruder,"hide-details":"",outlined:"",dense:""},model:{value:e.selectedExtruder,callback:function(n){e.selectedExtruder=n},expression:"selectedExtruder"}})],1)]):e._e(),t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.PressureAdvanceSettings.Advance"),param:"ADVANCE",target:e.pressureAdvance,"default-value":e.defaultPressureAdvance,extruder:e.selectedExtruder,"output-error-msg":!0,"has-spinner":!0,min:0,max:null,step:.001,dec:3,unit:"s"},on:{submit:e.sendCmd}})],1),t(v,{class:{"col-12":i.is.small}},[t(He,{attrs:{label:e.$t("Panels.ExtruderControlPanel.PressureAdvanceSettings.SmoothTime"),param:"SMOOTH_TIME",target:e.smoothTime,"default-value":e.defaultSmoothTime,extruder:e.selectedExtruder,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":10,min:0,max:.2,step:.001,dec:3,unit:"s"},on:{submit:e.sendCmd}})],1)],1)],1)]}}])})},v4=[];const m_={};var b4=E(Wl,_4,v4,!1,y4,null,null,null);function y4(e){for(let s in m_)this[s]=m_[s]}const C4=function(){return b4.exports}();var $4=Object.defineProperty,x4=Object.getOwnPropertyDescriptor,S4=(e,s,t,r)=>{for(var i=r>1?void 0:r?x4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$4(s,t,i),i};let am=class extends M(O,Yi){constructor(){super(...arguments),this.mdiPrinter3dNozzleOutline=I5}};am=S4([w({})],am);var w4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,[t(ed,{attrs:{label:e.$t("Panels.ExtruderControlPanel.ExtrusionFactor"),icon:e.mdiPrinter3dNozzleOutline,target:e.extrudeFactor,min:1,max:200,multi:100,step:1,"has-input-field":!0,command:"M221","attribute-name":"S"}})],1)},P4=[];const p_={};var T4=E(am,w4,P4,!1,D4,null,null,null);function D4(e){for(let s in p_)this[s]=p_[s]}const M4=function(){return T4.exports}();var E4=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,L4=(e,s,t,r)=>{for(var i=r>1?void 0:r?O4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&E4(s,t,i),i};let om=class extends M(O,Xe){constructor(){super(...arguments),this.mdiPrinter3dNozzle=Qs}get rows(){const s=this.toolchangeMacros.length,t=Math.ceil(s/Math.ceil(s/6));let r=[];for(let i=0;i<this.toolchangeMacros.length;i+=t)r.push(this.toolchangeMacros.slice(i,i+t));return r}};om=L4([w({})],om);var F4=Object.defineProperty,A4=Object.getOwnPropertyDescriptor,T$=(e,s,t,r)=>{for(var i=r>1?void 0:r?A4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&F4(s,t,i),i};let zl=class extends M(O,Xe){get macro(){var t;const s=Object.keys(this.$store.state.printer).find(r=>{var i;return r.toLowerCase()==="gcode_macro ".concat((i=this.name)==null?void 0:i.toLowerCase())});if(s)return(t=this.$store.state.printer[s])!=null?t:{}}get active(){var s,t;return(t=(s=this.macro)==null?void 0:s.active)!=null?t:!1}get color(){var t,r,i,n,a,o;if(this.spool)return(r=(t=this.spool.filament)==null?void 0:t.color_hex)!=null?r:"000000";const s=(o=(a=(i=this.macro)==null?void 0:i.color)!=null?a:(n=this.macro)==null?void 0:n.colour)!=null?o:null;return s===""||s==="undefined"?null:s}get spoolId(){var s,t;return(t=(s=this.macro)==null?void 0:s.spool_id)!=null?t:null}get spool(){var t,r;return(r=((t=this.$store.state.server.spoolman.spools)!=null?t:[]).find(i=>i.id===this.spoolId))!=null?r:null}get primaryColor(){return this.$store.state.gui.uiSettings.primary}get primaryTextColor(){let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.primaryColor);if(s){const t=parseInt(s[1],16)*.2126,r=parseInt(s[2],16)*.7152,i=parseInt(s[3],16)*.0722;return(t+r+i)/255>.7?"#222":"#fff"}return"#ffffff"}get warningColor(){var s,t,r,i,n;return(n=(i=(r=(t=(s=this.$vuetify)==null?void 0:s.theme)==null?void 0:t.currentTheme)==null?void 0:r.warning)==null?void 0:i.toString())!=null?n:"#ff8300"}get buttonStyle(){let s="";return this.active&&(s=this.homedAxes.includes("xyz")?this.primaryColor:this.warningColor),{color:this.active?this.primaryTextColor:"","background-color":s}}get dotStyle(){return{"border-color":this.active?this.primaryTextColor:"","background-color":"#"+this.color}}changeTool(){this.doSend(this.name.toUpperCase())}};T$([x({type:String})],zl.prototype,"name",2);zl=T$([w({components:{}})],zl);var k4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(g,{staticClass:"flex-grow-1 px-0",style:e.buttonStyle,attrs:{disabled:e.printerIsPrintingOnly,dense:""},on:{click:e.changeTool}},[e.color!=null?t("span",{staticClass:"_extruderColorState mr-1",style:e.dotStyle}):e._e(),e._v(" "+e._s(e.name.toUpperCase())+" ")])},R4=[];const f_={};var H4=E(zl,k4,R4,!1,j4,"483925b4",null,null);function j4(e){for(let s in f_)this[s]=f_[s]}const I4=function(){return H4.exports}();var N4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"mb-3"},e._l(e.rows,function(r,i){return t(C,{key:"row_"+i,staticClass:"mt-0"},[t(v,[t(qt,{staticClass:"_btn-group py-0 px-3"},e._l(r,function(n){return t(I4,{key:n,attrs:{name:n}})}),1)],1)],1)}),1)},V4=[];const g_={};var U4=E(om,N4,V4,!1,B4,"74ef2a58",null,null);function B4(e){for(let s in g_)this[s]=g_[s]}const G4=function(){return U4.exports}();var W4=Object.defineProperty,z4=Object.getOwnPropertyDescriptor,q4=(e,s,t,r)=>{for(var i=r>1?void 0:r?z4(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&W4(s,t,i),i};let lm=class extends M(O,Xe){constructor(){super(...arguments),this.mdiCog=Yt}get showTools(){var e;return(e=this.$store.state.gui.view.extruder.showTools)!=null?e:!0}set showTools(e){this.$store.dispatch("gui/saveSetting",{name:"view.extruder.showTools",value:e})}get showExtrusionFactor(){var e;return(e=this.$store.state.gui.view.extruder.showExtrusionFactor)!=null?e:!0}set showExtrusionFactor(e){this.$store.dispatch("gui/saveSetting",{name:"view.extruder.showExtrusionFactor",value:e})}get existsPressureAdvance(){return!(this.$store.getters["printer/getExtruderSteppers"].length>0)}get showPressureAdvance(){var e;return(e=this.$store.state.gui.view.extruder.showPressureAdvance)!=null?e:!0}set showPressureAdvance(e){this.$store.dispatch("gui/saveSetting",{name:"view.extruder.showPressureAdvance",value:e})}get showFirmwareRetraction(){var e;return(e=this.$store.state.gui.view.extruder.showFirmwareRetraction)!=null?e:!0}set showFirmwareRetraction(e){this.$store.dispatch("gui/saveSetting",{name:"view.extruder.showFirmwareRetraction",value:e})}get showExtruderControl(){var e;return(e=this.$store.state.gui.view.extruder.showExtruderControl)!=null?e:!0}set showExtruderControl(e){this.$store.dispatch("gui/saveSetting",{name:"view.extruder.showExtruderControl",value:e})}};lm=q4([w],lm);var Z4=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{"offset-y":!0,left:!0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[e.toolchangeMacros.length?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ExtruderControlPanel.Tools")},model:{value:e.showTools,callback:function(r){e.showTools=r},expression:"showTools"}})],1):e._e(),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ExtruderControlPanel.ExtrusionFactor")},model:{value:e.showExtrusionFactor,callback:function(r){e.showExtrusionFactor=r},expression:"showExtrusionFactor"}})],1),e.existsPressureAdvance?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ExtruderControlPanel.PressureAdvance")},model:{value:e.showPressureAdvance,callback:function(r){e.showPressureAdvance=r},expression:"showPressureAdvance"}})],1):e._e(),e.existsFirmwareRetraction?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ExtruderControlPanel.FirmwareRetraction")},model:{value:e.showFirmwareRetraction,callback:function(r){e.showFirmwareRetraction=r},expression:"showFirmwareRetraction"}})],1):e._e(),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ExtruderControlPanel.ExtruderControl")},model:{value:e.showExtruderControl,callback:function(r){e.showExtruderControl=r},expression:"showExtruderControl"}})],1)],1)],1)},Y4=[];const __={};var X4=E(lm,Z4,Y4,!1,J4,null,null,null);function J4(e){for(let s in __)this[s]=__[s]}const K4=function(){return X4.exports}();var Q4=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,On=(e,s,t,r)=>{for(var i=r>1?void 0:r?e6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Q4(s,t,i),i};let Cr=class extends M(O){constructor(){super(...arguments),this.DEFAULT_DESC="G-Code macro",this.mdiCloseThick=pe,this.mdiMenuDown=Lr,this.mdiRefresh=bi,this.paramArray=[],this.params={},this.paramsDialog=!1}get klipperMacro(){return this.$store.getters["printer/getMacro"](this.macro.name)}get isGcodeStyle(){return this.macro.name.match(/[G|M]\d{1,3}/gm)}get paramCols(){if(this.isMobile)return 1;const e=Math.ceil(this.paramArray.length/5);return e>4?4:e}get paramCssCols(){return 12/this.paramCols}get paramsOverlayWidth(){return 200*this.paramCols}get hasDescription(){return this.klipperMacro.description&&this.klipperMacro.description!==this.DEFAULT_DESC}klipperMacroChange(){this.refreshParams()}refreshParams(){var e;this.paramArray.splice(0,this.paramArray.length),this.params={},((e=this.klipperMacro)==null?void 0:e.params)!==null&&Object.keys(this.klipperMacro.params).forEach(s=>{s.startsWith("_")||(this.paramArray.push(s),this.params[s]={type:this.klipperMacro.params[s].type,default:this.klipperMacro.params[s].default,value:""})})}doSendMacro(e){this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"macro_"+e})}sendWithParams(){let e=[];this.paramArray.forEach(t=>{var i;let r=(i=this.params[t].value)==null?void 0:i.toString().trim();if(this.params[t].value!==null&&r!==""){let n=t;r!=null&&r.includes(" ")&&(r='"'.concat(r,'"')),n+=this.isGcodeStyle?r:"=".concat(r),e.push(n)}});const s=this.macro.name+" "+e.join(" ");this.doSendMacro(s)}mounted(){this.refreshParams()}};On([x({required:!0})],Cr.prototype,"macro",2);On([x({default:"primary"})],Cr.prototype,"color",2);On([x({default:null})],Cr.prototype,"alias",2);On([x({default:!1})],Cr.prototype,"disabled",2);On([ce("klipperMacro")],Cr.prototype,"klipperMacroChange",1);Cr=On([w({components:{Panel:B}})],Cr);var t6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(qt,{staticClass:"d-inline-block"},[t(ue,{attrs:{disabled:!e.hasDescription,top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({class:e.paramArray.length?"macroWithParameters":"",attrs:{small:"",color:e.color,loading:e.loadings.includes("macro_"+e.macro.name),disabled:e.disabled},on:{click:function(a){return e.doSendMacro(e.macro.name)}}},"v-btn",n,!1),i),[e._v(" "+e._s(e.alias?e.alias:e.macro.name.replace(/_/g," "))+" ")])]}}])},[t("span",[e._v(e._s(e.klipperMacro.description))])]),e.paramArray.length?[e.isMobile?[t(g,{staticClass:"minwidth-0 px-1 btnMacroMenu",attrs:{disabled:e.disabled,color:e.color,small:""},on:{click:function(r){e.paramsDialog=!0}}},[t(_,[e._v(e._s(e.mdiMenuDown))])],1),t(oe,{model:{value:e.paramsDialog,callback:function(r){e.paramsDialog=r},expression:"paramsDialog"}},[t(B,{attrs:{title:e.macro.name,"card-class":"macro-params-mobile-".concat(e.macro.name),"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.paramsDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}],null,!1,2576054633)},[t(Z,[t(C,e._l(e.paramArray,function(r,i){return t(v,{key:"param_mobile_"+i,attrs:{cols:6}},[t(re,{attrs:{label:r,placeholder:e.params[r].default,"persistent-placeholder":!0,"hide-details":"",outlined:"",dense:"",clearable:"","clear-icon":e.mdiRefresh},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.sendWithParams.apply(null,arguments)}},model:{value:e.params[r].value,callback:function(n){e.$set(e.params[r],"value",n)},expression:"params[name].value"}})],1)}),1)],1),t(ae,{staticClass:"px-4 pb-4"},[t(g,{staticClass:"text-uppercase",attrs:{color:"primary",block:""},on:{click:e.sendWithParams}},[e._v(" "+e._s(e.$t("Panels.MacrosPanel.Send"))+" ")])],1)],1)],1)]:t(ye,{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-1 btnMacroMenu",attrs:{disabled:e.disabled,color:e.color,small:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,3313662284)},[t(Te,{attrs:{"max-width":e.paramsOverlayWidth}},[t(Z,{staticClass:"py-2"},[t(C,{staticClass:"my-2"},e._l(e.paramArray,function(r,i){return t(v,{key:"param_"+i,attrs:{cols:e.paramCssCols}},[t(re,{attrs:{label:r,placeholder:e.params[r].default,"persistent-placeholder":!0,"hide-details":"",outlined:"",dense:"",clearable:"","clear-icon":e.mdiRefresh},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.sendWithParams.apply(null,arguments)}},model:{value:e.params[r].value,callback:function(n){e.$set(e.params[r],"value",n)},expression:"params[name].value"}})],1)}),1),t(C,{staticClass:"my-2"},[t(v,{staticClass:"py-0"},[t(g,{staticClass:"text-uppercase",attrs:{color:"primary",block:""},on:{click:e.sendWithParams}},[e._v(" "+e._s(e.$t("Panels.MacrosPanel.Send"))+" ")])],1)],1)],1)],1)],1)]:e._e()],2)},s6=[];const v_={};var r6=E(Cr,t6,s6,!1,i6,"26a7856d",null,null);function i6(e){for(let s in v_)this[s]=v_[s]}const cr=function(){return r6.exports}();var n6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showPanel?t(B,{attrs:{icon:e.mdiPrinter3dNozzle,title:e.$t("Panels.ExtruderControlPanel.Headline"),collapsible:!0,"card-class":"extruder-control-panel"},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.showFilamentMacros?t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1,left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDotsVertical))])],1)]}}],null,!1,2883138713)},[t(Ee,{attrs:{dense:""}},[e.unloadFilamentMacro?t(Y,[t(ue,{attrs:{top:"",disabled:e.canExecuteUnloadMacro,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t("div",e._g({},i),[t(cr,{attrs:{macro:e.unloadFilamentMacro,alias:e.$t("Panels.ExtruderControlPanel.UnloadFilament"),disabled:!e.canExecuteUnloadMacro||e.printerIsPrintingOnly,color:"#272727"}})],1)]}}],null,!1,3835858943)},[t("span",[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")])])],1):e._e(),e.loadFilamentMacro?t(Y,[t(ue,{attrs:{top:"",disabled:e.canExecuteLoadMacro,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t("div",e._g({},i),[t(cr,{attrs:{macro:e.loadFilamentMacro,alias:e.$t("Panels.ExtruderControlPanel.LoadFilament"),disabled:!e.canExecuteLoadMacro||e.printerIsPrintingOnly,color:"#272727"}})],1)]}}],null,!1,1294394980)},[t("span",[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")])])],1):e._e(),e.purgeFilamentMacro?t(Y,[t(ue,{attrs:{top:"",disabled:e.canExecutePurgeMacro,color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t("div",e._g({},i),[t(cr,{attrs:{macro:e.purgeFilamentMacro,alias:e.$t("Panels.ExtruderControlPanel.PurgeFilament"),disabled:!e.canExecutePurgeMacro||e.printerIsPrintingOnly,color:"#272727"}})],1)]}}],null,!1,2789275863)},[t("span",[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.ExtruderTempTooLow"))+" "+e._s(e.minExtrudeTemp)+" °C ")])])],1):e._e(),e.cleanNozzleMacro?t(Y,[t(cr,{attrs:{macro:e.cleanNozzleMacro,alias:e.$t("Panels.ExtruderControlPanel.CleanNozzle"),disabled:e.printerIsPrintingOnly,color:"#272727"}})],1):e._e()],1)],1):e._e(),t(K4)]},proxy:!0}],null,!1,40833120)},[e.showTools&&e.toolchangeMacros.length?t(G4):e._e(),e.showExtrusionFactor?[e.showTools?t(H):e._e(),t(M4)]:e._e(),e.showPressureAdvance?[e.showTools||e.showExtrusionFactor?t(H):e._e(),t(C4)]:e._e(),e.showFirmwareRetraction?[e.showTools||e.showExtrusionFactor||e.showPressureAdvance?t(H):e._e(),t(p4)]:e._e(),e.showExtruderControl?[e.showTools||e.showExtrusionFactor||e.showPressureAdvance||e.showFirmwareRetraction?t(H):e._e(),t(o4)]:e._e()],2):e._e()},a6=[];const b_={};var o6=E(sm,n6,a6,!1,l6,null,null,null);function l6(e){for(let s in b_)this[s]=b_[s]}const c6=function(){return o6.exports}(),Kf=(e,s)=>{s!==null&&typeof s=="object"&&Object.keys(s).forEach(t=>{const r=s[t];typeof r=="object"&&!Array.isArray(r)&&t in e&&r!==null&&e[t]!==null?Kf(e[t],r):y.set(e,t,r)})},Ut=(e,s)=>{if(e!=null&&s.length){const t=e==null?void 0:e.find(r=>r.isDirectory&&r.filename===s[0]);if(t){if(s.shift(),t.childrens&&s.length)return Ut(t.childrens,s);if(t.childrens)return t.childrens}return e}return null},Rt=(e,s)=>e.sort((t,r)=>{const i=t[s].toLowerCase(),n=r[s].toLowerCase();return i<n?-1:i>n?1:0}),$r=e=>e.charAt(0).toUpperCase()+e.slice(1),u6=e=>e.replace(/_/g," ").replace(/(?:^\w|[A-Z]|\b\w)/g,(s,t)=>t===0?s.toLowerCase():s.toUpperCase()).replace(/\s+/g,"");function Qf(e){return e=e.replace(/^!! /g,""),e=e.replace(/\n!! /g,"\n"),e=e.replace(/^\/\/ /g,""),e=e.replace(/\n\/\/ /g,"\n"),e=e.replace(/^echo:/g,""),e=e.replace(/^debug:/g,""),e=e.replace("\n// ","<br>"),e=e.replace(/\r\n|\r|\n/g,"<br>"),e.trim()}const at=e=>{let s="";return e=e.replace(/_/g," "),e.split(" ").forEach(t=>{s+=" "+t.charAt(0).toUpperCase()+t.slice(1)}),s=s.slice(1),s},Qe=e=>{let s=-1;const t=[" kB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB"];do e=e/1024,s++;while(e>1024);return Math.max(e,.1).toFixed(1)+t[s]},d6=e=>{let s=-1;const t=[" kHz"," MHz"," GHz"];do e=e/1e3,s++;while(e>1e3);return Math.max(e,.1).toFixed()+t[s]},qs=(e,s=!0)=>{if(!e)return"--";const t=[];if(s){const a=Math.floor(e/86400);a&&(e%=3600*24,t.push("".concat(a,"d")))}const r=Math.floor(e/3600);e%=3600,r&&t.push("".concat(r,"h"));const i=Math.floor(e/60);i&&t.push("".concat(i,"m"));const n=e%60;return n&&t.push("".concat(n.toFixed(0),"s")),t.join(" ")},eg=(e,s,t)=>{const r=s.length?s[0]:"filename",i=t[0];return e!==null&&(e.sort(function(n,a){if(n[r]===a[r])return 0;if(n[r]===null||n[r]===void 0)return-1;if(a[r]===null||a[r]===void 0)return 1;if(n[r].constructor===String&&a[r].constructor===String)return n[r].localeCompare(a[r],void 0,{sensivity:"base"});if(n[r]instanceof Array&&a[r]instanceof Array){const o=n[r].length?n.filament.reduce((c,u)=>c+u):0,l=a[r].length?a.filament.reduce((c,u)=>c+u):0;return o-l}return n[r]-a[r]}),i&&e.reverse(),e.sort((n,a)=>n.isDirectory===a.isDirectory?0:n.isDirectory?-1:1)),e!=null?e:[]};function h6(e,s){var i,n;const t=Math.min((i=e==null?void 0:e.length)!=null?i:Number.MAX_VALUE,(n=s==null?void 0:s.length)!=null?n:Number.MAX_VALUE);let r=0;for(;r<t&&!(e.charCodeAt(r)^s.charCodeAt(r));)r+=1;return e.substr(0,r)}function m6(e){var a,o,l;const s=/{%?.*?params\.([A-Za-z_0-9]+)(?:\|(int|string|double))?(?:\|default\('?"?(.*?)"?'?\))?(?:\|(int|string))?.*?%?}/;let t=s.exec(e.gcode),r=e.gcode,i=null;for(;t;){i===null&&(i={});const c=t[1],u=(o=(a=t[2])!=null?a:t[4])!=null?o:null,d=(l=t[3])!=null?l:null;i["".concat(c)]={type:u,default:d},r=r.replace(t[0],""),t=s.exec(r)}const n=/{%?.*?if.*?'([A-Za-z_0-9]+)' (?:not )?in params.*?%?}/;for(t=n.exec(e.gcode),r=e.gcode;t;){i===null&&(i={});const c=t[1];"".concat(c)in i||(i["".concat(c)]={type:null,default:null}),r=r.replace(t[0],""),t=n.exec(r)}return i}function cm(e){e.preventDefault(),e.returnValue=""}function p6(e){if(navigator.clipboard){navigator.clipboard.writeText(e);return}const s=document.createElement("textarea");let t=document.getElementById("devices-dialog");t||(t=document.body),s.value=e,s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.zIndex="100000",s.style.opacity="0",t.appendChild(s),s.focus(),s.select();try{document.execCommand("copy")}catch(r){console.error("Unable to copy to clipboard",r)}s.remove()}function D$(e,s){const t=parseInt(e.split("x")[0]),r=parseInt(s.split("x")[0]);return t-r}function Ie(e){return e.split("/").map(s=>encodeURIComponent(s)).join("/")}var f6=Object.defineProperty,g6=Object.getOwnPropertyDescriptor,_6=(e,s,t,r)=>{for(var i=r>1?void 0:r?g6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&f6(s,t,i),i};let Zs=class extends O{get macrogroups(){var e;return(e=this.$store.getters["gui/macros/getAllMacrogroups"])!=null?e:[]}get webcams(){var e;return(e=this.$store.getters["gui/webcams/getWebcams"])!=null?e:[]}getPanelName(e){var s;if(e.startsWith("macrogroup_")){const t=(s=e.split("_")[1])!=null?s:"",r=this.macrogroups.find(i=>i.id===t);return r?r.name:"Macrogroup"}if(e.includes("-")){let t="";return e.split("-").forEach(i=>{t+=$r(i)}),this.$t("Panels.".concat(t,"Panel.Headline"))}return this.$t("Panels.".concat($r(e),"Panel.Headline"))}convertPanelnameToIcon(e){if(e.startsWith("macrogroup_"))return Ca;switch(e){case"webcam":return Mn;case"zoffset":return PM;case"toolhead-control":return Hf;case"macros":return Ca;case"miscellaneous":return Mf;case"temperature":return c$;case"miniconsole":return _o;case"machine-settings":return jC;case"extruder-control":return Qs;case"spoolman":return Er;case"mmu":return YC;default:return It}}};Zs=_6([w],Zs);var v6=Object.defineProperty,b6=Object.getOwnPropertyDescriptor,tg=(e,s,t,r)=>{for(var i=r>1?void 0:r?b6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&v6(s,t,i),i};let xa=class extends M(O){get colorMainsail(){return"200,200,200"}get colorMoonraker(){return this.moonraker?"200,200,200":"115,115,115"}get colorKlipper(){return this.klipper?"200,200,200":"115,115,115"}};tg([x({default:!1})],xa.prototype,"moonraker",2);tg([x({default:!1})],xa.prototype,"klipper",2);xa=tg([w],xa);var y6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{width:"100%",height:"100%",viewBox:"0 0 430 70",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[t("g",{attrs:{id:"Mainsail",transform:"matrix(1,0,0,1,10,0)"}},[t("g",{attrs:{id:"Mainsail_text",transform:"matrix(1,0,0,1,-54.2745,6.1424)"}},[t("text",{style:"font-family:Roboto;font-size:16px;fill:rgb("+e.colorMainsail+");",attrs:{x:"47.429px",y:"60.749px"}},[e._v(" Mainsail ")])]),t("g",{attrs:{id:"Mainsail_icon",transform:"matrix(1.00478,0,0,1.00478,-1.35436,-0.18202)"}},[t("g",{attrs:{transform:"matrix(0.101469,0,0,0.101469,1.34792,1.1764)"}},[t("path",{style:"fill:rgb("+e.colorMainsail+");fill-rule:nonzero;",attrs:{d:"M286.718,107.235L99.735,392.115L0,392.01L258.225,0C264.135,36.795 273.9,73.26 286.718,107.235"}})]),t("g",{attrs:{transform:"matrix(0.101469,0,0,0.101469,1.34792,1.1764)"}},[t("path",{style:"fill:rgb("+e.colorMainsail+");fill-rule:nonzero;",attrs:{d:"M309.96,160.155L156.375,392.19L256.08,392.332L357.353,237.585C339.518,213.218 323.648,187.328 309.96,160.155"}})]),t("g",{attrs:{transform:"matrix(0.101469,0,0,0.101469,1.34792,1.1764)"}},[t("path",{style:"fill:rgb("+e.colorMainsail+");fill-rule:nonzero;",attrs:{d:"M449.535,335.768L412.597,392.332L312.75,392.115L388.95,276.862C407.61,298.012 427.868,317.707 449.535,335.767L449.535,335.768Z"}})])])]),t("g",{attrs:{id:"Mainsail_Moonraker",transform:"matrix(1,0,0,1,1.49628,0)"}},[t("g",{attrs:{id:"arrow_left1","serif:id":"arrow_left",transform:"matrix(0.687874,0,0,0.721154,20.3568,-15.8811)"}},[t("path",{style:"fill:rgb("+e.colorMoonraker+")",attrs:{d:"M93.918,56.626L93.918,60.724L73.299,52.528L93.918,44.333L93.918,48.431L118.741,48.431L118.741,56.626L93.918,56.626Z"}})]),t("g",{attrs:{id:"arrow_right1","serif:id":"arrow_right",transform:"matrix(-0.687874,-8.42403e-17,8.83159e-17,-0.721154,217.125,59.8811)"}},[t("path",{style:"fill:rgb("+e.colorMoonraker+")",attrs:{d:"M93.918,56.626L93.918,60.724L73.299,52.528L93.918,44.333L93.918,48.431L118.741,48.431L118.741,56.626L93.918,56.626Z"}})]),e.moonraker?t("g",{attrs:{id:"success1","serif:id":"success",transform:"matrix(1.1,0,0,1.1,105.541,9.8)"}},[t("path",{staticStyle:{fill:"rgb(38, 203, 124)","fill-rule":"nonzero"},attrs:{d:"M20,12C20,16.389 16.389,20 12,20C7.611,20 4,16.389 4,12C4,7.611 7.611,4 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2C6.514,2 2,6.514 2,12C2,17.486 6.514,22 12,22C17.486,22 22,17.486 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}})]):t("g",{attrs:{id:"alert1","serif:id":"alert",transform:"matrix(1.1,0,0,1.1,105.541,9.8)"}},[t("path",{staticStyle:{fill:"rgb(245, 124, 5)","fill-rule":"nonzero"},attrs:{d:"M11,15L13,15L13,17L11,17L11,15M11,7L13,7L13,13L11,13L11,7M12,2C6.47,2 2,6.5 2,12C2,17.486 6.514,22 12,22C17.486,22 22,17.486 22,12C22,6.514 17.486,2 12,2M12,20C7.611,20 4,16.389 4,12C4,7.611 7.611,4 12,4C16.389,4 20,7.611 20,12C20,16.389 16.389,20 12,20Z"}})])]),t("g",{attrs:{id:"Moonraker",transform:"matrix(1,0,0,1,10,0)"}},[t("g",{attrs:{id:"Moonraker_text",transform:"matrix(1,0,0,1,120.368,6.1424)"}},[t("text",{style:"fill:rgb("+e.colorMoonraker+");font-family:Roboto;font-size:16px;",attrs:{x:"45.429px",y:"60.749px"}},[e._v(" Moonraker ")])]),t("g",{attrs:{id:"Moonraker_icon",transform:"matrix(2,0,0,2,181,-5)"}},[t("path",{style:"fill:rgb("+e.colorMoonraker+");fill-rule:nonzero;",attrs:{d:"M13,19L14,19C14.549,19 15,19.451 15,20L22,20L22,22L15,22C15,22.549 14.549,23 14,23L10,23C9.451,23 9,22.549 9,22L2,22L2,20L9,20C9,19.451 9.451,19 10,19L11,19L11,17L4,17C3.451,17 3,16.549 3,16L3,12C3,11.451 3.451,11 4,11L20,11C20.549,11 21,11.451 21,12L21,16C21,16.549 20.549,17 20,17L13,17L13,19M4,3L20,3C20.549,3 21,3.451 21,4L21,8C21,8.549 20.549,9 20,9L4,9C3.451,9 3,8.549 3,8L3,4C3,3.451 3.451,3 4,3M9,7L10,7L10,5L9,5L9,7M9,15L10,15L10,13L9,13L9,15M5,5L5,7L7,7L7,5L5,5M5,13L5,15L7,15L7,13L5,13Z"}})])]),t("g",{attrs:{id:"Moonraker_Klipper",transform:"matrix(1,0,0,1,194.593,0)"}},[t("g",{attrs:{id:"arrow_left",transform:"matrix(0.687874,0,0,0.721154,20.3568,-15.8811)"}},[t("path",{staticStyle:{fill:"rgb(115, 115, 115)"},attrs:{d:"M93.918,56.626L93.918,60.724L73.299,52.528L93.918,44.333L93.918,48.431L118.741,48.431L118.741,56.626L93.918,56.626Z"}})]),t("g",{attrs:{id:"arrow_right",transform:"matrix(-0.687874,-8.42403e-17,8.83159e-17,-0.721154,217.125,59.8811)"}},[t("path",{staticStyle:{fill:"rgb(115, 115, 115)"},attrs:{d:"M93.918,56.626L93.918,60.724L73.299,52.528L93.918,44.333L93.918,48.431L118.741,48.431L118.741,56.626L93.918,56.626Z"}})]),e.moonraker?[e.klipper?t("g",{attrs:{id:"success",transform:"matrix(1.1,0,0,1.1,105.541,9.8)"}},[t("path",{staticStyle:{fill:"rgb(38, 203, 124)","fill-rule":"nonzero"},attrs:{d:"M20,12C20,16.389 16.389,20 12,20C7.611,20 4,16.389 4,12C4,7.611 7.611,4 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2C6.514,2 2,6.514 2,12C2,17.486 6.514,22 12,22C17.486,22 22,17.486 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}})]):t("g",{attrs:{id:"alert",transform:"matrix(1.1,0,0,1.1,105.541,9.8)"}},[t("path",{staticStyle:{fill:"rgb(245, 124, 5)","fill-rule":"nonzero"},attrs:{d:"M11,15L13,15L13,17L11,17L11,15M11,7L13,7L13,13L11,13L11,7M12,2C6.47,2 2,6.5 2,12C2,17.486 6.514,22 12,22C17.486,22 22,17.486 22,12C22,6.514 17.486,2 12,2M12,20C7.611,20 4,16.389 4,12C4,7.611 7.611,4 12,4C16.389,4 20,7.611 20,12C20,16.389 16.389,20 12,20Z"}})])]:[t("g",{attrs:{id:"unknown",transform:"matrix(1.1,0,0,1.1,105.541,9.8)"}},[t("path",{staticStyle:{fill:"rgb(115, 115, 115)","fill-rule":"nonzero"},attrs:{d:"M11,18L13,18L13,16L11,16L11,18M12,2C6.514,2 2,6.514 2,12C2,17.486 6.514,22 12,22C17.486,22 22,17.486 22,12C22,6.514 17.486,2 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6C9.806,6 8,7.806 8,10L10,10C10,8.903 10.903,8 12,8C13.097,8 14,8.903 14,10C14,12 11,11.75 11,15L13,15C13,12.75 16,12.5 16,10C16,7.806 14.194,6 12,6Z"}})])]],2),t("g",{attrs:{id:"Klipper",transform:"matrix(1,0,0,1,10,0)"}},[t("g",{attrs:{id:"Klipper_text",transform:"matrix(1,0,0,1,317.036,6.1424)"}},[t("text",{style:"font-family:Roboto;font-size:16px;fill:rgb("+e.colorKlipper+");",attrs:{x:"48.429px",y:"60.749px"}},[e._v(" Klipper ")])]),t("g",{attrs:{id:"Klipper_icon",transform:"matrix(2,0,0,2,366,-3)"}},[t("path",{style:"fill:rgb("+e.colorKlipper+");fill-rule:nonzero;",attrs:{d:"M19,6C19.549,6 20,5.549 20,5C20,4.451 19.549,4 19,4C18.451,4 18,4.451 18,5C18,5.549 18.451,6 19,6M19,2C20.646,2 22,3.354 22,5L22,11L18,11L18,7L6,7L6,11L2,11L2,5C2,3.354 3.354,2 5,2L19,2M18,18.25C18,18.63 17.79,18.96 17.47,19.13L12.57,21.82C12.4,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L6.53,19.13C6.21,18.96 6,18.63 6,18.25L6,13C6,12.62 6.21,12.29 6.53,12.12L11.43,9.68C11.59,9.56 11.79,9.5 12,9.5C12.21,9.5 12.4,9.56 12.57,9.68L17.47,12.12C17.79,12.29 18,12.62 18,13L18,18.25M12,11.65L9.04,13L12,14.6L14.96,13L12,11.65M8,17.66L11,19.29L11,16.33L8,14.71L8,17.66M16,17.66L16,14.71L13,16.33L13,19.29L16,17.66Z"}})])])])},C6=[];const y_={};var $6=E(xa,y6,C6,!1,x6,null,null,null);function x6(e){for(let s in y_)this[s]=y_[s]}const td=function(){return $6.exports}();var S6=Object.defineProperty,w6=Object.getOwnPropertyDescriptor,P6=(e,s,t,r)=>{for(var i=r>1?void 0:r?w6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&S6(s,t,i),i};let um=class extends M(O){constructor(){super(...arguments),this.mdiPrinter3d=xo,this.mdiRestart=er,this.mdiDownload=Ef,this.mdiPower=e$}get klippy_message(){var e;return(e=this.$store.state.server.klippy_message)!=null?e:null}get messageType(){switch(this.klipperState){case"startup":return{color:"info",icon:W5};case"shutdown":return{color:"warning",icon:ba};case"error":return{color:"error",icon:ba};case"disconnected":return{color:"",icon:Pf};default:return{color:"",icon:P5}}}get buttonClasses(){return[this.messageType.color+"--text","my-1","w-100"]}get serviceReportsKlipper(){return"".concat(this.$t("Panels.KlippyStatePanel.ServiceReports",{service:"Klipper"}),": ").concat(this.klipperState.toUpperCase())}get serviceReportsMoonraker(){return"".concat(this.$t("Panels.KlippyStatePanel.ServiceReports",{service:"Moonraker"}),": ").concat(this.klipperState.toUpperCase())}restart(){this.$socket.emit("printer.restart",{},{loading:"restart"})}firmwareRestart(){this.$socket.emit("printer.firmware_restart",{},{loading:"firmwareRestart"})}downloadLog(e){e.preventDefault();let s="";"href"in e.target.attributes&&(s=e.target.attributes.href.value),"href"in e.target.parentElement.attributes&&(s=e.target.parentElement.attributes.href.value),window.open(s)}powerOn(){this.$socket.emit("machine.device_power.post_device",{device:this.printerPowerDevice,action:"on"},{action:"server/power/responseToggle"})}};um=P6([w({components:{Panel:B,ConnectionStatus:td}})],um);var T6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperState!=="ready"&&e.socketIsConnected?t("div",[e.klippyIsConnected?t(et,{staticClass:"mb-0 mb-6",attrs:{color:e.messageType.color,dense:"",text:"",border:"left"}},[t("p",{staticClass:"font-weight-medium d-flex align-center"},[t(_,{staticClass:"pr-2",attrs:{color:e.messageType.color}},[e._v(e._s(e.messageType.icon))]),e._v(" "+e._s(e.serviceReportsKlipper)+" ")],1),e.klippy_message!==null?t("div",[t("pre",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.klippy_message.trim()))]),t(H,{staticClass:"mt-2 pb-3"}),t(C,[t(v,[t(g,{class:e.buttonClasses,attrs:{small:"",outlined:"",text:""},on:{click:e.restart}},[t(_,{staticClass:"mr-sm-2"},[e._v(e._s(e.mdiRestart))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.Restart"))+" ")],1),t(g,{class:e.buttonClasses,attrs:{small:"",outlined:"",text:""},on:{click:e.firmwareRestart}},[t(_,{staticClass:"mr-sm-2"},[e._v(e._s(e.mdiRestart))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.FirmwareRestart"))+" ")],1)],1),t(v,[t(g,{class:e.buttonClasses,attrs:{href:e.apiUrl+"/server/files/klippy.log",small:"",outlined:"",text:""},on:{click:e.downloadLog}},[t(_,{staticClass:"mr-2"},[e._v(e._s(e.mdiDownload))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.KlipperLog"))+" ")],1),t(g,{class:e.buttonClasses,attrs:{href:e.apiUrl+"/server/files/moonraker.log",small:"",outlined:"",text:""},on:{click:e.downloadLog}},[t(_,{staticClass:"mr-2"},[e._v(e._s(e.mdiDownload))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.MoonrakerLog"))+" ")],1)],1)],1)],1):t(Z,{staticClass:"text-center py-3"},[t(dt,{attrs:{indeterminate:"",color:e.messageType.color}})],1)],1):e.isPrinterPowerOff?t(et,{staticClass:"mb-6",attrs:{dense:"",text:"",border:"left"}},[t("p",{staticClass:"font-weight-medium d-flex align-center"},[t(_,{staticClass:"pr-2"},[e._v(e._s(e.messageType.icon))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.PrinterSwitchedOff"))+" ")],1),t("p",[e._v(e._s(e.$t("Panels.KlippyStatePanel.PrinterSwitchedOffDescription")))]),t(C,[t(v,{staticClass:"text-center"},[t(g,{class:"".concat(e.messageType.color,"--text my-1"),attrs:{small:"",outlined:"",text:""},on:{click:e.powerOn}},[t(_,{staticClass:"mr-sm-2"},[e._v(e._s(e.mdiPower))]),e._v(" "+e._s(e.$t("Panels.KlippyStatePanel.PowerOn"))+" ")],1)],1)],1)],1):e.klipperState==="disconnected"?t(et,{staticClass:"mb-6",attrs:{dense:"",text:"",border:"left"}},[t("p",{staticClass:"font-weight-medium d-flex align-center"},[t(_,{staticClass:"pr-2"},[e._v(e._s(e.messageType.icon))]),e._v(" "+e._s(e.serviceReportsMoonraker)+" ")],1),t(td,{attrs:{moonraker:!0,klipper:!1}}),t("p",{staticClass:"mt-2 mb-0 text-center"},[e._v(e._s(e.$t("Panels.KlippyStatePanel.MoonrakerCannotConnect")))]),t("p",{staticClass:"mb-0 text-center"},[e._v(e._s(e.$t("Panels.KlippyStatePanel.CheckKlippyAndUdsAddress")))])],1):e._e()],1):e._e()},D6=[];const C_={};var M6=E(um,T6,D6,!1,E6,null,null,null);function E6(e){for(let s in C_)this[s]=C_[s]}const wo=function(){return M6.exports}();var O6=Object.defineProperty,L6=Object.getOwnPropertyDescriptor,M$=(e,s,t,r)=>{for(var i=r>1?void 0:r?L6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&O6(s,t,i),i};let ql=class extends M(O){constructor(){super(...arguments),this.mdiEngine=jC}get toolhead(){var s,t;return(t=(s=this.$store.state.printer)==null?void 0:s.toolhead)!=null?t:{}}get configPrinter(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer)==null?void 0:s.configfile)==null?void 0:t.settings)==null?void 0:r.printer)!=null?i:{}}get velocity(){var s;return Math.trunc((s=this.toolhead.max_velocity)!=null?s:300)}get accel(){var s;return Math.trunc((s=this.toolhead.max_accel)!=null?s:3e3)}get accelToDecel(){var s;return Math.trunc((s=this.toolhead.max_accel_to_decel)!=null?s:this.accel/2)}get minimumCruiseRatio(){var t;const s=(t=this.toolhead.minimum_cruise_ratio)!=null?t:null;return s===null?null:Math.round(s*100)}get squareCornerVelocity(){var s;return Math.floor(((s=this.toolhead.square_corner_velocity)!=null?s:8)*10)/10}get defaultVelocity(){var s;return Math.trunc((s=this.configPrinter.max_velocity)!=null?s:300)}get defaultAccel(){var s;return Math.trunc((s=this.configPrinter.max_accel)!=null?s:3e3)}get defaultAccelToDecel(){var s;return Math.trunc((s=this.configPrinter.max_accel_to_decel)!=null?s:1500)}get defaultMinimumCruiseRatio(){var t;const s=(t=this.configPrinter.minimum_cruise_ratio)!=null?t:.5;return Math.round(s*100)}get defaultSquareCornerVelocity(){var t;const s=(t=this.configPrinter.square_corner_velocity)!=null?t:8;return Math.floor(s*10)/10}sendCruiseRatioCmd(s){s.value=s.value/100,this.sendCmd(s)}sendCmd(s){const t="SET_VELOCITY_LIMIT ".concat(s.name,"=").concat(s.value);this.$store.dispatch("server/addEvent",{message:t,type:"command"}),this.$socket.emit("printer.gcode.script",{script:t})}};M$([Ye(500)],ql.prototype,"sendCmd",1);ql=M$([w({components:{NumberInput:He,Panel:B,Responsive:st}})],ql);var F6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperReadyForGui?t(B,{attrs:{icon:e.mdiEngine,title:e.$t("Panels.MachineSettingsPanel.Headline"),collapsible:!0,"card-class":"machine-settings-panel"}},[t(st,{attrs:{breakpoints:{small:function(r){return r.width<375},medium:function(r){return r.width>=375}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(Z,{staticClass:"pt-5"},[t(C,[t(v,{class:{"col-12":i.is.small,"col-6":i.is.medium}},[t(He,{attrs:{label:e.$t("Panels.MachineSettingsPanel.MotionSettings.Velocity"),param:"VELOCITY",target:e.velocity,"default-value":e.defaultVelocity,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":5,step:1,min:1,max:null,dec:0,unit:"mm/s"},on:{submit:e.sendCmd}})],1),t(v,{class:{"col-12":i.is.small,"col-6":i.is.medium}},[t(He,{attrs:{label:e.$t("Panels.MachineSettingsPanel.MotionSettings.SquareCornerVelocity"),param:"SQUARE_CORNER_VELOCITY",target:e.squareCornerVelocity,"default-value":e.defaultSquareCornerVelocity,"output-error-msg":!0,"has-spinner":!0,step:.1,min:.1,max:null,dec:1,unit:"mm/s"},on:{submit:e.sendCmd}})],1)],1),t(C,[t(v,{class:{"col-12":i.is.small,"col-6":i.is.medium}},[t(He,{attrs:{label:e.$t("Panels.MachineSettingsPanel.MotionSettings.Acceleration"),param:"ACCEL",target:e.accel,"default-value":e.defaultAccel,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":100,step:1,min:1,max:null,dec:0,unit:"mm/s²"},on:{submit:e.sendCmd}})],1),t(v,{class:{"col-12":i.is.small,"col-6":i.is.medium}},[e.minimumCruiseRatio===null?t(He,{attrs:{label:e.$t("Panels.MachineSettingsPanel.MotionSettings.MaxAccelToDecel"),param:"ACCEL_TO_DECEL",target:e.accelToDecel,"default-value":e.defaultAccelToDecel,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":100,step:1,min:1,max:null,dec:0,unit:"mm/s²"},on:{submit:e.sendCmd}}):t(He,{attrs:{label:e.$t("Panels.MachineSettingsPanel.MotionSettings.MinimumCruiseRatio"),param:"MINIMUM_CRUISE_RATIO",target:e.minimumCruiseRatio,"default-value":e.defaultMinimumCruiseRatio,"output-error-msg":!0,"has-spinner":!0,"spinner-factor":5,step:1,min:0,max:99,dec:0,unit:"%"},on:{submit:e.sendCruiseRatioCmd}})],1)],1)],1)]}}],null,!1,1115546932)})],1):e._e()},A6=[];const $_={};var k6=E(ql,F6,A6,!1,R6,null,null,null);function R6(e){for(let s in $_)this[s]=$_[s]}const H6=function(){return k6.exports}();var j6=Object.defineProperty,I6=Object.getOwnPropertyDescriptor,E$=(e,s,t,r)=>{for(var i=r>1?void 0:r?I6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&j6(s,t,i),i};let Zl=class extends M(O){constructor(){super(...arguments),this.mdiCodeTags=Ca}get macrogroup(){return this.$store.getters["gui/macros/getMacrogroup"](this.panelId)}get allMacros(){var s;return(s=this.$store.getters["printer/getMacros"])!=null?s:[]}get macros(){var t,r;let s=(r=(t=this.macrogroup)==null?void 0:t.macros)!=null?r:[];return s=s.filter(i=>this.allMacros.find(n=>n.name.toLowerCase()===i.name.toLowerCase())?i.showInStandby&&["standby","cancelled","complete","error"].includes(this.printer_state)||i.showInPause&&this.printer_state==="paused"||i.showInPrinting&&this.printer_state==="printing":!1),s.sort((i,n)=>i.pos-n.pos)}get macrogroupStatus(){return this.macrogroup.showInStandby&&["standby","cancelled","complete","error"].includes(this.printer_state)||this.macrogroup.showInPause&&this.printer_state==="paused"||this.macrogroup.showInPrinting&&this.printer_state==="printing"}getColor(s){return s.color==="group"?this.macrogroup.color==="custom"?this.macrogroup.colorCustom:this.macrogroup.color:s.color}};E$([x({required:!0})],Zl.prototype,"panelId",2);Zl=E$([w({components:{MacroButton:cr,Panel:B}})],Zl);var N6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperReadyForGui&&e.macros.length>0&&e.macrogroupStatus?t(B,{attrs:{icon:e.mdiCodeTags,title:e.macrogroup.name,collapsible:!0,"card-class":"macrogroup_"+e.panelId+"_panel"}},[t(Z,{staticClass:"py-2"},[t(C,[t(v,{staticClass:"text-center"},e._l(e.macros,function(r,i){return t(cr,{key:"macroparam_"+i,staticClass:"mx-1 my-1",attrs:{macro:r,color:e.getColor(r)}})}),1)],1)],1)],1):e._e()},V6=[];const x_={};var U6=E(Zl,N6,V6,!1,B6,null,null,null);function B6(e){for(let s in x_)this[s]=x_[s]}const G6=function(){return U6.exports}();var W6=Object.defineProperty,z6=Object.getOwnPropertyDescriptor,q6=(e,s,t,r)=>{for(var i=r>1?void 0:r?z6(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&W6(s,t,i),i};let dm=class extends M(O){constructor(){super(...arguments),this.mdiCodeTags=Ca}get hiddenMacros(){var s,t,r;return((r=(t=(s=this.$store.state.gui)==null?void 0:s.macros)==null?void 0:t.hiddenMacros)!=null?r:[]).map(i=>i.toLowerCase())}get macros(){return this.$store.getters["printer/getMacros"].filter(t=>!this.hiddenMacros.includes(t.name.toLowerCase()))}};dm=q6([w({components:{MacroButton:cr,Panel:B}})],dm);var Z6=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperReadyForGui&&e.macros.length>0?t(B,{attrs:{icon:e.mdiCodeTags,title:e.$t("Panels.MacrosPanel.Headline"),collapsible:!0,"card-class":"macros-panel"}},[t(Z,{staticClass:"py-2"},[t(C,[t(v,{staticClass:"text-center"},e._l(e.macros,function(r,i){return t(cr,{key:"macro_"+i,staticClass:"mx-1 my-1",attrs:{macro:r,color:"primary"}})}),1)],1)],1)],1):e._e()},Y6=[];const S_={};var X6=E(dm,Z6,Y6,!1,J6,null,null,null);function J6(e){for(let s in S_)this[s]=S_[s]}const K6=function(){return X6.exports}();var Q6=Object.defineProperty,eL=Object.getOwnPropertyDescriptor,O$=(e,s,t,r)=>{for(var i=r>1?void 0:r?eL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Q6(s,t,i),i};let Yl=class extends M(O){get entryStyle(){var s;const e=["ma-0","flex-nowrap"];return e.push((s=this.$store.state.gui.console.entryStyle)!=null?s:"default"),["action","debug"].includes(this.event.type)&&e.push("text--disabled"),e}get entryFormatTime(){return this.formatTime(this.event.date.getTime(),!0)}get messageClass(){const e=["console-message"];return["action","debug"].includes(this.event.type)?e.push("text--disabled"):this.event.message.startsWith("!! ")?e.push("error--text"):e.push("text--primary"),e}get rawOutput(){var e;return(e=this.$store.state.gui.console.rawOutput)!=null?e:!1}commandClick(e){const s=e.target;if(s.localName==="a"&&s.className.indexOf("command")!==-1){const t=s.innerHTML.replace(/<br>/g,"\n");this.$emit("command-click",t)}}};O$([x({required:!0})],Yl.prototype,"event",2);Yl=O$([w],Yl);var tL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{class:e.entryStyle},[t(v,{staticClass:"col-auto pr-0 text--disabled console-time"},[e._v(e._s(e.entryFormatTime))]),e.rawOutput?t(v,{class:e.messageClass,staticStyle:{"min-width":"0"},domProps:{textContent:e._s(e.event.message)},on:{"!click":function(r){return e.commandClick.apply(null,arguments)}}}):t(v,{class:e.messageClass,staticStyle:{"min-width":"0"},domProps:{innerHTML:e._s(e.event.formatMessage)},on:{"!click":function(r){return e.commandClick.apply(null,arguments)}}})],1)},sL=[];const w_={};var rL=E(Yl,tL,sL,!1,iL,"1a32e3ab",null,null);function iL(e){for(let s in w_)this[s]=w_[s]}const L$=function(){return rL.exports}();var nL=Object.defineProperty,aL=Object.getOwnPropertyDescriptor,sg=(e,s,t,r)=>{for(var i=r>1?void 0:r?aL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&nL(s,t,i),i};let Sa=class extends y{commandClick(e){this.$emit("command-click",e)}};sg([x({required:!0})],Sa.prototype,"events",2);sg([x({required:!1,default:!1})],Sa.prototype,"isMini",2);Sa=sg([w({components:{ConsoleTableEntry:L$}})],Sa);var oL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{class:"consoleTable "+(e.isMini?"mini":"")},[e.events.length===0?[t(C,{staticClass:"pa-0 ma-0"},[t(v,{staticClass:"text-center py-3"},[e._v(e._s(e.$t("Console.Empty")))])],1)]:e._l(e.events,function(r,i){return t(L$,{key:i,staticClass:"consoleTableRow",attrs:{event:r},on:{"command-click":e.commandClick}})})],2)},lL=[];const P_={};var cL=E(Sa,oL,lL,!1,uL,null,null,null);function uL(e){for(let s in P_)this[s]=P_[s]}const sd=function(){return cL.exports}();var dL=Object.defineProperty,hL=Object.getOwnPropertyDescriptor,F$=(e,s,t,r)=>{for(var i=r>1?void 0:r?hL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&dL(s,t,i),i};let Xl=class extends M(O){get commands(){var e,s;return(s=(e=this.$store.state.printer.gcode)==null?void 0:e.commands)!=null?s:{}}get commandObject(){var e;return(e=this.commands[this.command])!=null?e:{}}get description(){var e;return(e=this.commandObject.help)!=null?e:null}get twoLine(){return this.description!==null}onCommand(){this.$emit("click-on-command",this.command)}};F$([x({required:!0,type:String})],Xl.prototype,"command",2);Xl=F$([w],Xl);var mL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Y,{staticClass:"px-0",attrs:{"two-line":e.twoLine}},[t(ot,{staticClass:"px-0"},[t(Ne,{staticClass:"primary--text font-weight-bold cursor-pointer",on:{click:e.onCommand}},[e._v(" "+e._s(e.command)+" ")]),e.description?t(zs,{staticClass:"text-wrap"},[e._v(e._s(e.description))]):e._e()],1)],1)},pL=[];const T_={};var fL=E(Xl,mL,pL,!1,gL,null,null,null);function gL(e){for(let s in T_)this[s]=T_[s]}const A$=function(){return fL.exports}();var _L=Object.defineProperty,vL=Object.getOwnPropertyDescriptor,rd=(e,s,t,r)=>{for(var i=r>1?void 0:r?vL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_L(s,t,i),i};let Xi=class extends M(O){constructor(){super(...arguments),this.cmdListSearch="",this.isOpen=!1,this.mdiHelp=jf,this.mdiCloseThick=pe}get helplist(){var e,s;return Object.keys((s=(e=this.$store.state.printer.gcode)==null?void 0:e.commands)!=null?s:{})}get helplistFiltered(){return this.helplist.filter(e=>e.includes(this.cmdListSearch.toUpperCase())).sort((e,s)=>e.localeCompare(s))}onCommand(e){this.$emit("onCommand",e),this.isOpen=!1}onIsOpen(e){e||(this.cmdListSearch="")}};rd([x({required:!1,default:!1})],Xi.prototype,"isMini",2);rd([x({required:!1,default:!1})],Xi.prototype,"inToolbar",2);rd([ce("isOpen")],Xi.prototype,"onIsOpen",1);Xi=rd([w({components:{CommandHelpModalEntry:A$,Panel:B}})],Xi);var bL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{transition:"dialog-bottom-transition","max-width":"600",fullscreen:e.isMobile},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.inToolbar?[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiHelp))])],1)]:[t(g,e._g(e._b({staticClass:"gcode-command-btn px-2 minwidth-0",attrs:{color:"lightgray",small:e.isMini}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiHelp))])],1)]]}},{key:"default",fn:function(){return[t(B,{attrs:{title:e.$t("Console.CommandList"),icon:e.mdiHelp,"card-class":"command-help-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.isOpen=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(ft,[t(C,[t(v,[t(re,{attrs:{label:e.$t("Console.Search"),outlined:"","hide-details":"",clearable:"",dense:""},model:{value:e.cmdListSearch,callback:function(r){e.cmdListSearch=r},expression:"cmdListSearch"}})],1)],1)],1),t(H),t("overlay-scrollbars",{staticClass:"command-help-content",class:e.isMobile?"mobileHeight":"height300"},[t(Z,{staticClass:"pt-0"},[t(Ee,e._l(e.helplistFiltered,function(r){return t(A$,{key:r,attrs:{command:r},on:{"click-on-command":e.onCommand}})}),1)],1)],1)],1)]},proxy:!0}]),model:{value:e.isOpen,callback:function(r){e.isOpen=r},expression:"isOpen"}})},yL=[];const D_={};var CL=E(Xi,bL,yL,!1,$L,"1d773f53",null,null);function $L(e){for(let s in D_)this[s]=D_[s]}const id=function(){return CL.exports}();var xL=Object.defineProperty,SL=Object.getOwnPropertyDescriptor,wL=(e,s,t,r)=>{for(var i=r>1?void 0:r?SL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xL(s,t,i),i};let wa=class extends y{get helplist(){var t,r,i;const e=(r=(t=this.$store.state.printer.gcode)==null?void 0:t.commands)!=null?r:{},s=[];for(const[n,a]of Object.entries(e))s.push({command:n,help:(i=a.help)!=null?i:""});return s}get consoleDirection(){var e;return(e=this.$store.state.gui.console.direction)!=null?e:"table"}get hideWaitTemperatures(){return this.$store.state.gui.console.hideWaitTemperatures}set hideWaitTemperatures(e){this.$store.dispatch("gui/saveSetting",{name:"console.hideWaitTemperatures",value:e})}get hideTlCommands(){return this.$store.state.gui.console.hideTlCommands}set hideTlCommands(e){this.$store.dispatch("gui/saveSetting",{name:"console.hideTlCommands",value:e})}get customFilters(){var e;return(e=this.$store.state.gui.console.consolefilters)!=null?e:{}}get autoscroll(){var e;return(e=this.$store.state.gui.console.autoscroll)!=null?e:!0}set autoscroll(e){this.$store.dispatch("gui/saveSetting",{name:"console.autoscroll",value:e})}get rawOutput(){var e;return(e=this.$store.state.gui.console.rawOutput)!=null?e:!1}set rawOutput(e){this.$store.dispatch("gui/saveSetting",{name:"console.rawOutput",value:e})}get lastCommands(){var e;return(e=this.$store.state.gui.gcodehistory.entries)!=null?e:[]}toggleFilter(e,s){this.$store.dispatch("gui/console/filterUpdate",{id:e,values:s})}clearConsole(){this.$store.dispatch("gui/console/clear")}};wa=wL([w],wa);var PL=Object.defineProperty,TL=Object.getOwnPropertyDescriptor,Po=(e,s,t,r)=>{for(var i=r>1?void 0:r?TL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&PL(s,t,i),i};let si=class extends M(O,wa){constructor(){super(...arguments),this.mdiTrashCan=h$,this.mdiConsoleLine=_o,this.mdiCog=Yt}get consoleHeight(){var s;return(s=this.$store.state.gui.console.height)!=null?s:300}get events(){return this.$store.getters["server/getConsoleEvents"](this.consoleDirection==="table",250)}eventsChanged(){this.consoleDirection==="shell"&&this.autoscroll&&setTimeout(()=>{this.scrollToBottom()},50)}autoscrollChanged(s){s&&this.scrollToBottom()}commandClick(s){this.gcodeCommandField.setGcode(s)}mounted(){this.consoleDirection==="shell"&&this.scrollToBottom()}scrollToBottom(){this.$nextTick(()=>{this.scrollTo(100)})}scrollToTop(){this.$nextTick(()=>{this.scrollTo(0)})}scrollTo(s){if(!this.miniConsoleScroll)return;const t=this.miniConsoleScroll.osInstance();t==null||t.scroll({y:"".concat(s,"%")})}};Po([Fs()],si.prototype,"miniConsoleScroll",2);Po([Fs()],si.prototype,"gcodeCommandField",2);Po([ce("events")],si.prototype,"eventsChanged",1);Po([ce("autoscroll")],si.prototype,"autoscrollChanged",1);si=Po([w({components:{Panel:B,ConsoleTable:sd,CommandHelpModal:id}})],si);var DL=Object.defineProperty,ML=Object.getOwnPropertyDescriptor,k$=(e,s,t,r)=>{for(var i=r>1?void 0:r?ML(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&DL(s,t,i),i};let Jl=class extends M(O,wa){constructor(){super(...arguments),this.mdiSend=Z5,this.mdiChevronDoubleRight=UM,this.gcode="",this.lastCommandNumber=null,this.items=[]}get rows(){var e,s;return(s=(e=this.gcode)==null?void 0:e.split("\n").length)!=null?s:1}getCurrentLine(){const e=this.gcodeCommandField.$refs.input;return e.value.substring(0,e.selectionStart).split("\n").length}setGcode(e){this.gcode=e,this.$nextTick(()=>{this.gcodeCommandField.focus()})}onKeyUp(e){const s=this.getCurrentLine();this.rows>1&&s>1||(e.preventDefault(),this.lastCommandNumber===null&&this.lastCommands.length?(this.lastCommandNumber=this.lastCommands.length-1,this.gcode=this.lastCommands[this.lastCommandNumber]):this.lastCommandNumber&&this.lastCommandNumber>0&&(this.lastCommandNumber--,this.gcode=this.lastCommands[this.lastCommandNumber]))}onKeyDown(e){const s=this.getCurrentLine();this.rows>s||(e.preventDefault(),this.lastCommandNumber!==null&&(this.lastCommandNumber<this.lastCommands.length-1?(this.lastCommandNumber++,this.gcode=this.lastCommands[this.lastCommandNumber]):this.lastCommandNumber===this.lastCommands.length-1&&(this.lastCommandNumber=null,this.gcode="")))}doSend(e){if(e.shiftKey){this.gcode+="\n";return}this.gcode!==""&&(this.$store.dispatch("printer/sendGcode",this.gcode),this.$store.dispatch("gui/gcodehistory/addToHistory",this.gcode),this.gcode="",this.lastCommandNumber=null)}onAutocomplete(e){if(e.preventDefault(),!this.gcode.length)return;const t=this.gcodeCommandField.$refs.input.selectionStart,r=this.gcode.substring(0,t),i=r.lastIndexOf("\n"),a=r.substring(i+1).toUpperCase(),o=this.helplist.filter(u=>u.command.startsWith(a));if(o.length===0)return;if((o==null?void 0:o.length)===1){this.updateGcode(o[0].command,i,t);return}const l=o.reduce((u,d)=>h6(u,d.command),o[0].command);let c="";o.forEach(u=>c+='<a class="command font-weight-bold">'.concat(u.command,"</a>: ").concat(u.help,"<br />")),this.$store.dispatch("server/addEvent",{message:c,type:"autocomplete"}),this.updateGcode(l,i,t)}updateGcode(e,s,t){this.gcode=this.gcode.substring(0,s+1)+e+this.gcode.substring(t)}};k$([Fs()],Jl.prototype,"gcodeCommandField",2);Jl=k$([w],Jl);var EL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Dr,{ref:"gcodeCommandField",staticClass:"gcode-command-field",attrs:{items:e.items,label:e.$t("Panels.MiniconsolePanel.SendCode"),solo:"",autocomplete:"off","no-resize":"","auto-grow":"",rows:e.rows,"hide-details":"",outlined:"",dense:"","prepend-icon":e.isTouchDevice?e.mdiChevronDoubleRight:"","append-icon":e.mdiSend},on:{keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:(r.preventDefault(),r.stopPropagation(),e.doSend.apply(null,arguments))},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"up",38,r.key,["Up","ArrowUp"])?null:e.onKeyUp.apply(null,arguments)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"down",40,r.key,["Down","ArrowDown"])?null:e.onKeyDown.apply(null,arguments)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"tab",9,r.key,"Tab")?null:e.onAutocomplete.apply(null,arguments)}],"click:prepend":e.onAutocomplete,"click:append":e.doSend},model:{value:e.gcode,callback:function(r){e.gcode=r},expression:"gcode"}})},OL=[];const M_={};var LL=E(Jl,EL,OL,!1,FL,"35ab0c3d",null,null);function FL(e){for(let s in M_)this[s]=M_[s]}const R$=function(){return LL.exports}();var AL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.socketIsConnected&&e.klipperState!=="disconnected"?t(B,{attrs:{icon:e.mdiConsoleLine,title:e.$t("Panels.MiniconsolePanel.Headline"),collapsible:!0,"card-class":"miniconsole-panel","hide-buttons-on-collapse":!0},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.clearConsole}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiTrashCan))])],1),t(id,{attrs:{"in-toolbar":!0},on:{onCommand:function(r){return e.commandClick(r)}}}),t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1,title:e.$t("Panels.MiniconsolePanel.SetupConsole")},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}],null,!1,3210076863)},[t(Ee,[e.consoleDirection==="shell"?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.Autoscroll")},model:{value:e.autoscroll,callback:function(r){e.autoscroll=r},expression:"autoscroll"}})],1):e._e(),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.HideTemperatures")},model:{value:e.hideWaitTemperatures,callback:function(r){e.hideWaitTemperatures=r},expression:"hideWaitTemperatures"}})],1),e.moonrakerComponents.includes("timelapse")?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.HideTimelapse")},model:{value:e.hideTlCommands,callback:function(r){e.hideTlCommands=r},expression:"hideTlCommands"}})],1):e._e(),e._l(e.customFilters,function(r,i){return t(Y,{key:i,staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:r.name},on:{change:function(n){return e.toggleFilter(i,r)}},model:{value:r.bool,callback:function(n){e.$set(r,"bool",n)},expression:"filter.bool"}})],1)}),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.RawOutput")},model:{value:e.rawOutput,callback:function(r){e.rawOutput=r},expression:"rawOutput"}})],1)],2)],1)]},proxy:!0}],null,!1,4082619026)},[t("div",{staticClass:"d-flex flex-column"},[t(Z,{class:e.consoleDirection==="table"?"order-1":"order-2"},[t(R$,{ref:"gcodeCommandField"})],1),t(Z,{class:(e.consoleDirection==="table"?"order-2":"order-1")+" pa-0"},[t(C,[t(v,[t("overlay-scrollbars",{ref:"miniConsoleScroll",style:"height: "+e.consoleHeight+"px;",attrs:{options:{}}},[t(sd,{ref:"console",attrs:{events:e.events,"is-mini":!0},on:{"command-click":e.commandClick}}),t(H)],1)],1)],1)],1)],1)]):e._e()},kL=[];const E_={};var RL=E(si,AL,kL,!1,HL,"3ba75e80",null,null);function HL(e){for(let s in E_)this[s]=E_[s]}const jL=function(){return RL.exports}();var IL=Object.defineProperty,NL=Object.getOwnPropertyDescriptor,VL=(e,s,t,r)=>{for(var i=r>1?void 0:r?NL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&IL(s,t,i),i};let hm=class extends M(O){constructor(){super(...arguments),this.mdiAlertCircle=PC,this.mdiInformation=It}get existsPrinterConfig(){var s;return(s=this.$store.getters["printer/existPrinterConfig"])!=null?s:!1}get missingConfigs(){var s;return(s=this.$store.getters["printer/checkNecessaryConfig"])!=null?s:[]}get mainsailCfgExists(){var s;return(s=this.$store.getters["files/checkConfigFile"]("mainsail.cfg"))!=null?s:!1}};hm=VL([w({components:{Panel:B}})],hm);var UL=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperState==="ready"&&e.existsPrinterConfig&&e.missingConfigs.length?t(B,{attrs:{icon:e.mdiAlertCircle,title:e.$t("Panels.MinSettingsPanel.MissingConfiguration"),collapsible:!0,"card-class":"min-settings-panel","toolbar-color":"orange darken-2"}},[t(Z,[t(C,[t(v,[t("ul",{},e._l(e.missingConfigs,function(r){return t("li",{key:r,staticClass:"orange--text"},[t("code",[e._v(e._s(r))]),e._v(" "+e._s(e.$t("Panels.MinSettingsPanel.IsNotDefinedInConfig"))+" ")])}),0)])],1)],1),e.mainsailCfgExists?[t(H),t(Z,[t(C,[t(v,[t("p",{staticClass:"orange--text mb-0"},[e._v(e._s(e.$t("Panels.MinSettingsPanel.IncludeMainsailCfg")))])])],1)],1),t(H,{staticClass:"mb-2"})]:e._e(),t(ae,{staticClass:"justify-center pb-3"},[t(g,{attrs:{small:"",href:"https://docs.mainsail.xyz/setup/configuration",target:"_blank"}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiInformation))]),e._v(" "+e._s(e.$t("Panels.MinSettingsPanel.MoreInformation"))+" ")],1)],1)],2):e._e()},BL=[];const O_={};var GL=E(hm,UL,BL,!1,WL,"05f4d966",null,null);function WL(e){for(let s in O_)this[s]=O_[s]}const rg=function(){return GL.exports}();var zL=Object.defineProperty,qL=Object.getOwnPropertyDescriptor,Pt=(e,s,t,r)=>{for(var i=r>1?void 0:r?qL(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zL(s,t,i),i};let _t=class extends M(O){constructor(){super(...arguments),this.mdiFan=Ff,this.mdiToggleSwitch=Zf,this.mdiToggleSwitchOffOutline=d$,this.mdiLockOutline=Wu,this.mdiLockOpenVariantOutline=qC,this.mdiMinus=Vf,this.mdiPlus=Yu,this.mdiLightbulbOutline=Nf,this.mdiLightbulbOnOutline=WC,this.convertName=at,this.isLocked=!1,this.invalidChars=["e","E","+"],this.min=0,this.inputValue=0,this.sliderValue=0}get value(){return Math.round(this.target/this.max*100)/100}lockSlidersChanged(){this.isLocked=this.lockSliders&&this.isTouchDevice}startLockTimer(){let e=this.lockSlidersDelay;!this.isTouchDevice||!this.lockSliders||e<=0||(this.timeout=setTimeout(()=>this.isLocked=!0,e*1e3))}resetLockTimer(){clearTimeout(this.timeout)}get lockSliders(){return this.$store.state.gui.uiSettings.lockSlidersOnTouchDevices}get lockSlidersDelay(){return this.$store.state.gui.uiSettings.lockSlidersDelay}changeSliderValue(){this.value!==this.sliderValue&&(this.sliderValue<this.value&&this.sliderValue<this.off_below?this.sliderValue=0:this.sliderValue>this.value&&this.sliderValue<this.off_below&&(this.sliderValue=this.off_below),this.sendCmd(this.sliderValue))}sendCmd(e){if(this.value===e)return;e<this.min&&(e=0),e=e*this.multi;let s="SET_PIN PIN=".concat(this.name," VALUE=").concat(e.toFixed(2));this.type==="fan"&&(s="M106 S".concat(e.toFixed(0))),this.type==="fan_generic"&&(s="SET_FAN_SPEED FAN=".concat(this.name," SPEED=").concat(e)),this.type==="led"&&(s="SET_LED LED=".concat(this.name," ").concat(this.ledChannelName,"=").concat(e.toFixed(2)," SYNC=0 TRANSMIT=1")),s!==""&&(this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})),this.startLockTimer()}ledOff(){this.sendCmd(0)}ledOn(){this.sendCmd(1)}switchOutputPin(){const e=this.value?0:1,s="SET_PIN PIN=".concat(this.name," VALUE=").concat((e*this.multi).toFixed(2));this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})}decrement(){let e=this.value>0?Math.round((this.value-.01)*100)/100:0;this.value<this.off_below&&(e=0),this.sendCmd(e)}increment(){let e=this.value<1?Math.round((this.value+.01)*100)/100:1;this.value<this.off_below&&(e=this.off_below),this.sendCmd(e)}mounted(){this.sliderValue=this.value}valueChanged(e){this.sliderValue=e}sliderValueChanged(e){this.inputValue=Math.round(e*100)}checkInvalidChars(e){this.min>=0&&this.invalidChars.push("-"),this.invalidChars.includes(e.key)&&e.preventDefault()}get errors(){const e=[],s=this.inputValue/100;return this.inputValue.toString()===""&&e.push(this.$t("App.NumberInput.NoEmptyAllowedError")),s<this.min&&e.push(this.$t("App.NumberInput.GreaterOrEqualError",{min:this.min*100})),e}get disableFanAnimation(){var e;return(e=this.$store.state.gui.uiSettings.disableFanAnimation)!=null?e:!1}get fanClasses(){const e=["mr-2"];return!this.disableFanAnimation&&this.value>=this.off_below&&this.value>0&&e.push("icon-rotate"),e}get rpmClasses(){const e=[];return this.controllable?e.push(["mt-2"]):e.push(["mr-3","mt-1"]),this.rpm===0&&this.value>0&&e.push("red--text"),e}get ledChannelName(){return this.colorOrder==="R"?"RED":this.colorOrder==="G"?"GREEN":this.colorOrder==="B"?"BLUE":"WHITE"}submitInput(){if(this.errors.length>0)return;let e=this.inputValue/100;this.value===0&&e<this.off_below?e=this.off_below:this.value>=this.off_below&&e<this.off_below&&(e=0),this.sendCmd(e)}};Pt([x({type:Number,required:!0})],_t.prototype,"target",2);Pt([x({type:Number,default:1})],_t.prototype,"max",2);Pt([x({type:String,default:""})],_t.prototype,"name",2);Pt([x({type:String,default:""})],_t.prototype,"type",2);Pt([x({type:Boolean,default:!1})],_t.prototype,"controllable",2);Pt([x({type:Boolean,default:!1})],_t.prototype,"pwm",2);Pt([x({type:[Number,Boolean],default:!1})],_t.prototype,"rpm",2);Pt([x({type:Number,default:1})],_t.prototype,"multi",2);Pt([x({type:Number,default:0})],_t.prototype,"off_below",2);Pt([x({type:String,default:""})],_t.prototype,"colorOrder",2);Pt([ce("lockSliders",{immediate:!0})],_t.prototype,"lockSlidersChanged",1);Pt([Ye(500)],_t.prototype,"changeSliderValue",1);Pt([ce("value")],_t.prototype,"valueChanged",1);Pt([ce("sliderValue",{immediate:!0})],_t.prototype,"sliderValueChanged",1);_t=Pt([w],_t);var ZL=function(){var e,s,t=this,r=t.$createElement,i=t._self._c||r;return i(Pe,{staticClass:"px-0 py-2"},[i(C,[i(v,{class:t.pwm?"pb-1":"pb-3"},[i(ms,{staticClass:"_fan-slider-subheader"},[t.type==="led"&&t.target>0?i(_,{staticClass:"mr-2",attrs:{small:"","retain-focus-on-click":!0},on:{click:t.ledOff}},[t._v(" "+t._s(t.mdiLightbulbOnOutline)+" ")]):t.type==="led"?i(_,{staticClass:"mr-2",attrs:{small:"","retain-focus-on-click":!0},on:{click:t.ledOn}},[t._v(" "+t._s(t.mdiLightbulbOutline)+" ")]):t.type.includes("fan")?i(_,{class:t.fanClasses,attrs:{small:""}},[t._v(t._s(t.mdiFan))]):t._e(),i("span",[t._v(t._s(t.convertName(t.name)))]),i(ie),t.rpm!==null?i("small",{class:t.rpmClasses},[t._v(t._s(Math.round((e=t.rpm)!==null&&e!==void 0?e:0))+" RPM")]):t._e(),t.controllable?t._e():i("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(Math.round(parseFloat(t.value)*100))+" % ")]),t.controllable&&!t.pwm?i(_,{on:{click:t.switchOutputPin}},[t._v(" "+t._s(t.value?t.mdiToggleSwitch:t.mdiToggleSwitchOffOutline)+" ")]):t._e(),i("form",{on:{submit:function(n){return n.preventDefault(),t.submitInput.apply(null,arguments)}}},[t.controllable&&t.pwm?i(re,{staticClass:"_slider-input pt-1",attrs:{error:t.errors.length>0,suffix:"%",type:"number","hide-spin-buttons":"","hide-details":"",outlined:"",dense:""},on:{blur:function(n){t.inputValue=Math.round(parseFloat(t.sliderValue)*100)},focus:function(n){return n.target.select()},keydown:t.checkInvalidChars},model:{value:t.inputValue,callback:function(n){t.inputValue=n},expression:"inputValue"}}):t._e()],1)],1),t.controllable&&t.pwm?i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.errors.length>0,expression:"errors.length > 0"}],staticClass:"_error-msg d-flex justify-end"},[t._v(" "+t._s((s=t.errors[0])!==null&&s!==void 0?s:"")+" ")])]):t._e(),t.controllable&&t.pwm?i(Z,{staticClass:"py-0 pb-2 d-flex align-center"},[t.lockSliders&&t.isTouchDevice&&t.pwm?i(g,{staticClass:"_lock-button",attrs:{plain:"",small:"",icon:""},on:{click:function(n){t.isLocked=!t.isLocked}}},[i(_,{attrs:{small:"",color:t.isLocked?"red":""}},[t._v(" "+t._s(t.isLocked?t.mdiLockOutline:t.mdiLockOpenVariantOutline)+" ")])],1):t._e(),i(pr,{directives:[{name:"touch",rawName:"v-touch",value:{start:t.resetLockTimer},expression:"{ start: resetLockTimer }"}],attrs:{disabled:t.isLocked,min:0,max:1,step:.01,color:t.sliderValue<t.off_below&&t.sliderValue>0?"red":void 0,"hide-details":""},on:{change:t.changeSliderValue},scopedSlots:t._u([{key:"prepend",fn:function(){return[i(_,{attrs:{disabled:t.isLocked||t.sliderValue<=t.min},on:{click:t.decrement}},[t._v(" "+t._s(t.mdiMinus)+" ")])]},proxy:!0},{key:"append",fn:function(){return[i(_,{attrs:{disabled:t.isLocked||t.sliderValue>=1},on:{click:t.increment}},[t._v(t._s(t.mdiPlus))])]},proxy:!0}],null,!1,3774030646),model:{value:t.sliderValue,callback:function(n){t.sliderValue=n},expression:"sliderValue"}})],1):t._e()],1)],1)],1)},YL=[];const L_={};var XL=E(_t,ZL,YL,!1,JL,"2ac94a4b",null,null);function JL(e){for(let s in L_)this[s]=L_[s]}const mm=function(){return XL.exports}();/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var Be,Kl,H$,pm,j$,fr={},ig=[],KL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function ur(e,s){for(var t in s)e[t]=s[t];return e}function I$(e){var s=e.parentNode;s&&s.removeChild(e)}function ke(e,s,t){var r,i,n,a,o=arguments;if(s=ur({},s),arguments.length>3)for(t=[t],r=3;r<arguments.length;r++)t.push(o[r]);if(t!=null&&(s.children=t),e!=null&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return a=s.key,(n=s.ref)!=null&&delete s.ref,a!=null&&delete s.key,fm(e,s,a,n)}function fm(e,s,t,r){var i={type:e,props:s,key:t,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return Be.vnode&&Be.vnode(i),i}function nd(e){return e.children}function QL(e){if(e==null||typeof e=="boolean")return null;if(typeof e=="string"||typeof e=="number")return fm(null,e,null,null);if(e.__e!=null||e.__c!=null){var s=fm(e.type,e.props,e.key,null);return s.__e=e.__e,s}return e}function Bi(e,s){this.props=e,this.context=s}function Ql(e,s){if(s==null)return e.__p?Ql(e.__p,e.__p.__k.indexOf(e)+1):null;for(var t;s<e.__k.length;s++)if((t=e.__k[s])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?Ql(e):null}function N$(e){var s,t;if((e=e.__p)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,s=0;s<e.__k.length;s++)if((t=e.__k[s])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return N$(e)}}function fh(e){(!e.__d&&(e.__d=!0)&&Kl.push(e)===1||pm!==Be.debounceRendering)&&(pm=Be.debounceRendering,(Be.debounceRendering||H$)(eF))}function eF(){var e,s,t,r,i,n,a,o;for(Kl.sort(function(l,c){return c.__v.__b-l.__v.__b});e=Kl.pop();)e.__d&&(t=void 0,r=void 0,n=(i=(s=e).__v).__e,a=s.__P,o=s.u,s.u=!1,a&&(t=[],r=ag(a,i,ur({},i),s.__n,a.ownerSVGElement!==void 0,null,t,o,n==null?Ql(i):n),U$(t,i),r!=n&&N$(i)))}function V$(e,s,t,r,i,n,a,o,l){var c,u,d,h,m,p,f,b=t&&t.__k||ig,$=b.length;if(o==fr&&(o=n!=null?n[0]:$?Ql(t,0):null),c=0,s.__k=ng(s.__k,function(P){if(P!=null){if(P.__p=s,P.__b=s.__b+1,(d=b[c])===null||d&&P.key==d.key&&P.type===d.type)b[c]=void 0;else for(u=0;u<$;u++){if((d=b[u])&&P.key==d.key&&P.type===d.type){b[u]=void 0;break}d=null}if(h=ag(e,P,d=d||fr,r,i,n,a,null,o,l),(u=P.ref)&&d.ref!=u&&(f||(f=[])).push(u,P.__c||h,P),h!=null){if(p==null&&(p=h),P.l!=null)h=P.l,P.l=null;else if(n==d||h!=o||h.parentNode==null){e:if(o==null||o.parentNode!==e)e.appendChild(h);else{for(m=o,u=0;(m=m.nextSibling)&&u<$;u+=2)if(m==h)break e;e.insertBefore(h,o)}s.type=="option"&&(e.value="")}o=h.nextSibling,typeof s.type=="function"&&(s.l=h)}}return c++,P}),s.__e=p,n!=null&&typeof s.type!="function")for(c=n.length;c--;)n[c]!=null&&I$(n[c]);for(c=$;c--;)b[c]!=null&&G$(b[c],b[c]);if(f)for(c=0;c<f.length;c++)B$(f[c],f[++c],f[++c])}function ng(e,s,t){if(t==null&&(t=[]),e==null||typeof e=="boolean")s&&t.push(s(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)ng(e[r],s,t);else t.push(s?s(QL(e)):e);return t}function tF(e,s,t,r,i){var n;for(n in t)n in s||A_(e,n,null,t[n],r);for(n in s)i&&typeof s[n]!="function"||n==="value"||n==="checked"||t[n]===s[n]||A_(e,n,s[n],t[n],r)}function F_(e,s,t){s[0]==="-"?e.setProperty(s,t):e[s]=typeof t=="number"&&KL.test(s)===!1?t+"px":t==null?"":t}function A_(e,s,t,r,i){var n,a,o,l,c;if(!((s=i?s==="className"?"class":s:s==="class"?"className":s)==="key"||s==="children"))if(s==="style")if(n=e.style,typeof t=="string")n.cssText=t;else{if(typeof r=="string"&&(n.cssText="",r=null),r)for(a in r)t&&a in t||F_(n,a,"");if(t)for(o in t)r&&t[o]===r[o]||F_(n,o,t[o])}else s[0]==="o"&&s[1]==="n"?(l=s!==(s=s.replace(/Capture$/,"")),c=s.toLowerCase(),s=(c in e?c:s).slice(2),t?(r||e.addEventListener(s,k_,l),(e.t||(e.t={}))[s]=t):e.removeEventListener(s,k_,l)):s!=="list"&&s!=="tagName"&&s!=="form"&&!i&&s in e?e[s]=t==null?"":t:typeof t!="function"&&s!=="dangerouslySetInnerHTML"&&(s!==(s=s.replace(/^xlink:?/,""))?t==null||t===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",s.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",s.toLowerCase(),t):t==null||t===!1?e.removeAttribute(s):e.setAttribute(s,t))}function k_(e){return this.t[e.type](Be.event?Be.event(e):e)}function ag(e,s,t,r,i,n,a,o,l,c){var u,d,h,m,p,f,b,$,P,D,R=s.type;if(s.constructor!==void 0)return null;(u=Be.__b)&&u(s);try{e:if(typeof R=="function"){if($=s.props,P=(u=R.contextType)&&r[u.__c],D=u?P?P.props.value:u.__p:r,t.__c?b=(d=s.__c=t.__c).__p=d.__E:("prototype"in R&&R.prototype.render?s.__c=d=new R($,D):(s.__c=d=new Bi($,D),d.constructor=R,d.render=rF),P&&P.sub(d),d.props=$,d.state||(d.state={}),d.context=D,d.__n=r,h=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),R.getDerivedStateFromProps!=null&&ur(d.__s==d.state?d.__s=ur({},d.__s):d.__s,R.getDerivedStateFromProps($,d.__s)),h)R.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&a.push(d);else{if(R.getDerivedStateFromProps==null&&o==null&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps($,D),!o&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate($,d.__s,D)===!1){for(d.props=$,d.state=d.__s,d.__d=!1,d.__v=s,s.__e=l!=null?l!==t.__e?l:t.__e:null,s.__k=t.__k,u=0;u<s.__k.length;u++)s.__k[u]&&(s.__k[u].__p=s);break e}d.componentWillUpdate!=null&&d.componentWillUpdate($,d.__s,D)}for(m=d.props,p=d.state,d.context=D,d.props=$,d.state=d.__s,(u=Be.__r)&&u(s),d.__d=!1,d.__v=s,d.__P=e,u=d.render(d.props,d.state,d.context),s.__k=ng(u!=null&&u.type==nd&&u.key==null?u.props.children:u),d.getChildContext!=null&&(r=ur(ur({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(f=d.getSnapshotBeforeUpdate(m,p)),V$(e,s,t,r,i,n,a,l,c),d.base=s.__e;u=d.__h.pop();)d.__s&&(d.state=d.__s),u.call(d);h||m==null||d.componentDidUpdate==null||d.componentDidUpdate(m,p,f),b&&(d.__E=d.__p=null)}else s.__e=sF(t.__e,s,t,r,i,n,a,c);(u=Be.diffed)&&u(s)}catch(k){Be.__e(k,s,t)}return s.__e}function U$(e,s){for(var t;t=e.pop();)try{t.componentDidMount()}catch(r){Be.__e(r,t.__v)}Be.__c&&Be.__c(s)}function sF(e,s,t,r,i,n,a,o){var l,c,u,d,h=t.props,m=s.props;if(i=s.type==="svg"||i,e==null&&n!=null){for(l=0;l<n.length;l++)if((c=n[l])!=null&&(s.type===null?c.nodeType===3:c.localName===s.type)){e=c,n[l]=null;break}}if(e==null){if(s.type===null)return document.createTextNode(m);e=i?document.createElementNS("http://www.w3.org/2000/svg",s.type):document.createElement(s.type),n=null}return s.type===null?h!==m&&(n!=null&&(n[n.indexOf(e)]=null),e.data=m):s!==t&&(n!=null&&(n=ig.slice.call(e.childNodes)),u=(h=t.props||fr).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,o||(d||u)&&(d&&u&&d.__html==u.__html||(e.innerHTML=d&&d.__html||"")),tF(e,m,h,i,o),s.__k=s.props.children,d||V$(e,s,t,r,s.type!=="foreignObject"&&i,n,a,fr,o),o||("value"in m&&m.value!==void 0&&m.value!==e.value&&(e.value=m.value==null?"":m.value),"checked"in m&&m.checked!==void 0&&m.checked!==e.checked&&(e.checked=m.checked))),e}function B$(e,s,t){try{typeof e=="function"?e(s):e.current=s}catch(r){Be.__e(r,t)}}function G$(e,s,t){var r,i,n;if(Be.unmount&&Be.unmount(e),(r=e.ref)&&B$(r,null,s),t||typeof e.type=="function"||(t=(i=e.__e)!=null),e.__e=e.l=null,(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Be.__e(a,s)}r.base=r.__P=null}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&G$(r[n],s,t);i!=null&&I$(i)}function rF(e,s,t){return this.constructor(e,t)}function iF(e,s,t){var r,i,n;Be.__p&&Be.__p(e,s),i=(r=t===j$)?null:t&&t.__k||s.__k,e=ke(nd,null,[e]),n=[],ag(s,r?s.__k=e:(t||s).__k=e,i||fr,fr,s.ownerSVGElement!==void 0,t&&!r?[t]:i?null:ig.slice.call(s.childNodes),n,!1,t||fr,r),U$(n,e)}Be={},Bi.prototype.setState=function(e,s){var t=this.__s!==this.state&&this.__s||(this.__s=ur({},this.state));(typeof e!="function"||(e=e(t,this.props)))&&ur(t,e),e!=null&&this.__v&&(this.u=!1,s&&this.__h.push(s),fh(this))},Bi.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,fh(this))},Bi.prototype.render=nd,Kl=[],H$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pm=Be.debounceRendering,Be.__e=function(e,s,t){for(var r;s=s.__p;)if((r=s.__c)&&!r.__p)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null)r.setState(r.constructor.getDerivedStateFromError(e));else{if(r.componentDidCatch==null)continue;r.componentDidCatch(e)}return fh(r.__E=r)}catch(i){e=i}throw e},j$=fr;function R_(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nF(e,s,t){return s&&R_(e.prototype,s),t&&R_(e,t),e}function Lt(){return Lt=Object.assign||function(e){for(var s=arguments,t=1;t<arguments.length;t++){var r=s[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Lt.apply(this,arguments)}var aF="[-\\+]?\\d+%?",oF="[-\\+]?\\d*\\.\\d+%?",zr="(?:"+oF+")|(?:"+aF+")",W$="[\\s|\\(]+("+zr+")[,|\\s]+("+zr+")[,|\\s]+("+zr+")\\s*\\)?",z$="[\\s|\\(]+("+zr+")[,|\\s]+("+zr+")[,|\\s]+("+zr+")[,|\\s]+("+zr+")\\s*\\)?",lF=new RegExp("rgb"+W$),cF=new RegExp("rgba"+z$),uF=new RegExp("hsl"+W$),dF=new RegExp("hsla"+z$),ad="^(?:#?|0x?)",qr="([0-9a-fA-F]{1})",Zr="([0-9a-fA-F]{2})",hF=new RegExp(ad+qr+qr+qr+"$"),mF=new RegExp(ad+qr+qr+qr+qr+"$"),pF=new RegExp(ad+Zr+Zr+Zr+"$"),fF=new RegExp(ad+Zr+Zr+Zr+Zr+"$"),gF=2e3,_F=4e4,Ko=Math.log,Mi=Math.round,Un=Math.floor;function Jt(e,s,t){return Math.min(Math.max(e,s),t)}function Mt(e,s){var t=e.indexOf("%")>-1,r=parseFloat(e);return t?s/100*r:r}function Et(e){return parseInt(e,16)}function Hr(e){return e.toString(16).padStart(2,"0")}var ji=function(){function e(t,r){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=r,this.initialValue=Lt({},this.$)}var s=e.prototype;return s.set=function(r){if(typeof r=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(r)?this.hexString=r:/^rgba?/.test(r)?this.rgbString=r:/^hsla?/.test(r)&&(this.hslString=r);else if(typeof r=="object")r instanceof e?this.hsva=r.hsva:"r"in r&&"g"in r&&"b"in r?this.rgb=r:"h"in r&&"s"in r&&"v"in r?this.hsv=r:"h"in r&&"s"in r&&"l"in r?this.hsl=r:"kelvin"in r&&(this.kelvin=r.kelvin);else throw new Error("Invalid color value")},s.setChannel=function(r,i,n){var a;this[r]=Lt({},this[r],(a={},a[i]=n,a))},s.reset=function(){this.hsva=this.initialValue},s.clone=function(){return new e(this)},s.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(r){var i=r.h/60,n=r.s/100,a=r.v/100,o=Un(i),l=i-o,c=a*(1-n),u=a*(1-l*n),d=a*(1-(1-l)*n),h=o%6,m=[a,u,c,c,d,a][h],p=[d,a,a,u,c,c][h],f=[c,c,d,a,a,u][h];return{r:Jt(m*255,0,255),g:Jt(p*255,0,255),b:Jt(f*255,0,255)}},e.rgbToHsv=function(r){var i=r.r/255,n=r.g/255,a=r.b/255,o=Math.max(i,n,a),l=Math.min(i,n,a),c=o-l,u=0,d=o,h=o===0?0:c/o;switch(o){case l:u=0;break;case i:u=(n-a)/c+(n<a?6:0);break;case n:u=(a-i)/c+2;break;case a:u=(i-n)/c+4;break}return{h:u*60%360,s:Jt(h*100,0,100),v:Jt(d*100,0,100)}},e.hsvToHsl=function(r){var i=r.s/100,n=r.v/100,a=(2-i)*n,o=a<=1?a:2-a,l=o<1e-9?0:i*n/o;return{h:r.h,s:Jt(l*100,0,100),l:Jt(a*50,0,100)}},e.hslToHsv=function(r){var i=r.l*2,n=r.s*(i<=100?i:200-i)/100,a=i+n<1e-9?0:2*n/(i+n);return{h:r.h,s:Jt(a*100,0,100),v:Jt((i+n)/2,0,100)}},e.kelvinToRgb=function(r){var i=r/100,n,a,o;return i<66?(n=255,a=-155.25485562709179-.44596950469579133*(a=i-2)+104.49216199393888*Ko(a),o=i<20?0:-254.76935184120902+.8274096064007395*(o=i-10)+115.67994401066147*Ko(o)):(n=351.97690566805693+.114206453784165*(n=i-55)-40.25366309332127*Ko(n),a=325.4494125711974+.07943456536662342*(a=i-50)-28.0852963507957*Ko(a),o=255),{r:Jt(Un(n),0,255),g:Jt(Un(a),0,255),b:Jt(Un(o),0,255)}},e.rgbToKelvin=function(r){for(var i=r.r,n=r.b,a=.4,o=gF,l=_F,c;l-o>a;){c=(l+o)*.5;var u=e.kelvinToRgb(c);u.b/u.r>=n/i?l=c:o=c}return c},nF(e,[{key:"hsv",get:function(){var r=this.$;return{h:r.h,s:r.s,v:r.v}},set:function(r){var i=this.$;if(r=Lt({},i,r),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var a in i)n[a]=r[a]!=i[a];this.$=r,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=r}},{key:"hsva",get:function(){return Lt({},this.$)},set:function(r){this.hsv=r}},{key:"hue",get:function(){return this.$.h},set:function(r){this.hsv={h:r}}},{key:"saturation",get:function(){return this.$.s},set:function(r){this.hsv={s:r}}},{key:"value",get:function(){return this.$.v},set:function(r){this.hsv={v:r}}},{key:"alpha",get:function(){return this.$.a},set:function(r){this.hsv=Lt({},this.hsv,{a:r})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(r){this.rgb=e.kelvinToRgb(r)}},{key:"red",get:function(){var r=this.rgb;return r.r},set:function(r){this.rgb=Lt({},this.rgb,{r})}},{key:"green",get:function(){var r=this.rgb;return r.g},set:function(r){this.rgb=Lt({},this.rgb,{g:r})}},{key:"blue",get:function(){var r=this.rgb;return r.b},set:function(r){this.rgb=Lt({},this.rgb,{b:r})}},{key:"rgb",get:function(){var r=e.hsvToRgb(this.$),i=r.r,n=r.g,a=r.b;return{r:Mi(i),g:Mi(n),b:Mi(a)}},set:function(r){this.hsv=Lt({},e.rgbToHsv(r),{a:r.a===void 0?1:r.a})}},{key:"rgba",get:function(){return Lt({},this.rgb,{a:this.alpha})},set:function(r){this.rgb=r}},{key:"hsl",get:function(){var r=e.hsvToHsl(this.$),i=r.h,n=r.s,a=r.l;return{h:Mi(i),s:Mi(n),l:Mi(a)}},set:function(r){this.hsv=Lt({},e.hslToHsv(r),{a:r.a===void 0?1:r.a})}},{key:"hsla",get:function(){return Lt({},this.hsl,{a:this.alpha})},set:function(r){this.hsl=r}},{key:"rgbString",get:function(){var r=this.rgb;return"rgb("+r.r+", "+r.g+", "+r.b+")"},set:function(r){var i,n,a,o,l=1;if((i=lF.exec(r))?(n=Mt(i[1],255),a=Mt(i[2],255),o=Mt(i[3],255)):(i=cF.exec(r))&&(n=Mt(i[1],255),a=Mt(i[2],255),o=Mt(i[3],255),l=Mt(i[4],1)),i)this.rgb={r:n,g:a,b:o,a:l};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var r=this.rgba;return"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")"},set:function(r){this.rgbString=r}},{key:"hexString",get:function(){var r=this.rgb;return"#"+Hr(r.r)+Hr(r.g)+Hr(r.b)},set:function(r){var i,n,a,o,l=255;if((i=hF.exec(r))?(n=Et(i[1])*17,a=Et(i[2])*17,o=Et(i[3])*17):(i=mF.exec(r))?(n=Et(i[1])*17,a=Et(i[2])*17,o=Et(i[3])*17,l=Et(i[4])*17):(i=pF.exec(r))?(n=Et(i[1]),a=Et(i[2]),o=Et(i[3])):(i=fF.exec(r))&&(n=Et(i[1]),a=Et(i[2]),o=Et(i[3]),l=Et(i[4])),i)this.rgb={r:n,g:a,b:o,a:l/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var r=this.rgba;return"#"+Hr(r.r)+Hr(r.g)+Hr(r.b)+Hr(Un(r.a*255))},set:function(r){this.hexString=r}},{key:"hslString",get:function(){var r=this.hsl;return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},set:function(r){var i,n,a,o,l=1;if((i=uF.exec(r))?(n=Mt(i[1],360),a=Mt(i[2],100),o=Mt(i[3],100)):(i=dF.exec(r))&&(n=Mt(i[1],360),a=Mt(i[2],100),o=Mt(i[3],100),l=Mt(i[4],1)),i)this.hsl={h:n,s:a,l:o,a:l};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var r=this.hsla;return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},set:function(r){this.hslString=r}}]),e}(),vF={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function og(e){var s,t=e.width,r=e.sliderSize,i=e.borderWidth,n=e.handleRadius,a=e.padding,o=e.sliderShape,l=e.layoutDirection==="horizontal";return r=(s=r)!=null?s:a*2+n*2,o==="circle"?{handleStart:e.padding+e.handleRadius,handleRange:t-a*2-n*2,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-i/2}:{handleStart:r/2,handleRange:t-r,radius:r/2,x:0,y:0,width:l?r:t,height:l?t:r}}function bF(e,s){var t=s.hsva,r=s.rgb;switch(e.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return t.a*100;case"kelvin":var i=e.minTemperature,n=e.maxTemperature,a=n-i,o=(s.kelvin-i)/a*100;return Math.max(0,Math.min(o,100));case"hue":return t.h/=3.6;case"saturation":return t.s;case"value":default:return t.v}}function yF(e,s,t){var r=og(e),i=r.handleRange,n=r.handleStart,a;e.layoutDirection==="horizontal"?a=-1*t+i+n:a=s-n,a=Math.max(Math.min(a,i),0);var o=Math.round(100/i*a);switch(e.sliderType){case"kelvin":var l=e.minTemperature,c=e.maxTemperature,u=c-l;return l+u*(o/100);case"alpha":return o/100;case"hue":return o*3.6;case"red":case"blue":case"green":return o*2.55;default:return o}}function CF(e,s){var t=og(e),r=t.width,i=t.height,n=t.handleRange,a=t.handleStart,o=e.layoutDirection==="horizontal",l=bF(e,s),c=o?r/2:i/2,u=a+l/100*n;return o&&(u=-1*u+n+a*2),{x:o?c:u,y:o?u:c}}function $F(e,s){var t=s.hsv,r=s.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var i=[],n=e.minTemperature,a=e.maxTemperature,o=8,l=a-n,c=n,u=0;c<a;c+=l/o,u+=1){var d=ji.kelvinToRgb(c),h=d.r,m=d.g,p=d.b;i.push([100/o*u,"rgb("+h+","+m+","+p+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var f=ji.hsvToHsl({h:t.h,s:0,v:t.v}),b=ji.hsvToHsl({h:t.h,s:100,v:t.v});return[[0,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"],[100,"hsl("+b.h+","+b.s+"%,"+b.l+"%)"]];case"value":default:var $=ji.hsvToHsl({h:t.h,s:t.s,v:100});return[[0,"#000"],[100,"hsl("+$.h+","+$.s+"%,"+$.l+"%)"]]}}var q$=Math.PI*2,xF=function(s,t){return(s%t+t)%t},Z$=function(s,t){return Math.sqrt(s*s+t*t)};function Y$(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function SF(e,s,t){var r=od(e),i=r.cx,n=r.cy,a=e.width/2;return Z$(i-s,n-t)<a}function od(e){var s=e.width/2;return{width:e.width,radius:s-e.borderWidth,cx:s,cy:s}}function X$(e,s,t){var r=e.wheelAngle,i=e.wheelDirection;return t&&i==="clockwise"?s=r+s:i==="clockwise"?s=360-r+s:t&&i==="anticlockwise"?s=r+180-s:i==="anticlockwise"&&(s=r-s),xF(s,360)}function wF(e,s){var t=s.hsv,r=od(e),i=r.cx,n=r.cy,a=Y$(e),o=(180+X$(e,t.h,!0))*(q$/360),l=t.s/100*a,c=e.wheelDirection==="clockwise"?-1:1;return{x:i+l*Math.cos(o)*c,y:n+l*Math.sin(o)*c}}function H_(e,s,t){var r=od(e),i=r.cx,n=r.cy,a=Y$(e);s=i-s,t=n-t;var o=X$(e,Math.atan2(-t,-s)*(360/q$)),l=Math.min(Z$(s,t),a);return{h:Math.round(o),s:Math.round(100/a*l)}}function lg(e){var s=e.width,t=e.boxHeight,r=e.padding,i=e.handleRadius;return{width:s,height:t!=null?t:s,radius:r+i}}function j_(e,s,t){var r=lg(e),i=r.width,n=r.height,a=r.radius,o=a,l=i-a*2,c=n-a*2,u=(s-o)/l*100,d=(t-o)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-d,100))}}function PF(e,s){var t=lg(e),r=t.width,i=t.height,n=t.radius,a=s.hsv,o=n,l=r-n*2,c=i-n*2;return{x:o+a.s/100*l,y:o+(c-a.v/100*c)}}function TF(e,s){var t=s.hue;return[[[0,"#fff"],[100,"hsl("+t+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var gh;function DF(e){gh||(gh=document.getElementsByTagName("base"));var s=window.navigator.userAgent,t=/^((?!chrome|android).)*safari/i.test(s),r=/iPhone|iPod|iPad/i.test(s),i=window.location;return(t||r)&&gh.length>0?i.protocol+"//"+i.host+i.pathname+i.search+e:e}function J$(e,s,t,r){for(var i=0;i<r.length;i++){var n=r[i].x-s,a=r[i].y-t,o=Math.sqrt(n*n+a*a);if(o<e.handleRadius)return i}return null}function cg(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function gm(e,s,t){return e+"-gradient("+s+", "+t.map(function(r){var i=r[0],n=r[1];return n+" "+i+"%"}).join(",")+")"}function St(e){return typeof e=="string"?e:e+"px"}var MF={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},I_=["mousemove","touchmove","mouseup","touchend"],ld=function(e){function s(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.render=function(r){var i=this.handleEvent.bind(this),n={onMouseDown:i,ontouchstart:i},a=r.layoutDirection==="horizontal",o=r.margin===null?r.sliderMargin:r.margin,l={overflow:"visible",display:a?"inline-block":"block"};return r.index>0&&(l[a?"marginLeft":"marginTop"]=o),ke(nd,null,r.children(this.uid,n,l))},s.prototype.handleEvent=function(r){var i=this,n=this.props.onInput,a=this.base.getBoundingClientRect();r.preventDefault();var o=r.touches?r.changedTouches[0]:r,l=o.clientX-a.left,c=o.clientY-a.top;switch(r.type){case"mousedown":case"touchstart":var u=n(l,c,0);u!==!1&&I_.forEach(function(d){document.addEventListener(d,i,{passive:!1})});break;case"mousemove":case"touchmove":n(l,c,1);break;case"mouseup":case"touchend":n(l,c,2),I_.forEach(function(d){document.removeEventListener(d,i,{passive:!1})});break}},s}(Bi);function ri(e){var s=e.r,t=e.url,r=s,i=s;return ke("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+St(e.x)+", "+St(e.y)+")",willChange:"transform",top:St(-s),left:St(-s),width:St(s*2),height:St(s*2),position:"absolute",overflow:"visible"}},t&&ke("use",Object.assign({xlinkHref:DF(t)},e.props)),!t&&ke("circle",{cx:r,cy:i,r:s,fill:"none","stroke-width":2,stroke:"#000"}),!t&&ke("circle",{cx:r,cy:i,r:s-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}ri.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function ec(e){var s=e.activeIndex,t=s!==void 0&&s<e.colors.length?e.colors[s]:e.color,r=og(e),i=r.width,n=r.height,a=r.radius,o=CF(e,t),l=$F(e,t);function c(u,d,h){var m=yF(e,u,d);e.parent.inputActive=!0,t[e.sliderType]=m,e.onInput(h,e.id)}return ke(ld,Object.assign({},e,{onInput:c}),function(u,d,h){return ke("div",Object.assign({},d,{className:"IroSlider",style:Object.assign({},{position:"relative",width:St(i),height:St(n),borderRadius:St(a),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},h)}),ke("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:St(a),background:gm("linear",e.layoutDirection==="horizontal"?"to top":"to right",l)},cg(e))}),ke(ri,{isActive:!0,index:t.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:o.x,y:o.y}))})}ec.defaultProps=Object.assign({},vF);function EF(e){var s=lg(e),t=s.width,r=s.height,i=s.radius,n=e.colors,a=e.parent,o=e.activeIndex,l=o!==void 0&&o<e.colors.length?e.colors[o]:e.color,c=TF(e,l),u=n.map(function(h){return PF(e,h)});function d(h,m,p){if(p===0){var f=J$(e,h,m,u);f!==null?a.setActiveColor(f):(a.inputActive=!0,l.hsv=j_(e,h,m),e.onInput(p,e.id))}else p===1&&(a.inputActive=!0,l.hsv=j_(e,h,m));e.onInput(p,e.id)}return ke(ld,Object.assign({},e,{onInput:d}),function(h,m,p){return ke("div",Object.assign({},m,{className:"IroBox",style:Object.assign({},{width:St(t),height:St(r),position:"relative"},p)}),ke("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:St(i)},cg(e),{background:gm("linear","to bottom",c[1])+","+gm("linear","to right",c[0])})}),n.filter(function(f){return f!==l}).map(function(f){return ke(ri,{isActive:!1,index:f.index,fill:f.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[f.index].x,y:u[f.index].y})}),ke(ri,{isActive:!0,index:l.index,fill:l.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[l.index].x,y:u[l.index].y}))})}var OF="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",LF="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function K$(e){var s=od(e),t=s.width,r=e.colors;e.borderWidth;var i=e.parent,n=e.color,a=n.hsv,o=r.map(function(u){return wF(e,u)}),l={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(u,d,h){if(h===0){if(!SF(e,u,d))return!1;var m=J$(e,u,d,o);m!==null?i.setActiveColor(m):(i.inputActive=!0,n.hsv=H_(e,u,d),e.onInput(h,e.id))}else h===1&&(i.inputActive=!0,n.hsv=H_(e,u,d));e.onInput(h,e.id)}return ke(ld,Object.assign({},e,{onInput:c}),function(u,d,h){return ke("div",Object.assign({},d,{className:"IroWheel",style:Object.assign({},{width:St(t),height:St(t),position:"relative"},h)}),ke("div",{className:"IroWheelHue",style:Object.assign({},l,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:e.wheelDirection==="clockwise"?OF:LF})}),ke("div",{className:"IroWheelSaturation",style:Object.assign({},l,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&ke("div",{className:"IroWheelLightness",style:Object.assign({},l,{background:"#000",opacity:1-a.v/100})}),ke("div",{className:"IroWheelBorder",style:Object.assign({},l,cg(e))}),r.filter(function(m){return m!==n}).map(function(m){return ke(ri,{isActive:!1,index:m.index,fill:m.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:o[m.index].x,y:o[m.index].y})}),ke(ri,{isActive:!0,index:n.index,fill:n.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:o[n.index].x,y:o[n.index].y}))})}function FF(e){var s=function(t,r){var i,n=document.createElement("div");iF(ke(e,Object.assign({},{ref:function(o){return i=o}},r)),n);function a(){var o=t instanceof Element?t:document.querySelector(t);o.appendChild(i.base),i.onMount(o)}return document.readyState!=="loading"?a():document.addEventListener("DOMContentLoaded",a),i};return s.prototype=e.prototype,Object.assign(s,e),s.__component=e,s}var Q$=function(e){function s(t){var r=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id;var i=t.colors.length>0?t.colors:[t.color];i.forEach(function(n){return r.addColor(n)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.addColor=function(r,i){i===void 0&&(i=this.colors.length);var n=new ji(r,this.onColorChange.bind(this));this.colors.splice(i,0,n),this.colors.forEach(function(a,o){return a.index=o}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},s.prototype.removeColor=function(r){var i=this.colors.splice(r,1)[0];i.unbind(),this.colors.forEach(function(n,a){return n.index=a}),this.state&&this.setState({colors:this.colors}),i.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",i)},s.prototype.setActiveColor=function(r){this.color=this.colors[r],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},s.prototype.setColors=function(r,i){var n=this;i===void 0&&(i=0),this.colors.forEach(function(a){return a.unbind()}),this.colors=[],r.forEach(function(a){return n.addColor(a)}),this.setActiveColor(i),this.emit("color:setAll",this.colors)},s.prototype.on=function(r,i){var n=this,a=this.events;(Array.isArray(r)?r:[r]).forEach(function(o){(a[o]||(a[o]=[])).push(i),n.deferredEvents[o]&&(n.deferredEvents[o].forEach(function(l){i.apply(null,l)}),n.deferredEvents[o]=[])})},s.prototype.off=function(r,i){var n=this;(Array.isArray(r)?r:[r]).forEach(function(a){var o=n.events[a];o&&o.splice(o.indexOf(i),1)})},s.prototype.emit=function(r){for(var i=this,n=[],a=arguments.length-1;a-- >0;)n[a]=arguments[a+1];var o=this.activeEvents,l=o.hasOwnProperty(r)?o[r]:!1;if(!l){o[r]=!0;var c=this.events[r]||[];c.forEach(function(u){return u.apply(i,n)}),o[r]=!1}},s.prototype.deferredEmit=function(r){for(var i,n=[],a=arguments.length-1;a-- >0;)n[a]=arguments[a+1];var o=this.deferredEvents;(i=this).emit.apply(i,[r].concat(n)),(o[r]||(o[r]=[])).push(n)},s.prototype.setOptions=function(r){this.setState(r)},s.prototype.resize=function(r){this.setOptions({width:r})},s.prototype.reset=function(){this.colors.forEach(function(r){return r.reset()}),this.setState({colors:this.colors})},s.prototype.onMount=function(r){this.el=r,this.deferredEmit("mount",this)},s.prototype.onColorChange=function(r,i){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",r,i)),this.emit("color:change",r,i)},s.prototype.emitInputEvent=function(r,i){r===0?this.emit("input:start",this.color,i):r===1?this.emit("input:move",this.color,i):r===2&&this.emit("input:end",this.color,i)},s.prototype.render=function(r,i){var n=this,a=i.layout;if(!Array.isArray(a)){switch(a){default:a=[{component:K$},{component:ec}]}i.transparency&&a.push({component:ec,options:{sliderType:"alpha"}})}return ke("div",{class:"IroColorPicker",id:i.id,style:{display:i.display}},a.map(function(o,l){var c=o.component,u=o.options;return ke(c,Object.assign({},i,u,{ref:void 0,onInput:n.emitInputEvent.bind(n),parent:n,index:l}))}))},s}(Bi);Q$.defaultProps=Object.assign({},MF,{colors:[],display:"block",id:null,layout:"default",margin:null});var AF=FF(Q$),_m;(function(e){e.version="5.5.2",e.Color=ji,e.ColorPicker=AF,function(s){s.h=ke,s.ComponentBase=ld,s.Handle=ri,s.Slider=ec,s.Wheel=K$,s.Box=EF}(e.ui||(e.ui={}))})(_m||(_m={}));var zt=_m,kF=Object.defineProperty,RF=Object.getOwnPropertyDescriptor,To=(e,s,t,r)=>{for(var i=r>1?void 0:r?RF(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&kF(s,t,i),i};let ii=class extends M(O){constructor(){super(...arguments),this.colorPicker=null}colorChanged(e){this.colorPicker&&this.colorPicker.color.rgbString!==e&&(this.colorPicker.color.rgbString=e)}get internalOptions(){return{...this.options,color:this.color,borderWidth:2,sliderSize:16}}emitColorChange(e){this.$emit("change",e),this.$emit("update:color",e)}onColorChange(e){this.emitColorChange(e)}mounted(){this.colorPicker=zt.ColorPicker(this.picker,this.internalOptions),this.colorPicker.on("color:change",this.onColorChange)}beforeDestroy(){var e;(e=this.colorPicker)==null||e.off("color:change",this.onColorChange)}};To([Fs("picker")],ii.prototype,"picker",2);To([x({type:[Object,String],default:"#ffffff"})],ii.prototype,"color",2);To([x({type:Object,default:()=>({})})],ii.prototype,"options",2);To([ce("color",{deep:!0})],ii.prototype,"colorChanged",1);ii=To([w],ii);var HF=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{ref:"picker"})])},jF=[];const N_={};var IF=E(ii,HF,jF,!1,NF,null,null,null);function NF(e){for(let s in N_)this[s]=N_[s]}const Pa=function(){return IF.exports}();var VF=Object.defineProperty,UF=Object.getOwnPropertyDescriptor,yi=(e,s,t,r)=>{for(var i=r>1?void 0:r?UF(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VF(s,t,i),i};let Ys=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiLightbulbOutline=Nf,this.mdiLightbulbOnOutline=WC,this.boolDialog=!1,this.inputValue=0}get name(){return this.group?at(this.group.name):at(this.object.name)}get colorPickerOptions(){let s={width:200,margin:15,layout:[]};return this.existRed&&(s==null||s.layout.push({component:zt.ui.Slider,options:{sliderType:"red"}})),this.existGreen&&(s==null||s.layout.push({component:zt.ui.Slider,options:{sliderType:"green"}})),this.existBlue&&(s==null||s.layout.push({component:zt.ui.Slider,options:{sliderType:"blue"}})),this.existRed&&this.existGreen&&this.existBlue&&(s.layout=[{component:zt.ui.Wheel},{component:zt.ui.Slider,options:{sliderType:"value"}}]),s}get colorPickerWhiteOptions(){return{width:200,margin:15,layout:[{component:zt.ui.Slider,options:{sliderType:"alpha"}}]}}get optionsColors(){let s=[];return this.presets.forEach(t=>{s.push("rgb(".concat(t.red,"%, ").concat(t.green,"%, ").concat(t.blue,"%)"))}),s}get current(){var r,i;const s={red:0,green:0,blue:0,white:null};if(this.existWhite&&(s.white=0),this.object.colorData.length===0)return s;const t=this.object.colorData[((i=(r=this.group)==null?void 0:r.start)!=null?i:1)-1];return s.red=t[0]*255,s.green=t[1]*255,s.blue=t[2]*255,this.object.colorOrder.indexOf("W")!==-1&&(s.white=t[3]*255),s}get isOn(){var s,t,r,i,n;return((s=this.current.red)!=null?s:0)+((r=(t=this.current)==null?void 0:t.green)!=null?r:0)+((i=this.current.blue)!=null?i:0)+((n=this.current.white)!=null?n:0)>0}get existRed(){return this.object.colorOrder.indexOf("R")!==-1}get existGreen(){return this.object.colorOrder.indexOf("G")!==-1}get existBlue(){return this.object.colorOrder.indexOf("B")!==-1}get existWhite(){return this.object.colorOrder.indexOf("W")!==-1}get currentStateStyle(){let s=this.colorRGB;return this.current.white!==null&&this.current.red==0&&this.current.green==0&&this.current.blue==0&&(s="rgb(".concat(this.current.white*255,", ").concat(this.current.white*255,", ").concat(this.current.white*255,")")),{"background-color":s}}get colorRGB(){var s,t,r;return"rgb(".concat(Math.round((s=this.current.red)!=null?s:0),", ").concat(Math.round((t=this.current.green)!=null?t:0),", ").concat(Math.round((r=this.current.blue)!=null?r:0),")")}get colorRGBW(){var s;return"rgba(255, 255, 255, ".concat(((s=this.current.white)!=null?s:0)/255,")")}get redInt(){var s;return Math.round((s=this.current.red)!=null?s:0)}get greenInt(){var s;return Math.round((s=this.current.green)!=null?s:0)}get blueInt(){var s;return Math.round((s=this.current.blue)!=null?s:0)}get whiteInt(){var s;return Math.round((s=this.current.white)!=null?s:0)}get groups(){var s;return this.root?(s=this.$store.getters["gui/miscellaneous/getEntryLightgroups"]({type:this.object.type,name:this.object.name}))!=null?s:[]:[]}get presets(){var s;return(s=this.$store.getters["gui/miscellaneous/getEntryPresets"]({type:this.object.type,name:this.object.name}))!=null?s:[]}get containerClass(){let s=["px-0"];return s.push(this.root?"py-2":"pt-2 pb-0"),s}colorChanged(s){var o,l,c,u,d,h,m,p,f,b,$,P;if(Math.round((o=s.red)!=null?o:0)===Math.round((l=this.current.red)!=null?l:0)&&Math.round((c=s.green)!=null?c:0)===Math.round((u=this.current.green)!=null?u:0)&&Math.round((d=s.blue)!=null?d:0)===Math.round((h=this.current.blue)!=null?h:0)&&Math.round((m=s.white)!=null?m:0)===Math.round((p=this.current.white)!=null?p:0))return;const t=Math.round(((f=s.red)!=null?f:0)/255*1e4)/1e4,r=Math.round(((b=s.green)!=null?b:0)/255*1e4)/1e4,i=Math.round((($=s.blue)!=null?$:0)/255*1e4)/1e4,n=Math.round(((P=s.white)!=null?P:0)/255*1e4)/1e4;let a='SET_LED LED="'.concat(this.object.name,'" RED=').concat(t," GREEN=").concat(r," BLUE=").concat(i);if(this.existWhite&&(a+=" WHITE=".concat(n)),a+=" SYNC=0",this.group){const D=a;for(let R=this.group.start;R<=this.group.end;R++){if(R===this.group.start){a+=" INDEX=".concat(R);continue}a+="\n".concat(D," INDEX=").concat(R)}}a+=" TRANSMIT=1",this.$store.dispatch("server/addEvent",{message:a,type:"command"}),this.$socket.emit("printer.gcode.script",{script:a})}onColorRGBChanged(s){const t={red:s.red,green:s.green,blue:s.blue,white:this.current.white};this.colorChanged(t)}onColorWhiteChanged(s){const t={red:this.current.red,green:this.current.green,blue:this.current.blue,white:this.current.white};t.white=s.alpha*255,this.colorChanged(t)}onColorInput(s){const t={red:this.current.red,green:this.current.green,blue:this.current.blue,white:this.current.white};t[s.name]=s.value,this.colorChanged(t)}off(){const s={red:0,green:0,blue:0,white:0};this.colorChanged(s)}on(){const s={red:255,green:255,blue:255,white:255};this.colorChanged(s)}presetStyle(s){var t,r,i,n;return((t=s==null?void 0:s.red)!=null?t:0)+((r=s==null?void 0:s.green)!=null?r:0)+((i=s==null?void 0:s.blue)!=null?i:0)===0&&((n=s==null?void 0:s.white)!=null?n:0)>0?{backgroundColor:"rgb(".concat(s.white,"%, ").concat(s.white,"%, ").concat(s.white,"%)")}:{backgroundColor:"rgb(".concat(s.red,"%, ").concat(s.green,"%, ").concat(s.blue,"%)")}}usePreset(s){const t={...s};this.colorChanged(t)}};yi([x({type:Object,required:!0})],Ys.prototype,"object",2);yi([x({type:Boolean,default:!1})],Ys.prototype,"root",2);yi([x(Object)],Ys.prototype,"group",2);yi([Ye({time:500})],Ys.prototype,"onColorRGBChanged",1);yi([Ye({time:500})],Ys.prototype,"onColorWhiteChanged",1);yi([Ye({time:500})],Ys.prototype,"onColorInput",1);Ys=yi([w({components:{ColorPicker:Pa,MiscellaneousLight:()=>ge(()=>Promise.resolve().then(()=>qF),void 0)}})],Ys);var BF=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{class:e.containerClass},[t(C,[t(v,{staticClass:"pb-3"},[t(ms,{staticClass:"_light-subheader"},[(!e.root||e.groups.length===0)&&e.isOn?t(_,{attrs:{small:"",left:""},on:{click:e.off}},[e._v(" "+e._s(e.mdiLightbulbOnOutline)+" ")]):!e.root||e.groups.length===0?t(_,{attrs:{small:"",left:""},on:{click:e.on}},[e._v(" "+e._s(e.mdiLightbulbOutline)+" ")]):e._e(),t("span",[e._v(e._s(e.name))]),t(ie),!e.root||e.groups.length===0?t("span",{staticClass:"_currentState",style:e.currentStateStyle,on:{click:function(r){e.boolDialog=!0}}}):e._e()],1)],1)],1),e._l(e.groups,function(r){return t("miscellaneous-light",{key:r.id,attrs:{object:e.object,group:r}})}),t(oe,{attrs:{persistent:"",width:400},model:{value:e.boolDialog,callback:function(r){e.boolDialog=r},expression:"boolDialog"}},[t(B,{attrs:{title:e.name,icon:e.mdiLightbulbOutline,"card-class":"temperature-edit-heater-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.boolDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-6"},[e.presets.length?[t(C,[t(v,{staticClass:"light-presets-container pt-0 d-flex flex-wrap flex-row justify-center"},e._l(e.presets,function(r){return t(ue,{key:r.id,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[t("div",e._g(e._b({style:e.presetStyle(r),on:{click:function(o){return e.usePreset(r)}}},"div",a,!1),n))]}}],null,!0)},[t("span",[e._v(e._s(r.name))])])}),1)],1),t(H,{staticClass:"my-3"})]:e._e(),t(C,[t(v,{staticClass:"text-center"},[t(Pa,{attrs:{color:e.colorRGB,options:e.colorPickerOptions},on:{"update:color":e.onColorRGBChanged}}),e.existWhite?t(Pa,{staticClass:"mt-3",attrs:{color:e.colorRGBW,options:e.colorPickerWhiteOptions},on:{"update:color":e.onColorWhiteChanged}}):e._e()],1),t(v,[e.existRed?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Red"),param:"red",target:e.redInt,"default-value":Math.round(e.object.initialRed*255),min:0,max:255,dec:1,step:1,"output-error-msg":!0,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existGreen?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Green"),param:"green",target:e.greenInt,"default-value":Math.round(e.object.initialGreen*255),min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existBlue?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Blue"),param:"blue",target:e.blueInt,"default-value":Math.round(e.object.initialBlue*255),min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existWhite?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.White"),param:"white",target:e.whiteInt,"default-value":Math.round(e.object.initialWhite*255),min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e()],1)],1)],2)],1)],1)],2)},GF=[];const V_={};var WF=E(Ys,BF,GF,!1,zF,"aca41388",null,null);function zF(e){for(let s in V_)this[s]=V_[s]}const ug=function(){return WF.exports}(),qF=Object.freeze(Object.defineProperty({__proto__:null,default:ug},Symbol.toStringTag,{value:"Module"}));var ZF=Object.defineProperty,YF=Object.getOwnPropertyDescriptor,cd=(e,s,t,r)=>{for(var i=r>1?void 0:r?YF(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ZF(s,t,i),i};let Ji=class extends M(O){constructor(){super(...arguments),this.mdiToggleSwitch=Zf,this.mdiToggleSwitchOffOutline=d$,this.mdiPrinter3dNozzleAlert=t$,this.convertName=at}get statusColor(){if(this.enabled){if(this.filament_detected)return"success"}else return"gray";return"warning"}get statusText(){return this.filament_detected?this.$t("Panels.MiscellaneousPanel.RunoutSensor.Detected"):this.$t("Panels.MiscellaneousPanel.RunoutSensor.Empty")}changeSensor(){const e="SET_FILAMENT_SENSOR SENSOR="+this.name+" ENABLE="+(this.enabled?0:1);this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e})}};cd([x({type:String,required:!0})],Ji.prototype,"name",2);cd([x({type:Boolean,required:!0})],Ji.prototype,"enabled",2);cd([x({type:Boolean,required:!0})],Ji.prototype,"filament_detected",2);Ji=cd([w],Ji);var XF=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{staticClass:"px-0 py-2"},[t(C,[t(v,{staticClass:"pb-3"},[t(ms,{staticClass:"_filamentRunout-subheader"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiPrinter3dNozzleAlert))]),t("span",[e._v(e._s(e.convertName(e.name)))]),t(ie),t("small",{class:"mr-3 "+e.statusColor+"--text"},[e._v(e._s(e.statusText))]),t(_,{on:{click:e.changeSensor}},[e._v(" "+e._s(e.enabled?e.mdiToggleSwitch:e.mdiToggleSwitchOffOutline)+" ")])],1)],1)],1)],1)},JF=[];const U_={};var KF=E(Ji,XF,JF,!1,QF,"0d751882",null,null);function QF(e){for(let s in U_)this[s]=U_[s]}const ex=function(){return KF.exports}();var eA=Object.defineProperty,tA=Object.getOwnPropertyDescriptor,dg=(e,s,t,r)=>{for(var i=r>1?void 0:r?tA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&eA(s,t,i),i};let Ta=class extends M(O){constructor(){super(...arguments),this.convertName=at,this.mdiGauge=b5,this.mdiLightningBoltOutline=x5,this.mdiFlash=g5,this.mdiThermometer=l$,this.mdiMeterElectricOutline=D5}get sensorData(){const e=this.$store.state.server.sensor.sensors;return this.sensor in e?e[this.sensor].values:{}}get sensorConfig(){var t,r;const e="sensor ".concat(this.sensor),s=(r=(t=this.$store.state.server.config)==null?void 0:t.config)!=null?r:{};return e in s?s[e]:{}}get parameterConfig(){const e="parameter_".concat(this.valueName);return e in this.sensorConfig?this.sensorConfig[e]:{}}get unit(){return"units"in this.parameterConfig?this.parameterConfig.units:null}get value(){return this.valueName in this.sensorData?Math.round(this.sensorData[this.valueName]*1e3)/1e3:"--"}get output(){return this.unit===null?this.value:"".concat(this.value," ").concat(this.unit)}get name(){return this.convertName(this.valueName)}get symbol(){var e,s,t,r;return["wh","kwh","mwh","j"].includes((e=this.unit)==null?void 0:e.toLowerCase())?this.mdiLightningBoltOutline:["w","v"].includes((s=this.unit)==null?void 0:s.toLowerCase())?this.mdiFlash:((t=this.unit)==null?void 0:t.toLowerCase())==="a"?this.mdiMeterElectricOutline:["°c","c","°f","f","°"].includes((r=this.unit)==null?void 0:r.toLowerCase())?this.mdiThermometer:this.mdiGauge}};dg([x({type:String,required:!0})],Ta.prototype,"sensor",2);dg([x({type:String,required:!0})],Ta.prototype,"valueName",2);Ta=dg([w],Ta);var sA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"d-flex w-100 flex-row align-center"},[t(_,{attrs:{small:"",left:""}},[e._v(e._s(e.symbol))]),t("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.name)+":")]),t("span",[e._v(e._s(e.output))])],1)},rA=[];const B_={};var iA=E(Ta,sA,rA,!1,nA,null,null,null);function nA(e){for(let s in B_)this[s]=B_[s]}const tx=function(){return iA.exports}();var aA=Object.defineProperty,oA=Object.getOwnPropertyDescriptor,sx=(e,s,t,r)=>{for(var i=r>1?void 0:r?oA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&aA(s,t,i),i};let tc=class extends M(O){constructor(){super(...arguments),this.convertName=at}get valueNames(){const e=this.$store.state.server.sensor.sensors;return this.name in e?Object.keys(e[this.name].values):[]}};sx([x({type:String,required:!0})],tc.prototype,"name",2);tc=sx([w({components:{MoonrakerSensorValue:tx}})],tc);var lA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{staticClass:"px-0 py-2"},[t(C,[t(v,{staticClass:"pb-3"},[t(ms,{staticClass:"mb-1 d-block _moonraker-sensor-subheader"},[e._v(" "+e._s(e.convertName(e.name))+" ")]),t(ms,{staticClass:"d-block _moonraker-sensor-subheader"},e._l(e.valueNames,function(r,i){return t(tx,{key:"moonraker_sensor_value_"+i,attrs:{sensor:e.name,"value-name":r}})}),1)],1)],1)],1)},cA=[];const G_={};var uA=E(tc,lA,cA,!1,dA,"93458f12",null,null);function dA(e){for(let s in G_)this[s]=G_[s]}const rx=function(){return uA.exports}();var hA=Object.defineProperty,mA=Object.getOwnPropertyDescriptor,pA=(e,s,t,r)=>{for(var i=r>1?void 0:r?mA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&hA(s,t,i),i};let vm=class extends M(O){constructor(){super(...arguments),this.mdiDipSwitch=Mf}get filamentSensors(){var s;return(s=this.$store.getters["printer/getFilamentSensors"])!=null?s:[]}get miscellaneous(){var s;return(s=this.$store.getters["printer/getMiscellaneous"])!=null?s:[]}get lights(){var s;return(s=this.$store.getters["printer/getLights"])!=null?s:[]}get moonrakerSensors(){var s;return(s=this.$store.getters["server/sensor/getSensors"])!=null?s:[]}get showMiscellaneousPanel(){return this.klipperReadyForGui&&(this.miscellaneous.length||this.filamentSensors.length||this.lights.length)}};vm=pA([w({components:{Panel:B,FilamentSensor:ex,MiscellaneousSlider:mm,MiscellaneousLight:ug,MoonrakerSensor:rx}})],vm);var fA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showMiscellaneousPanel?t(B,{attrs:{icon:e.mdiDipSwitch,title:e.$t("Panels.MiscellaneousPanel.Headline"),collapsible:!0,"card-class":"miscellaneous-panel"}},[e._l(e.miscellaneous,function(r,i){return t("div",{key:i},[i?t(H):e._e(),t(mm,{attrs:{name:r.name,type:r.type,target:r.power,rpm:r.rpm,controllable:r.controllable,pwm:r.pwm,off_below:r.off_below,max:r.max_power,multi:parseInt(r.scale)}})],1)}),e._l(e.lights,function(r,i){return t("div",{key:"light_"+r.name},[i||e.miscellaneous.length?t(H):e._e(),r.type==="led"&&r.colorOrder.length===1?t(mm,{attrs:{name:r.name,type:"led",rpm:null,controllable:!0,pwm:!0,target:r.singleChannelTarget,"color-order":r.colorOrder}}):t(ug,{attrs:{object:r,root:!0}})],1)}),e._l(e.filamentSensors,function(r,i){return t("div",{key:"sensor_"+i},[i||e.miscellaneous.length||e.lights.length?t(H):e._e(),t(ex,{attrs:{name:r.name,enabled:r.enabled,filament_detected:r.filament_detected}})],1)}),e._l(e.moonrakerSensors,function(r,i){return t("div",{key:"moonraker_sensor_"+i},[i||e.miscellaneous.length||e.lights.length||e.filamentSensors.length?t(H):e._e(),t(rx,{attrs:{name:r}})],1)})],2):e._e()},gA=[];const W_={};var _A=E(vm,fA,gA,!1,vA,null,null,null);function vA(e){for(let s in W_)this[s]=W_[s]}const bA=function(){return _A.exports}();var yA=Object.defineProperty,CA=Object.getOwnPropertyDescriptor,hg=(e,s,t,r)=>{for(var i=r>1?void 0:r?CA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&yA(s,t,i),i};let Da=class extends M(O){get color(){var s,t;const e=(t=(s=this.spool.filament)==null?void 0:s.color_hex)!=null?t:"000";return"#".concat(e)}get id(){let e=this.spool.id.toString();for(;e.length<this.max_id_digits;)e="0"+e;return e}get vendor(){var e,s,t;return(t=(s=(e=this.spool.filament)==null?void 0:e.vendor)==null?void 0:s.name)!=null?t:"Unknown"}get name(){var e,s;return(s=(e=this.spool.filament)==null?void 0:e.name)!=null?s:"Unknown"}get location(){return this.spool.location}get material(){var e,s;return(s=(e=this.spool.filament)==null?void 0:e.material)!=null?s:"--"}get remaining_weight(){var e;return(e=this.spool.remaining_weight)!=null?e:0}get total_weight(){var e,s;return(s=(e=this.spool.filament)==null?void 0:e.weight)!=null?s:0}get remaining_weight_format(){return"".concat(this.remaining_weight.toFixed(0),"g")}get total_weight_format(){if(this.total_weight<1e3)return"".concat(this.total_weight.toFixed(0),"g");let e=Math.round(this.total_weight/1e3);return e!==this.total_weight/1e3&&(e=Math.round(this.total_weight/100)/10),"".concat(e,"kg")}get last_used(){var i;if(!((i=this.spool.last_used)!=null?i:null))return this.$t("Panels.SpoolmanPanel.Never");const s=new Date(this.spool.last_used),r=new Date().getTime()-s.getTime();if(r<=1e3*60*60*24)return this.$t("Panels.SpoolmanPanel.Today");if(r<=1e3*60*60*24*2)return this.$t("Panels.SpoolmanPanel.Yesterday");if(r<=1e3*60*60*24*14){const n=Math.floor(r/864e5);return this.$t("Panels.SpoolmanPanel.DaysAgo",{days:n})}return s.toLocaleDateString()}setSpoolRow(){this.$emit("set-spool",this.spool)}};hg([x({required:!0})],Da.prototype,"spool",2);hg([x({required:!1})],Da.prototype,"max_id_digits",2);Da=hg([w({})],Da);var $A=Object.defineProperty,xA=Object.getOwnPropertyDescriptor,ix=(e,s,t,r)=>{for(var i=r>1?void 0:r?xA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$A(s,t,i),i};let sc=class extends M(O){get styleCircle1(){return{fill:this.color}}get styleCircle2(){return{fill:"#bebebe"}}get styleCircle3(){return{fill:"#343434"}}clickSpool(){this.$emit("click-spool")}};ix([x({required:!1,default:"#ff0"})],sc.prototype,"color",2);sc=ix([w({})],sc);var SA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{staticClass:"cursor-pointer",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 487.04 487.04","xml:space":"preserve"},on:{click:e.clickSpool}},[t("g",[t("circle",{style:e.styleCircle1,attrs:{cx:"243.52",cy:"243.52",r:"232.97"}}),t("circle",{style:e.styleCircle2,attrs:{cx:"243.52",cy:"243.52",r:"112.5"}}),t("path",{style:e.styleCircle3,attrs:{d:"M0,243.52c0,134.42,109.1,243.52,243.52,243.52,134.42,0,243.52-109.1,243.52-243.52S377.95,0,243.52,0C109.1,0,0,109.1,0,243.52Zm115.73,181.78c-52.4-39.5-86.52-98.59-94.52-163.72v-.09c-.68-5.43,1-10.89,4.6-15,3.6-4.12,8.79-6.51,14.26-6.57l118.36-1.33c18.99-.21,36.63,9.83,46.12,26.29,9.5,16.45,9.38,36.74-.3,53.09l-60.29,101.76c-2.8,4.73-7.48,8.03-12.87,9.1-5.39,1.06-10.98-.22-15.36-3.52ZM450.22,238.8c5.49,.06,10.7,2.46,14.31,6.59,3.62,4.13,5.3,9.61,4.63,15.06-8.01,65.13-42.12,124.22-94.52,163.72l-.07,.05c-4.37,3.29-9.93,4.57-15.3,3.51-5.37-1.06-10.03-4.36-12.82-9.06l-60.33-101.84c-9.68-16.34-9.8-36.64-.3-53.09,9.5-16.45,27.13-26.5,46.12-26.29l118.27,1.33ZM338.12,40.02c5.04,2.14,8.92,6.32,10.69,11.49,1.77,5.18,1.24,10.86-1.44,15.63l-58.03,103.17c-9.31,16.56-26.83,26.8-45.83,26.8-19,0-36.51-10.25-45.83-26.8l-57.99-103.09c-2.69-4.79-3.22-10.49-1.45-15.69,1.77-5.2,5.68-9.4,10.73-11.54,60.41-25.63,128.64-25.63,189.05,0l.08,.04Z"}})])])},wA=[];const z_={};var PA=E(sc,SA,wA,!1,TA,null,null,null);function TA(e){for(let s in z_)this[s]=z_[s]}const mg=function(){return PA.exports}();var DA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{staticClass:"cursor-pointer",on:{click:e.setSpoolRow}},[t("td",{staticClass:"pr-0 py-2",staticStyle:{width:"50px"}},[t(mg,{staticClass:"mr-3",staticStyle:{width:"50px",float:"left"},attrs:{color:e.color}})],1),t("td",{staticClass:"py-2",staticStyle:{"min-width":"300px"}},[t(Y,{attrs:{"two-line":""}},[t(ot,{staticClass:"no--padding"},[t("div",{staticClass:"text--disabled mb-1"},[e._v("#"+e._s(e.id)+" | "+e._s(e.vendor))]),t(Ne,{staticClass:"mb-1"},[t("span",{staticClass:"text--filament"},[e._v(e._s(e.name))]),e.location?[t("br"),t("small",[e._v(e._s(e.$t("Panels.SpoolmanPanel.Location"))+": "+e._s(e.location))])]:e._e(),e.spool.comment?[t("br"),t("small",{staticClass:"comment"},[e._v(e._s(e.spool.comment))])]:e._e()],2)],1)],1)],1),t("td",{staticClass:"text-center text-no-wrap"},[e._v(e._s(e.material))]),t("td",{staticClass:"text-right text-no-wrap"},[e._v(e._s(e.last_used))]),t("td",{staticClass:"text-right text-no-wrap"},[t("strong",[e._v(e._s(e.remaining_weight_format))]),t("small",{staticClass:"ml-1"},[e._v("/ "+e._s(e.total_weight_format))])])])},MA=[];const q_={};var EA=E(Da,DA,MA,!1,OA,"8094a05a",null,null);function OA(e){for(let s in q_)this[s]=q_[s]}const nx=function(){return EA.exports}();var LA=Object.defineProperty,FA=Object.getOwnPropertyDescriptor,Do=(e,s,t,r)=>{for(var i=r>1?void 0:r?FA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&LA(s,t,i),i};let ni=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiCloseThick=pe,this.mdiDatabase=e5,this.mdiMagnify=zu,this.mdiRefresh=bi,this.search=""}get spools(){var e;return(e=this.$store.state.server.spoolman.spools)!=null?e:[]}get max_spool_id_digits(){return this.$store.state.server.spoolman.spools.reduce((s,t)=>Math.max(s,t.id),0).toString().length}get headers(){return[{text:" ",align:"start",sortable:!1},{text:this.$t("Panels.SpoolmanPanel.Filament"),align:"start",value:"filament.name",sortable:!1},{text:this.$t("Panels.SpoolmanPanel.Material"),align:"center",value:"filament.material"},{text:this.$t("Panels.SpoolmanPanel.LastUsed"),align:"end",value:"last_used"},{text:this.$t("Panels.SpoolmanPanel.Weight"),align:"end",value:"remaining_weight"}]}get spoolManagerUrl(){var e,s,t;return(t=(s=(e=this.$store.state.server.config.config)==null?void 0:e.spoolman)==null?void 0:s.server)!=null?t:null}get existsSaveVariables(){var s,t;return"save_variables"in((t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)!=null?t:{})}openSpoolManager(){window.open(this.spoolManagerUrl,"_blank")}mounted(){this.refresh()}refresh(){this.$store.dispatch("server/spoolman/refreshSpools")}close(){this.$emit("close")}refreshSpools(){this.$store.dispatch("server/spoolman/refreshSpools")}customFilter(e,s,t){var n;if(s.trim().startsWith("web+spoolman:s-")){const a=parseInt((n=s.split("-")[1])!=null?n:-1);return t.id===a}const r=s.toLowerCase().split(" "),i=[t.id.toString(),t.comment,t.filament.name,t.filament.vendor.name,t.filament.material,t.location];for(const a of r)if(!i.some(l=>l==null?void 0:l.toLowerCase().includes(a)))return!1;return!0}setSpool(e){if(!this.setActiveSpool){this.$emit("select-spool",e),this.close();return}if(this.$store.dispatch("server/spoolman/setActiveSpool",e.id),!this.tool){this.close();return}const s="SET_GCODE_VARIABLE MACRO=".concat(this.tool," VARIABLE=spool_id VALUE=").concat(e.id);if(this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s}),!this.existsSaveVariables){this.close();return}const t="SAVE_VARIABLE VARIABLE=".concat(this.tool.toUpperCase(),"__SPOOL_ID VALUE=").concat(e.id);this.$store.dispatch("server/addEvent",{message:t,type:"command"}),this.$socket.emit("printer.gcode.script",{script:t}),this.close()}onShowDialogChanged(e){e&&(this.search="")}};Do([x({required:!0})],ni.prototype,"showDialog",2);Do([x({required:!1,default:null})],ni.prototype,"tool",2);Do([x({required:!1,default:!0})],ni.prototype,"setActiveSpool",2);Do([ce("showDialog")],ni.prototype,"onShowDialogChanged",1);ni=Do([w({components:{SpoolmanChangeSpoolDialogRow:nx,Panel:B}})],ni);var AA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{width:"800",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.setActiveSpool?e.$t("Panels.SpoolmanPanel.ChangeSpool"):e.$t("Panels.SpoolmanPanel.SelectSpool"),icon:e.mdiAdjust,"card-class":"spoolman-change-spool-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(ft,[t(re,{staticStyle:{"max-width":"300px"},attrs:{"append-icon":e.mdiMagnify,label:e.$t("Panels.SpoolmanPanel.Search"),outlined:"",dense:"","hide-details":""},model:{value:e.search,callback:function(r){e.search=r},expression:"search"}}),t(ie),t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Panels.SpoolmanPanel.Refresh"),loading:e.loadings.includes("refreshSpools")},on:{click:e.refreshSpools}},[t(_,[e._v(e._s(e.mdiRefresh))])],1),t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Panels.SpoolmanPanel.OpenSpoolManager")},on:{click:e.openSpoolManager}},[t(_,[e._v(e._s(e.mdiDatabase))])],1)],1),t(Z,{staticClass:"px-0 pb-0"},[t(Mr,{attrs:{headers:e.headers,items:e.spools,"item-key":"id",search:e.search,"sort-by":"last_used","sort-desc":!0,"custom-filter":e.customFilter},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(e._s(e.$t("Panels.SpoolmanPanel.NoSpools")))])]},proxy:!0},{key:"no-results",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(e._s(e.$t("Panels.SpoolmanPanel.NoResults")))])]},proxy:!0},{key:"item",fn:function(r){var i=r.item;return[t(nx,{key:i.id,attrs:{spool:i,max_id_digits:e.max_spool_id_digits},on:{"set-spool":e.setSpool}})]}}])})],1)],1)],1)],1)},kA=[];const Z_={};var RA=E(ni,AA,kA,!1,HA,null,null,null);function HA(e){for(let s in Z_)this[s]=Z_[s]}const Fr=function(){return RA.exports}();var jA=Object.defineProperty,IA=Object.getOwnPropertyDescriptor,ax=(e,s,t,r)=>{for(var i=r>1?void 0:r?IA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&jA(s,t,i),i};let rc=class extends M(O){constructor(){super(...arguments),this.mdiEject=Of,this.mdiCloseThick=pe}close(){this.$emit("close")}removeSpool(){this.$store.dispatch("server/spoolman/setActiveSpool",null),this.close()}};ax([x({required:!0})],rc.prototype,"showDialog",2);rc=ax([w({components:{Panel:B}})],rc);var NA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{width:"400",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.SpoolmanPanel.EjectSpool"),icon:e.mdiEject,"card-class":"spoolman-eject-spool-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",{staticClass:"body-2"},[e._v(e._s(e.$t("Panels.SpoolmanPanel.EjectSpoolQuestion")))])])],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.$t("Panels.SpoolmanPanel.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.removeSpool}},[e._v(" "+e._s(e.$t("Panels.SpoolmanPanel.EjectSpool"))+" ")])],1)],1)],1)},VA=[];const Y_={};var UA=E(rc,NA,VA,!1,BA,null,null,null);function BA(e){for(let s in Y_)this[s]=Y_[s]}const pg=function(){return UA.exports}();var GA=Object.defineProperty,WA=Object.getOwnPropertyDescriptor,ox=(e,s,t,r)=>{for(var i=r>1?void 0:r?WA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&GA(s,t,i),i};let ic=class extends M(O){get listItemContentClass(){return this.small?"my-0":""}get overlineClass(){const e=["text-overline","mb-1"];return this.small&&e.push("line-height-auto"),e}get listItemTitleClass(){return this.small?["text-h6","mb-1"]:["text-h5","mb-1"]}get avatarSize(){return this.small?60:80}get active_spool(){var e;return(e=this.$store.state.server.spoolman.active_spool)!=null?e:null}get color(){var s,t;const e=(t=(s=this.active_spool)==null?void 0:s.filament.color_hex)!=null?t:null;return e===null?"#000":"#".concat(e)}get id(){var e,s;return(s=(e=this.active_spool)==null?void 0:e.id)!=null?s:"XX"}get vendor(){var e,s,t,r;return(r=(t=(s=(e=this.active_spool)==null?void 0:e.filament)==null?void 0:s.vendor)==null?void 0:t.name)!=null?r:"Unknown"}get name(){var e,s;return(s=(e=this.active_spool)==null?void 0:e.filament.name)!=null?s:"Unknown"}get materialOutput(){var s,t;const e=(t=(s=this.active_spool)==null?void 0:s.filament.material)!=null?t:null;return e===null?null:e}get weightOutput(){var i,n,a,o;let e=(n=(i=this.active_spool)==null?void 0:i.remaining_weight)!=null?n:null,s=(o=(a=this.active_spool)==null?void 0:a.filament.weight)!=null?o:null,t="g";if(e===null||s===null)return null;e=Math.round(e);let r=Math.floor(s/1e3);return s>=1e3?(r!==s/1e3&&(r=Math.round(s/100)/10),"".concat(e,"g / ").concat(r,"kg")):"".concat(e," / ").concat(s).concat(t)}get lengthOutput(){var s,t;let e=(t=(s=this.active_spool)==null?void 0:s.remaining_length)!=null?t:null;return e===null?null:(e=Math.round(e/1e3),"".concat(e,"m"))}get subtitle(){return[this.materialOutput,this.weightOutput,this.lengthOutput].filter(e=>e!==null).join(" | ")}clickSpool(){this.$emit("change-spool")}};ox([x({required:!1,default:!1})],ic.prototype,"small",2);ic=ox([w({components:{Panel:B,SpoolmanChangeSpoolDialog:Fr,SpoolmanEjectSpoolDialog:pg}})],ic);var zA=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Y,{attrs:{"three-line":""}},[t(ot,{class:e.listItemContentClass},[t("div",{class:e.overlineClass},[e._v("#"+e._s(e.id)+" | "+e._s(e.vendor))]),t(Ne,{class:e.listItemTitleClass},[t("span",{staticClass:"cursor-pointer",on:{click:e.clickSpool}},[e._v(e._s(e.name))])]),t(zs,[e._v(e._s(e.subtitle))])],1),t(BD,{attrs:{tile:"",size:e.avatarSize}},[t(mg,{attrs:{color:e.color},on:{"click-spool":e.clickSpool}})],1)],1)},qA=[];const X_={};var ZA=E(ic,zA,qA,!1,YA,"dfb564f4",null,null);function YA(e){for(let s in X_)this[s]=X_[s]}const ud=function(){return ZA.exports}();var XA=Object.defineProperty,JA=Object.getOwnPropertyDescriptor,KA=(e,s,t,r)=>{for(var i=r>1?void 0:r?JA(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&XA(s,t,i),i};let bm=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiDotsVertical=vo,this.mdiEject=Of,this.mdiOpenInNew=QC,this.mdiSwapVertical=n$,this.showChangeSpoolDialog=!1,this.showEjectSpoolDialog=!1}get health(){var s;return(s=this.$store.state.server.spoolman.health)!=null?s:""}get title(){const s=this.$t("Panels.SpoolmanPanel.Headline");return this.health===""||this.health==="healthy"?s:"".concat(s," (").concat(this.health,")")}get changeSpoolTooltip(){return this.active_spool===null?this.$t("Panels.SpoolmanPanel.SelectSpool"):this.$t("Panels.SpoolmanPanel.ChangeSpool")}get active_spool(){var s;return(s=this.$store.state.server.spoolman.active_spool)!=null?s:null}get spoolManagerUrl(){var s,t,r;return(r=(t=(s=this.$store.state.server.config.config)==null?void 0:s.spoolman)==null?void 0:t.server)!=null?r:null}get toolsWithSpoolId(){return Object.keys(this.$store.state.printer).filter(s=>/^gcode_macro T\d+$/i.test(s.toLowerCase())).filter(s=>{var r;const t=(r=this.$store.state.printer[s])!=null?r:{};return Object.keys(t).some(i=>i.toLowerCase()==="spool_id")})}openSpoolManager(){window.open(this.spoolManagerUrl,"_blank")}};bm=KA([w({components:{SpoolmanPanelActiveSpool:ud,Panel:B,SpoolmanChangeSpoolDialog:Fr,SpoolmanEjectSpoolDialog:pg}})],bm);var QA=Object.defineProperty,e7=Object.getOwnPropertyDescriptor,lx=(e,s,t,r)=>{for(var i=r>1?void 0:r?e7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&QA(s,t,i),i};let nc=class extends M(O){constructor(){super(...arguments),this.showChangeSpoolDialog=!1}get name(){var e;return((e=this.objectName.split(" ")[1])!=null?e:"Unknown").toUpperCase()}get color(){var e,s,t;return(t=(s=(e=this.spool)==null?void 0:e.filament)==null?void 0:s.color_hex)!=null?t:"000000"}get dotStyle(){return{"background-color":"#"+this.color}}get spoolId(){var s,t;return(t=((s=this.$store.state.printer[this.objectName])!=null?s:{}).spool_id)!=null?t:null}get spool(){var e;return(e=this.spools.find(s=>s.id===this.spoolId))!=null?e:null}get spools(){var e;return(e=this.$store.state.server.spoolman.spools)!=null?e:[]}};lx([x({required:!1,default:!1})],nc.prototype,"objectName",2);nc=lx([w({components:{}})],nc);var t7=function(){var e,s,t,r=this,i=r.$createElement,n=r._self._c||i;return n(Y,[n(g,{attrs:{small:""},on:{click:function(a){r.showChangeSpoolDialog=!0}}},[r.color!=null?n("span",{staticClass:"_extruderColorState mr-2",style:r.dotStyle}):r._e(),r._v(" "+r._s(r.name)+" "),r.spoolId===null?n("span",{staticClass:"font-italic ml-1"},[r._v("("+r._s(r.$t("Panels.SpoolmanPanel.NoSpool"))+")")]):n("span",{staticClass:"ml-1"},[r._v("("+r._s((e=(s=r.spool)===null||s===void 0||(t=s.filament)===null||t===void 0?void 0:t.name)!==null&&e!==void 0?e:"--")+")")])]),n(Fr,{attrs:{"show-dialog":r.showChangeSpoolDialog,tool:r.name},on:{close:function(a){r.showChangeSpoolDialog=!1}}})],1)},s7=[];const J_={};var r7=E(nc,t7,s7,!1,i7,"49b164b5",null,null);function i7(e){for(let s in J_)this[s]=J_[s]}const cx=function(){return r7.exports}();var n7=Object.defineProperty,a7=Object.getOwnPropertyDescriptor,ux=(e,s,t,r)=>{for(var i=r>1?void 0:r?a7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&n7(s,t,i),i};let ac=class extends M(O){constructor(){super(...arguments),this.mdiSwapVertical=n$,this.showChangeSpoolDialog=!1}};ux([x({required:!1,default:!1})],ac.prototype,"tools",2);ac=ux([w({components:{SpoolmanToolsDropdownItem:cx}})],ac);var o7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1,left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiSwapVertical))])],1)]}}])},[t(Ee,{attrs:{dense:""}},[t(Y,[t(g,{attrs:{small:""},on:{click:function(r){e.showChangeSpoolDialog=!0}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiSwapVertical))]),e._v(" "+e._s(e.$t("Panels.SpoolmanPanel.ActiveSpool"))+" ")],1)],1),e._l(e.tools,function(r){return t(cx,{key:r,attrs:{"object-name":r}})})],2),t(Fr,{attrs:{"show-dialog":e.showChangeSpoolDialog},on:{close:function(r){e.showChangeSpoolDialog=!1}}})],1)},l7=[];const K_={};var c7=E(ac,o7,l7,!1,u7,null,null,null);function u7(e){for(let s in K_)this[s]=K_[s]}const d7=function(){return c7.exports}();var h7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(B,{attrs:{icon:e.mdiAdjust,title:e.title,"card-class":"spoolman-panel",collapsible:!0},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.toolsWithSpoolId.length>0?t(d7,{attrs:{tools:e.toolsWithSpoolId}}):t(g,{attrs:{icon:"",tile:"",title:e.changeSpoolTooltip},on:{click:function(r){e.showChangeSpoolDialog=!0}}},[t(_,[e._v(e._s(e.mdiSwapVertical))])],1),t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1,left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDotsVertical))])],1)]}}])},[t(Ee,{attrs:{dense:""}},[t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){e.showEjectSpoolDialog=!0}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiEject))]),e._v(" "+e._s(e.$t("Panels.SpoolmanPanel.EjectSpool"))+" ")],1)],1),t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:e.openSpoolManager}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiOpenInNew))]),e._v(" "+e._s(e.$t("Panels.SpoolmanPanel.OpenSpoolManager"))+" ")],1)],1)],1)],1)]},proxy:!0}])},[e.active_spool===null?t(Z,[t(C,[t(v,{staticClass:"text-center"},[t("p",{staticClass:"text--disabled"},[e._v(e._s(e.$t("Panels.SpoolmanPanel.NoActiveSpool")))]),t(g,{attrs:{small:"",color:"primary"},on:{click:function(r){e.showChangeSpoolDialog=!0}}},[e._v(" "+e._s(e.$t("Panels.SpoolmanPanel.SelectSpool"))+" ")])],1)],1)],1):t(ud,{on:{"change-spool":function(r){e.showChangeSpoolDialog=!0}}})],1),t(Fr,{attrs:{"show-dialog":e.showChangeSpoolDialog},on:{close:function(r){e.showChangeSpoolDialog=!1}}}),t(pg,{attrs:{"show-dialog":e.showEjectSpoolDialog},on:{close:function(r){e.showEjectSpoolDialog=!1}}})],1)},m7=[];const Q_={};var p7=E(bm,h7,m7,!1,f7,null,null,null);function f7(e){for(let s in Q_)this[s]=Q_[s]}const g7=function(){return p7.exports}();var _7=Object.defineProperty,v7=Object.getOwnPropertyDescriptor,b7=(e,s,t,r)=>{for(var i=r>1?void 0:r?v7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_7(s,t,i),i};const y7=[{name:"aliceblue",hex:"#F0F8FF"},{name:"antiquewhite",hex:"#FAEBD7"},{name:"aqua",hex:"#00FFFF"},{name:"aquamarine",hex:"#7FFFD4"},{name:"azure",hex:"#F0FFFF"},{name:"beige",hex:"#F5F5DC"},{name:"bisque",hex:"#FFE4C4"},{name:"black",hex:"#000000"},{name:"blanchedalmond",hex:"#FFEBCD"},{name:"blue",hex:"#0000FF"},{name:"blueviolet",hex:"#8A2BE2"},{name:"brown",hex:"#A52A2A"},{name:"burlywood",hex:"#DEB887"},{name:"cadetblue",hex:"#5F9EA0"},{name:"chartreuse",hex:"#7FFF00"},{name:"chocolate",hex:"#D2691E"},{name:"coral",hex:"#FF7F50"},{name:"cornflowerblue",hex:"#6495ED"},{name:"cornsilk",hex:"#FFF8DC"},{name:"crimson",hex:"#DC143C"},{name:"cyan",hex:"#00FFFF"},{name:"darkblue",hex:"#00008B"},{name:"darkcyan",hex:"#008B8B"},{name:"darkgoldenrod",hex:"#B8860B"},{name:"darkgray",hex:"#A9A9A9"},{name:"darkgreen",hex:"#006400"},{name:"darkgrey",hex:"#A9A9A9"},{name:"darkkhaki",hex:"#BDB76B"},{name:"darkmagenta",hex:"#8B008B"},{name:"darkolivegreen",hex:"#556B2F"},{name:"darkorange",hex:"#FF8C00"},{name:"darkorchid",hex:"#9932CC"},{name:"darkred",hex:"#8B0000"},{name:"darksalmon",hex:"#E9967A"},{name:"darkseagreen",hex:"#8FBC8F"},{name:"darkslateblue",hex:"#483D8B"},{name:"darkslategray",hex:"#2F4F4F"},{name:"darkslategrey",hex:"#2F4F4F"},{name:"darkturquoise",hex:"#00CED1"},{name:"darkviolet",hex:"#9400D3"},{name:"deeppink",hex:"#FF1493"},{name:"deepskyblue",hex:"#00BFFF"},{name:"dimgray",hex:"#696969"},{name:"dimgrey",hex:"#696969"},{name:"dodgerblue",hex:"#1E90FF"},{name:"firebrick",hex:"#B22222"},{name:"floralwhite",hex:"#FFFAF0"},{name:"forestgreen",hex:"#228B22"},{name:"fuchsia",hex:"#FF00FF"},{name:"gainsboro",hex:"#DCDCDC"},{name:"ghostwhite",hex:"#F8F8FF"},{name:"gold",hex:"#FFD700"},{name:"goldenrod",hex:"#DAA520"},{name:"gray",hex:"#808080"},{name:"green",hex:"#008000"},{name:"greenyellow",hex:"#ADFF2F"},{name:"grey",hex:"#808080"},{name:"honeydew",hex:"#F0FFF0"},{name:"hotpink",hex:"#FF69B4"},{name:"indianred",hex:"#CD5C5C"},{name:"indigo",hex:"#4B0082"},{name:"ivory",hex:"#FFFFF0"},{name:"khaki",hex:"#F0E68C"},{name:"lavender",hex:"#E6E6FA"},{name:"lavenderblush",hex:"#FFF0F5"},{name:"lawngreen",hex:"#7CFC00"},{name:"lemonchiffon",hex:"#FFFACD"},{name:"lightblue",hex:"#ADD8E6"},{name:"lightcoral",hex:"#F08080"},{name:"lightcyan",hex:"#E0FFFF"},{name:"lightgoldenrodyellow",hex:"#FAFAD2"},{name:"lightgray",hex:"#D3D3D3"},{name:"lightgreen",hex:"#90EE90"},{name:"lightgrey",hex:"#D3D3D3"},{name:"lightpink",hex:"#FFB6C1"},{name:"lightsalmon",hex:"#FFA07A"},{name:"lightseagreen",hex:"#20B2AA"},{name:"lightskyblue",hex:"#87CEFA"},{name:"lightslategray",hex:"#778899"},{name:"lightslategrey",hex:"#778899"},{name:"lightsteelblue",hex:"#B0C4DE"},{name:"lightyellow",hex:"#FFFFE0"},{name:"lime",hex:"#00FF00"},{name:"limegreen",hex:"#32CD32"},{name:"linen",hex:"#FAF0E6"},{name:"magenta",hex:"#FF00FF"},{name:"maroon",hex:"#800000"},{name:"mediumaquamarine",hex:"#66CDAA"},{name:"mediumblue",hex:"#0000CD"},{name:"mediumorchid",hex:"#BA55D3"},{name:"mediumpurple",hex:"#9370DB"},{name:"mediumseagreen",hex:"#3CB371"},{name:"mediumslateblue",hex:"#7B68EE"},{name:"mediumspringgreen",hex:"#00FA9A"},{name:"mediumturquoise",hex:"#48D1CC"},{name:"mediumvioletred",hex:"#C71585"},{name:"midnightblue",hex:"#191970"},{name:"mintcream",hex:"#F5FFFA"},{name:"mistyrose",hex:"#FFE4E1"},{name:"moccasin",hex:"#FFE4B5"},{name:"navajowhite",hex:"#FFDEAD"},{name:"navy",hex:"#000080"},{name:"oldlace",hex:"#FDF5E6"},{name:"olive",hex:"#808000"},{name:"olivedrab",hex:"#6B8E23"},{name:"orange",hex:"#FFA500"},{name:"orangered",hex:"#FF4500"},{name:"orchid",hex:"#DA70D6"},{name:"palegoldenrod",hex:"#EEE8AA"},{name:"palegreen",hex:"#98FB98"},{name:"paleturquoise",hex:"#AFEEEE"},{name:"palevioletred",hex:"#DB7093"},{name:"papayawhip",hex:"#FFEFD5"},{name:"peachpuff",hex:"#FFDAB9"},{name:"peru",hex:"#CD853F"},{name:"pink",hex:"#FFC0CB"},{name:"plum",hex:"#DDA0DD"},{name:"powderblue",hex:"#B0E0E6"},{name:"purple",hex:"#800080"},{name:"red",hex:"#FF0000"},{name:"rosybrown",hex:"#BC8F8F"},{name:"royalblue",hex:"#4169E1"},{name:"saddlebrown",hex:"#8B4513"},{name:"salmon",hex:"#FA8072"},{name:"sandybrown",hex:"#F4A460"},{name:"seagreen",hex:"#2E8B57"},{name:"seashell",hex:"#FFF5EE"},{name:"sienna",hex:"#A0522D"},{name:"silver",hex:"#C0C0C0"},{name:"skyblue",hex:"#87CEEB"},{name:"slateblue",hex:"#6A5ACD"},{name:"slategray",hex:"#708090"},{name:"slategrey",hex:"#708090"},{name:"snow",hex:"#FFFAFA"},{name:"springgreen",hex:"#00FF7F"},{name:"steelblue",hex:"#4682B4"},{name:"tan",hex:"#D2B48C"},{name:"teal",hex:"#008080"},{name:"thistle",hex:"#D8BFD8"},{name:"tomato",hex:"#FF6347"},{name:"turquoise",hex:"#40E0D0"},{name:"violet",hex:"#EE82EE"},{name:"wheat",hex:"#F5DEB3"},{name:"white",hex:"#FFFFFF"},{name:"whitesmoke",hex:"#F5F5F5"},{name:"yellow",hex:"#FFFF00"},{name:"yellowgreen",hex:"#9ACD32"}];let lt=class extends y{constructor(){super(...arguments),this.UNIT_UNKNOWN=-1,this.TOOL_GATE_UNKNOWN=-1,this.TOOL_GATE_BYPASS=-2,this.FILAMENT_POS_UNKNOWN=-1,this.FILAMENT_POS_UNLOADED=0,this.FILAMENT_POS_HOMED_GATE=1,this.FILAMENT_POS_START_BOWDEN=2,this.FILAMENT_POS_IN_BOWDEN=3,this.FILAMENT_POS_END_BOWDEN=4,this.FILAMENT_POS_HOMED_ENTRY=5,this.FILAMENT_POS_HOMED_EXTRUDER=6,this.FILAMENT_POS_EXTRUDER_ENTRY=7,this.FILAMENT_POS_HOMED_TS=8,this.FILAMENT_POS_IN_EXTRUDER=9,this.FILAMENT_POS_LOADED=10,this.DIRECTION_LOAD=1,this.DIRECTION_UNKNOWN=0,this.DIRECTION_UNLOAD=-1,this.GATE_UNKNOWN=-1,this.GATE_EMPTY=0,this.GATE_AVAILABLE=1,this.GATE_AVAILABLE_FROM_BUFFER=2,this.ACTION_IDLE="Idle",this.ACTION_LOADING="Loading",this.ACTION_LOADING_EXTRUDER="Loading Ext",this.ACTION_UNLOADING="Unloading",this.ACTION_UNLOADING_EXTRUDER="Unloading Ext",this.ACTION_FORMING_TIP="Forming Tip",this.ACTION_CUTTING_TIP="Cutting Tip",this.ACTION_HEATING="Heating",this.ACTION_CHECKING="Checking",this.ACTION_HOMING="Homing",this.ACTION_SELECTING="Selecting",this.ACTION_CUTTING_FILAMENT="Cutting Filament",this.ACTION_PURGING="Purging",this.SPOOLMAN_OFF="off",this.SPOOLMAN_READONLY="readonly",this.SPOOLMAN_PUSH="push",this.SPOOLMAN_PULL="pull",this.ESPOOLER_REWIND="rewind",this.ESPOOLER_ASSIST="assist",this.T_MACRO_COLOR_OPTIONS=["slicer","allgates","gatemap","off"],this.LED_OPTIONS=["off","gate_status","filament_color","slicer_color"],this.LED_STATUS_OPTIONS=[...this.LED_OPTIONS,"on"],this.AUTOMAP_OPTIONS=["none","filament_name","material","color","closest_color","spool_id"],this.NO_FILAMENT_COLOR="#808182E3"}get hasMmu(){return!!this.$store.state.printer.mmu}get hasEncoder(){var e;return!!((e=this.$store.state.printer.mmu)!=null&&e.encoder)}get encoderPos(){var e,s,t;return Math.round((t=(s=(e=this.$store.state.printer.mmu)==null?void 0:e.encoder)==null?void 0:s.encoder_pos)!=null?t:0)}get encoderEnabled(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.encoder)==null?void 0:s.enabled}get encoderDesiredHeadroom(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.encoder.desired_headroom}get encoderDetectionLength(){return this.$store.state.printer.mmu.encoder.detection_length}get encoderDetectionMode(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.encoder.detection_mode}get encoderFlowRate(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.encoder.flow_rate}get numUnits(){var e,s;return(s=(e=this.$store.state.printer.mmu_machine)==null?void 0:e.num_units)!=null?s:1}unitDetails(e){var r,i,n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee,te,j,z,T,A;const s="unit_".concat(e);return{name:(n=(i=(r=this.$store.state.printer.mmu_machine)==null?void 0:r[s])==null?void 0:i.name)!=null?n:"Unit",vendor:(l=(o=(a=this.$store.state.printer.mmu_machine)==null?void 0:a[s])==null?void 0:o.vendor)!=null?l:"Other",version:(d=(u=(c=this.$store.state.printer.mmu_machine)==null?void 0:c[s])==null?void 0:u.version)!=null?d:"1.0",numGates:(p=(m=(h=this.$store.state.printer.mmu_machine)==null?void 0:h[s])==null?void 0:m.num_gates)!=null?p:1,firstGate:($=(b=(f=this.$store.state.printer.mmu_machine)==null?void 0:f[s])==null?void 0:b.first_gate)!=null?$:0,selectorType:(R=(D=(P=this.$store.state.printer.mmu_machine)==null?void 0:P[s])==null?void 0:D.selector_type)!=null?R:"VirtualSelector",variableRotationDistances:(L=(S=(k=this.$store.state.printer.mmu_machine)==null?void 0:k[s])==null?void 0:S.variable_rotation_distances)!=null?L:!0,variableBowdenLengths:(G=(N=(I=this.$store.state.printer.mmu_machine)==null?void 0:I[s])==null?void 0:N.variable_bowden_lengths)!=null?G:!0,requireBowdenMove:(F=(se=(q=this.$store.state.printer.mmu_machine)==null?void 0:q[s])==null?void 0:se.require_bowden_move)!=null?F:!0,filamentAlwaysGripped:(J=(X=(W=this.$store.state.printer.mmu_machine)==null?void 0:W[s])==null?void 0:X.filament_always_gripped)!=null?J:!1,hasBypass:(j=(te=(ee=this.$store.state.printer.mmu_machine)==null?void 0:ee[s])==null?void 0:te.has_bypass)!=null?j:!1,multiGear:(A=(T=(z=this.$store.state.printer.mmu_machine)==null?void 0:z[s])==null?void 0:T.multi_gear)!=null?A:!1}}get enabled(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.enabled)!=null?s:!1}get numGates(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.num_gates)!=null?s:0}get printState(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.print_state}get isPrinting(){var e;return["started","printing"].includes((e=this.$store.state.printer.mmu)==null?void 0:e.print_state)}get isInPrint(){var e;return["printing","pause_locked","paused"].includes((e=this.$store.state.printer.mmu)==null?void 0:e.print_state)}get isMmuPaused(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.is_paused)!=null?s:!1}get isMmuPausedAndLocked(){var e;return["pause_locked"].includes((e=this.$store.state.printer.mmu)==null?void 0:e.print_state)}get isHomed(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.is_homed)!=null?s:!1}get unit(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.unit)!=null?s:this.UNIT_UNKNOWN}get gate(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.gate)!=null?s:this.TOOL_GATE_UNKNOWN}get tool(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.tool)!=null?s:this.TOOL_GATE_UNKNOWN}get activeFilament(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.active_filament}get numToolchanges(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.num_toolchanges}get lastTool(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.last_tool}get nextTool(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.next_tool}get toolchangePurgeVolue(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.toolchange_purge_volume}get lastToolchange(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.last_toolchange)!=null?s:""}get operation(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.operation}get filament(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.filament}get filamentPosition(){var e,s;return((s=(e=this.$store.state.printer.mmu)==null?void 0:e.filament_position)!=null?s:0).toFixed(1)}get filamentPos(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.filament_pos)!=null?s:this.FILAMENT_POS_UNKNOWN}get filamentDirection(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.filament_direction}get bowdenProgress(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.bowden_progress)!=null?s:-1}get ttgMap(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.ttg_map}get endlessSpoolGroups(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.endless_spool_groups}get gateStatus(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_status}get gateFilamentName(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_filament_name}get gateMaterial(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_material}get gateColor(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_color}get gateTemperature(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_temperature}get gateSpoolId(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_spool_id}get gateSpeedOverride(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.gate_speed_override}get gateMap(){return this.gateStatus.map((e,s)=>this.gateDetails(s))}gateDetails(e){var t,r,i,n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee,te,j,z,T,A,V,Q,le;const s={};return e===this.TOOL_GATE_BYPASS?(s.index=-2,s.status=-1,this.gate===e?(s.filamentName=(n=(i=(r=(t=this.$store.state.server.spoolman)==null?void 0:t.active_spool)==null?void 0:r.filament)==null?void 0:i.name)!=null?n:"No active spool",s.material=(c=(l=(o=(a=this.$store.state.server.spoolman)==null?void 0:a.active_spool)==null?void 0:o.filament)==null?void 0:l.material)!=null?c:"Unknown",s.color=this.formColorString((m=(h=(d=(u=this.$store.state.server.spoolman)==null?void 0:u.active_spool)==null?void 0:d.filament)==null?void 0:h.color_hex)!=null?m:null),s.temperature=($=(b=(f=(p=this.$store.state.server.spoolman)==null?void 0:p.active_spool)==null?void 0:f.filament)==null?void 0:b.settings_extruder_temp)!=null?$:-1,s.spoolId=(R=(D=(P=this.$store.state.server.spoolman)==null?void 0:P.active_spool)==null?void 0:D.id)!=null?R:-1):(s.filamentName="Unknown",s.material="Unknown",s.color=this.formColorString(null),s.temperature=-1,s.spoolId=-1),s.speedOverride=100,s.endlessSpoolGroup=null):(s.index=e,s.status=(L=(S=(k=this.$store.state.printer.mmu)==null?void 0:k.gate_status)==null?void 0:S[e])!=null?L:-1,s.filamentName=((N=(I=this.$store.state.printer.mmu)==null?void 0:I.gate_filament_name)==null?void 0:N[e])||"Unknown",s.material=((q=(G=this.$store.state.printer.mmu)==null?void 0:G.gate_material)==null?void 0:q[e])||"Unknown",s.color=this.formColorString((F=(se=this.$store.state.printer.mmu)==null?void 0:se.gate_color[e])!=null?F:""),s.temperature=(J=(X=(W=this.$store.state.printer.mmu)==null?void 0:W.gate_temperature)==null?void 0:X[e])!=null?J:-1,s.spoolId=(j=(te=(ee=this.$store.state.printer.mmu)==null?void 0:ee.gate_spool_id)==null?void 0:te[e])!=null?j:-1,s.speedOverride=(A=(T=(z=this.$store.state.printer.mmu)==null?void 0:z.gate_speed_override)==null?void 0:T[e])!=null?A:100,s.endlessSpoolGroup=(le=(Q=(V=this.$store.state.printer.mmu)==null?void 0:V.endless_spool_groups)==null?void 0:Q[e])!=null?le:e),s}spoolmanSpool(e){var r,i,n,a;const s=(r=this.$store.state.server.spoolman.active_spool)!=null?r:null;return(s==null?void 0:s.id)===e?s:(a=((n=(i=this.$store.state.server.spoolman)==null?void 0:i.spools)!=null?n:[]).find(o=>o.id===e))!=null?a:null}get slicerToolMap(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.slicer_tool_map}toolDetails(e,s){var r,i,n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee;const t={};if(s){let te,j;switch(s.slicer){case"OrcaSlicer":case"BambuStudio":te=(r=s.filament_colors)!=null?r:[],j=(i=s.extruder_colors)!=null?i:[];break;case"SuperSlicer":default:te=(n=s.extruder_colors)!=null?n:[],j=(a=s.filament_colors)!=null?a:[];break}const z=te.length===0||te.every(_e=>_e==="")?j:te;t.color=z.length>e?this.formColorString(z[e]):this.formColorString("");const T=(o=s.filament_type)!=null?o:"",A=T?T.split(/[,;]/).map(_e=>_e.trim()):[];t.material=A[e]||"Unknown";const V=(l=s.filament_temps)!=null?l:[];t.temp=V.length>e?V[e]:-1;const Q=(c=s.filament_name)!=null?c:"",le=Q?Q.split(/[,;]/).map(_e=>_e.trim().replace(/^["']|["']$/g,"")):[];t.name=le[e]||"Unknown";const he=(u=s.referenced_tools)!=null?u:[];t.inUse=(d=he==null?void 0:he.includes(e))!=null?d:!1}else t.color=this.formColorString((b=(f=(p=(m=(h=this.$store.state.printer.mmu)==null?void 0:h.slicer_tool_map)==null?void 0:m.tools)==null?void 0:p[e])==null?void 0:f.color)!=null?b:""),t.material=((R=(D=(P=($=this.$store.state.printer.mmu)==null?void 0:$.slicer_tool_map)==null?void 0:P.tools)==null?void 0:D[e])==null?void 0:R.material)||"Unknown",t.temp=(N=(I=(L=(S=(k=this.$store.state.printer.mmu)==null?void 0:k.slicer_tool_map)==null?void 0:S.tools)==null?void 0:L[e])==null?void 0:I.temp)!=null?N:-1,t.name=((F=(se=(q=(G=this.$store.state.printer.mmu)==null?void 0:G.slicer_tool_map)==null?void 0:q.tools)==null?void 0:se[e])==null?void 0:F.name)||"Unknown",t.inUse=((ee=(J=(X=(W=this.$store.state.printer.mmu)==null?void 0:W.slicer_tool_map)==null?void 0:X.tools)==null?void 0:J[e])==null?void 0:ee.in_use)||!1;return t}get action(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.action}get hasBypass(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.has_bypass)!=null?s:!1}get syncDrive(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.sync_drive}get syncFeedbackEnabled(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.sync_feedback_enabled}get clogDetectionEnabled(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.clog_detection_enabled}get endlessSpoolEnabled(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.endless_spool_enabled}get reasonForPause(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.reason_for_pause)!=null?s:""}get extruderFilamentRemaining(){var e;return(e=this.$store.state.printer.mmu)==null?void 0:e.extruder_filament_remaining}get spoolmanSupport(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.spoolman_support)!=null?s:"off"}get sensors(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.sensors)!=null?s:[]}get espoolerActive(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.espooler_active)!=null?s:""}get servo(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.servo)!=null?s:"Unknown"}get grip(){var e,s;return(s=(e=this.$store.state.printer.mmu)==null?void 0:e.grip)!=null?s:"Unknown"}get configGateHomingEndstop(){var e;return(e=this.$store.state.printer.configfile.config.mmu)==null?void 0:e.gate_homing_endstop}get configExtruderHomingEndstop(){var e;return(e=this.$store.state.printer.configfile.config.mmu)==null?void 0:e.extruder_homing_endstop}get configExtruderForceHoming(){var e,s;return((s=(e=this.$store.state.printer.configfile.config.mmu)==null?void 0:e.extruder_force_homing)!=null?s:0)===1}get configTMacroColor(){var e,s;return(s=(e=this.$store.state.printer.configfile.config.mmu)==null?void 0:e.t_macro_color)!=null?s:"slicer"}get varsCalibrationBowdenLengths(){var e,s;return(s=(e=this.$store.state.printer.save_variables)==null?void 0:e.variables)==null?void 0:s.mmu_calibration_bowden_lengths}get varsFilamentRemaining(){var e,s,t;return(t=(s=(e=this.$store.state.printer.save_variables)==null?void 0:e.variables)==null?void 0:s.mmu_state_filament_remaining)!=null?t:0}get varsFilamentRemainingColor(){var s,t,r;const e=(r=(t=(s=this.$store.state.printer.save_variables)==null?void 0:s.variables)==null?void 0:t.mmu_state_filament_remaining_color)!=null?r:"";return e&&this.formColorString(e)}get macroVarsLedEnable(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_LED_VARS"])==null?void 0:e.led_enable)!=null?s:!1}get macroVarsLedAnimation(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_LED_VARS"])==null?void 0:e.led_animation)!=null?s:!0}get macroVarsDefaultEntryEffect(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_LED_VARS"])==null?void 0:e.default_entry_effect)!=null?s:"off"}get macroVarsDefaultExitEffect(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_LED_VARS"])==null?void 0:e.default_exit_effect)!=null?s:"off"}get macroVarsDefaultStatusEffect(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_LED_VARS"])==null?void 0:e.default_status_effect)!=null?s:"off"}get macroVarsAutomapStrategy(){var e,s;return(s=(e=this.$store.state.printer["gcode_macro _MMU_SOFTWARE_VARS"])==null?void 0:e.automap_strategy)!=null?s:"none"}gateText(e){return e===-1?"?":e===this.TOOL_GATE_BYPASS?"Bypass":"@"+e}toolText(e){return e===-1?"T?":e===this.TOOL_GATE_BYPASS?"Bypass":"T"+e}get toolchangeText(){if(this.nextTool===this.TOOL_GATE_UNKNOWN)return"";const e=this.lastTool!==this.TOOL_GATE_UNKNOWN?" from ".concat(this.lastTool===this.TOOL_GATE_BYPASS?"Bypass":"T".concat(this.lastTool)):"",s=" to ".concat(this.nextTool===this.TOOL_GATE_BYPASS?"Bypass":"T".concat(this.nextTool));return"Changing tool".concat(e).concat(s)}refreshSpoolmanData(){this.$store.dispatch("server/spoolman/refreshSpools")}async doLoadingSend(e,s){await this.$store.dispatch("socket/addLoading",{name:s}),this.doSend(e),await new Promise(t=>setTimeout(t,500)),await this.$store.dispatch("socket/removeLoading",{name:s})}doSend(e){this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e})}get canSend(){var s;const e=(s=this.$store.state.printer.idle_timeout)==null?void 0:s.state;return this.klipperReadyForGui&&!["printing"].includes(this.printer_state)&&!["Printing"].includes(e)}formColorString(e){let s=this.NO_FILAMENT_COLOR;if(!e)return s;const t=y7.find(r=>r.name===e.toLowerCase());return t?s=t.hex:/^#?[0-9A-Fa-f]{6}([0-9A-Fa-f]{2})?$/.test(e)&&(s=e,s.startsWith("#")||(s="#"+s)),s.length<8&&(s=s+"FF"),s.toUpperCase()}getLuminance({r:e,g:s,b:t}){const r=[e,s,t].map(function(i){return i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)});return r[0]*.2126+r[1]*.7152+r[2]*.0722}};lt=b7([w({})],lt);var C7=Object.defineProperty,$7=Object.getOwnPropertyDescriptor,fg=(e,s,t,r)=>{for(var i=r>1?void 0:r?$7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&C7(s,t,i),i};let Ma=class extends M(O,lt){get unitArray(){return Array.from({length:this.numUnits},(e,s)=>s)}selectGate(e){this.$emit("select-gate",e)}};fg([x({required:!1,default:null})],Ma.prototype,"editGateMap",2);fg([x({required:!1,default:-1})],Ma.prototype,"editGateSelected",2);Ma=fg([w({})],Ma);var x7=Object.defineProperty,S7=Object.getOwnPropertyDescriptor,Mo=(e,s,t,r)=>{for(var i=r>1?void 0:r?S7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&x7(s,t,i),i};let ai=class extends M(O,lt){constructor(){super(...arguments),this.contrastColor="black"}get details(){return this.editGateMap?this.editGateMap[this.gateIndex]:this.gateDetails(this.gateIndex)}get showUnavailableSpoolColor(){var e;return(e=this.$store.state.gui.view.mmu.showUnavailableSpoolColor)!=null?e:!1}get filamentAmount(){var r,i,n,a;if(this.editGateMap)return 100;if(this.details.status===this.GATE_EMPTY&&!(this.showUnavailableSpoolColor&&this.details.color!==this.NO_FILAMENT_COLOR))return 0;const e=this.spoolmanSpool(this.details.spoolId);if(!e||!this.details.spoolId||this.details.spoolId<=0||this.spoolmanSupport==="off")return-1;const s=(r=e==null?void 0:e.remaining_weight)!=null?r:null,t=(a=(n=e==null?void 0:e.initial_weight)!=null?n:(i=e==null?void 0:e.filament)==null?void 0:i.weight)!=null?a:null;return s===null||t===null?-1:Math.ceil(Math.max(0,Math.min(100,s/t*100)))}get filamentColor(){return this.$nextTick(()=>{this.computeContrastColor()}),this.details.color}computedScale(e,s){return this.editGateMap||this.filamentAmount<0?s:e+(s-e)*(this.filamentAmount/100)}computeContrastColor(){const e=this.$refs.filament;if(!e){this.contrastColor="black";return}const t=window.getComputedStyle(e).fill.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(t){const[r,i,n]=t.slice(1,4).map(Number),a=this.getLuminance({r,g:i,b:n});this.contrastColor=a>.5?"black":"white"}else this.contrastColor="black"}mounted(){this.computeContrastColor()}};Mo([x({required:!0,default:-1})],ai.prototype,"gateIndex",2);Mo([x({required:!1,default:"#AD8762"})],ai.prototype,"spoolWheelColor",2);Mo([x({required:!1,default:null})],ai.prototype,"editGateMap",2);Mo([x({required:!1,default:-1})],ai.prototype,"editGateSelected",2);ai=Mo([w({})],ai);var w7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{ref:"mmuSpoolSvg",attrs:{viewBox:"0 0 248 500",preserveAspectRatio:"xMidYMid meet"}},[t("defs",[t("path",{attrs:{id:"oval",d:"M 0 -63 C 35 -63 63 -35 63 0 C 63 35 35 63 0 63 C -35 63 -63 35 -63 0 C -63 -35 -35 -63 0 -63 z","vector-effect":"non-scaling-stroke"}}),t("path",{attrs:{id:"center",d:"M 0 -63 C 35 -63 63 -35 63 0 C 63 35 35 63 0 63 L -624 63 L -624 -63 z","vector-effect":"non-scaling-stroke"}}),t("path",{attrs:{id:"espool",d:"M 89.561 35.5 L 60.333 15.734 c -0.308 -0.208 -0.704 -0.229 -1.029 -0.055 c -0.327 0.173 -0.531 0.513 -0.531 0.883 v 7.987 c -12.038 0.262 -26.306 5.201 -37.501 13.023 C 7.554 47.155 0 59.894 0 73.438 c 0 0.471 0.329 0.878 0.79 0.978 C 0.86 74.432 0.931 74.438 1 74.438 c 0.386 0 0.747 -0.225 0.911 -0.588 c 7.823 -17.312 26.952 -26.183 56.861 -26.376 v 8.62 c 0 0.37 0.204 0.71 0.531 0.883 c 0.325 0.173 0.722 0.153 1.029 -0.055 l 29.228 -19.766 C 89.835 36.971 90 36.661 90 36.329 S 89.835 35.686 89.561 35.5 z","stroke-width":"2",stroke:"#CCCCCC",fill:"#808080",opacity:"0.7"}})]),t("filter",{attrs:{id:"blur_wheel2",width:"1.3",height:"1.16"}},[t("feGaussianBlur",{attrs:{in:"SourceAlpha",stdDeviation:"3"}}),t("feOffset",{attrs:{dx:"18",dy:"0",result:"oBlur"}}),t("feFlood",{attrs:{"flood-color":"#000","flood-opacity":".67"}}),t("feComposite",{attrs:{in2:"oBlur",operator:"in"}}),t("feMerge",[t("feMergeNode"),t("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1),t("g",{attrs:{transform:"matrix(0.59,0,0,3.95,197,250)"}},[t("use",{staticStyle:{filter:"url(#blur_wheel2)"},attrs:{href:"#oval",fill:e.spoolWheelColor}}),t("use",{staticStyle:{filter:"url(#blur_wheel2)"},attrs:{href:"#oval",transform:"scale(0.41)",fill:e.spoolWheelColor}}),t("use",{attrs:{href:"#center",transform:"scale(0.41)",fill:e.spoolWheelColor}})]),e.filamentAmount!==0||e.details.status!==e.GATE_EMPTY?t("path",{ref:"filament",attrs:{d:"M 0 -63 C 35 -63 63 -35 63 0 C 63 35 35 63 0 63 L -424 63 L -424 -63 z","vector-effect":"non-scaling-stroke",fill:e.filamentColor,transform:"matrix("+e.computedScale(.28,.4)+",0,0,"+e.computedScale(1.65,3.5)+",197,250)"}}):e._e(),t("g",{attrs:{transform:"matrix(0.59,0,0,3.95,37,250)"}},[t("use",{staticStyle:{filter:"url(#blur_wheel2)"},attrs:{href:"#oval",fill:e.spoolWheelColor}}),t("use",{staticStyle:{fill:"#111111"},attrs:{href:"#oval",transform:"scale(0.41)"}})]),e.editGateMap?e._e():t("g",[e.filamentAmount>0?t("text",{attrs:{x:"152",y:"270","text-anchor":"middle","font-weight":"bold","font-size":"56px",fill:e.contrastColor}},[e._v(" "+e._s(e.filamentAmount)+"% ")]):e.filamentAmount===0&&e.details.status!==e.GATE_EMPTY?t("text",{staticStyle:{fill:"red",stroke:"#111111","stroke-width":"6","stroke-linecap":"round","stroke-linejoin":"round"},attrs:{x:"140",y:"310","text-anchor":"middle","font-weight":"bold","font-size":"160px"}},[e._v(" ! ")]):e._e(),e.espoolerActive===e.ESPOOLER_REWIND&&e.gateIndex===e.gate?t("use",{attrs:{href:"#espool",transform:"translate(225,0) rotate(90) scale(2,2)"}}):e._e(),e.espoolerActive===e.ESPOOLER_ASSIST&&e.gateIndex===e.gate?t("use",{attrs:{href:"#espool",transform:"translate(225,500) rotate(270) scale(2,-2)"}}):e._e()])])},P7=[];const ev={};var T7=E(ai,w7,P7,!1,D7,null,null,null);function D7(e){for(let s in ev)this[s]=ev[s]}const Ea=function(){return T7.exports}();var M7=Object.defineProperty,E7=Object.getOwnPropertyDescriptor,dd=(e,s,t,r)=>{for(var i=r>1?void 0:r?E7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&M7(s,t,i),i};let Ki=class extends M(O,lt){get statusColor(){if(this.gateIndex<0)return"none";let e=this.gateStatus[this.gateIndex];return this.editGateMap&&(e=this.editGateMap[this.gateIndex].status),e>=1?"green":e===0?"#808080":"orange"}get selectedColor(){return this.editGateMap?"none":this.gate===this.gateIndex?"limegreen":"none"}get textColor(){return!this.editGateMap&&this.gate===this.gateIndex?"#000000":this.$vuetify.theme.dark?"#c0c0c0":"#5d5d5d"}};dd([x({required:!0})],Ki.prototype,"gateIndex",2);dd([x({required:!1,default:null})],Ki.prototype,"editGateMap",2);dd([x({required:!1,default:-1})],Ki.prototype,"editGateSelected",2);Ki=dd([w({})],Ki);var O7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{ref:"mmuGateStatusSvg",attrs:{viewBox:"0 0 120 60","xml:space":"preserve",preserveAspectRatio:"xMidYMid meet"}},[t("rect",{attrs:{x:"20",y:"16",width:"80",height:"35",rx:"8",ry:"8","stroke-width":"4",stroke:e.statusColor,fill:e.selectedColor}}),e.gateIndex>=0?t("text",{attrs:{x:"60",y:"44","text-anchor":"middle","font-weight":"bold","font-size":"30px",fill:e.textColor}},[e._v(" "+e._s(e.gateIndex)+" ")]):e._e(),e.gateIndex===e.TOOL_GATE_BYPASS?t("text",{attrs:{x:"60",y:"41","text-anchor":"middle","font-weight":"bold","font-size":"20px",fill:e.textColor}},[e._v(" BYPASS ")]):e._e()])},L7=[];const tv={};var F7=E(Ki,O7,L7,!1,A7,null,null,null);function A7(e){for(let s in tv)this[s]=tv[s]}const ym=function(){return F7.exports}();var k7=Object.defineProperty,R7=Object.getOwnPropertyDescriptor,hd=(e,s,t,r)=>{for(var i=r>1?void 0:r?R7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&k7(s,t,i),i};let Qi=class extends M(O,lt){constructor(){super(...arguments),this.svgLogo=null}get unitDisplayName(){const e=this.unitDetails(this.unitIndex).name;return"#".concat(this.unitIndex+1," ").concat(e)}get unitGateRange(){const e=this.unitDetails(this.unitIndex);return Array.from({length:e.numGates},(s,t)=>t+e.firstGate)}get spoolWidth(){return this.numGates<=8?56:this.numGates<=16?48:40}get logoRowWidth(){return this.spoolWidth*(this.unitGateRange.length+(this.showBypass?1:0))}get clipSpoolClass(){const e=["clip-spool"];return this.numGates<=8?e.push("clip-large"):this.numGates<=16?e.push("clip-medium"):e.push("clip-small"),e}get logoHeight(){return this.spoolWidth-8}get showLogos(){var e;return(e=this.$store.state.gui.view.mmu.showLogos)!=null?e:!1}get showBypass(){return!this.editGateMap&&this.unitDetails(this.unitIndex).hasBypass&&this.hasBypass}gateTooltip(e){const s=this.gateDetails(e);if(s.status===this.GATE_EMPTY)return[this.$t("Panels.MmuPanel.ToolTip.Empty").toString()];const t=[];t.push(s.filamentName);const r=s.temperature>0?" | "+s.temperature+"°C":"";if(t.push(s.material+r),s.color&&s.color!=="#808182E3"){const i=s.color;t.push(this.$t("Panels.MmuPanel.ToolTip.Color").toString()+": "+i.substring(0,7)+(i.length>7&&i.substring(7,9)!=="FF"?i.substring(7,9):""))}return s.spoolId&&s.spoolId>0&&t.push(this.$t("Panels.MmuPanel.ToolTip.SpoolId").toString()+": "+s.spoolId),t}gateStatusClass(e){const s=e===0,t=e===this.unitGateRange.length-1&&!this.showBypass||e===this.TOOL_GATE_BYPASS;let r=["gate-status-row"];return s&&r.push("first-gate"+(this.isFirefox()?"-firefox":"")),t&&r.push("last-gate"+(this.isFirefox()?"-firefox":"")),r.push(this.$vuetify.theme.dark?"gate-status-row-dark-theme":"gate-status-row-light-theme"),r}isFirefox(){return navigator.userAgent.indexOf("Firefox")!==-1}spoolClass(e){const s=[];return this.editGateMap&&this.editGateSelected===e||!this.editGateMap&&this.gate===e?s.push("highlight-spool"):(this.isMobileViewport||s.push("hover-effect"),this.editGateMap&&s.push("unhighlight-spool")),s}selectGate(e){this.editGateMap?this.$emit("select-gate",e):this.isPrinting||this.doSend("MMU_SELECT GATE="+e)}selectBypass(){this.editGateMap?this.$emit("select-gate",this.TOOL_GATE_BYPASS):this.isPrinting||this.doSend("MMU_SELECT BYPASS=1")}mounted(){const s="/img/mmu/mmu_"+this.unitDetails(this.unitIndex).vendor+".svg";this.fetchSvg(s)}async fetchSvg(e){fetch(e).then(s=>{if(!s.ok)throw new Error("Failed to fetch vendor specific MMU logo");return s.text()}).then(s=>{if(!s.includes("<svg"))throw new Error("Not an svg logo");this.svgLogo=s}).catch(()=>{fetch("/img/mmu/mmu_HappyHare.svg").then(t=>{if(!t.ok)throw new Error("Failed to fetch the default MMU logo");return t.text()}).then(t=>{this.svgLogo=t}).catch(()=>{this.svgLogo=null})})}};hd([x({required:!1,default:0})],Qi.prototype,"unitIndex",2);hd([x({required:!1,default:null})],Qi.prototype,"editGateMap",2);hd([x({required:!1,default:-1})],Qi.prototype,"editGateSelected",2);Qi=hd([w({components:{MmuSpool:Ea,MmuGateStatus:ym}})],Qi);var H7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{staticClass:"unit-container"},[t("div",{staticClass:"spool-row"},[e._l(e.unitGateRange,function(r,i){return t("div",{key:"gate_"+r,staticClass:"gate",on:{click:function(n){return e.selectGate(r)}}},[t("div",{class:e.clipSpoolClass},[t(ue,{attrs:{top:"",disabled:!!e.editGateMap,"open-delay":500,"content-class":"spool-tooltip"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,o=n.attrs;return[t("div",e._g(e._b({},"div",o,!1),a),[t(Ea,{class:e.spoolClass(r),attrs:{width:e.spoolWidth+"px","gate-index":r,"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected}})],1)]}}],null,!0)},e._l(e.gateTooltip(r),function(n,a){return t("div",{key:a,staticClass:"spool-tooltip-line",class:a===0?"spool-tooltip-title":""},[e._v(" "+e._s(n)+" ")])}),0),e.editGateMap&&e.editGateSelected===r||!e.editGateMap&&e.gate===r?t("div",{staticStyle:{position:"absolute",bottom:"0%",left:"0%",width:"100%",height:"auto",background:"none"}},[t("svg",{attrs:{width:"100%",height:"100%",viewBox:"0 0 80 60",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("clipPath",{attrs:{id:"clip-half"}},[t("rect",{attrs:{x:"0",y:"0",width:"80",height:"60"}})]),t("radialGradient",{attrs:{id:"spotlight",cx:"50%",cy:"70%",r:"50%",fx:"50%",fy:"100%"}},[t("stop",{staticStyle:{"stop-color":"rgba(255, 255, 255, 0.9)","stop-opacity":"1"},attrs:{offset:"0%"}}),t("stop",{staticStyle:{"stop-color":"rgba(255, 255, 0, 0)","stop-opacity":"0"},attrs:{offset:"100%"}})],1)],1),t("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#spotlight)","clip-path":"url(#clip-half)"}})])]):e._e()],1),t(ym,{class:e.gateStatusClass(i),attrs:{"gate-index":r,"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected}})],1)}),e.showBypass?t("div",{staticClass:"gate",on:{click:function(r){return e.selectBypass()}}},[t("div",{class:e.clipSpoolClass},[t(Ea,{class:e.spoolClass(e.TOOL_GATE_BYPASS),attrs:{width:e.spoolWidth+"px","gate-index":e.TOOL_GATE_BYPASS,"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected}}),e.gate===e.TOOL_GATE_BYPASS?t("div",{staticStyle:{position:"absolute",bottom:"0%",left:"0%",width:"100%",height:"auto",background:"none"}},[t("svg",{attrs:{width:"100%",height:"100%",viewBox:"0 0 80 60",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("clipPath",{attrs:{id:"clip-half"}},[t("rect",{attrs:{x:"0",y:"0",width:"80",height:"60"}})]),t("radialGradient",{attrs:{id:"spotlight",cx:"50%",cy:"70%",r:"50%",fx:"50%",fy:"100%"}},[t("stop",{staticStyle:{"stop-color":"rgba(255, 255, 255, 0.9)","stop-opacity":"1"},attrs:{offset:"0%"}}),t("stop",{staticStyle:{"stop-color":"rgba(255, 255, 0, 0)","stop-opacity":"0"},attrs:{offset:"100%"}})],1)],1),t("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#spotlight)","clip-path":"url(#clip-half)"}})])]):e._e()],1),t(ym,{class:e.gateStatusClass(e.TOOL_GATE_BYPASS),attrs:{"gate-index":e.TOOL_GATE_BYPASS,"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected}})],1):e._e()],2),t("div",{staticClass:"logo-row",style:"max-width: "+e.logoRowWidth+"px;"},[e.showLogos&&e.svgLogo?t("div",{staticClass:"mmu-logo",style:"height: "+e.logoHeight+"px;",domProps:{innerHTML:e._s(e.svgLogo)}}):e._e(),t("div",{staticClass:"unit-name"},[e._v(e._s(e.unitDisplayName))])])])},j7=[];const sv={};var I7=E(Qi,H7,j7,!1,N7,"3c732235",null,null);function N7(e){for(let s in sv)this[s]=sv[s]}const V7=function(){return I7.exports}();var U7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,[t(C,{attrs:{dense:""}},e._l(e.unitArray,function(r){return t(v,{key:"unit_"+r,attrs:{cols:"auto"}},[t("div",{class:e.$vuetify.theme.dark?"mmu-unit mmu-unit-dark-theme":"mmu-unit mmu-unit-light-theme"},[t(V7,{attrs:{"unit-index":r,"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected},on:{"select-gate":e.selectGate}})],1)])}),1)],1)},B7=[];const rv={};var G7=E(Ma,U7,B7,!1,W7,"3d880e3a",null,null);function W7(e){for(let s in rv)this[s]=rv[s]}const md=function(){return G7.exports}();var z7=Object.defineProperty,q7=Object.getOwnPropertyDescriptor,Z7=(e,s,t,r)=>{for(var i=r>1?void 0:r?q7(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&z7(s,t,i),i};let Cm=class extends M(O,lt){constructor(){super(...arguments),this.mdiCog=Yt}get showClogDetection(){var e;return(e=this.$store.state.gui.view.mmu.showClogDetection)!=null?e:!0}set showClogDetection(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.showClogDetection",value:e})}get showTtgMap(){var e;return(e=this.$store.state.gui.view.mmu.showTtgMap)!=null?e:!0}set showTtgMap(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.showTtgMap",value:e})}get showDetails(){var e;return(e=this.$store.state.gui.view.mmu.showDetails)!=null?e:!0}set showDetails(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.showDetails",value:e})}get largeFilamentStatus(){var e;return(e=this.$store.state.gui.view.mmu.largeFilamentStatus)!=null?e:!0}set largeFilamentStatus(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.largeFilamentStatus",value:e})}get showLogos(){var e;return(e=this.$store.state.gui.view.mmu.showLogos)!=null?e:!1}set showLogos(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.showLogos",value:e})}get showUnavailableSpoolColor(){var e;return(e=this.$store.state.gui.view.mmu.showUnavailableSpoolColor)!=null?e:!1}set showUnavailableSpoolColor(e){this.$store.dispatch("gui/saveSetting",{name:"view.mmu.showUnavailableSpoolColor",value:e})}};Cm=Z7([w({})],Cm);var Y7=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{"offset-y":!0,left:!0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[e.hasEncoder?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.ShowClogDetection")},model:{value:e.showClogDetection,callback:function(r){e.showClogDetection=r},expression:"showClogDetection"}})],1):e._e(),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.ShowTtgMap")},model:{value:e.showTtgMap,callback:function(r){e.showTtgMap=r},expression:"showTtgMap"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.ShowDetails")},model:{value:e.showDetails,callback:function(r){e.showDetails=r},expression:"showDetails"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.LargeFilamentStatus")},model:{value:e.largeFilamentStatus,callback:function(r){e.largeFilamentStatus=r},expression:"largeFilamentStatus"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.ShowUnavailableSpoolColor")},model:{value:e.showUnavailableSpoolColor,callback:function(r){e.showUnavailableSpoolColor=r},expression:"showUnavailableSpoolColor"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MmuPanel.ShowLogos")},model:{value:e.showLogos,callback:function(r){e.showLogos=r},expression:"showLogos"}})],1)],1)],1)},X7=[];const iv={};var J7=E(Cm,Y7,X7,!1,K7,null,null,null);function K7(e){for(let s in iv)this[s]=iv[s]}const dx=function(){return J7.exports}();var Q7=Object.defineProperty,e9=Object.getOwnPropertyDescriptor,Ln=(e,s,t,r)=>{for(var i=r>1?void 0:r?e9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Q7(s,t,i),i};let xr=class extends M(O,lt){constructor(){super(...arguments),this.filamentRectHeight=0,this.tipFormingClass="",this.POSITIONS={unknown:8,"before-pre-gate":20,"pre-gate":25,"after-pre-gate":40,"before-gear":50,gear:55,"after-gear":70,gate:85,"after-gate":100,encoder:115,"start-bowden":135,"mid-bowden":221,"end-bowden":290,extruder:295,"extruder-entrance":308,"before-toolhead":315,toolhead:325,"cooling-tube":338,"cut-point":355,"nozzle-start":371},this.BOWDEN_RANGE=173}onBowdenProgress(){this.calcFilamentHeight(this.filamentPos)}onFilamentPosChanged(e){this.calcFilamentHeight(e)}onSensorsChanged(){this.calcFilamentHeight(this.filamentPos)}onActionChanged(e){e===this.ACTION_FORMING_TIP?this.tipFormingClass="form-tip-effect":(this.tipFormingClass&&this.$nextTick(()=>{this.animateFilament(this.POSITIONS["cooling-tube"],1)}),this.tipFormingClass="")}calcFilamentHeight(e){let s=0;if(this.gate===this.TOOL_GATE_BYPASS)switch(e){case this.FILAMENT_POS_EXTRUDER_ENTRY:s=this.POSITIONS["before-toolhead"];break;case this.FILAMENT_POS_HOMED_TS:s=this.POSITIONS.toolhead;break;case this.FILAMENT_POS_IN_EXTRUDER:s=this.POSITIONS["cooling-tube"];break;case this.FILAMENT_POS_LOADED:s=this.POSITIONS["nozzle-start"];break;default:this.isSensorTriggered("toolhead")?s=this.POSITIONS.toolhead:this.isSensorTriggered("extruder")?s=this.POSITIONS.extruder:this.isSensorTriggered("mmu_gear")?s=this.POSITIONS["after-gear"]:this.isSensorTriggered("mmu_pre_gate")?s=this.POSITIONS["after-pre-gate"]:s=this.POSITIONS["before-pre-gate"];break}else switch(e){case this.FILAMENT_POS_UNLOADED:this.isSensorTriggered("mmu_gear")?s=this.POSITIONS["after-gear"]:this.isSensorTriggered("mmu_pre_gate")?s=this.POSITIONS["after-pre-gate"]:s=this.POSITIONS["before-pre-gate"];break;case this.FILAMENT_POS_HOMED_GATE:this.configGateHomingEndstop==="mmu_gear"?s=this.POSITIONS.gear:this.configGateHomingEndstop==="mmu_gate"?s=this.POSITIONS.gate:this.configGateHomingEndstop==="extruder"?s=this.POSITIONS.extruder:s=this.POSITIONS["after-gate"];break;case this.FILAMENT_POS_START_BOWDEN:this.bowdenProgress>=0?s=this.POSITIONS["start-bowden"]+this.BOWDEN_RANGE*this.bowdenProgress/100:s=this.POSITIONS["start-bowden"];break;case this.FILAMENT_POS_IN_BOWDEN:this.bowdenProgress>=0?s=this.POSITIONS["start-bowden"]+this.BOWDEN_RANGE*this.bowdenProgress/100:s=this.POSITIONS["mid-bowden"];break;case this.FILAMENT_POS_END_BOWDEN:this.configGateHomingEndstop==="none"||this.hasSensor("toolhead")&&this.isSensorEnabled("toolhead")&&!this.configExtruderForceHoming?s=this.POSITIONS["extruder-entrance"]:s=this.POSITIONS["end-bowden"];break;case this.FILAMENT_POS_HOMED_ENTRY:s=this.POSITIONS.extruder;break;case this.FILAMENT_POS_HOMED_EXTRUDER:s=this.POSITIONS["extruder-entrance"];break;case this.FILAMENT_POS_EXTRUDER_ENTRY:s=this.POSITIONS["before-toolhead"];break;case this.FILAMENT_POS_HOMED_TS:s=this.POSITIONS.toolhead;break;case this.FILAMENT_POS_IN_EXTRUDER:s=this.POSITIONS["cooling-tube"],this.hasSensor("toolhead")&&this.isSensorEnabled("toolhead")&&!this.isSensorTriggered("toolhead")&&(s=this.POSITIONS["before-toolhead"]);break;case this.FILAMENT_POS_LOADED:s=this.POSITIONS["nozzle-start"];break;default:s=this.POSITIONS.unknown}this.animateFilament(s)}animateFilament(e,s=this.animationTime){var r;const t=this.$refs.filamentRect;if(t)if(s>0){const i=(r=parseFloat(getComputedStyle(t).height))!=null?r:this.POSITIONS["end-bowden"],n=Math.abs(i-e),a=Math.min(n/this.BOWDEN_RANGE*s+.1,s);t.style.transition="height ".concat(a,"s ease-in")}else t.style.transition="none";this.filamentRectHeight=e}get encoderPosText(){return this.encoderPos<1e4?"".concat(this.encoderPos," mm"):"".concat(this.encoderPos)}get gateSensorName(){return this.unitDetails(this.unit).multiGear?"Hub (Gate)":"Gate"}get temperatureClass(){var s,t;return((t=(s=this.$store.state.printer.extruder)==null?void 0:s.can_extrude)!=null?t:!1)===!1?"text-disabled":""}get temperatureText(){var s,t;const e=(t=(s=this.$store.state.printer.extruder)==null?void 0:s.temperature)!=null?t:null;return e?"".concat(e.toFixed(0),"°C"):""}hasSensor(e){return e in this.sensors}isSensorEnabled(e){return this.sensors[e]!==null}isSensorTriggered(e){const s=this.sensors[e];return s!==null&&s===!0}sensorClass(e){let s="";return this.isSensorEnabled(e)?s=this.isSensorTriggered(e)?"sensor-triggered":e==="extruder"?"sensor-open-extruder":"sensor-open":s=e==="extruder"?"sensor-disabled-extruder":"sensor-disabled",this.$vuetify.theme.dark?s+"-dark-theme":s+"-light-theme"}get encoderClass(){let e="";return this.filamentPos===this.FILAMENT_POS_UNLOADED&&(e="sensor-disabled"),e=this.encoderPos?"sensor-triggered":"sensor-open",this.$vuetify.theme.dark?e+"-dark-theme":e+"-light-theme"}get hasSyncFeedback(){return this.syncFeedbackEnabled&&(this.hasSensor("filament_compression")||this.hasSensor("filament_tension"))}get homedToEncoder(){return this.filamentDirection===this.DIRECTION_LOAD?this.configGateHomingEndstop==="encoder"&&this.filamentPos===this.FILAMENT_POS_START_BOWDEN:this.configGateHomingEndstop==="encoder"&&this.filamentPos===this.FILAMENT_POS_START_BOWDEN}get homedToGear(){return this.configGateHomingEndstop==="mmu_gear"&&this.filamentPos===this.FILAMENT_POS_HOMED_GATE}get homedToGate(){return this.configGateHomingEndstop==="mmu_gate"&&this.filamentPos===this.FILAMENT_POS_HOMED_GATE}get homedToExtruder(){return this.filamentPos===this.FILAMENT_POS_HOMED_ENTRY}get homedToExtruderEntrance(){return this.filamentPos===this.FILAMENT_POS_HOMED_EXTRUDER}get homedToToolhead(){return this.filamentPos===this.FILAMENT_POS_HOMED_TS}get upperNozzleFull(){return this.filamentPos===this.FILAMENT_POS_LOADED||!!this.varsFilamentRemaining}get lowerNozzleFull(){return this.filamentPos===this.FILAMENT_POS_LOADED||!!this.varsFilamentRemaining||!!this.varsFilamentRemainingColor}get upperNozzleColor(){return this.varsFilamentRemaining?this.varsFilamentRemainingColor:"none"}get lowerNozzleColor(){return this.varsFilamentRemainingColor?this.varsFilamentRemainingColor:this.currentGateColor}get currentGateColor(){var s,t,r,i,n;let e=(t=(s=this.$store.state.printer.mmu)==null?void 0:s.gate_color[this.gate])!=null?t:"";return this.gate===this.TOOL_GATE_BYPASS&&(e=(n=(i=(r=this.$store.state.server.spoolman)==null?void 0:r.active_spool)==null?void 0:i.filament.color_hex)!=null?n:null),this.formColorString(e)}mounted(){this.calcFilamentHeight(this.filamentPos)}};Ln([x({default:.7})],xr.prototype,"animationTime",2);Ln([ce("$store.state.printer.mmu.bowden_progress")],xr.prototype,"onBowdenProgress",1);Ln([ce("$store.state.printer.mmu.filament_pos")],xr.prototype,"onFilamentPosChanged",1);Ln([ce("$store.state.printer.mmu.sensors")],xr.prototype,"onSensorsChanged",1);Ln([ce("$store.state.printer.mmu.action")],xr.prototype,"onActionChanged",1);xr=Ln([w({})],xr);var t9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{ref:"filStatusSvg",staticClass:"svg-colors",attrs:{viewBox:"140 20 285 421",preserveAspectRatio:"xMidYMid meet"}},[t("defs",[t("g",{staticStyle:{stroke:"var(--color-outline)","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},attrs:{id:"sync-feedback"}},[t("path",{staticStyle:{"stroke-width":"1","stroke-opacity":"0.8"},attrs:{d:"M18,9,13.78,3.39a1,1,0,0,0-1.56,0L8,9"}}),t("path",{staticStyle:{"stroke-width":"2"},attrs:{d:"M13,8.24,18,15H15H8Z"}})]),t("g",{staticStyle:{stroke:"var(--color-outline)",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},attrs:{id:"sissors"}},[t("path",{staticStyle:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},attrs:{d:"M8.8,7.72c-.6,1.21-2.34,1.64-3.89,1S2.6,6.48,3.2,5.28s2.34-1.64,3.89-1S9.4,6.52,8.8,7.72Zm-3.89,1L21,16M7.09,19.68c-1.55.68-3.29.25-3.89-1s.17-2.73,1.71-3.4,3.29-.25,3.89,1S8.63,19,7.09,19.68ZM21,8,4.91,15.32"}}),t("line",{staticStyle:{"stroke-width":"1","stroke-dasharray":"2, 2"},attrs:{x1:"31",y1:"12.5",x2:"44",y2:"12.5"}})]),t("g",{attrs:{id:"sync-extruder"}},[t("g",{staticStyle:{stroke:"none","stroke-width":"2","stroke-dasharray":"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"4"}},[t("rect",{staticStyle:{fill:"rgb(131, 148, 150)"},attrs:{x:"145",y:"506",width:"710",height:"256"}}),t("rect",{staticStyle:{fill:"rgb(147, 161, 161)"},attrs:{x:"324",y:"506",width:"355",height:"256"}}),t("rect",{staticStyle:{fill:"rgb(101, 123, 131)"},attrs:{x:"274",y:"364",width:"455",height:"142"}}),t("rect",{staticStyle:{fill:"rgb(88, 110, 117)"},attrs:{x:"181",y:"222",rx:"28",ry:"28",width:"639",height:"142"}}),t("rect",{staticStyle:{fill:"rgb(88, 110, 117)"},attrs:{x:"181",y:"108",width:"639",height:"142"}}),t("path",{staticStyle:{fill:"rgb(88, 110, 117)"},attrs:{d:"m 322 762 h 355 l -118 142 h -118 z"}})]),t("g",{attrs:{transform:"matrix(23.2058 0 0 23.2058 329.7195 325.9517)"}},[t("path",{staticStyle:{stroke:"rgb(0, 0, 0)","stroke-width":"0","stroke-dasharray":"none","stroke-linecap":"butt","stroke-dashoffset":"0","stroke-linejoin":"miter","stroke-miterlimit":"4","is-custom-font":"none","font-file-url":"none",fill:"rgb(254, 162, 54)","fill-rule":"nonzero",opacity:"1"},attrs:{"vector-effect":"non-scaling-stroke",transform:" translate(-15.4288, -16.4198)","stroke-linecap":"round",d:"M 25.032 26.16 c 2.884 -2.883 4.184 -6.74 3.928 -10.51 c -1.511 0.013 -3.021 0.021 -4.531 0.034 c 0.254 2.599 -0.603 5.287 -2.594 7.277 c -3.535 3.533 -9.263 3.533 -12.796 0 c -3.534 -3.533 -3.534 -9.26 0 -12.794 c 3.015 -3.016 7.625 -3.446 11.109 -1.314 c -1.181 1.167 -2.57 2.549 -2.57 2.549 c -1 1.062 0.016 1.766 0.69 1.77 h 8.828 c 0.338 0 0.611 -0.274 0.612 -0.612 V 3.804 c 0.041 -0.825 -0.865 -1.591 -1.756 -0.7 c 0 0 -1.495 1.48 -2.533 2.509 C 18.112 1.736 10.634 2.175 5.841 6.967 c -5.3 5.3 -5.3 13.892 0 19.193 C 11.141 31.459 19.733 31.459 25.032 26.16 z"}})])]),t("g",{staticStyle:{"stroke-linecap":"round","stroke-linejoin":"round"},attrs:{id:"blob"}},[t("polygon",{attrs:{points:"0,0 -1,1 1,1 0,0","stroke-width":"4","vector-effect":"non-scaling-stroke"}}),t("polygon",{attrs:{points:"-0.1,0.3 -0.5,0.7 0.3,0.7 -0.1,0.3","stroke-width":"1",stroke:"white",fill:"white",opacity:"0.3","vector-effect":"non-scaling-stroke"}})])]),t("rect",{class:e.$vuetify.theme.dark?"zone-background-dark-theme":"zone-background-light-theme",attrs:{x:"150",y:"30",width:"265",height:"130",rx:"10",ry:"10"}}),t("rect",{class:e.$vuetify.theme.dark?"zone-background-dark-theme":"zone-background-light-theme",attrs:{x:"150",y:"333",width:"265",height:"66",rx:"10",ry:"10"}}),t("g",{staticStyle:{stroke:"var(--color-outline)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1"}},[t("path",{staticStyle:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1"},attrs:{d:"M242 25 L242 405 L249 411 L251 411 L258 405 L258 25"}})]),t("rect",{ref:"filamentRect",class:e.tipFormingClass,attrs:{x:"243",y:"25",width:"14",height:e.filamentRectHeight,fill:e.currentGateColor}}),e.upperNozzleFull?t("polygon",{attrs:{points:"257,380 243,380 243,396 257,396",fill:e.upperNozzleColor}}):e._e(),e.lowerNozzleFull?t("polygon",{attrs:{points:"257,396 243,396 243,405 249,412 249,413 251,413 251,412 257,405",fill:e.lowerNozzleColor}}):e._e(),t("g",{staticStyle:{stroke:"var(--color-outline)","stroke-linejoin":"round","stroke-width":"0","font-family":"Roboto","font-size":"16"}},[e.hasSensor("mmu_pre_gate")?t("g",[t("circle",{class:e.sensorClass("mmu_pre_gate"),staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"50",r:"8"}}),t("text",{class:{"text-disabled":!e.isSensorEnabled("mmu_pre_gate")},attrs:{x:"278",y:"55"}},[e._v("Pre-Gate")])]):e._e(),e.hasSensor("mmu_gear")?t("g",[t("circle",{class:e.sensorClass("mmu_gear"),staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"80",r:"8"}}),t("text",{class:{"text-disabled":!e.isSensorEnabled("mmu_gear")},attrs:{x:"278",y:"85"}},[e._v("Gear")]),e.homedToGear?t("text",{attrs:{x:"219.5",y:"85","font-weight":"bold"}},[e._v("H")]):e._e()]):e._e(),e.hasSensor("mmu_gate")?t("g",[t("circle",{class:e.sensorClass("mmu_gate"),staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"110",r:"8"}}),t("text",{class:{"text-disabled":!e.isSensorEnabled("mmu_gate")},attrs:{x:"278",y:"115"}},[e._v(" "+e._s(e.gateSensorName)+" ")]),t("transition",{attrs:{name:"fade"}},[e.homedToGate?t("text",{attrs:{x:"219.5",y:"115","font-weight":"bold"}},[e._v("H")]):e._e()])],1):e._e(),e.hasEncoder?t("g",[t("circle",{class:e.encoderClass,staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"140",r:"8"}}),t("path",{attrs:{d:"M257 135 L261 140 L257 145","stroke-width":"2",fill:"none"}}),t("text",{attrs:{x:"278",y:"145"}},[e._v("Encoder")]),t("text",{attrs:{x:"345",y:"145","font-size":"11px"}},[e._v(e._s(e.encoderPosText))]),t("transition",{attrs:{name:"fade"}},[e.homedToEncoder?t("text",{attrs:{x:"219.5",y:"145","font-weight":"bold"}},[e._v("H")]):e._e()])],1):e._e(),e.hasSensor("extruder")?t("g",[t("circle",{class:e.sensorClass("extruder"),staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"320",r:"8"}}),t("text",{class:{"text-disabled":!e.isSensorEnabled("extruder")},attrs:{x:"278",y:"325"}},[e._v("Extruder")]),t("transition",{attrs:{name:"fade"}},[e.homedToExtruder?t("text",{attrs:{x:"219.5",y:"325","font-weight":"bold"}},[e._v("H")]):e._e()])],1):e._e(),t("transition",{attrs:{name:"fade"}},[e.homedToExtruderEntrance?t("text",{attrs:{x:"219.5",y:"339","font-weight":"bold"}},[e._v("H")]):e._e()]),e.hasSensor("toolhead")?t("g",[t("circle",{class:e.sensorClass("toolhead"),staticStyle:{"stroke-width":"1"},attrs:{cx:"258",cy:"350",r:"8"}}),t("text",{class:{"text-disabled":!e.isSensorEnabled("toolhead")},attrs:{x:"278",y:"355"}},[e._v("Toolhead")]),t("transition",{attrs:{name:"fade"}},[e.homedToToolhead?t("text",{attrs:{x:"219.5",y:"355","font-weight":"bold"}},[e._v("H")]):e._e()])],1):e._e(),t("text",{class:e.temperatureClass,attrs:{x:"228",y:"412","font-size":"11px","font-weight":"bold","text-anchor":"end"}},[e._v(" "+e._s(e.temperatureText)+" ")]),e.hasSyncFeedback?t("g",[t("transition",{attrs:{name:"fade"}},[e.isSensorTriggered("filament_tension")?t("g",{key:"tension"},[t("use",{attrs:{"xlink:href":"#sync-feedback",transform:"translate(258, 199) scale(1.2)"}}),t("use",{attrs:{"xlink:href":"#sync-feedback",transform:"translate(258, 271) scale(1.2,-1.2)"}})]):e._e()]),t("transition",{attrs:{name:"fade"}},[e.isSensorTriggered("filament_compression")?t("g",{key:"compression"},[t("use",{attrs:{"xlink:href":"#sync-feedback",transform:"translate(258, 235) scale(1.2)"}}),t("use",{attrs:{"xlink:href":"#sync-feedback",transform:"translate(258, 235) scale(1.2,-1.2)"}})]):e._e()]),t("transition",{attrs:{name:"fade"}},[e.isSensorTriggered("filament_tension")||e.isSensorTriggered("filament_compression")?t("g",{key:"feedback"},[e._v(' style="font-size: 14px" '),e.isSensorTriggered("filament_tension")&&e.isSensorTriggered("filament_compression")?t("text",{attrs:{x:"288",y:"240",fill:"#FF0000"}},[e._v(" Error! ")]):e.isSensorTriggered("filament_tension")?t("text",{attrs:{x:"288",y:"240"}},[e._v("Tension")]):e.isSensorTriggered("filament_compression")?t("text",{attrs:{x:"288",y:"240"}},[e._v("Compression")]):e._e()]):e._e()])],1):e._e(),t("text",{class:e.tool===-2?"tool-bypass":"tool-text",attrs:{x:"160",y:"60"}},[e._v(e._s(e.toolText(e.tool)))])],1),t("transition",{attrs:{name:"fade"}},[e.syncDrive?t("use",{ref:"sync",attrs:{"xlink:href":"#sync-extruder",transform:"translate(278, 385) scale(.030)"}}):e._e()]),e.action==e.ACTION_CUTTING_FILAMENT?t("use",{ref:"cut",staticClass:"cut1-effect",attrs:{"xlink:href":"#sissors"}}):e._e(),e.action==e.ACTION_CUTTING_TIP?t("use",{ref:"cutTip",staticClass:"cut2-effect",attrs:{"xlink:href":"#sissors"}}):e._e(),e.action==e.ACTION_PURGING?t("use",{ref:"poop",staticClass:"blob-effect",attrs:{"xlink:href":"#blob",stroke:e.lowerNozzleColor,fill:e.lowerNozzleColor}}):e._e()],1)},s9=[];const nv={};var r9=E(xr,t9,s9,!1,i9,"13a53af4",null,null);function i9(e){for(let s in nv)this[s]=nv[s]}const hx=function(){return r9.exports}();var n9=Object.defineProperty,a9=Object.getOwnPropertyDescriptor,pd=(e,s,t,r)=>{for(var i=r>1?void 0:r?a9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&n9(s,t,i),i};let en=class extends M(O,lt){constructor(){super(...arguments),this.circumference=2*Math.PI*50,this.dialArc=this.circumference*(60/360),this.dashOffset=this.circumference,this.x1Start=70+65*Math.cos(120*Math.PI/180),this.y1Start=70+65*Math.sin(120*Math.PI/180),this.x1End=70+65*Math.cos(60*Math.PI/180),this.y1End=70+65*Math.sin(60*Math.PI/180),this.x1MinHeadroom=70+66*Math.cos((120+0)*Math.PI/180),this.y1MinHeadroom=70+66*Math.sin((120+0)*Math.PI/180),this.headroomWarning=!1}get headroomArc(){return this.circumference*(1-this.encoderDesiredHeadroom/this.encoderDetectionLength*(300/360))}get headroomRotate(){return 420-this.encoderDesiredHeadroom/this.encoderDetectionLength*300}onHeadroomChanged(e){const t=(100-Math.min(Math.max(0,this.encoderDetectionLength-e),this.encoderDetectionLength)/this.encoderDetectionLength*100*300/360)/100*this.circumference;this.animateMeter(t)}onMinHeadroomChanged(e){const t=Math.min(Math.max(0,this.encoderDetectionLength-e),this.encoderDetectionLength)/this.encoderDetectionLength*100*3;this.x1MinHeadroom=70+66*Math.cos((120+t)*Math.PI/180),this.y1MinHeadroom=70+66*Math.sin((120+t)*Math.PI/180),this.headroomWarning=e<this.encoderDesiredHeadroom}animateMeter(e){var n;const s=this.$refs.dialCircle,t=(n=parseFloat(getComputedStyle(s).strokeDashoffset))!=null?n:this.circumference,i=Math.abs(t-e)/this.circumference*this.rotationTime;s.style.transition="stroke-dashoffset ".concat(i,"s ease-out"),this.dashOffset=e}};pd([x({default:1})],en.prototype,"rotationTime",2);pd([ce("$store.state.printer.mmu.encoder.headroom")],en.prototype,"onHeadroomChanged",1);pd([ce("$store.state.printer.mmu.encoder.min_headroom")],en.prototype,"onMinHeadroomChanged",1);en=pd([w({})],en);var o9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{ref:"clogMeter",class:{"disabled-clog":e.encoderDetectionMode===0||e.encoderEnabled===!1},attrs:{viewBox:"0 0 140 140",preserveAspectRatio:"xMidYMid meet"}},[t("g",{attrs:{transform:"rotate(120 70 70)"}},[t("circle",{staticClass:"v-progress-circular__underlay",attrs:{cx:"70",cy:"70",r:"50",fill:"transparent","stroke-width":"18","stroke-dasharray":e.circumference,"stroke-dashoffset":e.dialArc}}),t("circle",{ref:"dialCircle",staticClass:"primary-color",attrs:{cx:"70",cy:"70",r:"50",fill:"transparent","stroke-width":"18","stroke-dasharray":e.circumference,"stroke-dashoffset":e.dashOffset}})]),t("g",{attrs:{transform:"rotate("+e.headroomRotate+" 70 70)"}},[t("circle",{staticClass:"warning-color",attrs:{cx:"70",cy:"70",r:"50",fill:"transparent","stroke-width":"18",opacity:"0.4","stroke-dasharray":e.circumference,"stroke-dashoffset":e.headroomArc}})]),t("line",{ref:"minHeadroomLine",class:{"warning-color":e.headroomWarning,"primary-color":!e.headroomWarning},attrs:{x1:e.x1MinHeadroom,y1:e.y1MinHeadroom,x2:"70",y2:"70","stroke-width":"4","stroke-dashoffset":"0","stroke-dasharray":"25,65"}}),t("line",{attrs:{x1:e.x1Start,y1:e.y1Start,x2:"70",y2:"70",stroke:"white","stroke-width":"2","stroke-dashoffset":"0","stroke-dasharray":"24,65"}}),t("line",{staticClass:"warning-color",attrs:{x1:e.x1End,y1:e.y1End,x2:"70",y2:"70","stroke-width":"2","stroke-dashoffset":"0","stroke-dasharray":"24,65"}}),t("text",{staticClass:"small-text-color",attrs:{x:"70",y:"56","text-anchor":"middle","font-size":"11px"}},[e._v("FLOW")]),t("text",{staticClass:"small-text-color",attrs:{x:"70",y:"80","text-anchor":"middle","font-size":"20px"}},[e._v(e._s(e.encoderFlowRate)+"%")]),e.encoderDetectionMode===2?t("text",{staticClass:"small-text-color",attrs:{x:"70",y:"124","text-anchor":"middle","font-size":"12px"}},[e._v(" Auto ")]):e._e(),t("text",{staticClass:"small-text-color",attrs:{x:"30",y:"136","text-anchor":"end","font-size":"12px"}},[e._v(" "+e._s(e.encoderDetectionLength)+" ")]),t("text",{staticClass:"small-text-color",attrs:{x:"108",y:"136","font-size":"12px"}},[e._v("0")])])},l9=[];const av={};var c9=E(en,o9,l9,!1,u9,"cb2d40f0",null,null);function u9(e){for(let s in av)this[s]=av[s]}const mx=function(){return c9.exports}();var d9=Object.defineProperty,h9=Object.getOwnPropertyDescriptor,Eo=(e,s,t,r)=>{for(var i=r>1?void 0:r?h9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&d9(s,t,i),i};let oi=class extends M(O,lt){get details(){return this.gateDetails(this.gateIndex)}get lines(){return this.showDetails?"three":"two"}get title(){return[this.showGate?this.gateText(this.gate):null,this.vendorText].filter(e=>e!==null).join(" | ")}get name(){return this.details.filamentName}get subtitle(){return[this.details.material,this.temperatureText,this.speedOverrideText].filter(e=>e!==null).join(" | ")}get extra(){let e=[this.spoolIdText,this.weightText,this.lengthText].filter(s=>s!==null).join(" | ");return e||"No spool ID"}get speedOverrideText(){return this.details.speedOverride===100?null:"Speed: "+this.details.speedOverride+"%"}get temperatureText(){return this.details.temperature<=0?null:this.details.temperature+"°C"}get spoolIdText(){return this.details.spoolId<=0?null:"Spool ID: #"+this.details.spoolId}get vendorText(){var s,t,r;const e=this.spoolmanSpool(this.details.spoolId);return(r=(t=(s=e==null?void 0:e.filament)==null?void 0:s.vendor)==null?void 0:t.name)!=null?r:"Unknown"}get weightText(){var r,i,n,a;const e=this.spoolmanSpool(this.details.spoolId),s=(r=e==null?void 0:e.remaining_weight)!=null?r:null,t=(a=(n=e==null?void 0:e.initial_weight)!=null?n:(i=e==null?void 0:e.filament)==null?void 0:i.weight)!=null?a:null;if(s===null||t===null)return null;if(t>=1e3){let o=Math.floor(t/1e3);return o!==t/1e3&&(o=Math.round(t/100)/10),"".concat(Math.round(s),"g / ").concat(o,"kg")}return"".concat(Math.round(s)," / ").concat(Math.round(t),"g")}get lengthText(){var t;const e=this.spoolmanSpool(this.details.spoolId);let s=(t=e==null?void 0:e.remaining_length)!=null?t:null;return s===null?null:"".concat(Math.round(s/1e3),"m")}get contentClass(){return this.compact?["my-0","smaller-font"]:"my-0"}get toplineClass(){return this.compact?["text-overline","mb-1","reduced-line-height","small-overline-font"]:["text-overline","reduced-line-height","mb-2"]}get titleClass(){return this.compact?["text-h7","mb-1"]:["text-h6","mb-1"]}get subtitleClass(){return this.compact?["subtitle-container"," smaller-font"]:["subtitle-container"]}get detailsClass(){return this.compact?["subtitle-container"," smaller-font"]:["subtitle-container","smaller-font"]}};Eo([x({required:!0,default:-1})],oi.prototype,"gateIndex",2);Eo([x({required:!1,default:!1})],oi.prototype,"compact",2);Eo([x({required:!1,default:!0})],oi.prototype,"showDetails",2);Eo([x({required:!1,default:!0})],oi.prototype,"showGate",2);oi=Eo([w({})],oi);var m9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Y,{class:{"disabled-panel":e.details.status===0},attrs:{lines:e.lines}},[t(ot,{class:e.contentClass},[t("div",{class:e.toplineClass},[e._v(e._s(e.title))]),t(Ne,{class:e.titleClass},[e._v(" "+e._s(e.name)+" ")]),t(zs,{class:e.subtitleClass},[e._v(" "+e._s(e.subtitle)+" ")]),e.showDetails?t(zs,{class:e.detailsClass},[e._v(" "+e._s(e.extra)+" ")]):e._e()],1)],1)},p9=[];const ov={};var f9=E(oi,m9,p9,!1,g9,"629b1d48",null,null);function g9(e){for(let s in ov)this[s]=ov[s]}const gg=function(){return f9.exports}();var _9=Object.defineProperty,v9=Object.getOwnPropertyDescriptor,_g=(e,s,t,r)=>{for(var i=r>1?void 0:r?v9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_9(s,t,i),i};let Oa=class extends M(O,lt){constructor(){super(...arguments),this.mdiDownloadOutline=HC,this.mdiEject=Of,this.mdiCheck=xf,this.mdiAutoFix=MC,this.mdiThermometerPlus=Q5,this.mdiUpload=p$,this.mdiDownload=Ef,this.btnSize=2}get unloadButtonText(){return this.gate===this.TOOL_GATE_BYPASS?this.$t("Panels.MmuPanel.ButtonUnloadExt"):this.$t("Panels.MmuPanel.ButtonUnload")}get loadButtonText(){return this.gate===this.TOOL_GATE_BYPASS?this.$t("Panels.MmuPanel.ButtonLoadExt"):this.$t("Panels.MmuPanel.ButtonLoad")}checkButtonWidth(){this.$nextTick(()=>{const e=this.$refs.refBtn;if(e){const s=e.$el.offsetWidth;s===0?this.btnSize=2:s<95?this.btnSize=0:s<120?this.btnSize=1:this.btnSize=2}})}get btnClass(){const e=["base-btn"];return this.btnSize===0?e.push("btn-no-text"):this.btnSize===1&&e.push("btn-small-text"),e}get showTooltip(){return this.btnSize===0}get currentGateStatus(){var e,s,t;return(t=(s=(e=this.$store.state.printer.mmu)==null?void 0:e.gate_status)==null?void 0:s[this.gate])!=null?t:-1}onFilamentStatusSizeChange(){this.checkButtonWidth()}mounted(){this.checkButtonWidth(),window.addEventListener("resize",this.checkButtonWidth)}beforeDestroy(){window.removeEventListener("resize",this.checkButtonWidth)}};_g([Ye(500)],Oa.prototype,"checkButtonWidth",1);_g([ce("$store.state.gui.view.mmu.largeFilamentStatus")],Oa.prototype,"onFilamentStatusSizeChange",1);Oa=_g([w({})],Oa);var b9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{staticClass:"d-flex flex-column"},[t(C,{attrs:{dense:""}},[t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({ref:"refBtn",class:e.btnClass,attrs:{block:"",small:"",color:"secondary",disabled:!e.canSend||[e.GATE_AVAILABLE,e.GATE_AVAILABLE_FROM_BUFFER].includes(e.currentGateStatus),loading:e.loadings.includes("mmu_preload")},on:{click:function(n){return e.doLoadingSend("MMU_PRELOAD","mmu_preload")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiDownloadOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonPreload"))+" ")],1)]}}])},[e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonPreload"))+" ")])],1),t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({class:e.btnClass,attrs:{block:"",small:"",color:"secondary",disabled:!e.canSend||[e.GATE_EMPTY].includes(e.currentGateStatus),loading:e.loadings.includes("mmu_eject")},on:{click:function(n){return e.doLoadingSend("MMU_EJECT","mmu_eject")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiEject))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonEject"))+" ")],1)]}}])},[e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonEject"))+" ")])],1)],1),t(C,{attrs:{dense:""}},[t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({class:e.btnClass,attrs:{block:"",small:"",color:"secondary",disabled:!e.canSend,loading:e.loadings.includes("mmu_check_gate")},on:{click:function(n){return e.doLoadingSend("MMU_CHECK_GATE","mmu_check_gate")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiCheck))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonCheckGate"))+" ")],1)]}}])},[e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonCheckGate"))+" ")])],1),t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({class:e.btnClass,attrs:{block:"",small:"",color:"secondary",disabled:!e.canSend,loading:e.loadings.includes("mmu_recover")},on:{click:function(n){return e.doLoadingSend("MMU_RECOVER","mmu_recover")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiAutoFix))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonRecover"))+" ")],1)]}}])},[e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonRecover"))+" ")])],1)],1),t(C,{attrs:{dense:""}},[t(v,{attrs:{cols:"2"}}),t(v,{attrs:{cols:"8"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({class:e.btnClass,attrs:{block:"",small:"",color:"secondary",disabled:!e.canSend||!e.isMmuPausedAndLocked,loading:e.loadings.includes("mmu_unlock")},on:{click:function(n){return e.doLoadingSend("MMU_UNLOCK","mmu_unlock")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiThermometerPlus))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonUnlock"))+" ")],1)]}}])},[e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonUnlock"))+" ")])],1),t(v,{attrs:{cols:"2"}})],1),t(C,[t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({staticClass:"wrap-text-btn",class:e.btnClass,attrs:{large:"",block:"",color:"secondary",disabled:!e.canSend||e.filamentPos===e.FILAMENT_POS_UNLOADED,loading:e.loadings.includes("mmu_unload")},on:{click:function(n){return e.doLoadingSend("MMU_UNLOAD","mmu_unload")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiUpload))]),e._v(" "+e._s(e.unloadButtonText)+" ")],1)]}}])},[e._v(" "+e._s(e.unloadButtonText)+" ")])],1),t(v,{attrs:{cols:"6"}},[t(ue,{attrs:{top:"",color:"secondary"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[t(g,e._g({staticClass:"wrap-text-btn",class:e.btnClass,attrs:{large:"",block:"",color:"secondary",disabled:!e.canSend||e.filamentPos!==e.FILAMENT_POS_UNLOADED,loading:e.loadings.includes("mmu_load")},on:{click:function(n){return e.doLoadingSend("MMU_LOAD","mmu_load")}}},e.showTooltip?i:{}),[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiDownload))]),e._v(" "+e._s(e.loadButtonText)+" ")],1)]}}])},[e._v(" "+e._s(e.loadButtonText)+" ")])],1)],1)],1)},y9=[];const lv={};var C9=E(Oa,b9,y9,!1,$9,"7673ed1b",null,null);function $9(e){for(let s in lv)this[s]=lv[s]}const px=function(){return C9.exports}();var x9=Object.defineProperty,S9=Object.getOwnPropertyDescriptor,ns=(e,s,t,r)=>{for(var i=r>1?void 0:r?S9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&x9(s,t,i),i};let Ht=class extends M(O,lt){get toolX(){return this.startX+14}get gateX(){return this.startX+2*this.leader+this.mapSpace+40}get groupX(){return this.startX+2*this.leader+this.mapSpace+65}get width(){return this.groupX+this.getEndlessSpoolGroups().length*this.groupSpacing}get height(){return this.startY+this.map.length*this.verticalSpacing+6}get currentGroup(){return this.selectedGate>=0?this.groups[this.selectedGate]:-1}generateMappingPathD(e){const t=this.startX+28,r=this.startY+e*this.verticalSpacing+4,i=t+this.leader,n=i+this.mapSpace,a=this.map[e],o=2,l=2;return"M ".concat(t," ").concat(r," L ").concat(i," ").concat(r," L ").concat(i+a*o," ").concat(r," L ").concat(n-(this.map.length-a)*l," ").concat(this.startY+a*this.verticalSpacing+4," L ").concat(n+this.leader," ").concat(this.startY+a*this.verticalSpacing+4)}generateEndlessSpoolPathD(e,s){const r=this.gateX+24+s*this.groupSpacing,i=this.startY+4;let n="",a=null;const o=this.findAllGatesInGroup(e);return o.length>1&&o.forEach(l=>{const c=i+l*this.verticalSpacing;n+="M ".concat(r+5," ").concat(c," L ").concat(r," ").concat(c," "),a!==null&&(n+="M ".concat(r+5," ").concat(a," L ").concat(r+5," ").concat(c," ")),a=c}),n}getEndlessSpoolGroups(){const e={};return this.groups.forEach(t=>{e[t]?e[t]++:e[t]=1}),Object.keys(e).filter(t=>e[+t]>1).map(Number).sort((t,r)=>t-r)}findAllGatesInGroup(e){const s=[];return this.groups.forEach((t,r)=>{t===e&&s.push(r)}),s}};ns([x({required:!1,default:10})],Ht.prototype,"startX",2);ns([x({required:!1,default:8})],Ht.prototype,"startY",2);ns([x({required:!1,default:12})],Ht.prototype,"verticalSpacing",2);ns([x({required:!1,default:12})],Ht.prototype,"groupSpacing",2);ns([x({required:!1,default:80})],Ht.prototype,"mapSpace",2);ns([x({required:!1,default:10})],Ht.prototype,"leader",2);ns([x({required:!1,default:!0})],Ht.prototype,"showEsGroups",2);ns([x({required:!0})],Ht.prototype,"map",2);ns([x({required:!0})],Ht.prototype,"groups",2);ns([x({required:!1,default:-1})],Ht.prototype,"selectedTool",2);ns([x({required:!1,default:-1})],Ht.prototype,"selectedGate",2);Ht=ns([w({})],Ht);var w9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{ref:"ttgMap",staticClass:"cursor-pointer",attrs:{viewBox:"0 0 "+e.width+" "+e.height,preserveAspectRatio:"xMidYMid meet"},on:{click:function(r){return e.$emit("click")}}},[t("defs",[t("marker",{attrs:{id:"squareStart",markerWidth:"7",markerHeight:"7",refX:"7",refY:"3.5",orient:"auto",markerUnits:"userSpaceOnUse"}},[t("rect",{staticClass:"stroke-background-color fill-regular-color",attrs:{x:"0",y:"0",width:"7",height:"7","stroke-width":"2"}})]),t("marker",{attrs:{id:"squareStartSelected",markerWidth:"7",markerHeight:"7",refX:"7",refY:"3.5",orient:"auto",markerUnits:"userSpaceOnUse"}},[t("rect",{staticClass:"stroke-selected-color fill-selected-color",attrs:{x:"0",y:"0",width:"7",height:"7","stroke-width":"2"}})]),t("marker",{attrs:{id:"arrowEnd",markerWidth:"7",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",markerUnits:"userSpaceOnUse"}},[t("polygon",{staticClass:"stroke-background-color fill-regular-color",attrs:{points:"0 0, 7 3.5, 0 7","stroke-width":"1"}})]),t("marker",{attrs:{id:"arrowEndSelected",markerWidth:"7",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",markerUnits:"userSpaceOnUse"}},[t("polygon",{staticClass:"stroke-selected-color fill-selected-color",attrs:{points:"0 0, 7 3.5, 0 7","stroke-width":"1"}})])]),e._l(e.map,function(r,i){return t("g",{key:"tool"+i},[t("text",{attrs:{x:e.toolX,y:i*e.verticalSpacing+e.startY+8,"text-anchor":"end",fill:i===e.selectedTool?"var(--v-primary-lighten1, #2CA9BC)":"currentColor","font-size":"10px","font-weight":i===e.selectedTool?"bold":"normal"}},[e._v(" T"+e._s(i)+" ")]),t("text",{attrs:{x:e.gateX,y:i*e.verticalSpacing+e.startY+8,"text-anchor":"start",fill:i===e.selectedGate?"var(--v-primary-lighten1, #2CA9BC)":"currentColor","font-size":"10px","font-weight":i===e.selectedGate?"bold":"normal"}},[e._v(" #"+e._s(i)+" ")]),i!==e.selectedTool?t("g",[t("path",{staticClass:"stroke-background-color",attrs:{d:e.generateMappingPathD(i),"stroke-width":"4",fill:"none"}}),t("path",{staticClass:"stroke-regular-color",attrs:{d:e.generateMappingPathD(i),"stroke-width":"2",fill:"none","marker-start":"url(#squareStart)","marker-end":"url(#arrowEnd)"}})]):e._e()])}),e.selectedTool>=0?t("g",[t("path",{staticClass:"stroke-background-color",attrs:{d:e.generateMappingPathD(e.selectedTool),"stroke-width":"6",fill:"none"}}),t("path",{staticClass:"stroke-selected-color",attrs:{d:e.generateMappingPathD(e.selectedTool),"stroke-width":"4",fill:"none","marker-start":"url(#squareStartSelected)","marker-end":"url(#arrowEndSelected)"}})]):e._e(),e.showEsGroups?t("g",e._l(e.getEndlessSpoolGroups(),function(r,i){return t("g",{key:"group_"+i},[r!==e.currentGroup?t("g",[t("path",{staticClass:"stroke-regular-color",attrs:{d:e.generateEndlessSpoolPathD(r,i),"stroke-width":"2","stroke-linecap":"round",fill:"none"}}),t("text",{staticClass:"fill-regular-color",attrs:{x:e.groupX+i*e.groupSpacing,y:e.startY+e.map.length*e.verticalSpacing+2,fill:"red","font-size":"8px"}},[e._v(" "+e._s(String.fromCharCode(r+65))+" ")])]):t("g",[t("path",{staticClass:"stroke-selected-color",attrs:{d:e.generateEndlessSpoolPathD(r,i),"stroke-width":"2","stroke-linecap":"round",fill:"none"}}),t("text",{staticClass:"fill-selected-color",attrs:{x:e.groupX+i*e.groupSpacing,y:e.startY+e.map.length*e.verticalSpacing+2,fill:"red","font-size":"8px","font-weight":"bold"}},[e._v(" "+e._s(String.fromCharCode(r+65))+" ")])])])}),0):e._e()],2)},P9=[];const cv={};var T9=E(Ht,w9,P9,!1,D9,"1cabc78b",null,null);function D9(e){for(let s in cv)this[s]=cv[s]}const vg=function(){return T9.exports}();var M9=Object.defineProperty,E9=Object.getOwnPropertyDescriptor,O9=(e,s,t,r)=>{for(var i=r>1?void 0:r?E9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&M9(s,t,i),i};let $m=class extends M(O,lt){constructor(){super(...arguments),this.mdiMulticast=YC,this.mdiDotsVertical=vo,this.mdiAutoFix=MC,this.mdiCheckAll=NM,this.mdiWrenchCog=f$,this.mdiCogRefresh=FC,this.mdiDatabaseEdit=RC,this.mdiStateMachine=zf,this.mdiNoteText=L5,this.mdiInformationOutline=If,this.mdiRefresh=bi,this.showRecoverStateDialog=!1,this.showEditTtgMapDialog=!1,this.showEditGateMapDialog=!1,this.showMaintenanceDialog=!1}get col1Size(){return this.$store.state.gui.view.mmu.largeFilamentStatus?6:5}get title(){const s=this.$t("Panels.MmuPanel.Headline");return this.enabled?s:"".concat(s," (disabled)")}get showClogDetection(){return!this.hasEncoder||!!this.$store.state.gui.view.mmu.showClogDetection}get showTtgMap(){var s;return(s=this.$store.state.gui.view.mmu.showTtgMap)!=null?s:!0}get showDetails(){var s;return(s=this.$store.state.gui.view.mmu.showDetails)!=null?s:!0}get statusText(){let s="";return["complete","error","cancelled","started"].includes(this.printState)?s=this.capitalize(this.printState):this.action==="Idle"?this.printState==="printing"?(s="Printing (".concat(this.numToolchanges),this.slicerToolMap.total_toolchanges&&(s+="/".concat(this.slicerToolMap.total_toolchanges)),s+=" swaps)"):s=this.filament!=="Unloaded"?"Filament: ".concat(this.filamentPosition,"mm"):"Filament: Unloaded":this.action==="Loading"||this.action==="Unloading"?s="".concat(this.action,": ").concat(this.filamentPosition,"mm"):s=this.action,s}capitalize(s){return s&&s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()}handleSyncSpoolman(){this.refreshSpoolmanData(),this.doLoadingSend("MMU_SPOOLMAN REFRESH=1 QUIET=1","mmu_spoolman")}mounted(){var s,t;(t=(s=this.$store.state.printer.mmu)==null?void 0:s.spoolman_support)!=null&&t&&this.refreshSpoolmanData()}};$m=O9([w({components:{Panel:B,MmuMachine:md,MmuPanelSettings:dx,MmuFilamentStatus:hx,MmuClogMeter:mx,MmuGateSummary:gg,MmuControls:px,MmuTtgMap:vg}})],$m);var L9=Object.defineProperty,F9=Object.getOwnPropertyDescriptor,bg=(e,s,t,r)=>{for(var i=r>1?void 0:r?F9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&L9(s,t,i),i};let La=class extends M(O,lt){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiWrenchCog=f$,this.mdiSync=qf,this.mdiSyncOff=J5,this.mdiDownloadOutline=HC,this.mdiUploadOutline=iE,this.mdiEngineOutline=a5,this.mdiEngineOffOutline=n5,this.mdiHomeOutline=y5,this.mdiArrowDownThin=DM,this.mdiArrowUpThin=FM,this.mdiArrowLeftRight=OM,this.mdiArrowCollapseHorizontal=wM,this.mdiArrowExpandHorizontal=MM,this.mdiContentSaveSettingsOutline=KM,this.localLedEnable=!0,this.localLedAnimation=!0,this.localEntryEffect="off",this.localExitEffect="off",this.localStatusEffect="off",this.localTMacroColor="slicer"}onShowDialogChanged(e){e&&(this.localLedEnable=this.macroVarsLedEnable,this.localLedAnimation=this.macroVarsLedAnimation,this.localEntryEffect=this.macroVarsDefaultEntryEffect,this.localExitEffect=this.macroVarsDefaultExitEffect,this.localStatusEffect=this.macroVarsDefaultStatusEffect,this.localTMacroColor=this.configTMacroColor)}get unitArray(){return Array.from({length:this.numUnits},(e,s)=>s)}get mmuLeds(){return!!this.$store.state.printer.mmu_leds}hasLedsOfType(e){var s,t;return((t=(s=this.$store.state.printer.mmu_leds)==null?void 0:s[e])!=null?t:0)>0}get ledEffectModule(){var e,s;return(s=(e=this.$store.state.printer.mmu_leds)==null?void 0:e.led_effect_module)!=null?s:!1}unitDisplayName(e){const s=this.unitDetails(e).name;return"MMU #".concat(e+1," - ").concat(s)}updateLeds(){const e="\n            MMU_LED QUIET=1\n            ENABLE=".concat(this.localLedEnable?1:0,"\n            ANIMATION=").concat(this.localLedAnimation?1:0,"\n            ENTRY_EFFECT=").concat(this.localEntryEffect,"\n            EXIT_EFFECT=").concat(this.localExitEffect,"\n            STATUS_EFFECT=").concat(this.localStatusEffect,"\n        ").replace(/\s+/g," ").trim();this.doLoadingSend(e,"mmu_led"),this.updateTMacroColor()}updateTMacroColor(){const e="MMU_TEST_CONFIG QUIET=1 t_macro_color=".concat(this.localTMacroColor);this.doLoadingSend(e,"mmu_test_config")}close(){this.$emit("close")}};bg([x({required:!0})],La.prototype,"showDialog",2);bg([ce("showDialog")],La.prototype,"onShowDialogChanged",1);La=bg([w({components:{Panel:B}})],La);var A9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{width:"600",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.MmuPanel.MmuMaintenanceTitle"),icon:e.mdiWrenchCog,"card-class":"mmu-edit-ttg-map-dialog"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Ru,[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Intro"))+" ")]),t(Z,[t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-6 d-flex justify-center align-center"},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.MotorSync"))+" ")])]),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.syncDrive,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_SYNC_GEAR_MOTOR SYNC=1","mmu_sync_gear_motor")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiSync))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Sync"))+" ")],1)],1),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||!e.syncDrive,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_SYNC_GEAR_MOTOR SYNC=0","mmu_sync_gear_motor")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiSyncOff))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Unsync"))+" ")],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-6 d-flex justify-center align-center"},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.ExtruderOnly"))+" ")])]),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_LOAD EXTRUDER_ONLY=1","mmu_load")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiDownloadOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Load"))+" ")],1)],1),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_UNLOAD EXTRUDER_ONLY=1","mmu_unload")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiUploadOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Unload"))+" ")],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-6 d-flex justify-center"},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.MmuMotors"))+" ")])]),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_MOTORS_ON","mmu_motors_on")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiEngineOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.On"))+" ")],1)],1),t(v,{staticClass:"col-3 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(r){return e.doLoadingSend("MMU_MOTORS_OFF","mmu_motors_off")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiEngineOffOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Off"))+" ")],1)],1)],1),e._l(e.unitArray,function(r){return t("div",{key:"unit_"+r},[t(C,{attrs:{dense:""}},[t(v,{staticClass:"pt-6",attrs:{cols:"12"}},[t("span",{staticClass:"settings-row-subtitle"},[e._v(e._s(e.unitDisplayName(r)))]),t(H,{staticClass:"mb-1"})],1)],1),["RotarySelector","ServoSelector"].includes(e.unitDetails(r).selectorType)?t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"3"}},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Selector"))+" ")])]),t(v,{staticClass:"col-9"},[t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"4"}},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_HOME","mmu_home")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiHomeOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Home"))+" ")],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.grip==="Gripped",color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_GRIP","mmu_grip")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiArrowCollapseHorizontal))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Grip"))+" ")],1)],1),t(v,{staticClass:"col-4 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.grip==="Released",color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_RELEASE","mmu_release")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiArrowExpandHorizontal))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Release"))+" ")],1)],1)],1)],1)],1):["LinearSelector"].includes(e.unitDetails(r).selectorType)?t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"3"}},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Selector"))+" ")])]),t(v,{staticClass:"col-9"},[t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"4"}},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend,color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_HOME","mmu_home")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiHomeOutline))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Home"))+" ")],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.servo==="Up",color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_SERVO POS=up","mmu_servo")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiArrowUpThin))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Up"))+" ")],1)],1),t(v,{staticClass:"col-4 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.servo==="Down",color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_SERVO POS=down","mmu_servo")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiArrowDownThin))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Down"))+" ")],1)],1),t(v,{staticClass:"col-4 d-flex justify-center"},[t(g,{staticClass:"btn-small-text",attrs:{block:"",small:"",disabled:!e.canSend||e.servo==="Move",color:"secondary"},on:{click:function(i){return e.doLoadingSend("MMU_SERVO POS=move","mmu_servo")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiArrowLeftRight))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Move"))+" ")],1)],1)],1)],1)],1):t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"3"}},[t("span",{staticClass:"settings-row-subtitle"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.NoCustomControls"))+" ")])])],1)],1)}),t(C,{attrs:{dense:""}},[t(v,{staticClass:"pt-10",attrs:{cols:"12"}},[t("span",{staticClass:"settings-row-subtitle"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Config"))+" ")]),t(H,{staticClass:"mb-6 mt-1"})],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"3"}},[t(v,{staticClass:"d-flex flex-column pa-0 my-3"},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Leds"))+" ")]),t(Ce,{staticClass:"short-switch",attrs:{disabled:!e.mmuLeds,label:e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Enable"),"hide-details":""},model:{value:e.localLedEnable,callback:function(r){e.localLedEnable=r},expression:"localLedEnable"}}),t(Ce,{staticClass:"short-switch",attrs:{disabled:!e.ledEffectModule,label:e.$t("Panels.MmuPanel.MmuMaintenanceDialog.Animation"),"hide-details":""},model:{value:e.localLedAnimation,callback:function(r){e.localLedAnimation=r},expression:"localLedAnimation"}})],1)],1),t(v,{attrs:{cols:"7"}},[t(C,{class:{"disabled-row":!e.hasLedsOfType("entry")},attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-end align-center pr-6"},[e._v("Entry")]),t(v,{staticClass:"col-8 d-flex align-center"},[t(we,{attrs:{items:e.LED_OPTIONS,disabled:!e.hasLedsOfType("entry"),"hide-details":"",outlined:"",dense:""},model:{value:e.localEntryEffect,callback:function(r){e.localEntryEffect=r},expression:"localEntryEffect"}})],1)],1),t(C,{class:{"disabled-row":!e.hasLedsOfType("exit")},attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-end align-center pr-6"},[e._v("Exit")]),t(v,{staticClass:"col-8 d-flex align-center"},[t(we,{attrs:{items:e.LED_OPTIONS,disabled:!e.hasLedsOfType("exit"),"hide-details":"",outlined:"",dense:""},model:{value:e.localExitEffect,callback:function(r){e.localExitEffect=r},expression:"localExitEffect"}})],1)],1),t(C,{class:{"disabled-row":!e.hasLedsOfType("status")},attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-end align-center pr-6"},[e._v("Status")]),t(v,{staticClass:"col-8 d-flex align-center"},[t(we,{attrs:{items:e.LED_STATUS_OPTIONS,disabled:!e.hasLedsOfType("status"),"hide-details":"",outlined:"",dense:""},model:{value:e.localStatusEffect,callback:function(r){e.localStatusEffect=r},expression:"localStatusEffect"}})],1)],1)],1),t(v,{staticClass:"d-flex align-center justify-center",attrs:{cols:"2"}},[t(g,{staticClass:"btn-no-text",attrs:{color:"secondary",disabled:!e.canSend},on:{click:e.updateLeds}},[t(_,[e._v(e._s(e.mdiContentSaveSettingsOutline))])],1)],1)],1),t(C,{staticClass:"mt-4",attrs:{dense:""}},[t(v,{staticClass:"d-flex align-center",attrs:{cols:"3"}},[t("span",{staticClass:"settings-row-title"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.UiVisual"))+" ")])]),t(v,{attrs:{cols:"7"}},[t(C,{attrs:{dense:""}},[t(v,{staticClass:"col-4 d-flex justify-end align-center pr-6"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenanceDialog.ExtruderTx"))+" ")]),t(v,{staticClass:"col-8 d-flex align-center"},[t(we,{attrs:{items:e.T_MACRO_COLOR_OPTIONS,"hide-details":"",outlined:"",dense:""},model:{value:e.localTMacroColor,callback:function(r){e.localTMacroColor=r},expression:"localTMacroColor"}})],1)],1)],1)],1)],2),t(ae,[t(ie),t(g,{attrs:{color:"primary",text:""},on:{click:e.close}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.Ok"))+" ")])],1)],1)],1)},k9=[];const uv={};var R9=E(La,A9,k9,!1,H9,"361a2bca",null,null);function H9(e){for(let s in uv)this[s]=uv[s]}const j9=function(){return R9.exports}();var I9=Object.defineProperty,N9=Object.getOwnPropertyDescriptor,Fn=(e,s,t,r)=>{for(var i=r>1?void 0:r?N9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&I9(s,t,i),i};let Sr=class extends M(O){constructor(){super(...arguments),this.mdiAlert=SM,this.mdiCloseThick=pe}action(){this.$emit("action")}close(){this.$emit("close")}};Fn([x({type:Boolean,required:!0})],Sr.prototype,"show",2);Fn([x({type:String,required:!0})],Sr.prototype,"title",2);Fn([x({type:String,required:!0})],Sr.prototype,"text",2);Fn([x({type:String,required:!0})],Sr.prototype,"actionButtonText",2);Fn([x({type:String,required:!0})],Sr.prototype,"cancelButtonText",2);Sr=Fn([w({components:{Panel:B}})],Sr);var V9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,width:"400",fullscreen:e.isMobile}},[t(B,{attrs:{"card-class":"confirm-top-corner-menu-dialog",icon:e.mdiAlert,title:e.title,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-3"},[t(C,[t(v,[t("p",{staticClass:"body-2"},[e._v(e._s(e.text))])])],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.cancelButtonText))]),t(g,{attrs:{text:"",color:"error"},on:{click:e.action}},[e._v(e._s(e.actionButtonText))])],1)],1)],1)},U9=[];const dv={};var B9=E(Sr,V9,U9,!1,G9,null,null,null);function G9(e){for(let s in dv)this[s]=dv[s]}const wr=function(){return B9.exports}();var W9=Object.defineProperty,z9=Object.getOwnPropertyDescriptor,Oo=(e,s,t,r)=>{for(var i=r>1?void 0:r?z9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&W9(s,t,i),i};let li=class extends M(O,lt){constructor(){super(...arguments),this.mdiDatabaseEdit=RC,this.mdiSpeedometer=Wf,this.mdiRestart=er,this.mdiMinus=Vf,this.mdiPlus=Yu,this.mdiAdjust=Er,this.editGateMap=[],this.editGateSelected=-1,this.showResetConfirmationDialog=!1,this.showSpoolmanSpoolChooserDialog=!1}onShowDialogChanged(){this.initialize()}onGateMapChanged(){this.initialize()}initialize(){this.showDialog?(this.refreshSpoolmanData(),this.editGateMap=Array.from(this.gateMap)):this.editGateMap=[],this.editGateSelected=-1}selectGate(e){this.editGateSelected!==-1&&this.adjustSpoolId(),this.editGateSelected===e?this.editGateSelected=-1:(this.editGateSelected=e,this.spoolmanSupport===this.SPOOLMAN_OFF&&(this.editGateMap[this.editGateSelected].spoolId=-1))}handleEscapePress(e){(e.key==="Escape"||e.keyCode===27)&&(this.editGateSelected=-1)}adjustName(){var s;const e=(s=this.editGateMap[this.editGateSelected].filamentName)!=null?s:"";this.editGateMap[this.editGateSelected].filamentName=e.trim().replace(/[#'"]/g,"")}adjustMaterial(){var s;const e=(s=this.editGateMap[this.editGateSelected].material)!=null?s:"";this.editGateMap[this.editGateSelected].material=e.trim().replace(/[#'"]/g,"")}get spoolId(){return!this.editGateMap||!this.editGateMap[this.editGateSelected]?null:this.editGateMap[this.editGateSelected].spoolId}set spoolId(e){const s=e?parseInt(e):null;this.editGateMap[this.editGateSelected].spoolId=s!==null&&!isNaN(s)?s:null}selectSpoolmanSpool(e){this.editGateMap[this.editGateSelected].spoolId=e.id}onSpoolIdChanged(e){var s,t,r,i,n,a,o;if(e!==null&&e>0){const l=this.spoolmanSpool(e);this.editGateMap[this.editGateSelected].filamentName=(t=(s=l==null?void 0:l.filament)==null?void 0:s.name)!=null?t:this.$t("Panels.MmuPanel.Unknown"),this.editGateMap[this.editGateSelected].material=(i=(r=l==null?void 0:l.filament)==null?void 0:r.material)!=null?i:this.$t("Panels.MmuPanel.Unknown");let c=this.formColorString((n=l==null?void 0:l.filament)==null?void 0:n.color_hex);this.editGateMap[this.editGateSelected].color=c,this.editGateMap[this.editGateSelected].temperature=(o=(a=l==null?void 0:l.filament)==null?void 0:a.settings_extruder_temp)!=null?o:-1}}spoolIdRules(){var s,t;const e=(t=(s=this.$store.state.server.spoolman)==null?void 0:s.spools)!=null?t:[];return[r=>{var n;return!r||r<=0||((n=e.some(a=>a.id===r))!=null?n:null)?!0:this.$t("Panels.MmuPanel.GateMapDialog.NoMatchingSpool")}]}adjustSpoolId(){var s;const e=(s=this.editGateMap[this.editGateSelected].spoolId)!=null?s:-1;this.editGateMap[this.editGateSelected].spoolId=e}get spoolIdExists(){var s,t;return((t=(s=this.$store.state.server.spoolman)==null?void 0:s.spools)!=null?t:[]).some(r=>r.id===this.spoolId)}get temperature(){return this.editGateMap[this.editGateSelected].temperature}set temperature(e){const s=e?parseInt(e):-1;this.editGateMap[this.editGateSelected].temperature=isNaN(s)?-1:s}temperatureRules(){return[e=>{const s=parseFloat(String(e));return!isNaN(s)&&s>=100&&s<=290?!0:this.$t("Panels.MmuPanel.GateMapDialog.BadTemperature")}]}adjustTemperature(){const e=this.editGateMap[this.editGateSelected].temperature;e<100?this.editGateMap[this.editGateSelected].temperature=100:e>290&&(this.editGateMap[this.editGateSelected].temperature=290)}get useSpoolman(){const e=this.editGateMap[this.editGateSelected].spoolId;return e===null||e>0}set useSpoolman(e){e?this.editGateMap[this.editGateSelected].spoolId=null:this.editGateMap[this.editGateSelected].spoolId=-1}get selectedGateStatus(){return this.editGateMap[this.editGateSelected].status===1||this.editGateMap[this.editGateSelected].status===2}set selectedGateStatus(e){this.editGateMap[this.editGateSelected].status=e?this.GATE_AVAILABLE:this.GATE_EMPTY}get selectedGateStatusLabel(){const e=this.editGateMap[this.editGateSelected].status;return e===this.GATE_UNKNOWN?this.$t("Panels.MmuPanel.GateMapDialog.FilamentUnknown").toString():e===this.GATE_EMPTY?this.$t("Panels.MmuPanel.GateMapDialog.FilamentEmpty").toString():this.$t("Panels.MmuPanel.GateMapDialog.FilamentAvailable").toString()}get spoolmanColor(){var r,i;const e=(r=this.editGateMap[this.editGateSelected].spoolId)!=null?r:-1,s=this.spoolmanSpool(e),t=(i=s==null?void 0:s.filament.color_hex)!=null?i:"000";return"#".concat(t)}get spoolmanRemainingWeight(){var t,r;const e=(t=this.editGateMap[this.editGateSelected].spoolId)!=null?t:-1,s=this.spoolmanSpool(e);if(s){const i=(r=s.remaining_weight)!=null?r:0;return"".concat(i.toFixed(0),"g")}return"-"}get spoolmanTotalWeight(){var t,r,i;const e=(t=this.editGateMap[this.editGateSelected].spoolId)!=null?t:-1,s=this.spoolmanSpool(e);if(s){let n=(i=(r=s.filament)==null?void 0:r.weight)!=null?i:0;if(n<1e3)return"".concat(n.toFixed(0),"g");let a=Math.round(n/1e3);return a!==n/1e3&&(a=Math.round(n/100)/10),"".concat(a,"kg")}return"-"}get spoolmanLastUsed(){var r,i;const e=(r=this.editGateMap[this.editGateSelected].spoolId)!=null?r:-1,s=this.spoolmanSpool(e);let t="-";if(s)if(!((i=s.last_used)!=null?i:null))t=this.$t("Panels.SpoolmanPanel.Never");else{const a=new Date(s.last_used),l=new Date().getTime()-a.getTime();if(l<=1e3*60*60*24)return this.$t("Panels.SpoolmanPanel.Today");if(l<=1e3*60*60*24*2)return this.$t("Panels.SpoolmanPanel.Yesterday");if(l<=1e3*60*60*24*14){const c=Math.floor(l/864e5);t=this.$t("Panels.SpoolmanPanel.DaysAgo",{days:c})}t=a.toLocaleDateString()}return"".concat(this.$t("Panels.SpoolmanPanel.LastUsed"),": ").concat(t)}decrementSpeed(){let e=this.editGateMap[this.editGateSelected].speedOverride;e=e>10?Math.round(e-10):10,this.editGateMap[this.editGateSelected].speedOverride=e}incrementSpeed(){let e=this.editGateMap[this.editGateSelected].speedOverride;e=e<150?Math.round(e+10):150,this.editGateMap[this.editGateSelected].speedOverride=e}resetSpeed(){this.editGateMap[this.editGateSelected].speedOverride=100}resetGateMap(){this.showResetConfirmationDialog=!0}executeResetGateMap(){this.initialize(),this.doLoadingSend("MMU_GATE_MAP RESET=1","mmu_gate_map"),this.showResetConfirmationDialog=!1}close(){this.editGateMap=[],this.editGateSelected=-1,this.$emit("close")}commit(){this.editGateSelected!==-1&&this.adjustSpoolId();let e=this.generateMapString(this.editGateMap),s='MMU_GATE_MAP MAP="'.concat(e,'" QUIET=1');this.doSend(s),this.close()}generateMapString(e){const s={};return e.forEach(r=>{var i,n,a,o,l,c;s[r.index]={status:(i=r.status)!=null?i:this.GATE_UNKNOWN,spool_id:(n=r.spoolId)!=null?n:-1,material:(a=r.material)!=null?a:"",color:r.color.replace(this.NO_FILAMENT_COLOR,"").replace("#",""),name:(o=r.filamentName)!=null?o:"",temp:(l=r.temperature)!=null?l:-1,speed_override:(c=r.speedOverride)!=null?c:100}}),JSON.stringify(s).replace(/"(\d+)":/g,"$1: ").replace(/"/g,"'")}mounted(){document.addEventListener("keydown",this.handleEscapePress)}beforeDestroy(){document.removeEventListener("keydown",this.handleEscapePress)}};Oo([x({required:!0})],li.prototype,"showDialog",2);Oo([ce("showDialog")],li.prototype,"onShowDialogChanged",1);Oo([ce("gateMap")],li.prototype,"onGateMapChanged",1);Oo([ce("spoolId")],li.prototype,"onSpoolIdChanged",1);li=Oo([w({components:{Panel:B,MmuMachine:md,ConfirmationDialog:wr,SpoolmanChangeSpoolDialog:Fr}})],li);var q9=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{width:"800",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.MmuPanel.EditGateMapTitle"),icon:e.mdiDatabaseEdit,"card-class":"mmu-edit-ttg-map-dialog"}},[e.editGateMap.length>0?t(Ru,[t(Pe,{attrs:{fluid:""}},[t(C,[t(v,{staticClass:"d-flex justify-start align-center no-padding",attrs:{cols:"8"}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.SelectGate"))+" ")]),t(v,{staticClass:"d-flex justify-end no-padding",attrs:{cols:"4"}},[t(g,{staticClass:"small-font",attrs:{small:"",color:"secondary",loading:e.loadings.includes("mmu_ttg_map")},on:{click:function(r){return e.resetGateMap()}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.Reset"))+" ")])],1)],1),t(C,{attrs:{align:"start"}},[t(v,{staticClass:"d-flex justify-start align-center no-padding"},[t(md,{attrs:{"edit-gate-map":e.editGateMap,"edit-gate-selected":e.editGateSelected},on:{"select-gate":e.selectGate}})],1)],1)],1)],1):e._e(),t(H),t(Z,{staticClass:"px-4 pb-4"},[t("div",{staticClass:"fixed-area"},[t("transition",{attrs:{name:"fade"}},[e.editGateSelected===-1?t("div",{staticClass:"overlay-text"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.SelectGate"))+" ")]):e._e()]),t("transition",{attrs:{name:"fade"}},[e.editGateSelected!==-1?t(Pe,[t(C,{staticClass:"ms-0 me-0 mb-4"},[t(v,{staticClass:"d-flex justify-start align-center no-padding small-font text--secondary"},[e.spoolmanSupport===e.SPOOLMAN_PULL?t("div",[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.SpoolmanPull",{mode:e.spoolmanSupport}))+" ")]):e.spoolmanSupport===e.SPOOLMAN_OFF?t("div",[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.SpoolmanOff",{mode:e.spoolmanSupport}))+" ")]):t("div",[e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.SpoolmanOther",{mode:e.spoolmanSupport}))+" ")])])],1),t(C,[t(v,{staticClass:"d-flex flex-column justify-start align-left no-padding pt-3",attrs:{cols:"12",md:"6"}},[t(C,[t(v,{staticClass:"pt-5 ps-6",attrs:{cols:"6"}},[t(Ce,{staticClass:"short-switch",attrs:{label:e.$t("Panels.MmuPanel.GateMapDialog.Spoolman"),disabled:e.spoolmanSupport===e.SPOOLMAN_PULL||e.spoolmanSupport===e.SPOOLMAN_OFF,"hide-details":""},model:{value:e.useSpoolman,callback:function(r){e.useSpoolman=r},expression:"useSpoolman"}})],1),t(v,{attrs:{cols:"6"}},[t(re,{attrs:{type:"number",label:e.$t("Panels.MmuPanel.GateMapDialog.SpoolmanId"),rules:e.spoolIdRules(),disabled:!e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL||e.spoolmanSupport===e.SPOOLMAN_OFF,"hide-spin-buttons":!e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL||e.spoolmanSupport===e.SPOOLMAN_OFF,outlined:"",dense:""},on:{blur:e.adjustSpoolId},model:{value:e.spoolId,callback:function(r){e.spoolId=r},expression:"spoolId"}})],1)],1),t(C,[t(v,{staticClass:"ps-6",attrs:{cols:"12"}},[t(re,{attrs:{label:e.$t("Panels.MmuPanel.GateMapDialog.FilamentName"),disabled:e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL,outlined:"",dense:"",clearable:"","hide-details":""},on:{blur:e.adjustName},model:{value:e.editGateMap[e.editGateSelected].filamentName,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"filamentName",typeof r=="string"?r.trim():r)},expression:"editGateMap[editGateSelected].filamentName"}})],1)],1),t(C,[t(v,{staticClass:"ps-6",attrs:{cols:"6"}},[t(re,{attrs:{label:e.$t("Panels.MmuPanel.GateMapDialog.Material"),disabled:e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL,outlined:"",dense:"",clearable:"","hide-details":""},on:{blur:e.adjustMaterial},model:{value:e.editGateMap[e.editGateSelected].material,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"material",typeof r=="string"?r.trim():r)},expression:"editGateMap[editGateSelected].material"}})],1),t(v,{attrs:{cols:"2"}}),t(v,{attrs:{cols:"4"}},[t(re,{attrs:{type:"number",label:e.$t("Panels.MmuPanel.GateMapDialog.Temperature"),disabled:e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL,"hide-spin-buttons":e.useSpoolman||e.spoolmanSupport===e.SPOOLMAN_PULL,suffix:"°C",rules:e.temperatureRules(),outlined:"",dense:"","hide-details":""},on:{blur:e.adjustTemperature},model:{value:e.editGateMap[e.editGateSelected].temperature,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"temperature",r)},expression:"editGateMap[editGateSelected].temperature"}})],1)],1),t(C,{staticClass:"pt-3 pb-3 ps-3"},[t(H)],1),t(C,[t(v,{staticClass:"ps-6",attrs:{cols:"12"}},[t(Ce,{staticClass:"short-switch",attrs:{label:e.selectedGateStatusLabel,"hide-details":""},model:{value:e.selectedGateStatus,callback:function(r){e.selectedGateStatus=r},expression:"selectedGateStatus"}})],1)],1),t(C,[t(v,{attrs:{cols:"12"}},[t(ms,{staticClass:"speed-slider-subheader ps-6 pe-1"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiSpeedometer))]),t("span",[e._v(e._s(e.$t("Panels.MmuPanel.GateMapDialog.LoadSpeed")))]),t(ie),t(re,{staticClass:"_slider-input d-flex align-center pt-1",attrs:{type:"number",suffix:"%","hide-spin-buttons":"","hide-details":"",outlined:"",dense:"",readonly:""},scopedSlots:e._u([{key:"append",fn:function(){return[t(_,{attrs:{small:""},on:{click:e.resetSpeed}},[e._v(e._s(e.mdiRestart))])]},proxy:!0}],null,!1,3618677834),model:{value:e.editGateMap[e.editGateSelected].speedOverride,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"speedOverride",r)},expression:"editGateMap[editGateSelected].speedOverride"}})],1),t(Z,{staticClass:"pb-0 pe-0 pt-1 d-flex align-center"},[t(pr,{attrs:{min:10,max:150,"hide-details":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[t(_,{on:{click:e.decrementSpeed}},[e._v(e._s(e.mdiMinus))])]},proxy:!0},{key:"append",fn:function(){return[t(_,{on:{click:e.incrementSpeed}},[e._v(e._s(e.mdiPlus))])]},proxy:!0}],null,!1,3666585615),model:{value:e.editGateMap[e.editGateSelected].speedOverride,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"speedOverride",r)},expression:"editGateMap[editGateSelected].speedOverride"}})],1)],1)],1),t(C,[t(ie)],1)],1),t(v,{staticClass:"d-flex justify-center",attrs:{cols:"12",md:"6"}},[e.useSpoolman?t("div",[t("div",{class:e.spoolIdExists?"":"no-spool"},[t(mg,{attrs:{height:"120px",width:"100%",color:e.spoolmanColor},on:{"click-spool":function(r){e.showSpoolmanSpoolChooserDialog=!0}}}),t("div",{staticClass:"pt-4"},[e._v(e._s(e.spoolmanLastUsed))]),t("div",[t("strong",[e._v(e._s(e.spoolmanRemainingWeight))]),t("small",{staticClass:"ml-1"},[e._v("/ "+e._s(e.spoolmanTotalWeight))])])],1),t("div",{staticStyle:{"padding-top":"12px"}},[t(g,{staticClass:"spoolman-btn",attrs:{block:"",color:"secondary"},on:{click:function(r){e.showSpoolmanSpoolChooserDialog=!0}}},[t(_,[e._v(e._s(e.mdiAdjust))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.GateMapDialog.ChooseSpool"))+" ")],1)],1)]):t("div",[t(Wt,{attrs:{"hide-inputs":"","swatches-max-height":"120px","show-swatches":"",mode:"hexa","show-alpha":"","hide-opacity":"false"},model:{value:e.editGateMap[e.editGateSelected].color,callback:function(r){e.$set(e.editGateMap[e.editGateSelected],"color",r)},expression:"editGateMap[editGateSelected].color"}})],1)])],1)],1):e._e()],1)],1)]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.$t("Panels.MmuPanel.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.commit}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.Save"))+" ")])],1)],1)],1),t(Fr,{attrs:{"show-dialog":e.showSpoolmanSpoolChooserDialog,"set-active-spool":!1},on:{"select-spool":e.selectSpoolmanSpool,close:function(r){e.showSpoolmanSpoolChooserDialog=!1}}}),t(wr,{attrs:{show:e.showResetConfirmationDialog,title:e.$t("Panels.MmuPanel.Dialog.AreYouSure"),text:e.$t("Panels.MmuPanel.GateMapDialog.ResetConfirmation"),"action-button-text":e.$t("Panels.MmuPanel.GateMapDialog.Reset"),"cancel-button-text":e.$t("Panels.MmuPanel.Cancel")},on:{action:e.executeResetGateMap,close:function(r){e.showResetConfirmationDialog=!1}}})],1)},Z9=[];const hv={};var Y9=E(li,q9,Z9,!1,X9,"3e26b00d",null,null);function X9(e){for(let s in hv)this[s]=hv[s]}const J9=function(){return Y9.exports}();var K9=Object.defineProperty,Q9=Object.getOwnPropertyDescriptor,Ci=(e,s,t,r)=>{for(var i=r>1?void 0:r?Q9(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&K9(s,t,i),i};let Xs=class extends M(O,lt){constructor(){super(...arguments),this.mdiStateMachine=zf,this.localTtgMap=[],this.localEndlessSpoolGroups=[],this.localGateMap=[],this.toolMetaData=[],this.referencedTools=[],this.allTools=!0,this.allToolsDisabled=!1,this.skipAutomap=!1,this.selectedTool=-1,this.selectedGate=-1,this.showResetConfirmationDialog=!1}onTtgMapChanged(){this.initialize()}onEndlessSpoolGroupsChanged(){this.initialize()}onShowDialogChanged(){this.initialize()}initialize(){var e;if(this.showDialog){this.localTtgMap=Array.from(this.ttgMap),this.localEndlessSpoolGroups=Array.from(this.endlessSpoolGroups),this.localGateMap=Array.from(this.gateMap),this.toolMetaData=[],this.referencedTools=[];for(let s=0;s<this.ttgMap.length;s++)this.toolMetaData[s]=this.toolDetails(s,this.file),(e=this.toolMetaData[s])!=null&&e.inUse&&this.referencedTools.push(s);this.referencedTools.length>0?(this.allTools=!1,this.allToolsDisabled=!1):(this.allTools=!0,this.allToolsDisabled=!0),this.selectedTool=-1,this.selectedGate=-1}this.skipAutomap=!1}onAllToolsChanged(){this.selectedTool=-1,this.selectedGate=-1}toolCardClass(e){let s=[];return s.push("no-padding"),s.push(this.$vuetify.theme.dark?"card-dark-theme":"card-light-theme"),this.selectedTool===e&&s.push("selected-card"),this.selectedTool!==e&&this.selectedTool>=0&&s.push("disabled-card"),s}get gateItems(){return this.selectedTool<0?[]:this.localGateMap}get gateTableHeaders(){return this.selectedTool<0?[]:[{text:this.$t("Panels.MmuPanel.TtgMapDialog.Gate"),align:"start",value:"index",sortable:!1},{text:"",align:"center",sortable:!1},{text:this.$t("Panels.MmuPanel.TtgMapDialog.FilamentInfo"),align:"start",sortable:!1},{text:this.$t("Panels.MmuPanel.TtgMapDialog.EndlessSpool"),align:"center",sortable:!1}]}selectTool(e){this.selectedTool===e?(this.selectedTool=-1,this.selectedGate=-1):(this.selectedTool=e,this.selectedGate=this.localTtgMap[e],this.scrollToGateRow(this.selectedGate))}selectGate(e){this.selectedGate=e,y.set(this.localTtgMap,this.selectedTool,e)}selectEndlessSpool(e){if(this.selectedGate!==-1&&this.selectedGate!==e){let s=this.localEndlessSpoolGroups[this.selectedGate];if(this.localEndlessSpoolGroups[e]===s){let t=this.endlessSpoolGroups[e];if(t===s){const r=new Set(this.localEndlessSpoolGroups);let i=0;for(;r.has(i);)i++;t=i}s=t}y.set(this.localEndlessSpoolGroups,e,s),this.localGateMap[e].endlessSpoolGroup=s}}scrollToGateRow(e){this.$nextTick(()=>{const s=this.$refs["row-".concat(e)];s&&s.$el.scrollIntoView({behavior:"smooth",block:"nearest"})})}handleEscapePress(e){(e.key==="Escape"||e.keyCode===27)&&(this.selectedTool=-1,this.selectedGate=-1)}esSpoolsText(e){let s=[],t=this.localEndlessSpoolGroups[e];return this.localEndlessSpoolGroups.forEach((r,i)=>{let n=(e+i)%this.localEndlessSpoolGroups.length;this.localEndlessSpoolGroups[n]===t&&n!==e&&s.push(n)}),s.length?s.join(","):"none"}get toolNameText(){return this.toolMetaData[this.selectedTool].name}get toolDetailsText(){let e=this.toolMetaData[this.selectedTool].material,s=null;return this.toolMetaData[this.selectedTool].temp>=0&&(s=this.toolMetaData[this.selectedTool].temp+"°C"),[e,s].filter(t=>t!==null).join(" | ")}get toolColor(){return this.toolMetaData[this.selectedTool].color}get alerts(){let t=[];this.toolMetaData[this.selectedTool].material.toUpperCase()!==this.gateDetails(this.selectedGate).material.toUpperCase()&&t.push("• "+this.$t("Panels.MmuPanel.TtgMapDialog.Material")),Math.abs(this.toolMetaData[this.selectedTool].temp-this.gateDetails(this.selectedGate).temperature)>5&&t.push("• "+this.$t("Panels.MmuPanel.TtgMapDialog.Temperature"));const r=this.hexToRgb(this.formColorString(this.toolMetaData[this.selectedTool].color)),i=this.hexToRgb(this.formColorString(this.gateDetails(this.selectedGate).color));return this.weightedEuclideanDistance(r,i)>16e3&&t.push("• "+this.$t("Panels.MmuPanel.TtgMapDialog.Color")),t.length>0?(t.unshift(this.$t("Panels.MmuPanel.TtgMapDialog.Mismatch")),t):null}hexToRgb(e){const s=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return[s,t,r]}weightedEuclideanDistance(e,s,t=[.3,.59,.11]){return e.reduce((r,i,n)=>r+t[n]*(i-s[n])**2,0)}resetTtgMap(){this.showResetConfirmationDialog=!0}executeResetTtgMap(){this.initialize(),this.doSend("MMU_TTG_MAP RESET=1"),this.showResetConfirmationDialog=!1}close(){this.selectedTool=-1,this.selectedGate=-1,this.$emit("close")}commit(){let e=this.localTtgMap.join(","),s=this.localEndlessSpoolGroups.join(","),t="MMU_SLICER_TOOL_MAP SKIP_AUTOMAP="+(this.skipAutomap?1:0);this.doSend(t),t='MMU_TTG_MAP MAP="'.concat(e,'" QUIET=1'),this.doSend(t),t='MMU_ENDLESS_SPOOL GROUPS="'.concat(s,'" QUIET=1'),this.doSend(t),this.close()}mounted(){document.addEventListener("keydown",this.handleEscapePress)}beforeDestroy(){document.removeEventListener("keydown",this.handleEscapePress)}};Ci([x({required:!0})],Xs.prototype,"showDialog",2);Ci([x({required:!1,default:null})],Xs.prototype,"file",2);Ci([ce("ttgMap")],Xs.prototype,"onTtgMapChanged",1);Ci([ce("endlessSpoolGroups")],Xs.prototype,"onEndlessSpoolGroupsChanged",1);Ci([ce("showDialog")],Xs.prototype,"onShowDialogChanged",1);Ci([ce("allTools")],Xs.prototype,"onAllToolsChanged",1);Xs=Ci([w({components:{Panel:B,ConfirmationDialog:wr}})],Xs);var ek=Object.defineProperty,tk=Object.getOwnPropertyDescriptor,fd=(e,s,t,r)=>{for(var i=r>1?void 0:r?tk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ek(s,t,i),i};let tn=class extends M(O,lt){get rowClass(){let e=["cursor-pointer"];return this.details.index===this.selectedGate&&e.push("selected-row"),this.details.status===this.GATE_EMPTY&&e.push("disabled-row"),e}};fd([x({required:!0})],tn.prototype,"details",2);fd([x({required:!0})],tn.prototype,"selectedGate",2);fd([x({required:!0})],tn.prototype,"selectedEsGroup",2);tn=fd([w({})],tn);var sk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{class:e.rowClass,on:{click:function(r){return e.$emit("select-gate",e.details.index)},mouseover:function(r){return e.$emit("mouseover",e.details.index)},mouseleave:function(r){return e.$emit("mouseleave",e.details.index)}}},[t("td",[e._v(e._s(e.details.index))]),t("td",{staticClass:"pr-0 py-2"},[t(Ea,{staticClass:"mr-0",staticStyle:{height:"60px",float:"left"},attrs:{"gate-index":e.details.index,"show-percent":!1}})],1),t("td",{staticClass:"py-0",staticStyle:{"min-width":"264px","max-width":"264px"}},[t(gg,{attrs:{"gate-index":e.details.index,"show-details":!0,"show-gate":!1,compact:!0}})],1),t("td",[t("span",{staticClass:"es-group-icon",style:{background:e.details.endlessSpoolGroup===e.selectedEsGroup?"limegreen":"none",cursor:"context-menu"},on:{click:function(r){return r.stopPropagation(),e.$emit("select-es",e.details.index)}}})])])},rk=[];const mv={};var ik=E(tn,sk,rk,!1,nk,"7bbb5d9e",null,null);function nk(e){for(let s in mv)this[s]=mv[s]}const ak=function(){return ik.exports}();var ok=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{width:"800",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.MmuPanel.EditTtgMapTitle"),icon:e.mdiStateMachine,"card-class":"mmu-edit-ttg-map-dialog"}},[t(Ru,[t(Pe,[t(C,[t(v,{staticClass:"d-flex justify-start align-center no-padding",attrs:{cols:"8"}},[e.allTools?t("span",[e._v(e._s(e.$t("Panels.MmuPanel.TtgMapDialog.MapTools")))]):t("span",[e._v(e._s(e.$t("Panels.MmuPanel.TtgMapDialog.MapSlicerTools")))])]),t(v,{staticClass:"d-flex flex-column align-end no-padding",attrs:{cols:"4"}},[t(Pe,[t(C,{staticClass:"justify-end pa-0"},[t(v,{staticClass:"d-flex align-center justify-end no-padding pr-6"},[t("div",{staticClass:"mr-4"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.AllTools"))+" ")]),t(Ce,{staticClass:"short-switch",attrs:{disabled:e.allToolsDisabled,"hide-details":""},model:{value:e.allTools,callback:function(r){e.allTools=r},expression:"allTools"}})],1)],1),!e.allToolsDisabled&&e.macroVarsAutomapStrategy!=="none"?t(C,{staticClass:"justify-end pa-0"},[t(v,{staticClass:"d-flex align-center justify-end no-padding pr-6"},[t("div",{staticClass:"mr-4"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.SkipAutomap"))+" ")]),t(Ce,{staticClass:"short-switch",attrs:{disabled:e.allToolsDisabled,"hide-details":""},model:{value:e.skipAutomap,callback:function(r){e.skipAutomap=r},expression:"skipAutomap"}})],1)],1):e._e()],1)],1)],1),t(C,[t(v,{attrs:{cols:e.isMobile?12:9}},[t(C,[e._l(e.localTtgMap,function(r,i){return[e.toolMetaData[i].inUse||e.allTools?t(v,{key:i,staticClass:"no-padding min-width-card",attrs:{cols:"1"}},[t(Te,{class:e.toolCardClass(i),on:{click:function(n){return e.selectTool(i)}}},[t(ft,{staticClass:"justify-center"},[e._v(e._s(e.toolText(i)))]),t(Z,[t(Pe,[t(C,[t(v,{staticClass:"no-padding",attrs:{cols:"5"}},[t(Ea,{attrs:{"gate-index":r,"show-percent":!1,width:"100%"}})],1),t(v,{staticClass:"d-flex flex-column no-padding pr-1 pt-2",attrs:{cols:"7"}},[t("div",{staticClass:"small-font text-center"},[e._v("Gate")]),t("div",{staticClass:"text-center"},[e._v("#"+e._s(r))]),t(ie),t(H),t("div",{staticClass:"text-start no-break"},[t("strong",[e._v("∞ ")]),t("span",{staticClass:"tiny-font"},[e._v(e._s(e.esSpoolsText(r)))])])],1)],1)],1)],1)],1)],1):e._e()]})],2)],1),t(v,{staticClass:"d-flex flex-column align-center justify-center pa-0 min-width-map",attrs:{cols:e.isMobile?6:3}},[t(vg,{attrs:{map:e.localTtgMap,groups:e.localEndlessSpoolGroups,"selected-tool":e.selectedTool,"selected-gate":e.selectedGate}}),t(g,{staticClass:"small-font",attrs:{small:"",color:"secondary",loading:e.loadings.includes("mmu_ttg_map")},on:{click:function(r){return e.resetTtgMap()}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.Reset"))+" ")])],1)],1)],1)],1),t(H),t(Z,{staticClass:"px-4 pb-4"},[t("div",{staticClass:"fixed-area"},[t("transition",{attrs:{name:"fade"}},[e.selectedTool===-1?t("div",{staticClass:"overlay-text"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.SelectTool"))+" ")]):e._e()]),t("transition",{attrs:{name:"fade"}},[e.selectedTool!==-1?t(Pe,[t(C,[t(v,{staticClass:"d-flex align-center justify-center",attrs:{cols:"4"}},[e.selectedTool!==-1?t(Y,[e.toolMetaData[e.selectedTool]&&e.referencedTools.includes(e.selectedTool)?t(ot,[t("div",{staticClass:"text-overline"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.SlicerExpects"))+" ")]),t(H),t("div",{staticClass:"mb-2 mt-2"},[t("span",{staticClass:"tool-swatch mr-1",style:"background-color: "+e.toolColor}),e._v(" "+e._s(e.toolText(e.selectedTool))+" ")]),t(Ne,{staticClass:"wrap-tool-name"},[e._v(" "+e._s(e.toolNameText)+" ")]),t(zs,[e._v(" "+e._s(e.toolDetailsText)+" ")]),t("div",{staticStyle:{height:"100px"}},[e.alerts?t(et,{staticClass:"mt-4 mx-0 pl-2 pr-2 alert-text",attrs:{text:"",dense:"",color:"warning"}},e._l(e.alerts,function(r){return t("div",{key:r},[e._v(" "+e._s(r)+" ")])}),0):e._e()],1)],1):t(ot,[t(zs,{staticClass:"wrap-tool-name"},[e.toolMetaData[e.selectedTool]||e.referencedTools.length>0?t("div",[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.ToolNotUsed",{tool:e.toolText(e.selectedTool)}))+" ")]):t("div",[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.NoSlicerInfo",{tool:e.toolText(e.selectedTool)}))+" ")])])],1)],1):e._e()],1),t(v,{staticClass:"d-flex justify-start align-center",attrs:{cols:"1"}},[e.selectedTool!==-1?t("div",{staticClass:"triangle"}):e._e()]),t(v,{staticClass:"drop-down-table",attrs:{cols:"7"}},[t(Mr,{attrs:{headers:e.gateTableHeaders,items:e.gateItems,"item-key":"index","sort-by":"index","items-per-page":-1,"hide-default-footer":""},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.TtgMapDialog.NoGateData"))+" ")])]},proxy:!0},{key:"item",fn:function(r){var i,n,a=r.item;return[t(ak,{key:a.index,ref:"row-".concat(a.index),attrs:{details:a,"selected-es-group":(i=e.localEndlessSpoolGroups[e.selectedGate])!==null&&i!==void 0?i:null,"selected-gate":(n=e.selectedGate)!==null&&n!==void 0?n:null},on:{"select-gate":e.selectGate,"select-es":e.selectEndlessSpool}})]}}],null,!1,4127761296)})],1)],1)],1):e._e()],1)],1)]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.$t("Panels.MmuPanel.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.commit}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.Save"))+" ")])],1)],1)],1),t(wr,{attrs:{show:e.showResetConfirmationDialog,title:e.$t("Panels.MmuPanel.Dialog.AreYouSure"),text:e.$t("Panels.MmuPanel.TtgMapDialog.ResetConfirmation"),"action-button-text":e.$t("Panels.MmuPanel.TtgMapDialog.Reset"),"cancel-button-text":e.$t("Panels.MmuPanel.Cancel")},on:{action:e.executeResetTtgMap,close:function(r){e.showResetConfirmationDialog=!1}}})],1)},lk=[];const pv={};var ck=E(Xs,ok,lk,!1,uk,"27122266",null,null);function uk(e){for(let s in pv)this[s]=pv[s]}const fx=function(){return ck.exports}();var dk=Object.defineProperty,hk=Object.getOwnPropertyDescriptor,yg=(e,s,t,r)=>{for(var i=r>1?void 0:r?hk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&dk(s,t,i),i};let Fa=class extends M(O,lt){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiCogRefresh=FC,this.localGate=-1,this.localTool=-1,this.localFilamentPos=-1}onShowDialogChanged(e){e&&(this.localGate=this.gate,this.localTool=this.tool,this.localFilamentPos=this.filamentPos)}get selectedTool(){return this.localTool===this.TOOL_GATE_UNKNOWN?"Unknown":this.localTool===this.TOOL_GATE_BYPASS?"Bypass":"T".concat(this.localTool)}set selectedTool(e){const s=this.toolsList.findIndex(t=>t===e);s===this.numGates?this.localTool=this.TOOL_GATE_BYPASS:this.localTool=s}get toolsList(){const e=[];for(let s=0;s<this.numGates;s++)e.push("T".concat(s));return this.hasBypass&&e.push("Bypass"),e}get toolErrorMessage(){return this.localTool===this.TOOL_GATE_UNKNOWN?this.$t("Panels.MmuPanel.MmuRecoverDialog.NoTool"):this.localGate===this.TOOL_GATE_BYPASS&&this.localTool!==this.TOOL_GATE_BYPASS?this.$t("Panels.MmuPanel.MmuRecoverDialog.GateBypass"):""}get selectedGate(){return this.localGate===this.TOOL_GATE_UNKNOWN?"Unknown":this.localGate===this.TOOL_GATE_BYPASS?"Bypass":"".concat(this.gateIndexText(this.localGate))}set selectedGate(e){const s=this.gatesList.findIndex(t=>t===e);s===this.numGates?this.localGate=this.TOOL_GATE_BYPASS:this.localGate=s}get gatesList(){const e=[];for(let s=0;s<this.numGates;s++)e.push(this.gateIndexText(s));return this.hasBypass&&e.push("Bypass"),e}get gateErrorMessage(){if(this.localGate===this.TOOL_GATE_UNKNOWN)return this.$t("Panels.MmuPanel.MmuRecoverDialog.NoGate");if(this.localTool===this.TOOL_GATE_BYPASS&&this.localGate!==this.TOOL_GATE_BYPASS)return this.$t("Panels.MmuPanel.MmuRecoverDialog.ToolBypass");if(this.localGate>=0&&this.ttgMap[this.localGate]!==this.localTool){const e=this.$t("Panels.MmuPanel.MmuRecoverDialog.Remap",{tool:"T".concat(this.localTool)});return"".concat(this.$t("Panels.MmuPanel.MmuRecoverDialog.WarningPrefix")," ").concat(e)}return""}gateIndexText(e){var t,r,i,n;const s=(r=(t=this.$store.state.printer)==null?void 0:t.mmu_machine)==null?void 0:r.num_units;if(s>1)for(let a=0;a<s;a++){const o="unit_".concat(a),l=(n=(i=this.$store.state.printer)==null?void 0:i.mmu_machine)==null?void 0:n[o];if(a>0&&e>=l.first_gate&&e<l.first_gate+l.num_gates)return"".concat(e," (unit #").concat(a+1,")")}return"".concat(e)}get selectedPos(){return this.localFilamentPos===this.FILAMENT_POS_UNLOADED?"UNLOADED":this.localFilamentPos===this.FILAMENT_POS_LOADED?"LOADED":"UNKNOWN"}set selectedPos(e){e==="UNLOADED"?this.localFilamentPos=this.FILAMENT_POS_UNLOADED:e==="LOADED"?this.localFilamentPos=this.FILAMENT_POS_LOADED:this.localFilamentPos=this.FILAMENT_POS_UNKNOWN}get posList(){return["UNKNOWN","UNLOADED","LOADED"]}get posErrorMessage(){return this.localFilamentPos===this.FILAMENT_POS_UNKNOWN?"".concat(this.$t("Panels.MmuPanel.MmuRecoverDialog.WarningPrefix")," ").concat(this.$t("Panels.MmuPanel.MmuRecoverDialog.NoPosition")):""}get okDisabled(){let e=this.toolErrorMessage!==""&&!this.toolErrorMessage.startsWith(this.$t("Panels.MmuPanel.MmuRecoverDialog.WarningPrefix")),s=this.gateErrorMessage!==""&&!this.gateErrorMessage.startsWith(this.$t("Panels.MmuPanel.MmuRecoverDialog.WarningPrefix")),t=this.posErrorMessage!==""&&!this.posErrorMessage.startsWith(this.$t("Panels.MmuPanel.MmuRecoverDialog.WarningPrefix"));return e||s||t}close(){this.$emit("close")}commit(){let e="MMU_RECOVER TOOL=".concat(this.localTool," GATE=").concat(this.localGate);this.localFilamentPos===this.FILAMENT_POS_UNLOADED?e+=" LOADED=0":this.localFilamentPos===this.FILAMENT_POS_LOADED&&(e+=" LOADED=1"),this.doSend(e),this.close()}};yg([x({required:!0})],Fa.prototype,"showDialog",2);yg([ce("showDialog")],Fa.prototype,"onShowDialogChanged",1);Fa=yg([w({components:{Panel:B}})],Fa);var mk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{width:"600",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.MmuPanel.RecoverStateTitle"),icon:e.mdiCogRefresh,"card-class":"mmu-recover-state-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Ru,[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuRecoverDialog.Intro"))+" ")]),t(Z,[t(C,{staticClass:"fixed-height"},[t(v,{staticClass:"col-1"}),t(v,{staticClass:"col-5 d-flex justify-center"},[t(C,{staticClass:"d-flex flex-row"},[t(v,{staticClass:"d-flex justify-center flex-column"},[t("span",{staticClass:"settings-row-title"},[e._v("Tool")]),t("span",{staticClass:"settings-row-subtitle"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuRecoverDialog.SetTool"))+" ")])])],1)],1),t(v,{staticClass:"col-5 d-flex justify-end align-center"},[t(we,{attrs:{items:e.toolsList,"error-messages":e.toolErrorMessage,outlined:"",dense:""},model:{value:e.selectedTool,callback:function(r){e.selectedTool=r},expression:"selectedTool"}})],1)],1),t(H,{staticClass:"my-2"}),t(C,{staticClass:"fixed-height"},[t(v,{staticClass:"col-1"}),t(v,{staticClass:"col-5 d-flex justify-center"},[t(C,{staticClass:"d-flex flex-row"},[t(v,{staticClass:"d-flex justify-center flex-column"},[t("span",{staticClass:"settings-row-title"},[e._v("Gate")]),t("span",{staticClass:"settings-row-subtitle"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuRecoverDialog.SetGate"))+" ")])])],1)],1),t(v,{staticClass:"col-5 d-flex justify-end align-center"},[t(we,{attrs:{items:e.gatesList,"error-messages":e.gateErrorMessage,outlined:"",dense:""},model:{value:e.selectedGate,callback:function(r){e.selectedGate=r},expression:"selectedGate"}})],1)],1),t(H,{staticClass:"my-2"}),t(C,{staticClass:"fixed-height"},[t(v,{staticClass:"col-1"}),t(v,{staticClass:"col-5 d-flex justify-center"},[t(C,{staticClass:"d-flex flex-row"},[t(v,{staticClass:"d-flex justify-center flex-column"},[t("span",{staticClass:"settings-row-title"},[e._v("Filament Position")]),t("span",{staticClass:"settings-row-subtitle"},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuRecoverDialog.FilamentLoaded"))+" ")])])],1)],1),t(v,{staticClass:"col-5 d-flex justify-end align-center"},[t(we,{attrs:{items:e.posList,"error-messages":e.posErrorMessage,outlined:"",dense:""},model:{value:e.selectedPos,callback:function(r){e.selectedPos=r},expression:"selectedPos"}})],1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.$t("Panels.MmuPanel.Cancel")))]),t(g,{attrs:{color:"primary",disabled:e.okDisabled,text:""},on:{click:e.commit}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.Ok"))+" ")])],1)],1)],1)},pk=[];const fv={};var fk=E(Fa,mk,pk,!1,gk,"5a33311e",null,null);function gk(e){for(let s in fv)this[s]=fv[s]}const _k=function(){return fk.exports}();var vk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.hasMmu?t("div",[t(B,{attrs:{icon:e.mdiMulticast,title:e.title,collapsible:!0,"card-class":"mmu-panel"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(ye,{attrs:{left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDotsVertical))])],1)]}}],null,!1,2883138713)},[t(Ee,{attrs:{dense:""}},[t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){e.showEditTtgMapDialog=!0}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.EditTtgMap"))+" ")])],1),t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){e.showEditGateMapDialog=!0}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.EditGateMap"))+" ")])],1),t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:"",disabled:!e.canSend},on:{click:function(r){e.showRecoverStateDialog=!0}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.RecoverState"))+" ")])],1),t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:"",disabled:!e.canSend},on:{click:function(r){e.showMaintenanceDialog=!0}}},[e._v(" "+e._s(e.$t("Panels.MmuPanel.MmuMaintenance"))+" ")])],1),t(H,{staticClass:"my-2"}),t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:"",loading:e.loadings.includes("mmu_stats")},on:{click:function(r){return e.doLoadingSend("MMU_STATS SHOWCOUNTS=1","mmu_stats")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiNoteText))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonPrintStats"))+" ")],1)],1),t(Y,{class:{"mmu-disabled":!e.enabled||e.spoolmanSupport==="off"},attrs:{disabled:!e.enabled||e.spoolmanSupport==="off"}},[t(g,{staticStyle:{width:"100%"},attrs:{small:"",loading:e.loadings.includes("mmu_spoolman")},on:{click:function(r){return e.handleSyncSpoolman()}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiRefresh))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonSyncSpoolman"))+" ")],1)],1),t(Y,{class:{"mmu-disabled":!e.enabled},attrs:{disabled:!e.enabled}},[t(g,{staticStyle:{width:"100%"},attrs:{small:"",disabled:!e.canSend,loading:e.loadings.includes("mmu_check_gates")},on:{click:function(r){return e.doLoadingSend("MMU_CHECK_GATES","mmu_check_gates")}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiCheckAll))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.ButtonCheckAllGates"))+" ")],1)],1)],1)],1),t(dx)]},proxy:!0}],null,!1,3559307060)},[t("div",{class:{"mmu-disabled":!e.enabled}},[t(Pe,{attrs:{fluid:""}},[t(C,{attrs:{align:"start"}},[t(md)],1),t(C,{attrs:{align:"start"}},[t(v,{staticClass:"pt-0 d-flex flex-column align-center justify-center",attrs:{cols:e.col1Size}},[t("div",{staticClass:"text--disabled smaller-font"},[e._v(e._s(e.toolchangeText))]),t("div",{staticClass:"min-height-text"},[e._v(e._s(e.statusText))]),t(hx),e.showClogDetection?[e.hasEncoder?t(mx,{attrs:{width:"40%"}}):e._e(),t("div",{staticClass:"text--disabled"},[e._v(e._s(e.$t("Panels.MmuPanel.ClogDetection")))])]:e._e()],2),t(v,{staticClass:"d-flex flex-column align-center justify-center",attrs:{cols:12-e.col1Size}},[e.showDetails?[t(C,{staticClass:"pb-3 pt-0",staticStyle:{"align-self":"flex-start",width:"100%"}},[t(v,{staticClass:"pa-0"},[t(gg,{attrs:{"gate-index":e.gate}})],1)],1)]:e._e(),t(H,{staticStyle:{width:"100%"}}),t(px),t(H,{staticStyle:{width:"100%"}}),e.showTtgMap?[t(vg,{attrs:{width:"75%","start-y":20,map:e.ttgMap,groups:e.endlessSpoolGroups,"selected-tool":e.tool,"selected-gate":e.gate},on:{click:function(r){e.showEditTtgMapDialog=!0}}}),t("div",{staticClass:"text--disabled"},[e._v(e._s(e.$t("Panels.MmuPanel.ToolMapping")))])]:e._e()],2)],1),t(C,[t(H)],1),e.reasonForPause?t(C,[t(v,{staticClass:"d-flex align-center justify-center",attrs:{cols:"auto"}},[t(_,{staticClass:"error-icon"},[e._v(e._s(e.mdiInformationOutline))])],1),t(v,{staticClass:"d-flex align-center"},[t("div",[t("div",{staticClass:"text--secondary"},[t("strong",[e._v("Last Error")])]),t("div",{staticClass:"text--disabled smaller-font"},[e._v(e._s(e.reasonForPause))])])])],1):e._e()],1)],1)]),t(_k,{attrs:{"show-dialog":e.showRecoverStateDialog},on:{close:function(r){e.showRecoverStateDialog=!1}}}),t(fx,{attrs:{"show-dialog":e.showEditTtgMapDialog},on:{close:function(r){e.showEditTtgMapDialog=!1}}}),t(J9,{attrs:{"show-dialog":e.showEditGateMapDialog},on:{close:function(r){e.showEditGateMapDialog=!1}}}),t(j9,{attrs:{"show-dialog":e.showMaintenanceDialog},on:{close:function(r){e.showMaintenanceDialog=!1}}})],1):e._e()},bk=[];const gv={};var yk=E($m,vk,bk,!1,Ck,"4e2a32e8",null,null);function Ck(e){for(let s in gv)this[s]=gv[s]}const $k=function(){return yk.exports}();var xk=Object.defineProperty,Sk=Object.getOwnPropertyDescriptor,gd=(e,s,t,r)=>{for(var i=r>1?void 0:r?Sk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xk(s,t,i),i};let sn=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiCounter=AC,this.mdiDragVertical=bo,this.mdiFile=Ks,this.mdiPlay=Dn,this.mdiPlaylistRemove=R5,this.showContextMenu=!1,this.contextMenuX=0,this.contextMenuY=0,this.showChangeCountDialog=!1}get smallThumbnail(){return this.$store.getters["server/jobQueue/getSmallThumbnail"](this.job)}get bigThumbnail(){return this.$store.getters["server/jobQueue/getBigThumbnail"](this.job)}get description(){var r,i;if(!((i=(r=this.job)==null?void 0:r.metadata)!=null&&i.metadataPulled))return!1;const e=[];let s="--";this.filamentLength&&e.push(this.filamentLength),this.filamentWeight&&e.push(this.filamentWeight),e.length&&(s=e.join(" / "));let t="--";return this.estimatedTime&&(t=this.estimatedTime),"".concat(this.$t("Panels.StatusPanel.Filament"),": ").concat(s,", ").concat(this.$t("Panels.StatusPanel.PrintTime"),": ").concat(t)}get filamentLength(){var s,t;const e=(t=(s=this.job.metadata)==null?void 0:s.filament_total)!=null?t:0;return e===0?null:e>=1e3?(e/1e3).toFixed(1)+" m":e.toFixed(0)+" mm"}get filamentWeight(){var s,t;const e=(t=(s=this.job.metadata)==null?void 0:s.filament_weight_total)!=null?t:0;return e===0?null:e>=1e3?(length/1e3).toFixed(1)+" kg":e.toFixed(0)+" g"}get estimatedTime(){var a,o;let e=(o=(a=this.job.metadata)==null?void 0:a.estimated_time)!=null?o:0;if(e==0)return"--";const s=[],t=Math.floor(e/(3600*24));t&&(e%=3600*24,s.push(t+"d"));const r=Math.floor(e/3600);e%=3600,r&&s.push(r+"h");const i=Math.floor(e/60);if(i&&s.push(i+"m"),r>0)return s.join(" ");const n=e%60;return n&&s.push(n.toFixed(0)+"s"),s.join(" ")}get bigThumbnailBackground(){var e;return(e=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?e:kt}get bigThumbnailTooltipColor(){if(kt.toLowerCase()!==this.bigThumbnailBackground.toLowerCase())return this.bigThumbnailBackground}openContextMenu(e){if(e==null||e.preventDefault(),this.showContextMenu){this.showContextMenu=!1;return}this.showContextMenu=!0,this.contextMenuX=(e==null?void 0:e.clientX)||(e==null?void 0:e.pageX)||window.screenX/2,this.contextMenuY=(e==null?void 0:e.clientY)||(e==null?void 0:e.pageY)||window.screenY/2}printJob(){this.$store.dispatch("server/jobQueue/startByJobId",this.job.job_id)}startJobqueue(){this.$store.dispatch("server/jobQueue/start")}removeFromJobqueue(){var s;const e=[...(s=this.job.combinedIds)!=null?s:[],this.job.job_id];this.$store.dispatch("server/jobQueue/deleteFromQueue",e)}};gd([x({type:Object,required:!0})],sn.prototype,"job",2);gd([x({type:Boolean,default:!1})],sn.prototype,"showPrintButton",2);gd([x({type:Boolean,default:!1})],sn.prototype,"showHandle",2);sn=gd([w],sn);var wk=Object.defineProperty,Pk=Object.getOwnPropertyDescriptor,_d=(e,s,t,r)=>{for(var i=r>1?void 0:r?Pk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&wk(s,t,i),i};let rn=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiChevronUp=Uu,this.mdiChevronDown=Or,this.mdiCounter=AC,this.count=1,this.countInputRules=[e=>!!e||this.$t("JobQueue.InvalidCountEmpty"),e=>parseInt(e)>0||this.$t("JobQueue.InvalidCountGreaterZero")]}update(){this.$store.dispatch("server/jobQueue/changeCount",{job_id:this.job.job_id,count:this.count}),this.closeDialog()}closeDialog(){this.$emit("close")}showChanged(e){var s,t;e&&(this.count=((t=(s=this.job.combinedIds)==null?void 0:s.length)!=null?t:0)+1)}};_d([x({type:Boolean,required:!0})],rn.prototype,"show",2);_d([x({type:Object,required:!0})],rn.prototype,"job",2);_d([ce("show")],rn.prototype,"showChanged",1);rn=_d([w({components:{Panel:B}})],rn);var Tk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":"400"}},[t(B,{attrs:{title:e.$t("JobQueue.ChangeCount"),icon:e.mdiCounter,"card-class":"jobqueue-change-count-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldAddToQueueCount",attrs:{label:e.$t("JobQueue.Count"),required:"",rules:e.countInputRules,"hide-spin-buttons":"",type:"number"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.update.apply(null,arguments)}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[t("div",{staticClass:"_spin_button_group"},[t(g,{staticClass:"mt-n3",attrs:{icon:"",plain:"",small:""},on:{click:function(r){e.count++}}},[t(_,[e._v(e._s(e.mdiChevronUp))])],1),t(g,{staticClass:"mb-n3",attrs:{disabled:e.count<=1,icon:"",plain:"",small:""},on:{click:function(r){e.count--}}},[t(_,[e._v(e._s(e.mdiChevronDown))])],1)],1)]},proxy:!0}]),model:{value:e.count,callback:function(r){e.count=r},expression:"count"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("JobQueue.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.update}},[e._v(e._s(e.$t("JobQueue.ChangeCount")))])],1)],1)],1)},Dk=[];const _v={};var Mk=E(rn,Tk,Dk,!1,Ek,null,null,null);function Ek(e){for(let s in _v)this[s]=_v[s]}const Ok=function(){return Mk.exports}();var Lk=function(){var e,s=this,t=s.$createElement,r=s._self._c||t;return r(C,{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(i){return s.openContextMenu(i)},expression:"(e) => openContextMenu(e)",arg:"600"}],staticClass:"jobqueue-list-entry d-flex flex-row flex-nowrap cursor-pointer",on:{contextmenu:function(i){return s.openContextMenu(i)}}},[s.showHandle?r(v,{staticClass:"col-auto d-flex flex-column justify-center pr-0 py-0"},[r(_,{staticClass:"handle"},[s._v(s._s(s.mdiDragVertical))])],1):s._e(),r(v,{staticClass:"col-auto d-flex flex-column justify-center pr-0 py-0"},[s.smallThumbnail?r(ue,{attrs:{top:"",disabled:!s.bigThumbnail,"content-class":"tooltip__content-opacity1",color:s.bigThumbnailTooltipColor},scopedSlots:s._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[r("vue-load-image",[r("img",s._g(s._b({attrs:{slot:"image",src:s.smallThumbnail,width:32,height:32,alt:s.job.filename},slot:"image"},"img",a,!1),n)),r("div",{attrs:{slot:"preloader"},slot:"preloader"},[r(dt,{attrs:{indeterminate:"",color:"primary"}})],1),r("div",{attrs:{slot:"error"},slot:"error"},[r(_,[s._v(s._s(s.mdiFile))])],1)])]}}],null,!1,2738555475)},[r("span",[r("img",{attrs:{src:s.bigThumbnail,width:250,alt:s.job.filename}})])]):r(_,[s._v(s._s(s.mdiFile))])],1),r(v,{staticClass:"py-1",staticStyle:{"min-width":"0","font-size":"0.875em"}},[r("div",{staticClass:"text-truncate"},[(e=s.job.combinedIds)!==null&&e!==void 0&&e.length?r("strong",[s._v(s._s(s.job.combinedIds.length+1)+"x")]):s._e(),s._v(" "+s._s(s.job.filename)+" ")]),s.description?r("small",{staticClass:"text-truncate"},[s._v(s._s(s.description))]):s._e()]),s.showPrintButton&&!s.printerIsPrinting?r(v,{staticClass:"col-auto d-flex flex-column justify-center pa-0 pr-1"},[r(g,{staticClass:"minwidth-0",attrs:{icon:"",color:"success"},on:{click:s.startJobqueue}},[r(_,[s._v(s._s(s.mdiPlay))])],1)],1):s._e(),r(ye,{attrs:{"position-x":s.contextMenuX,"position-y":s.contextMenuY,absolute:"","offset-y":""},model:{value:s.showContextMenu,callback:function(i){s.showContextMenu=i},expression:"showContextMenu"}},[r(Ee,[r(Y,{on:{click:s.printJob}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiPlay))]),s._v(" "+s._s(s.$t("JobQueue.StartPrint"))+" ")],1),r(Y,{on:{click:function(i){s.showChangeCountDialog=!0}}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiCounter))]),s._v(" "+s._s(s.$t("JobQueue.ChangeCount"))+" ")],1),r(Y,{on:{click:s.removeFromJobqueue}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiPlaylistRemove))]),s._v(" "+s._s(s.$t("JobQueue.RemoveFromQueue"))+" ")],1)],1)],1),r(Ok,{attrs:{show:s.showChangeCountDialog,job:s.job},on:{close:function(i){s.showChangeCountDialog=!1}}})],1)},Fk=[];const vv={};var Ak=E(sn,Lk,Fk,!1,kk,null,null,null);function kk(e){for(let s in vv)this[s]=vv[s]}const vd=function(){return Ak.exports}();var Rk=Object.defineProperty,Hk=Object.getOwnPropertyDescriptor,jk=(e,s,t,r)=>{for(var i=r>1?void 0:r?Hk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Rk(s,t,i),i};let xm=class extends M(O){get jobs(){var s;return(s=this.$store.getters["server/jobQueue/getJobs"])!=null?s:[]}get maxLength(){return this.jobs.length>5?4:5}get jobsTable(){return this.jobs.slice(0,this.maxLength)}get jobsRest(){return this.jobs.slice(this.maxLength)}startJobqueue(){this.$store.dispatch("server/jobQueue/start")}};xm=jk([w({components:{JobqueueEntry:vd}})],xm);var Ik=Object.defineProperty,Nk=Object.getOwnPropertyDescriptor,gx=(e,s,t,r)=>{for(var i=r>1?void 0:r?Nk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ik(s,t,i),i};let oc=class extends M(O){constructor(){super(...arguments),this.mdiFileMultiple=d5}get sums(){const e={filamentLength:0,filamentWeight:0,estimatedTime:0};return this.jobs.forEach(s=>{var r,i,n,a,o,l,c,u;const t=((i=(r=s.combinedIds)==null?void 0:r.length)!=null?i:0)+1;e.filamentLength+=((a=(n=s.metadata)==null?void 0:n.filament_total)!=null?a:0)*t,e.filamentWeight+=((l=(o=s.metadata)==null?void 0:o.filament_weight_total)!=null?l:0)*t,e.estimatedTime+=((u=(c=s.metadata)==null?void 0:c.estimated_time)!=null?u:0)*t}),e}get count(){let e=0;return this.jobs.forEach(s=>{var t,r;e+=((r=(t=s.combinedIds)==null?void 0:t.length)!=null?r:0)+1}),e}get headline(){return this.$tc("Panels.StatusPanel.JobqueueMoreFiles",this.count,{count:this.count})}get description(){const e=[];let s="--";this.filamentLength&&e.push(this.filamentLength),this.filamentWeight&&e.push(this.filamentWeight),e.length&&(s=e.join(" / "));let t="--";return this.estimatedTime&&(t=this.estimatedTime),"".concat(this.$t("Panels.StatusPanel.Filament"),": ").concat(s,", ").concat(this.$t("Panels.StatusPanel.PrintTime"),": ").concat(t)}get filamentLength(){const e=this.sums.filamentLength;return e===0?null:e>=1e3?(e/1e3).toFixed(1)+" m":e.toFixed(0)+" mm"}get filamentWeight(){const e=this.sums.filamentWeight;return e===0?null:e>=1e3?(e/1e3).toFixed(1)+" kg":e.toFixed(0)+" g"}get estimatedTime(){let e=this.sums.estimatedTime;if(e==0)return"--";const s=[],t=Math.floor(e/(3600*24));t&&(e%=3600*24,s.push(t+"d"));const r=Math.floor(e/3600);e%=3600,r&&s.push(r+"h");const i=Math.floor(e/60);if(i&&s.push(i+"m"),r>0)return s.join(" ");const n=e%60;return n&&s.push(n.toFixed(0)+"s"),s.join(" ")}};gx([x({type:Array,required:!0})],oc.prototype,"jobs",2);oc=gx([w],oc);var Vk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{staticClass:"d-flex flex-row flex-nowrap"},[t(v,{staticClass:"col-auto d-flex flex-column justify-center pr-0 py-0"},[t(_,{staticStyle:{width:"32px"}},[e._v(e._s(e.mdiFileMultiple))])],1),t(v,{staticClass:"py-2",staticStyle:{"min-width":"0","font-size":"0.875em"}},[t("div",{staticClass:"text-truncate"},[e._v(e._s(e.headline))]),t("small",{staticClass:"text-truncate"},[e._v(e._s(e.description))])])],1)},Uk=[];const bv={};var Bk=E(oc,Vk,Uk,!1,Gk,null,null,null);function Gk(e){for(let s in bv)this[s]=bv[s]}const Wk=function(){return Bk.exports}();var zk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"filesJobqueue",attrs:{flat:""}},[e.jobs.length?[t(C,{staticClass:"mx-0 mt-0 pb-3"},[t(v,{staticClass:"jobqueue-list"},[e._l(e.jobsTable,function(r,i){return t(vd,{key:r.job_id,attrs:{job:r,"show-handle":!1,"show-print-button":i===0}})}),e.jobsRest.length?t(Wk,{attrs:{jobs:e.jobsRest}}):e._e()],2)],1)]:t("div",[t("p",{staticClass:"body-2 my-3 text-center text--disabled"},[e._v(e._s(e.$t("Panels.StatusPanel.EmptyJobqueue")))])])],2)},qk=[];const yv={};var Zk=E(xm,zk,qk,!1,Yk,"8d295736",null,null);function Yk(e){for(let s in yv)this[s]=yv[s]}const _x=function(){return Zk.exports}();var Xk=Object.defineProperty,Jk=Object.getOwnPropertyDescriptor,$i=(e,s,t,r)=>{for(var i=r>1?void 0:r?Jk(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Xk(s,t,i),i};let Js=class extends M(O){get firstColClasses(){const s=" d-flex justify-center";return this.dynamicSlotWidth?"col"+s:this.mobileSecondRow?"col-12 col-md-6"+s:"col-6"+s}get secondColClasses(){const s=" d-flex justify-end align-center settings-row-slot";return this.dynamicSlotWidth?"col-auto"+s:this.mobileSecondRow?"col-12 col-md-6 pt-0 pt-md-3"+s:"col-6"+s}};$i([x({required:!1,default:!1})],Js.prototype,"loading",2);$i([x({required:!1,default:""})],Js.prototype,"icon",2);$i([x({required:!0})],Js.prototype,"title",2);$i([x({required:!1})],Js.prototype,"subTitle",2);$i([x({required:!1,default:!1})],Js.prototype,"dynamicSlotWidth",2);$i([x({required:!1,default:!1})],Js.prototype,"mobileSecondRow",2);Js=$i([w],Js);var Kk=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,{class:e.firstColClasses},[t(C,{staticClass:"d-flex flex-row"},[e.loading?t(v,{staticClass:"col-auto d-flex justify-center align-center pr-0"},[t(dt,{attrs:{indeterminate:"",color:"primary",size:24}})],1):e.icon?t(v,{staticClass:"col-auto d-flex justify-center align-center pr-0"},[t(_,[e._v(e._s(e.icon))])],1):e._e(),t(v,{staticClass:"col d-flex justify-center flex-column"},[t("span",{staticClass:"settings-row-title"},[e._v(e._s(e.title))]),e.subTitle?t("span",{staticClass:"settings-row-subtitle"},[e._v(e._s(e.subTitle))]):e._e()])],1)],1),t(v,{class:e.secondColClasses},[e._t("default")],2)],1)},Qk=[];const Cv={};var e8=E(Js,Kk,Qk,!1,t8,"ac415fda",null,null);function t8(e){for(let s in Cv)this[s]=Cv[s]}const U=function(){return e8.exports}();var s8=Object.defineProperty,r8=Object.getOwnPropertyDescriptor,bd=(e,s,t,r)=>{for(var i=r>1?void 0:r?r8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&s8(s,t,i),i};let nn=class extends M(O){constructor(){super(...arguments),this.mdiPrinter3d=xo}get isMmuPrint(){var e,s,t,r;return(e=this.$store.state.printer.mmu)!=null&&e.enabled?((t=(s=this.file.referenced_tools)==null?void 0:s.length)!=null?t:1)>1||((r=this.$store.state.printer.mmu)==null?void 0:r.gate)!==-2:!1}get timelapseEnabled(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.enabled)!=null?t:!1}set timelapseEnabled(e){this.$socket.emit("machine.timelapse.post_settings",{enabled:e},{action:"server/timelapse/initSettings"})}get bigThumbnailBackground(){var e;return(e=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?e:kt}get bigThumbnailStyle(){return kt.toLowerCase()===this.bigThumbnailBackground.toLowerCase()?{}:{backgroundColor:this.bigThumbnailBackground}}get active_spool(){var e;return(e=this.$store.state.server.spoolman.active_spool)!=null?e:null}get filamentVendor(){var e,s,t,r;return(r=(t=(s=(e=this.active_spool)==null?void 0:e.filament)==null?void 0:s.vendor)==null?void 0:t.name)!=null?r:"Unknown"}get filamentName(){var e,s;return(s=(e=this.active_spool)==null?void 0:e.filament.name)!=null?s:"Unknown"}get filament(){return"".concat(this.filamentVendor," - ").concat(this.filamentName)}get question(){var e,s,t,r;return this.active_spool&&!this.isMmuPrint?this.$t("Dialogs.StartPrint.DoYouWantToStartFilenameFilament",{filename:(s=(e=this.file)==null?void 0:e.filename)!=null?s:"unknown"}):this.$t("Dialogs.StartPrint.DoYouWantToStartFilename",{filename:(r=(t=this.file)==null?void 0:t.filename)!=null?r:"unknown"})}get maxThumbnailWidth(){var e,s;return(s=(e=this.file)==null?void 0:e.big_thumbnail_width)!=null?s:400}startPrint(e=""){e=(this.currentPath+"/"+e).substring(1),this.closeDialog(),this.$socket.emit("printer.print.start",{filename:e},{action:"switchToDashboard"})}closeDialog(){this.$emit("closeDialog")}};bd([x({required:!0,default:!1})],nn.prototype,"bool",2);bd([x({required:!0,default:""})],nn.prototype,"currentPath",2);bd([x({required:!0})],nn.prototype,"file",2);nn=bd([w({components:{SettingsRow:U}})],nn);var i8=Object.defineProperty,n8=Object.getOwnPropertyDescriptor,vx=(e,s,t,r)=>{for(var i=r>1?void 0:r?n8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&i8(s,t,i),i};let lc=class extends M(O){constructor(){super(...arguments),this.showChangeSpoolDialog=!1}get activeSpoolId(){var s,t;let e=(t=(s=this.$store.state.server.spoolman)==null?void 0:s.active_spool_id)!=null?t:null;return e===0&&(e=null),e}get activeSpool(){var e,s;return(s=(e=this.$store.state.server.spoolman)==null?void 0:e.active_spool)!=null?s:null}get classSecondDivider(){const e=["mt-4"];return e.push(this.moonrakerComponents.includes("timelapse")?"mb-2":"mb-0"),e}get buttonText(){return this.activeSpoolId===null?this.$t("Panels.SpoolmanPanel.SelectSpool"):this.$t("Panels.SpoolmanPanel.ChangeSpool")}get alerts(){var i,n,a,o,l,c,u,d,h;let e=[];if(this.activeSpoolId===null)return e.push({text:this.$t("Panels.SpoolmanPanel.NoSpoolSelected"),color:"orange"}),e;let s=(i=this.file.filament_type)!=null?i:"";s.includes(";")&&(s=s.split(";")[0]),s!==""&&((o=(a=(n=this.activeSpool)==null?void 0:n.filament)==null?void 0:a.material)==null?void 0:o.toLowerCase())!==s.toLowerCase()&&e.push({text:this.$t("Panels.SpoolmanPanel.FilamentTypeMismatch",{fileType:s,spoolType:(c=(l=this.activeSpool)==null?void 0:l.filament)==null?void 0:c.material}),color:"warning"});const t=Math.round((u=this.file.filament_weight_total)!=null?u:0),r=Math.round((h=(d=this.activeSpool)==null?void 0:d.remaining_weight)!=null?h:0);return r<t&&e.push({text:this.$t("Panels.SpoolmanPanel.TooLessFilament",{fileWeight:t,spoolWeight:r}),color:"warning"}),e}};vx([x({required:!0})],lc.prototype,"file",2);lc=vx([w({components:{SpoolmanPanelActiveSpool:ud}})],lc);var a8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(H,{staticClass:"mt-3 mb-0"}),t(Z,{staticClass:"py-0 px-2"},[e.activeSpoolId!==null?t(ud,{staticClass:"my-0",attrs:{small:!0},on:{"change-spool":function(r){e.showChangeSpoolDialog=!0}}}):e._e(),e._l(e.alerts,function(r){return t(et,{key:r.text,staticClass:"mt-4 mx-3",attrs:{text:"",color:r.color}},[e._v(" "+e._s(r.text)+" ")])}),t("div",{staticClass:"text-center"},[t(g,{staticClass:"mx-auto",attrs:{color:"primary",small:""},on:{click:function(r){e.showChangeSpoolDialog=!0}}},[e._v(" "+e._s(e.buttonText)+" ")])],1)],2),t(H,{class:e.classSecondDivider}),t(Fr,{attrs:{"show-dialog":e.showChangeSpoolDialog},on:{close:function(r){e.showChangeSpoolDialog=!1}}})],1)},o8=[];const $v={};var l8=E(lc,a8,o8,!1,c8,null,null,null);function c8(e){for(let s in $v)this[s]=$v[s]}const u8=function(){return l8.exports}();var d8=Object.defineProperty,h8=Object.getOwnPropertyDescriptor,bx=(e,s,t,r)=>{for(var i=r>1?void 0:r?h8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&d8(s,t,i),i};let cc=class extends M(O,lt){constructor(){super(...arguments),this.mdiStateMachine=zf,this.showEditTtgMapDialog=!1}get summary(){var t;const s=((t=this.file.referenced_tools)!=null?t:"").length;return s<=1&&this.gate!==this.TOOL_GATE_BYPASS?this.$t("Panels.MmuPanel.StartPrintDialogMmu.SingleColor"):this.$t("Panels.MmuPanel.StartPrintDialogMmu.MultiColor",{numTools:s})}get classSecondDivider(){const e=["mt-4"];return e.push(this.moonrakerComponents.includes("timelapse")?"mb-2":"mb-0"),e}};bx([x({required:!0})],cc.prototype,"file",2);cc=bx([w({})],cc);var m8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,{staticClass:"pb-0"},[t(H,{staticClass:"mt-4 mb-4"}),t("p",{staticClass:"body-2"},[e._v(" "+e._s(e.summary)+" ")]),t("div",{staticClass:"text-center"},[t(g,{attrs:{color:"primary",medium:""},on:{click:function(r){e.showEditTtgMapDialog=!0}}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiStateMachine))]),e._v(" "+e._s(e.$t("Panels.MmuPanel.EditTtgMap"))+" ")],1)],1),t(H,{class:e.classSecondDivider}),t(fx,{attrs:{file:e.file,"show-dialog":e.showEditTtgMapDialog},on:{close:function(r){e.showEditTtgMapDialog=!1}}})],1)},p8=[];const xv={};var f8=E(cc,m8,p8,!1,g8,null,null,null);function g8(e){for(let s in xv)this[s]=xv[s]}const _8=function(){return f8.exports}();var v8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{"max-width":400,"content-class":"overflow-x-hidden"},on:{"click:outside":e.closeDialog,keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}},model:{value:e.bool,callback:function(r){e.bool=r},expression:"bool"}},[t(Te,[e.file.big_thumbnail?t("div",{staticClass:"d-flex align-center justify-center",staticStyle:{"min-height":"200px"}},[t(Hu,{staticClass:"d-inline-block",style:e.bigThumbnailStyle,attrs:{src:e.file.big_thumbnail,"max-width":e.maxThumbnailWidth}})],1):e._e(),t(ft,{staticClass:"text-h5"},[e._v(e._s(e.$t("Dialogs.StartPrint.Headline")))]),t(Z,{staticClass:"pb-0"},[t("p",{staticClass:"body-2"},[e._v(" "+e._s(e.question)+" ")])]),e.isMmuPrint?t(_8,{attrs:{file:e.file}}):e.moonrakerComponents.includes("spoolman")?t(u8,{attrs:{file:e.file}}):e._e(),e.moonrakerComponents.includes("timelapse")?[e.moonrakerComponents.includes("spoolman")?e._e():t(H,{staticClass:"mt-3 mb-2"}),t(Z,{staticClass:"py-0"},[t(U,{attrs:{title:e.$t("Dialogs.StartPrint.Timelapse")}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.timelapseEnabled,callback:function(r){e.timelapseEnabled=r},expression:"timelapseEnabled"}})],1)],1),t(H,{staticClass:"mt-2 mb-0"})]:e._e(),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("Dialogs.StartPrint.Cancel")))]),t(g,{attrs:{color:"primary",text:"",disabled:e.printerIsPrinting||!e.klipperReadyForGui},on:{click:function(r){return e.startPrint(e.file.filename)}}},[e._v(" "+e._s(e.$t("Dialogs.StartPrint.Print"))+" ")])],1)],2)],1)},b8=[];const Sv={};var y8=E(nn,v8,b8,!1,C8,null,null,null);function C8(e){for(let s in Sv)this[s]=Sv[s]}const yd=function(){return y8.exports}();var $8=Object.defineProperty,x8=Object.getOwnPropertyDescriptor,Lo=(e,s,t,r)=>{for(var i=r>1?void 0:r?x8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$8(s,t,i),i};let ci=class extends M(O){constructor(){super(...arguments),this.mdiChevronDown=Or,this.mdiChevronUp=Uu,this.mdiPlaylistPlus=$o,this.mdiCloseThick=pe,this.isValid=!1,this.input="1",this.rules={count:[e=>!!e||this.$t("JobQueue.InvalidCountEmpty"),e=>parseInt(e,10)>0||this.$t("JobQueue.InvalidCountGreaterZero")]}}async addBatchToQueueAction(){const e=Array(parseInt(this.input)).fill(this.filename);await this.$store.dispatch("server/jobQueue/addToQueue",e),this.showToast&&this.$toast.info(this.$t("History.AddToQueueSuccessful",{filename:this.filename}).toString()),this.closeDialog()}closeDialog(){this.$emit("close")}resetFormState(){this.input="1"}isVisibleChanged(e){e&&this.resetFormState()}};Lo([x({type:Boolean,default:!1})],ci.prototype,"isVisible",2);Lo([x({type:Boolean,default:!1})],ci.prototype,"showToast",2);Lo([x({type:String,required:!0})],ci.prototype,"filename",2);Lo([ce("isVisible")],ci.prototype,"isVisibleChanged",1);ci=Lo([w],ci);var S8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.isVisible,"max-width":400},on:{"click:outside":e.closeDialog,keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}}},[t(B,{attrs:{title:e.$t("Files.AddToQueue"),"card-class":"gcode-files-add-to-queue-dialog",icon:e.mdiPlaylistPlus,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(yr,{on:{submit:function(r){return r.preventDefault(),e.addBatchToQueueAction.apply(null,arguments)}},model:{value:e.isValid,callback:function(r){e.isValid=r},expression:"isValid"}},[t(Z,[t(re,{ref:"inputFieldAddToQueueCount",attrs:{label:e.$t("Files.Count"),required:"","hide-spin-buttons":"",type:"number",rules:e.rules.count},scopedSlots:e._u([{key:"append-outer",fn:function(){return[t("div",{staticClass:"_spin_button_group"},[t(g,{staticClass:"mt-n3",attrs:{icon:"",plain:"",small:""},on:{click:function(r){e.input++}}},[t(_,[e._v(e._s(e.mdiChevronUp))])],1),t(g,{staticClass:"mb-n3",attrs:{disabled:e.input<=1,icon:"",plain:"",small:""},on:{click:function(r){e.input--}}},[t(_,[e._v(e._s(e.mdiChevronDown))])],1)],1)]},proxy:!0}]),model:{value:e.input,callback:function(r){e.input=r},expression:"input"}})],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{color:"primary",text:"",type:"submit",disabled:!e.isValid}},[e._v(" "+e._s(e.$t("Files.AddToQueue"))+" ")])],1)],1)],1)],1)},w8=[];const wv={};var P8=E(ci,S8,w8,!1,T8,"28986d85",null,null);function T8(e){for(let s in wv)this[s]=wv[s]}const xi=function(){return P8.exports}();var D8=Object.defineProperty,M8=Object.getOwnPropertyDescriptor,Cg=(e,s,t,r)=>{for(var i=r>1?void 0:r?M8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&D8(s,t,i),i};let Aa=class extends M(O,Xe){constructor(){super(...arguments),this.mdiFile=Ks,this.mdiPlay=Dn,this.mdiPlaylistPlus=$o,this.mdiFire=Tn,this.mdiVideo3d=Ku,this.mdiCloudDownload=ya,this.mdiFileDocumentEditOutline=yo,this.mdiRenameBox=Xu,this.mdiDelete=Ge,this.mdiCloseThick=pe,this.currentPath="",this.contextMenuShow=!1,this.contextMenuX=0,this.contextMenuY=0,this.showPrintDialog=!1,this.showAddBatchToQueueDialog=!1,this.showRenameFileDialog=!1,this.renameFileNewName="",this.showDeleteDialog=!1}get styleContentTdWidth(){return"width: ".concat(this.contentTdWidth,"px;")}get bigThumbnailBackground(){var s;return(s=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?s:kt}get bigThumbnailTooltipColor(){if(kt.toLowerCase()!==this.bigThumbnailBackground.toLowerCase())return this.bigThumbnailBackground}get existsMetadata(){var s,t;return(t=(s=this.item)==null?void 0:s.metadataPulled)!=null?t:!1}get description(){const s=[];let t="--";(this.item.filament_total||this.item.filament_weight_total)&&(t="",this.item.filament_total&&this.item.filament_total>1e3?t+="".concat((this.item.filament_total/1e3).toFixed(2)," m"):this.item.filament_total&&(t+="".concat(this.item.filament_total.toFixed(0)," mm")),this.item.filament_total&&this.item.filament_weight_total&&(t+=" / "),this.item.filament_weight_total&&(t+=this.item.filament_weight_total.toFixed(0)+" g")),s.push("".concat(this.$t("Panels.StatusPanel.Filament"),": ").concat(t));const r=this.item.estimated_time?qs(this.item.estimated_time):"--";return s.push("".concat(this.$t("Panels.StatusPanel.PrintTime"),": ").concat(r)),s.join(", ")}get statusIcon(){return this.$store.getters["server/history/getPrintStatusIcon"](this.item.last_status)}get statusColor(){return this.$store.getters["server/history/getPrintStatusIconColor"](this.item.last_status)}get pathOfFile(){return this.item.filename.lastIndexOf("/")>=0?"/"+this.item.filename.slice(0,this.item.filename.lastIndexOf("/")):""}get filename(){return this.item.filename.slice(this.item.filename.lastIndexOf("/")+1)}showContextMenu(s){this.contextMenuShow||(s==null||s.preventDefault(),this.contextMenuX=(s==null?void 0:s.clientX)||(s==null?void 0:s.pageX)||window.screenX/2,this.contextMenuY=(s==null?void 0:s.clientY)||(s==null?void 0:s.pageY)||window.screenY/2,this.$nextTick(()=>{this.contextMenuShow=!0}))}addToQueue(){this.$store.dispatch("server/jobQueue/addToQueue",[this.item.filename])}view3D(){this.$router.push({path:"/viewer",query:{filename:"gcodes/"+this.item.filename}})}downloadFile(){const s=this.apiUrl+"/server/files/gcodes/"+Ie(this.item.filename);window.open(s)}renameFile(){this.showRenameFileDialog=!1,this.$socket.emit("server.files.move",{source:"gcodes/"+this.item.filename,dest:"gcodes/"+this.pathOfFile+this.renameFileNewName},{action:"files/getMove"})}editFile(){const s=this.item.filename.lastIndexOf("/"),t=s>0?this.item.filename.slice(0,s+1):"",r=s>0?this.item.filename.slice(s+1):this.item.filename;this.$store.dispatch("editor/openFile",{root:"gcodes",path:t,filename:r,size:this.item.size,permissions:this.item.permissions})}removeFile(){this.$socket.emit("server.files.delete_file",{path:"gcodes/"+this.item.filename},{action:"files/getDeleteFile"}),this.showDeleteDialog=!1}mounted(){this.renameFileNewName=this.filename}};Cg([x({type:Object,required:!0})],Aa.prototype,"item",2);Cg([x({type:Number,required:!0})],Aa.prototype,"contentTdWidth",2);Aa=Cg([w({components:{Panel:B,StartPrintDialog:yd,AddBatchToQueueDialog:xi}})],Aa);var E8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(r){return e.showContextMenu(r)},expression:"(e) => showContextMenu(e)",arg:"600"}],staticClass:"cursor-pointer",on:{contextmenu:function(r){return e.showContextMenu(r)},click:function(r){e.showPrintDialog=!0}}},[t("td",{staticClass:"pr-0 text-center",staticStyle:{width:"32px"}},[e.item.small_thumbnail?[t(ue,{attrs:{top:"","content-class":"tooltip__content-opacity1",disabled:!e.item.big_thumbnail,color:e.bigThumbnailTooltipColor},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("vue-load-image",{staticClass:"d-flex"},[t("img",e._g(e._b({attrs:{slot:"image",src:e.item.small_thumbnail,alt:e.item.filename,width:"32",height:"32"},slot:"image"},"img",n,!1),i)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}],null,!1,2095430365)},[t("span",[t("img",{attrs:{src:e.item.big_thumbnail,alt:e.item.filename,width:"250"}})])])]:[t(_,[e._v(e._s(e.mdiFile))])]],2),t("td",{staticClass:"pr-2"},[t("div",{staticClass:"d-block text-truncate",style:e.styleContentTdWidth},[e._v(e._s(e.item.filename))]),e.existsMetadata?t("small",[e._v(e._s(e.description))]):e._e()]),t("td",[e.item.last_status?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[t(_,{attrs:{small:"",color:e.statusColor}},[e._v(e._s(e.statusIcon))])],1)]}}],null,!1,4217021254)},[t("span",[e._v(e._s(e.item.last_status.replace(/_/g," ")))])]):e._e()],1),t(ye,{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenuShow,callback:function(r){e.contextMenuShow=r},expression:"contextMenuShow"}},[t(Ee,[t(Y,{attrs:{disabled:e.printerIsPrinting||!e.klipperReadyForGui},on:{click:function(r){e.showPrintDialog=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlay))]),e._v(" "+e._s(e.$t("Files.PrintStart"))+" ")],1),e.moonrakerComponents.includes("job_queue")?t(Y,{on:{click:e.addToQueue}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddToQueue"))+" ")],1):e._e(),e.moonrakerComponents.includes("job_queue")?t(Y,{on:{click:function(r){e.showAddBatchToQueueDialog=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddBatchToQueue"))+" ")],1):e._e(),e.item.preheat_gcode!==null?t(Y,{attrs:{disabled:["error","printing","paused"].includes(e.printer_state)},on:{click:function(r){return e.doSend(e.item.preheat_gcode)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiFire))]),e._v(" "+e._s(e.$t("Files.Preheat"))+" ")],1):e._e(),t(Y,{on:{click:e.view3D}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiVideo3d))]),e._v(" "+e._s(e.$t("Files.View3D"))+" ")],1),t(Y,{on:{click:e.downloadFile}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiCloudDownload))]),e._v(" "+e._s(e.$t("Files.Download"))+" ")],1),t(Y,{on:{click:e.editFile}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiFileDocumentEditOutline))]),e._v(" "+e._s(e.$t("Files.EditFile"))+" ")],1),t(Y,{on:{click:function(r){e.showRenameFileDialog=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiRenameBox))]),e._v(" "+e._s(e.$t("Files.Rename"))+" ")],1),t(Y,{staticClass:"red--text",on:{click:function(r){e.showDeleteDialog=!0}}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("Files.Delete"))+" ")],1)],1)],1),t(yd,{attrs:{bool:e.showPrintDialog,file:e.item,"current-path":""},on:{closeDialog:function(r){e.showPrintDialog=!1}}}),t(xi,{attrs:{"is-visible":e.showAddBatchToQueueDialog,filename:e.filename},on:{close:function(r){e.showAddBatchToQueueDialog=!1}}}),t(oe,{attrs:{"max-width":400},model:{value:e.showRenameFileDialog,callback:function(r){e.showRenameFileDialog=r},expression:"showRenameFileDialog"}},[t(B,{attrs:{title:e.$t("Files.RenameFile"),"card-class":"dashboard-files-rename-file-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.showRenameFileDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldRenameFile",attrs:{label:e.$t("Files.Name"),required:""},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.renameFile.apply(null,arguments)}},model:{value:e.renameFileNewName,callback:function(r){e.renameFileNewName=r},expression:"renameFileNewName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.showRenameFileDialog=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.renameFile}},[e._v(e._s(e.$t("Files.Rename")))])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.showDeleteDialog,callback:function(r){e.showDeleteDialog=r},expression:"showDeleteDialog"}},[t(B,{attrs:{title:e.$t("Files.Delete"),"card-class":"gcode-files-delete-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.showDeleteDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Files.DeleteSingleFileQuestion",{name:e.filename})))])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.showDeleteDialog=!1}}},[e._v(" "+e._s(e.$t("Files.Cancel"))+" ")]),t(g,{attrs:{color:"error",text:""},on:{click:e.removeFile}},[e._v(" "+e._s(e.$t("Files.Delete"))+" ")])],1)],1)],1)],1)},O8=[];const Pv={};var L8=E(Aa,E8,O8,!1,F8,"1a189b60",null,null);function F8(e){for(let s in Pv)this[s]=Pv[s]}const A8=function(){return L8.exports}();var k8=Object.defineProperty,R8=Object.getOwnPropertyDescriptor,H8=(e,s,t,r)=>{for(var i=r>1?void 0:r?R8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&k8(s,t,i),i};let Sm=class extends M(O,Xe){constructor(){super(...arguments),this.contentTdWidth=100}get filesLimit(){var s;return(s=this.$store.state.gui.uiSettings.dashboardFilesLimit)!=null?s:5}get filesFilter(){var s;return(s=this.$store.state.gui.uiSettings.dashboardFilesFilter)!=null?s:[]}get gcodeFiles(){var r;let s=(r=this.$store.getters["files/getAllGcodes"])!=null?r:[];this.filesFilter.length>0&&this.filesFilter.length<3&&(s=s.filter(i=>!!(this.filesFilter.includes("new")&&i.last_status===null||this.filesFilter.includes("completed")&&i.last_status==="completed"||this.filesFilter.includes("failed")&&i.last_status!==null&&i.last_status!=="completed"))),s=s.sort((i,n)=>n.modified.getTime()-i.modified.getTime()).slice(0,this.filesLimit);const t=s.filter(i=>!i.metadataRequested&&!i.metadataPulled);return this.$store.dispatch("files/requestMetadata",t.map(i=>({filename:"gcodes/"+i.filename}))),s}mounted(){setTimeout(()=>{this.calcContentTdWidth()},200)}calcContentTdWidth(){this.contentTdWidth=this.$refs.filesGcodeCard.$el.clientWidth-48-48-32}handleResize(){this.$nextTick(()=>{this.calcContentTdWidth()})}};Sm=H8([w({components:{Panel:B,StatusPanelGcodefilesEntry:A8}})],Sm);var j8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{ref:"filesGcodeCard",staticClass:"filesGcodeCard",attrs:{flat:""}},[t(Mr,{staticClass:"dashboard-gcodes-table",attrs:{items:e.gcodeFiles,"hide-default-footer":"","sort-by":"time_added","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(e._s(e.$t("Panels.StatusPanel.EmptyGcodes")))])]},proxy:!0},{key:"item",fn:function(r){var i=r.item;return[t("status-panel-gcodefiles-entry",{key:i.filename,attrs:{"content-td-width":e.contentTdWidth,item:i}})]}}])}),t("resize-observer",{on:{notify:e.handleResize}})],1)},I8=[];const Tv={};var N8=E(Sm,j8,I8,!1,V8,"05b68503",null,null);function V8(e){for(let s in Tv)this[s]=Tv[s]}const yx=function(){return N8.exports}();var U8=Object.defineProperty,B8=Object.getOwnPropertyDescriptor,G8=(e,s,t,r)=>{for(var i=r>1?void 0:r?B8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&U8(s,t,i),i};let wm=class extends M(O){constructor(){super(...arguments),this.maxFlow=0}get current_file(){var s;return(s=this.$store.state.printer.current_file)!=null?s:{}}get live_velocity(){var s,t,r;return(r=Math.abs((t=(s=this.$store.state.printer.motion_report)==null?void 0:s.live_velocity)==null?void 0:t.toFixed(0)))!=null?r:null}get live_extruder_velocity(){var t,r;const s=(r=(t=this.$store.state.printer.motion_report)==null?void 0:t.live_extruder_velocity)!=null?r:null;return s===null?null:s>0?s:0}get live_flow(){if(this.live_extruder_velocity===null)return null;const t=Math.pow(this.filament_diameter/2,2)*Math.PI*this.live_extruder_velocity;return t&&this.maxFlow<t&&(this.maxFlow=t),t==null?void 0:t.toFixed(1)}get outputMaxFlow(){return this.maxFlow?this.maxFlow.toFixed(1)+" mm³/s":"--"}get requested_speed(){var n,a,o,l,c,u;const s=(a=(n=this.$store.state.printer.gcode_move)==null?void 0:n.speed)!=null?a:0,t=(l=(o=this.$store.state.printer.gcode_move)==null?void 0:o.speed_factor)!=null?l:0,r=(u=(c=this.$store.state.printer.toolhead)==null?void 0:c.max_velocity)!=null?u:0,i=s/60*t;return i>r?r:i.toFixed(0)}get max_layers(){var s;return(s=this.$store.getters["printer/getPrintMaxLayers"])!=null?s:0}get current_layer(){var s;return(s=this.$store.getters["printer/getPrintCurrentLayer"])!=null?s:0}get estimated_time_file(){return this.$store.getters["printer/getEstimatedTimeFile"]}get estimated_time_filament(){return this.$store.getters["printer/getEstimatedTimeFilament"]}get estimated_time_slicer(){return this.$store.getters["printer/getEstimatedTimeSlicer"]}get estimated_time_avg(){return this.$store.getters["printer/getEstimatedTimeAvg"]}get eta(){return this.$store.getters["printer/getEstimatedTimeETAFormat"]}get filament_diameter(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t.extruder)==null?void 0:r.filament_diameter)!=null?i:1.75}get print_time(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.print_duration)!=null?t:0}get print_time_total(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.total_duration)!=null?t:0}get filament_used(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.filament_used)!=null?t:0}get outputFilamentUsed(){return this.filament_used>=1e3?(this.filament_used/1e3).toFixed(2)+" m":this.filament_used.toFixed(2)+" mm"}formatDuration(s){const t=s<0?"-":"";let r=Math.abs(s);const i=Math.floor(r/3600);r%=3600;const n=("0"+Math.floor(r/60)).slice(-2),a=("0"+Math.floor(r%60)).slice(-2);return t+i+":"+n+":"+a}};wm=G8([w({components:{StatusPanelFilesJobqueue:_x,StatusPanelFilesGcodes:yx}})],wm);var W8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,{staticClass:"pa-0"},[t(Pe,{staticClass:"py-0"},[t(C,{staticClass:"text-center py-5",attrs:{align:"center"}},[t(v,{staticClass:"col-3 pa-0"},[e.live_velocity!==null?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Speed")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.live_velocity)+" mm/s")])])]}}],null,!1,1141285171)},[t("span",[e._v(e._s(e.$t("Panels.StatusPanel.Requested"))+": "+e._s(e.requested_speed+" mm/s"))])])]:[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Speed")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.requested_speed)+" mm/s")])]],2),t(v,{staticClass:"col-3 pa-0"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Flow")))]),t("br"),t("span",{staticClass:"d-block text-center text-no-wrap"},[e._v(" "+e._s(e.live_flow+" mm³/s")+" ")])])]}}])},[t("span",[e._v(e._s(e.$t("Panels.StatusPanel.Max"))+": "+e._s(e.outputMaxFlow))])])],1),t(v,{staticClass:"col-3 pa-0"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Filament")))]),t("br"),t("span",{staticClass:"d-block text-center text-no-wrap"},[e._v(" "+e._s(e.outputFilamentUsed)+" ")])])]}}])},["filament_total"in e.current_file?t("span",[e._v(" "+e._s((e.filament_used/1e3).toFixed(2))+" / "+e._s((e.current_file.filament_total/1e3).toFixed(2))+" m = "+e._s((100/e.current_file.filament_total*e.filament_used).toFixed(0))+" % ")]):e._e()])],1),t(v,{staticClass:"col-3 pa-0 text-center"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({staticClass:"text-center"},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Layer")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.current_layer)+" of "+e._s(e.max_layers))])])]}}])},["object_height"in e.current_file&&e.current_file.object_height>0?t("span",[e._v(" "+e._s(e.$t("Panels.StatusPanel.ObjectHeight"))+": "+e._s(e.current_file.object_height)+" mm ")]):e._e()])],1)],1)],1),t(H,{staticClass:"my-0"}),t(Pe,{staticClass:"py-0"},[t(C,{staticClass:"text-center pt-5 pb-2 mb-0",attrs:{align:"center"}},[t(v,{staticClass:"col-3 pa-0"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({staticClass:"text-center"},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Estimate")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.estimated_time_avg?e.formatDuration(e.estimated_time_avg):"--")+" ")])])]}}])},[t("div",{staticClass:"text-right"},[e._v(" "+e._s(e.$t("Panels.StatusPanel.File"))+": "+e._s(e.estimated_time_file?e.formatDuration(e.estimated_time_file):"--")+" "),t("br"),e._v(" "+e._s(e.$t("Panels.StatusPanel.Filament"))+": "+e._s(e.estimated_time_filament?e.formatDuration(e.estimated_time_filament):"--")+" ")])])],1),t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Slicer")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.estimated_time_slicer?e.formatDuration(e.estimated_time_slicer):"--")+" ")])]),t(v,{staticClass:"col-3 pa-0"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({staticClass:"text-center"},"div",n,!1),i),[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Total")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.print_time_total?e.formatDuration(e.print_time_total):"--")+" ")])])]}}])},[t("div",{staticClass:"text-right"},[e._v(" "+e._s(e.$t("Panels.StatusPanel.Print"))+": "+e._s(e.print_time?e.formatDuration(e.print_time):"--")+" "),t("br"),e._v(" "+e._s(e.$t("Panels.StatusPanel.Difference"))+": "+e._s(e.print_time&&e.print_time_total?e.formatDuration(e.print_time_total-e.print_time):"--")+" ")])])],1),t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.ETA")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.eta))])])],1)],1)],1)},z8=[];const Dv={};var q8=E(wm,W8,z8,!1,Z8,null,null,null);function Z8(e){for(let s in Dv)this[s]=Dv[s]}const Y8=function(){return q8.exports}();var X8=Object.defineProperty,J8=Object.getOwnPropertyDescriptor,K8=(e,s,t,r)=>{for(var i=r>1?void 0:r?J8(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&X8(s,t,i),i};let Pm=class extends M(O){get current_file(){var s;return(s=this.$store.state.printer.current_file)!=null?s:{}}get filament_used(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.filament_used)!=null?t:0}get outputFilamentUsed(){return this.filament_used>=1e3?(this.filament_used/1e3).toFixed(2)+" m":this.filament_used.toFixed(2)+" mm"}get print_time(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.print_duration)!=null?t:0}get print_time_total(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.total_duration)!=null?t:0}formatTime(s){let t=Math.floor(s/3600);s%=3600;let r=("0"+Math.floor(s/60)).slice(-2),i=("0"+(s%60).toFixed(0)).slice(-2);return t+":"+r+":"+i}};Pm=K8([w({components:{}})],Pm);var Q8=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,{staticClass:"pa-0"},[t(Pe,{staticClass:"py-0"},[t(C,{staticClass:"text-center pt-5 pb-2 mb-0",attrs:{align:"center"}},[t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Filament")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.outputFilamentUsed)+" ")])]),t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Slicer")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s("estimated_time"in e.current_file?e.formatTime(e.current_file.estimated_time):"--")+" ")])]),t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Print")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.print_time?e.formatTime(e.print_time):"--"))])]),t(v,{staticClass:"col-3 pa-0"},[t("strong",[e._v(e._s(e.$t("Panels.StatusPanel.Total")))]),t("br"),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.print_time_total?e.formatTime(e.print_time_total):"--")+" ")])])],1)],1)],1)},eR=[];const Mv={};var tR=E(Pm,Q8,eR,!1,sR,null,null,null);function sR(e){for(let s in Mv)this[s]=Mv[s]}const rR=function(){return tR.exports}();var iR=Object.defineProperty,nR=Object.getOwnPropertyDescriptor,aR=(e,s,t,r)=>{for(var i=r>1?void 0:r?nR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&iR(s,t,i),i};let Tm=class extends M(O){};Tm=aR([w({components:{StatusPanelPrintstatusPrinting:Y8,StatusPanelPrintstatusComplete:rR}})],Tm);var oR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[["printing","paused","error","cancelled"].includes(e.printer_state)?[t("status-panel-printstatus-printing")]:e._e(),["complete"].includes(e.printer_state)?[t("status-panel-printstatus-complete")]:e._e()],2)},lR=[];const Ev={};var cR=E(Tm,oR,lR,!1,uR,null,null,null);function uR(e){for(let s in Ev)this[s]=Ev[s]}const dR=function(){return cR.exports}();var hR=Object.defineProperty,mR=Object.getOwnPropertyDescriptor,Cx=(e,s,t,r)=>{for(var i=r>1?void 0:r?mR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&hR(s,t,i),i};let uc=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiDelete=Ge,this.mdiFile=Ks,this.mdiPlaylistPlus=$o,this.mdiPrinter=Gf,this.showContextMenu=!1,this.contextMenuX=0,this.contextMenuY=0,this.addBatchToQueueDialogBool=!1}get smallThumbnail(){var t,r,i,n,a;if(((i=(r=(t=this.job.metadata)==null?void 0:t.thumbnails)==null?void 0:r.length)!=null?i:0)<1)return!1;const s=(a=(n=this.job.metadata)==null?void 0:n.thumbnails)==null?void 0:a.find(o=>o.width>=Qt&&o.width<=es&&o.height>=Qt&&o.height<=es);return s?this.createThumbnailUrl(s):!1}get bigThumbnail(){var t,r,i,n,a;if(((i=(r=(t=this.job.metadata)==null?void 0:t.thumbnails)==null?void 0:r.length)!=null?i:0)<1)return!1;const s=(a=(n=this.job.metadata)==null?void 0:n.thumbnails)==null?void 0:a.find(o=>o.width>=Vs);return s?this.createThumbnailUrl(s):!1}get statusIcon(){return this.$store.getters["server/history/getPrintStatusIcon"](this.job.status)}get statusColor(){return this.$store.getters["server/history/getPrintStatusIconColor"](this.job.status)}get statusName(){return this.$t("History.StatusValues.".concat(this.job.status),"en")?this.$t("History.StatusValues.".concat(this.job.status)):this.job.status.replace(/_/g," ")}get description(){const s=[],t=[];let r="--";return this.filamentLength&&t.push(this.filamentLength),this.filamentWeight&&t.push(this.filamentWeight),t.length&&(r=t.join(" / ")),s.push("".concat(this.$t("Panels.StatusPanel.Filament"),": ").concat(r)),this.estimatedTime!=="--"?s.push("".concat(this.$t("Panels.StatusPanel.PrintTime"),": ").concat(this.estimatedTime)):this.totalTime&&s.push("".concat(this.$t("Panels.StatusPanel.TotalTime"),": ").concat(this.totalTime)),s.join(", ")}get filamentLength(){const s=this.job.filament_used;return s===0?null:s>=1e3?(s/1e3).toFixed(1)+" m":s.toFixed(0)+" mm"}get filamentWeight(){var n,a,o,l;const s=(a=(n=this.job.metadata)==null?void 0:n.filament_total)!=null?a:0,t=(l=(o=this.job.metadata)==null?void 0:o.filament_weight_total)!=null?l:0;if(s===0||t===0)return null;const r=t/s,i=this.job.filament_used*r;return i===0?null:i>=1e3?(length/1e3).toFixed(1)+" kg":i.toFixed(0)+" g"}get estimatedTime(){var t;let s=(t=this.job.print_duration)!=null?t:0;return s==0?"--":qs(s)}get totalTime(){var t;let s=(t=this.job.total_duration)!=null?t:0;return s===0?null:qs(s)}get bigThumbnailBackground(){var s;return(s=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?s:kt}get bigThumbnailTooltipColor(){if(kt.toLowerCase()!==this.bigThumbnailBackground.toLowerCase())return this.bigThumbnailBackground}get isJobQueueAvailable(){return this.moonrakerComponents.includes("job_queue")}openContextMenu(s){if(s==null||s.preventDefault(),this.showContextMenu){this.showContextMenu=!1;return}this.showContextMenu=!0,this.contextMenuX=(s==null?void 0:s.clientX)||(s==null?void 0:s.pageX)||window.screenX/2,this.contextMenuY=(s==null?void 0:s.clientY)||(s==null?void 0:s.pageY)||window.screenY/2}startPrint(){this.job.exists&&this.$socket.emit("printer.print.start",{filename:this.job.filename})}addToQueue(){this.$store.dispatch("server/jobQueue/addToQueue",[this.job.filename]),this.$toast.info(this.$t("History.AddToQueueSuccessful",{filename:this.job.filename}).toString())}deleteJob(){this.$socket.emit("server.history.delete_job",{uid:this.job.job_id},{action:"server/history/getDeletedJobs"})}createThumbnailUrl(s){let t="";return this.job.filename.lastIndexOf("/")!==-1&&(t=this.job.filename.substring(0,this.job.filename.lastIndexOf("/")+1)),"".concat(this.apiUrl,"/server/files/gcodes/").concat(Ie(t+s.relative_path),"?timestamp=").concat(this.job.metadata.modified)}};Cx([x({type:Object,required:!0})],uc.prototype,"job",2);uc=Cx([w],uc);var pR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(r){return e.openContextMenu(r)},expression:"(e) => openContextMenu(e)",arg:"600"}],staticClass:"history-list-entry d-flex flex-row flex-nowrap cursor-pointer",on:{contextmenu:function(r){return e.openContextMenu(r)}}},[t(v,{staticClass:"col-auto d-flex flex-column justify-center pr-0 py-0"},[e.smallThumbnail?t(ue,{attrs:{top:"",disabled:!e.bigThumbnail,"content-class":"tooltip__content-opacity1",color:e.bigThumbnailTooltipColor},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("vue-load-image",{staticClass:"text-center width-32"},[t("img",e._g(e._b({attrs:{slot:"image",src:e.smallThumbnail,width:32,height:32,alt:e.job.filename},slot:"image"},"img",n,!1),i)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}],null,!1,3004314596)},[t("span",[t("img",{attrs:{src:e.bigThumbnail,width:250,alt:e.job.filename}})])]):t(_,[e._v(e._s(e.mdiFile))])],1),t(v,{staticClass:"py-1",staticStyle:{"min-width":"0","font-size":"0.875em"}},[t("div",{staticClass:"text-truncate"},[e.job.count>1?t("strong",[e._v(e._s(e.job.count)+"x")]):e._e(),e._v(" "+e._s(e.job.filename)+" ")]),e.description?t("small",{staticClass:"text-truncate"},[e._v(e._s(e.description))]):e._e()]),t(v,{staticClass:"col-auto d-flex flex-column justify-center pa-0 pr-3"},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[t(_,{attrs:{small:"",color:e.statusColor,disabled:!e.job.exists}},[e._v(" "+e._s(e.statusIcon)+" ")])],1)]}}])},[t("span",[e._v(e._s(e.statusName))])])],1),t(ye,{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.showContextMenu,callback:function(r){e.showContextMenu=r},expression:"showContextMenu"}},[t(Ee,[e.job.exists?t(Y,{attrs:{disabled:e.printerIsPrinting||!e.klipperReadyForGui},on:{click:e.startPrint}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPrinter))]),e._v(" "+e._s(e.$t("History.Reprint"))+" ")],1):e._e(),e.job.exists&&e.isJobQueueAvailable?t(Y,{on:{click:e.addToQueue}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddToQueue"))+" ")],1):e._e(),e.job.exists&&e.isJobQueueAvailable?t(Y,{on:{click:function(r){e.addBatchToQueueDialogBool=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddBatchToQueue"))+" ")],1):e._e(),t(Y,{staticClass:"red--text",on:{click:e.deleteJob}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("History.Delete"))+" ")],1)],1)],1),t(xi,{attrs:{"is-visible":e.addBatchToQueueDialogBool,"show-toast":!0,filename:e.job.filename},on:{close:function(r){e.addBatchToQueueDialogBool=!1}}})],1)},fR=[];const Ov={};var gR=E(uc,pR,fR,!1,_R,"14d07330",null,null);function _R(e){for(let s in Ov)this[s]=Ov[s]}const vR=function(){return gR.exports}();var bR=Object.defineProperty,yR=Object.getOwnPropertyDescriptor,CR=(e,s,t,r)=>{for(var i=r>1?void 0:r?yR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&bR(s,t,i),i};let Dm=class extends M(O){get jobs(){var s;return(s=this.$store.state.server.history.jobs)!=null?s:[]}get maxLength(){var s;return(s=this.$store.state.gui.uiSettings.dashboardHistoryLimit)!=null?s:5}get jobsCombined(){var t,r;const s=[];for(const i of this.jobs){if(s.length===0){s.push({...i,count:1});continue}const n=s[s.length-1],a=(t=n.metadata.uuid)!=null?t:null,o=(r=i.metadata.uuid)!=null?r:null;if(a===o&&n.status===i.status){n.filament_used+=i.filament_used,n.print_duration+=i.print_duration,n.total_duration+=i.total_duration,n.count+=1;continue}if(s.length>=this.maxLength)break;s.push({...i,count:1})}return s}startJobqueue(){this.$store.dispatch("server/jobQueue/start")}};Dm=CR([w({components:{StatusPanelHistoryEntry:vR}})],Dm);var $R=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"history",attrs:{flat:""}},[e.jobsCombined.length?[t(C,{staticClass:"mx-0 mt-0 pb-3"},[t(v,{staticClass:"history-list"},e._l(e.jobsCombined,function(r){return t("status-panel-history-entry",{key:r.job_id,attrs:{job:r}})}),1)],1)]:t("div",[t("p",{staticClass:"body-2 my-3 text-center text--disabled"},[e._v(e._s(e.$t("Panels.StatusPanel.EmptyHistory")))])])],2)},xR=[];const Lv={};var SR=E(Dm,$R,xR,!1,wR,"4ee54849",null,null);function wR(e){for(let s in Lv)this[s]=Lv[s]}const PR=function(){return SR.exports}();var TR=Object.defineProperty,DR=Object.getOwnPropertyDescriptor,$x=(e,s,t,r)=>{for(var i=r>1?void 0:r?DR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&TR(s,t,i),i};let dc=class extends M(O){constructor(){super(...arguments),this.coordinationCrossColor="#888",this.stripesOffset=50}get printing_objects(){var e,s;return((s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.objects)!=null?s:[]).map(t=>{let r=0;if("polygon"in t)for(let i=0;i<t.polygon.length;i++){const n=t.polygon[i],a=i===t.polygon.length-1?t.polygon[0]:t.polygon[i+1];r+=n[0]*a[1]-n[1]*a[0]}return{center:t.center,name:t.name,polygon:t.polygon,size:Math.abs(r)}}).sort((t,r)=>r.size-t.size)}get printing_objects_with_polygons(){return this.printing_objects.filter(e=>"polygon"in e)}get current_object(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.current_object)!=null?s:null}get excluded_objects(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.excluded_objects)!=null?s:[]}get viewBox(){return this.convertX(this.stepperXmin)+" "+this.convertY(this.stepperYmax)+" "+this.absoluteX+" "+this.absoluteY}get toolhead(){var e;return(e=this.$store.state.printer.toolhead)!=null?e:{}}get axis_minimum(){var e;return(e=this.toolhead.axis_minimum)!=null?e:[]}get axis_maximum(){var e;return(e=this.toolhead.axis_maximum)!=null?e:[]}get stepperXmin(){var e;return(e=this.axis_minimum[0])!=null?e:0}get stepperXmax(){var e;return(e=this.axis_maximum[0])!=null?e:200}get stepperYmin(){var e;return(e=this.axis_minimum[1])!=null?e:0}get stepperYmax(){var e;return(e=this.axis_maximum[1])!=null?e:200}get absoluteX(){return Math.abs(this.stepperXmin)+Math.abs(this.stepperXmax)}get absoluteY(){return Math.abs(this.stepperYmin)+Math.abs(this.stepperYmax)}get xStripes(){const e=[],s=Math.floor(this.stepperXmin/this.stripesOffset)*this.stripesOffset,t=Math.floor(this.stepperXmax/this.stripesOffset)*this.stripesOffset;for(let r=s;r<=t;r=r+this.stripesOffset)e.push(r);return e}get yStripes(){const e=[],s=Math.floor(this.stepperYmin/this.stripesOffset)*this.stripesOffset,t=Math.floor(this.stepperYmax/this.stripesOffset)*this.stripesOffset;for(let r=s;r<=t;r=r+this.stripesOffset)e.push(r);return e}get primaryColor(){var e,s;return(s=(e=this.$store.state.gui.theme)==null?void 0:e.primary)!=null?s:kl}convertX(e){return e}convertY(e){return e*-1}showObjectTooltip(e){this.$refs.tooltipObjectMap&&(this.$refs.tooltipObjectMap.innerHTML=e,this.$refs.tooltipObjectMap.style.display="block",window.addEventListener("mousemove",this.moveTooltip))}hideObjectTooltip(){this.$refs.tooltipObjectMap&&(this.$refs.tooltipObjectMap.style.display="none",window.removeEventListener("mousemove",this.moveTooltip))}moveTooltip(e){if(!this.$refs.tooltipObjectMap)return;const s=e.offsetY-this.$refs.tooltipObjectMap.clientHeight-15;this.$refs.tooltipObjectMap.style.left="".concat(e.offsetX-20,"px"),this.$refs.tooltipObjectMap.style.top="".concat(s,"px")}openExcludeObjectDialog(e){this.$emit("update:name",e),this.$emit("update:bool",!0)}};$x([x({required:!1,default:""})],dc.prototype,"hoverName",2);dc=$x([w],dc);var MR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticStyle:{position:"relative"}},[t("div",{ref:"tooltipObjectMap",attrs:{id:"tooltipObjectMap"}}),t("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:e.viewBox,"xml:space":"preserve"}},[t("defs",[t("marker",{attrs:{id:"arrowhead",markerWidth:"5",markerHeight:"4",refX:"2",refY:"2",orient:"auto"}},[t("polygon",{attrs:{points:"0 0, 5 2, 0 4",fill:e.coordinationCrossColor}})])]),t("line",{attrs:{x1:e.convertX(0),y1:e.convertY(1),x2:e.convertX(e.stepperXmax/4),y2:e.convertY(1),stroke:e.coordinationCrossColor,"stroke-width":"2","marker-end":"url(#arrowhead)"}}),t("line",{attrs:{x1:e.convertX(1),y1:e.convertY(0),x2:e.convertX(1),y2:e.convertY(e.stepperYmax/4),stroke:e.coordinationCrossColor,"stroke-width":"2","marker-end":"url(#arrowhead)"}}),t("g",[e._l(e.xStripes,function(r){return t("line",{key:"xLines"+r,attrs:{x1:e.convertX(r),x2:e.convertX(r),y1:e.convertY(e.stepperYmin),y2:e.convertY(e.stepperYmax),stroke:e.coordinationCrossColor,"stroke-opacity":.25,"stroke-width":"1"}})}),e._l(e.yStripes,function(r){return t("line",{key:"yLines"+r,attrs:{x1:e.convertX(e.stepperXmin),x2:e.convertX(e.stepperXmax),y1:e.convertY(r),y2:e.convertY(r),stroke:e.coordinationCrossColor,"stroke-opacity":.25,"stroke-width":"1"}})})],2),e._l(e.printing_objects_with_polygons,function(r,i){return t("g",{key:i},[t("polygon",{staticStyle:{cursor:"pointer"},attrs:{points:r.polygon.map(function(n){return e.convertX(n[0])+","+e.convertY(n[1])}).join(" "),stroke:e.current_object===r.name?e.primaryColor:"#666","stroke-width":"2","fill-rule":"evenodd",fill:e.hoverName===r.name?e.primaryColor:e.excluded_objects.includes(r.name)?"#6668":"#bbb"},on:{mouseover:function(n){return e.showObjectTooltip(r.name)},mouseout:e.hideObjectTooltip,click:function(n){return e.openExcludeObjectDialog(r.name)}}})])})],2)])},ER=[];const Fv={};var OR=E(dc,MR,ER,!1,LR,"4dbb25c3",null,null);function LR(e){for(let s in Fv)this[s]=Fv[s]}const xx=function(){return OR.exports}();var FR=Object.defineProperty,AR=Object.getOwnPropertyDescriptor,Sx=(e,s,t,r)=>{for(var i=r>1?void 0:r?AR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&FR(s,t,i),i};let hc=class extends M(O){constructor(){super(...arguments),this.mdiCloseCircle=Rl}get printing_objects(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.objects)!=null?s:[]}get current_object(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.current_object)!=null?s:null}get excluded_objects(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.excluded_objects)!=null?s:[]}openExcludeObjectDialog(e){this.$emit("update:name",e),this.$emit("update:bool",!0)}mouseOverObject(e){this.$emit("update:hoverName",e)}};Sx([x({required:!1,default:""})],hc.prototype,"hoverName",2);hc=Sx([w],hc);var kR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e._l(e.printing_objects,function(r){return[t(C,{key:"div_"+r.name,staticClass:"py-3 d-flex",on:{click:function(i){return e.mouseOverObject(r.name)},mouseover:function(i){return e.mouseOverObject(r.name)},mouseleave:function(i){return e.mouseOverObject("")}}},[t(v,{class:"py-2 subtitle-2 text-truncate "+(e.hoverName===r.name?"text--white":"text--disabled")},[e._v(" "+e._s(r.name)+" ")]),t(v,{staticClass:"col-auto py-2"},[e.excluded_objects.includes(r.name)?t(fs,{staticClass:"text--disabled",attrs:{pill:"",small:""}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.ExcludeObject.Excluded"))+" ")]):t(_,{staticClass:"text--disabled cursor-pointer",attrs:{small:""},on:{click:function(i){return e.openExcludeObjectDialog(r.name)}}},[e._v(" "+e._s(e.mdiCloseCircle)+" ")])],1)],1),t(H,{key:"divider_"+r.name})]})],2)},RR=[];const Av={};var HR=E(hc,kR,RR,!1,jR,null,null,null);function jR(e){for(let s in Av)this[s]=Av[s]}const wx=function(){return HR.exports}();var IR=Object.defineProperty,NR=Object.getOwnPropertyDescriptor,Cd=(e,s,t,r)=>{for(var i=r>1?void 0:r?NR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&IR(s,t,i),i};let an=class extends M(O){constructor(){super(...arguments),this.hoverName="",this.mdiSelectionRemove=jl,this.mdiCloseThick=pe}hideDialog(){this.$emit("update:showDialog",!1)}get passName(){return this.excludeObjectDialogName}set passName(s){this.$emit("update:name",s)}updateExcludeObjectDialogBool(s){this.$emit("update:bool",s)}updateExcludeObjectDialogName(s){this.$emit("update:name",s)}updateHoverObjectDialogName(s){this.hoverName=s}};Cd([x({required:!0})],an.prototype,"showDialog",2);Cd([x({required:!0})],an.prototype,"excludeObjectDialogBool",2);Cd([x({required:!0})],an.prototype,"excludeObjectDialogName",2);an=Cd([w({components:{Panel:B,StatusPanelExcludeObjectDialogList:wx,StatusPanelExcludeObjectDialogMap:xx}})],an);var VR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{width:"900",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.StatusPanel.ExcludeObject.ExcludeObject"),icon:e.mdiSelectionRemove,"card-class":"exclude-object-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.hideDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Pe,[t(C,[t(v,{staticClass:"col-12 col-sm-6 pb-0 pb-sm-3"},[t("status-panel-exclude-object-dialog-map",{attrs:{"hover-name":e.hoverName},on:{"update:name":e.updateExcludeObjectDialogName,"update:bool":e.updateExcludeObjectDialogBool}})],1),t(v,{staticClass:"col-12 col-sm-6 pt-0 pt-sm-3"},[t("status-panel-exclude-object-dialog-list",{attrs:{"exclude-object-dialog-name":e.excludeObjectDialogName,"exclude-object-dialog-bool":e.excludeObjectDialogBool,"hover-name":e.hoverName},on:{"update:excludeObjectDialogName":function(r){e.excludeObjectDialogName=r},"update:exclude-object-dialog-name":function(r){e.excludeObjectDialogName=r},"update:excludeObjectDialogBool":function(r){e.excludeObjectDialogBool=r},"update:exclude-object-dialog-bool":function(r){e.excludeObjectDialogBool=r},"update:name":e.updateExcludeObjectDialogName,"update:hoverName":e.updateHoverObjectDialogName,"update:bool":e.updateExcludeObjectDialogBool}})],1)],1)],1)],1)],1)],1)},UR=[];const kv={};var BR=E(an,VR,UR,!1,GR,null,null,null);function GR(e){for(let s in kv)this[s]=kv[s]}const WR=function(){return BR.exports}();var zR=Object.defineProperty,qR=Object.getOwnPropertyDescriptor,Px=(e,s,t,r)=>{for(var i=r>1?void 0:r?qR(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zR(s,t,i),i};let mc=class extends M(O){constructor(){super(...arguments),this.mdiPrinter3dNozzle=Qs,this.mdiSelectionRemove=jl,this.boolShowExcludeObjectDialog=!1,this.excludeObjectDialogName=""}get showDialogPass(){return this.showDialog}set showDialogPass(s){this.$emit("update:showDialog",s)}get printing_objects(){var s,t;return(t=(s=this.$store.state.printer.exclude_object)==null?void 0:s.objects)!=null?t:[]}get current_object(){var s,t;return(t=(s=this.$store.state.printer.exclude_object)==null?void 0:s.current_object)!=null?t:null}get excluded_objects(){var s,t;return(t=(s=this.$store.state.printer.exclude_object)==null?void 0:s.excluded_objects)!=null?t:[]}updateExcludeObjectDialogName(s){this.excludeObjectDialogName=s}updateExcludeObjectDialogBool(s){this.boolShowExcludeObjectDialog=s}openCancelObjectDialog(s){this.excludeObjectDialogName=s,this.boolShowExcludeObjectDialog=!0}cancelObject(){this.$socket.emit("printer.gcode.script",{script:"EXCLUDE_OBJECT NAME="+this.excludeObjectDialogName}),this.boolShowExcludeObjectDialog=!1}};Px([x({required:!0})],mc.prototype,"showDialog",2);mc=Px([w({components:{StatusPanelExcludeObjectDialog:WR}})],mc);var ZR=function(){var e=this,s=e.$createElement,t=e._self._c||s;return["printing","paused"].includes(e.printer_state)&&e.printing_objects.length?t("div",[t(Pe,{staticClass:"py-0"},[t("div",{staticClass:"d-flex flex-row flex-nowrap justify-space-between"},[t("div",{staticClass:"py-2",staticStyle:{width:"calc(100% - 25px)"}},[t("span",{staticClass:"subtitle-2 d-block px-0 text--disabled text-truncate"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiPrinter3dNozzle))]),e._v(" "+e._s(e.current_object!==null?e.current_object:"--")+" ")],1)]),t("div",{staticClass:"py-2 pl-0"},[e.current_object!==null?t(_,{staticClass:"text--disabled cursor-pointer",attrs:{small:""},on:{click:function(r){return e.openCancelObjectDialog(e.current_object)}}},[e._v(" "+e._s(e.mdiSelectionRemove)+" ")]):e._e()],1)])]),t(H,{staticClass:"mt-0 mb-0"}),t(oe,{attrs:{"max-width":"400"},model:{value:e.boolShowExcludeObjectDialog,callback:function(r){e.boolShowExcludeObjectDialog=r},expression:"boolShowExcludeObjectDialog"}},[t(Te,[t(yf,{attrs:{flat:"",dense:""}},[t(Au,[t("span",{staticClass:"subheading"},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiSelectionRemove))]),e._v(" "+e._s(e.$t("Panels.StatusPanel.ExcludeObject.ExcludeObjectHeadline"))+" ")],1)])],1),t(Z,{staticClass:"mt-3"},[e._v(" "+e._s(e.$t("Panels.StatusPanel.ExcludeObject.ExcludeObjectText",{name:e.excludeObjectDialogName}))+" ")]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:function(r){e.boolShowExcludeObjectDialog=!1}}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.ExcludeObject.Cancel"))+" ")]),t(g,{attrs:{color:"primary",text:""},on:{click:e.cancelObject}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.ExcludeObject.ExcludeObject"))+" ")])],1)],1)],1),t("status-panel-exclude-object-dialog",{attrs:{"show-dialog":e.showDialogPass,"exclude-object-dialog-name":e.excludeObjectDialogName,"exclude-object-dialog-bool":e.boolShowExcludeObjectDialog},on:{"update:showDialog":function(r){e.showDialogPass=r},"update:show-dialog":function(r){e.showDialogPass=r},"update:excludeObjectDialogName":function(r){e.excludeObjectDialogName=r},"update:exclude-object-dialog-name":function(r){e.excludeObjectDialogName=r},"update:excludeObjectDialogBool":function(r){e.boolShowExcludeObjectDialog=r},"update:exclude-object-dialog-bool":function(r){e.boolShowExcludeObjectDialog=r},"update:name":e.updateExcludeObjectDialogName,"update:bool":e.updateExcludeObjectDialogBool}})],1):e._e()},YR=[];const Rv={};var XR=E(mc,ZR,YR,!1,JR,null,null,null);function JR(e){for(let s in Rv)this[s]=Rv[s]}const KR=function(){return XR.exports}();var QR=Object.defineProperty,eH=Object.getOwnPropertyDescriptor,Tx=(e,s,t,r)=>{for(var i=r>1?void 0:r?eH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&QR(s,t,i),i};let pc=class extends M(O){constructor(){super(...arguments),this.mdiFileOutline=IC,this.mdiFile=Ks,this.focus=!1,this.thumbnailFactor=0}get current_filename(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.filename)!=null?t:""}get current_file(){var s;return(s=this.$store.state.printer.current_file)!=null?s:{}}get thumbnailBig(){if("thumbnails"in this.current_file&&this.current_file.thumbnails.length){const s=this.current_file.thumbnails.find(t=>t.width>=Vs);if(s&&"relative_path"in s){let t="";if(this.current_file.filename.lastIndexOf("/")!==-1&&(t=this.current_file.filename.substr(0,this.current_file.filename.lastIndexOf("/")+1)),s&&"relative_path"in s)return"".concat(this.apiUrl,"/server/files/gcodes/").concat(Ie(t+s.relative_path),"?timestamp=").concat(this.current_file.modified)}}return""}get thumbnailBigHeight(){if("thumbnails"in this.current_file&&this.current_file.thumbnails.length){const s=this.current_file.thumbnails.find(t=>t.width>=Vs);if(s&&"height"in s)return s.height}return 200}get thumbnailBigWidth(){if("thumbnails"in this.current_file&&this.current_file.thumbnails.length){const s=this.current_file.thumbnails.find(t=>t.width>=Vs);if(s&&"width"in s)return s.width}return 300}get thumbnailSmall(){if("thumbnails"in this.current_file&&this.current_file.thumbnails.length){const s=this.current_file.thumbnails.find(t=>t.width>=Qt&&t.width<=es&&t.height>=Qt&&t.height<=es);if(s&&"relative_path"in s){let t="";if(this.current_file.filename.lastIndexOf("/")!==-1&&(t=this.current_file.filename.substr(0,this.current_file.filename.lastIndexOf("/")+1)),s&&"relative_path"in s)return"".concat(this.apiUrl,"/server/files/gcodes/").concat(Ie(t+s.relative_path),"?timestamp=").concat(this.current_file.modified)}}return""}get boolBigThumbnail(){var t;const s=(t=this.$store.state.gui.uiSettings.boolBigThumbnail)!=null?t:!0;return this.current_filename&&s&&this.thumbnailBig}get bigThumbnailBackground(){var s;return(s=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?s:kt}get thumbnailStyle(){let s={height:"200px"};return this.printstatusThumbnailZoom?this.focus&&this.thumbnailBlurHeight>0&&(s.height="".concat(this.thumbnailBlurHeight,"px")):s.height="100%",kt.toLowerCase()!==this.bigThumbnailBackground.toLowerCase()&&(s.backgroundColor=this.bigThumbnailBackground),s}get styleThumbnailOverlay(){const s={backgroundColor:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(3px)"};return this.$vuetify.theme.dark||(s.backgroundColor="rgba(255, 255, 255, 0.3)"),s}get thumbnailBlurHeight(){return this.thumbnailFactor===0?0:(this.thumbnailBigHeight*this.thumbnailFactor).toFixed()}get printstatusThumbnailZoom(){var s;return(s=this.$store.state.gui.uiSettings.printstatusThumbnailZoom)!=null?s:!0}calcThumbnailFactor(){var t,r;const s=(r=(t=this.$refs.bigThumbnail)==null?void 0:t.$el.clientWidth)!=null?r:0;return(!s||!this.thumbnailBigWidth)&&(this.thumbnailFactor=0),this.thumbnailFactor=s/this.thumbnailBigWidth}handleResize(){this.$nextTick(()=>{this.calcThumbnailFactor()})}};Tx([Ye(200)],pc.prototype,"handleResize",1);pc=Tx([w({})],pc);var tH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.current_filename?t("div",{staticClass:"statusPanel-printstatus-thumbnail"},[e.boolBigThumbnail?t(Hu,{ref:"bigThumbnail",staticClass:"d-flex align-end statusPanel-big-thumbnail",style:e.thumbnailStyle,attrs:{src:e.thumbnailBig,tabindex:"-1",height:"200"},on:{focus:function(r){e.focus=!0},blur:function(r){e.focus=!1}}},[t(ft,{staticClass:"white--text py-2 px-2",style:e.styleThumbnailOverlay},[t(C,[t(v,[t("span",{staticClass:"subtitle-2 text-truncate px-0 text--disabled d-block"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiFileOutline))]),e._v(" "+e._s(e.current_filename)+" ")],1)])],1)],1)],1):[t(Pe,[t(C,[t(v,{class:e.thumbnailSmall?"py-3":"py-2",style:e.thumbnailSmall?"width: calc(100% - 40px);":""},[t("span",{staticClass:"subtitle-2 text-truncate d-block px-0 text--disabled"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiFileOutline))]),e._v(" "+e._s(e.current_filename)+" ")],1)]),e.thumbnailSmall?t(v,{staticClass:"pa-2 pl-0 col-auto"},[e.thumbnailSmall&&e.thumbnailBig?[t(ue,{attrs:{top:"","content-class":"tooltip__content-opacity1"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("vue-load-image",{staticClass:"d-flex"},[t("img",e._g(e._b({attrs:{slot:"image",src:e.thumbnailSmall,width:"32",height:"32",alt:e.current_filename},slot:"image"},"img",n,!1),i)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}],null,!1,4119397588)},[t("span",[t("img",{attrs:{src:e.thumbnailBig,width:"250",alt:e.current_filename}})])])]:e.thumbnailSmall?[t("vue-load-image",[t("img",{attrs:{slot:"image",src:e.thumbnailSmall,width:"32",height:"32",alt:e.current_filename},slot:"image"}),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]:e._e()],2):e._e()],1)],1)],t("resize-observer",{on:{notify:e.handleResize}})],2):e._e()},sH=[];const Hv={};var rH=E(pc,tH,sH,!1,iH,"b8a57886",null,null);function iH(e){for(let s in Hv)this[s]=Hv[s]}const nH=function(){return rH.exports}();var aH=Object.defineProperty,oH=Object.getOwnPropertyDescriptor,$d=(e,s,t,r)=>{for(var i=r>1?void 0:r?oH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&aH(s,t,i),i};let on=class extends M(O){constructor(){super(...arguments),this.mdiLayersPlus=Qh,this.mdiCloseThick=pe,this.type="atLayer",this.layer=0,this.call="PAUSE"}hideDialog(){this.$emit("update:showDialog",!1)}get items(){return[{text:this.$t("Panels.StatusPanel.PauseAtLayer.AtLayer"),value:"atLayer",status:this.existsSetPauseAtLayer},{text:this.$t("Panels.StatusPanel.PauseAtLayer.NextLayer"),value:"nextLayer",status:this.existsSetPauseNextLayer}]}get itemsFiltered(){return this.items.filter(s=>s.status)}get itemsCall(){return[{text:"PAUSE",value:"PAUSE"},{text:"M600",value:"M600"}]}get current_layer(){var s,t,r;return(r=(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.info)==null?void 0:t.current_layer)!=null?r:0}get total_layer(){var s,t,r;return(r=(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.info)==null?void 0:t.total_layer)!=null?r:0}get macros(){var s;return(s=this.$store.getters["printer/getMacros"])!=null?s:[]}get existsSetPauseAtLayer(){return this.macros.findIndex(s=>s.name==="SET_PAUSE_AT_LAYER")!==-1}get existsSetPauseNextLayer(){return this.macros.findIndex(s=>s.name==="SET_PAUSE_NEXT_LAYER")!==-1}get macroSetPrintStatsInfo(){var s;return(s=this.$store.state.printer["gcode_macro SET_PRINT_STATS_INFO"])!=null?s:{}}get macroSettingsPauseAtLayer(){var s;return(s=this.macroSetPrintStatsInfo.pause_at_layer)!=null?s:{}}get macroSettingsPauseAtLayerEnable(){var s;return(s=this.macroSettingsPauseAtLayer.enable)!=null?s:!1}get macroSettingsPauseAtLayerCall(){var s;return(s=this.macroSettingsPauseAtLayer.call)!=null?s:"PAUSE"}get macroSettingsPauseAtLayerLayer(){var s;return(s=this.macroSettingsPauseAtLayer.layer)!=null?s:0}get macroSettingsPauseNextLayer(){var s;return(s=this.macroSetPrintStatsInfo.pause_next_layer)!=null?s:{}}get macroSettingsPauseNextLayerEnable(){var s;return(s=this.macroSettingsPauseNextLayer.enable)!=null?s:!1}get macroSettingsPauseNextLayerCall(){var s;return(s=this.macroSettingsPauseNextLayer.call)!=null?s:"PAUSE"}sendCommand(){if(this.type==="atLayer"){this.doSend("SET_PAUSE_AT_LAYER ENABLE=1 LAYER=".concat(this.layer," MACRO=").concat(this.call)),this.hideDialog();return}this.doSend("SET_PAUSE_NEXT_LAYER ENABLE=1 MACRO=".concat(this.call)),this.hideDialog()}doSend(s){this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})}showDialogChanged(s){s&&(this.layer=this.current_layer+1,this.type="atLayer",this.existsSetPauseAtLayer||(this.type="nextLayer"))}typeChanged(s){s==="atLayer"?this.call=this.macroSettingsPauseAtLayerCall:s==="nextLayer"&&(this.call=this.macroSettingsPauseNextLayerCall)}};$d([x({required:!0})],on.prototype,"showDialog",2);$d([ce("showDialog")],on.prototype,"showDialogChanged",1);$d([ce("type")],on.prototype,"typeChanged",1);on=$d([w({components:{Panel:B,StatusPanelExcludeObjectDialogList:wx,StatusPanelExcludeObjectDialogMap:xx}})],on);var lH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{width:"400",persistent:"",fullscreen:e.isMobile},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Panels.StatusPanel.PauseAtLayer.PauseAtLayer").toString(),icon:e.mdiLayersPlus,"card-class":"pause-at-layer-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.hideDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e.type==="atLayer"&&e.macroSettingsPauseAtLayerEnable?t(C,[t(v,[t(et,{attrs:{text:"",type:"warning",border:"left"}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.PauseAtLayer.DescriptionPauseAtLayerActive",{layer:e.macroSettingsPauseAtLayerLayer,call:e.macroSettingsPauseAtLayerCall}))+" ")])],1)],1):e._e(),e.type==="nextLayer"&&e.macroSettingsPauseNextLayerEnable?t(C,[t(v,[t(et,{attrs:{text:"",type:"warning",border:"left"}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.PauseAtLayer.DescriptionPauseNextLayerActive",{call:e.macroSettingsPauseAtLayerCall}))+" ")])],1)],1):e._e(),t(C,[t(v,[t(we,{attrs:{items:e.itemsFiltered,label:e.$t("Panels.StatusPanel.PauseAtLayer.Type"),outlined:"","hide-details":""},model:{value:e.type,callback:function(r){e.type=r},expression:"type"}})],1),e.type==="atLayer"?t(v,[t(re,{attrs:{label:e.$t("Panels.StatusPanel.PauseAtLayer.Layer"),outlined:"","hide-details":""},model:{value:e.layer,callback:function(r){e.layer=r},expression:"layer"}})],1):e._e()],1),t(C,{staticClass:"mt-0"},[t(v,[t(we,{attrs:{items:e.itemsCall,label:e.$t("Panels.StatusPanel.PauseAtLayer.Call"),outlined:"","hide-details":""},model:{value:e.call,callback:function(r){e.call=r},expression:"call"}})],1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.hideDialog}},[e._v(e._s(e.$t("Panels.StatusPanel.PauseAtLayer.Abort")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.sendCommand}},[e._v(" "+e._s(e.$t("Panels.StatusPanel.PauseAtLayer.Accept"))+" ")])],1)],1)],1)],1)},cH=[];const jv={};var uH=E(on,lH,cH,!1,dH,null,null,null);function dH(e){for(let s in jv)this[s]=jv[s]}const hH=function(){return uH.exports}();var mH=Object.defineProperty,pH=Object.getOwnPropertyDescriptor,Dx=(e,s,t,r)=>{for(var i=r>1?void 0:r?pH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&mH(s,t,i),i};let fc=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiStopCircleOutline=X5}cancelJob(){this.$emit("cancel-job")}closePrompt(){this.$emit("close")}};Dx([x({type:Boolean,default:!1})],fc.prototype,"showDialog",2);fc=Dx([w({components:{Panel:B}})],fc);var fH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:""}},[t(B,{attrs:{title:e.$t("CancelJobDialog.CancelJob"),"toolbar-color":"normal","card-class":"cancel-job-dialog",icon:e.mdiStopCircleOutline,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closePrompt}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e._v(e._s(e.$t("CancelJobDialog.AreYouSure")))]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closePrompt}},[e._v(e._s(e.$t("CancelJobDialog.No")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.cancelJob}},[e._v(e._s(e.$t("CancelJobDialog.Yes")))])],1)],1)],1)},gH=[];const Iv={};var _H=E(fc,fH,gH,!1,vH,null,null,null);function vH(e){for(let s in Iv)this[s]=Iv[s]}const Mx=function(){return _H.exports}();var bH=Object.defineProperty,yH=Object.getOwnPropertyDescriptor,Ex=(e,s,t,r)=>{for(var i=r>1?void 0:r?yH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&bH(s,t,i),i};let gc=class extends M(O){constructor(){super(...arguments),this.mdiAlertOutline=ba,this.mdiCloseCircle=Rl,this.mdiDotsVertical=vo,this.mdiFileDocumentMultipleOutline=Co,this.mdiInformation=It,this.mdiHistory=BC,this.mdiMessageProcessingOutline=T5,this.mdiSpeedometer=Wf,this.mdiTrayFull=m$,this.showCancelJobDialog=!1,this.boolShowObjects=!1,this.boolShowPauseAtLayer=!1,this.activeTab="files",this.lastFilename=""}get jobs(){return this.$store.getters["server/jobQueue/getJobs"]}get jobsCount(){return this.$store.getters["server/jobQueue/getJobsCount"]}get jobQueueBadgeColor(){return this.jobsCount>0?"primary darken-2":"grey darken-2"}get current_filename(){var e,s;return(s=(e=this.$store.state.printer.print_stats)==null?void 0:e.filename)!=null?s:""}get current_file(){var e;return(e=this.$store.state.printer.current_file)!=null?e:{}}get printPercent(){return Math.floor(this.$store.getters["printer/getPrintPercent"]*100)}get printerStateOutput(){var e;if(this.printer_state!==""){const s=(e=this.$store.state.printer.idle_timeout)==null?void 0:e.state;return this.printer_state==="standby"&&s==="Printing"?"Busy":this.printer_state!==""&&["paused","printing"].includes(this.printer_state)?this.printPercent+"% "+this.printer_state.charAt(0).toUpperCase()+this.printer_state.slice(1):this.printer_state.charAt(0).toUpperCase()+this.printer_state.slice(1)}return this.$t("Panels.StatusPanel.Unknown")}get toolbarButtons(){return[{text:this.$t("Panels.StatusPanel.PausePrint"),color:"warning",icon:Bf,loadingName:"statusPrintPause",status:()=>["printing"].includes(this.printer_state),click:this.btnPauseJob},{text:this.$t("Panels.StatusPanel.ResumePrint"),color:"success",icon:Dn,loadingName:"statusPrintResume",status:()=>["paused"].includes(this.printer_state),click:this.btnResumeJob},{text:this.$t("Panels.StatusPanel.CancelPrint"),color:"error",icon:i$,loadingName:"statusPrintCancel",status:()=>this.$store.state.gui.uiSettings.displayCancelPrint?["paused","printing"].includes(this.printer_state):["paused"].includes(this.printer_state),click:this.btnCancelJob},{text:this.$t("Panels.StatusPanel.ExcludeObject.ExcludeObject"),color:"warning",icon:jl,loadingName:"excludeObjectButton",status:()=>this.multiFunctionButton||this.printing_objects.length<2?!1:["paused","printing"].includes(this.printer_state),click:this.btnExcludeObject},{text:this.$t("Panels.StatusPanel.PauseAtLayer.PauseAtLayer"),color:"warning",icon:Qh,loadingName:"pauseAtLayer",status:()=>this.multiFunctionButton||!this.displayPauseAtLayerButton?!1:["paused","printing"].includes(this.printer_state),click:this.btnPauseAtLayer},{text:this.$t("Panels.StatusPanel.ClearPrintStats"),color:"primary",icon:EC,loadingName:"statusPrintClear",status:()=>["error","complete","cancelled"].includes(this.printer_state),click:this.btnClearJob},{text:this.$t("Panels.StatusPanel.ReprintJob"),color:"primary",icon:Gf,loadingName:"statusPrintReprint",status:()=>["error","complete","cancelled"].includes(this.printer_state),click:this.btnReprintJob}]}get filteredToolbarButtons(){return this.toolbarButtons.filter(e=>e.status())}get printing_objects(){var e,s;return(s=(e=this.$store.state.printer.exclude_object)==null?void 0:e.objects)!=null?s:[]}get display_message(){var e,s;return(s=(e=this.$store.state.printer.display_status)==null?void 0:e.message)!=null?s:null}get print_stats_message(){var e,s;return(s=(e=this.$store.state.printer.print_stats)==null?void 0:e.message)!=null?s:null}get layer_count(){var e,s,t;return(t=(s=(e=this.$store.state.printer.print_stats)==null?void 0:e.info)==null?void 0:s.total_layer)!=null?t:null}get multiFunctionMenuButtons(){return[{text:this.$t("Panels.StatusPanel.ExcludeObject.ExcludeObject"),loadingName:"excludeObjectButton",icon:jl,status:()=>this.printing_objects.length>1,disabled:()=>["paused","printing"].includes(this.printer_state),click:this.btnExcludeObject},{text:this.$t("Panels.StatusPanel.PauseAtLayer.PauseAtLayer"),loadingName:"pauseAtLayer",icon:Qh,status:()=>this.displayPauseAtLayerButton,disabled:()=>["paused","printing"].includes(this.printer_state),click:this.btnPauseAtLayer}]}get multiFunctionMenuButtonsFiltered(){return this.multiFunctionMenuButtons.filter(e=>e.status())}get multiFunctionButton(){return["paused","printing"].includes(this.printer_state)?this.multiFunctionMenuButtonsFiltered.length>1:!1}get macros(){var e;return(e=this.$store.getters["printer/getMacros"])!=null?e:[]}get existsSetPauseAtLayer(){return this.macros.findIndex(e=>e.name==="SET_PAUSE_AT_LAYER")!==-1}get existsSetPauseNextLayer(){return this.macros.findIndex(e=>e.name==="SET_PAUSE_NEXT_LAYER")!==-1}get displayPauseAtLayerButton(){return this.layer_count!==null&&(this.existsSetPauseAtLayer||this.existsSetPauseNextLayer)}get displayFilesTab(){var s;return((s=this.$store.state.gui.uiSettings.dashboardFilesLimit)!=null?s:5)>0}get displayHistoryTab(){var s;return((s=this.$store.state.gui.uiSettings.dashboardHistoryLimit)!=null?s:5)>0}mounted(){this.current_filename!==""&&(this.activeTab="status"),this.displayFilesTab||(this.activeTab="history"),this.displayHistoryTab||(this.activeTab="jobqueue")}current_filenameChanged(e){e===""?this.activeTab="files":this.lastFilename!==e&&(this.activeTab="status"),this.lastFilename=e}clearDisplayMessage(){this.$socket.emit("printer.gcode.script",{script:"M117"})}updateShowDialog(e){this.boolShowObjects=e}btnPauseJob(){this.$socket.emit("printer.print.pause",{},{loading:"statusPrintPause"})}btnResumeJob(){this.$socket.emit("printer.print.resume",{},{loading:"statusPrintResume"})}btnExcludeObject(){this.boolShowObjects=!0}btnPauseAtLayer(){this.boolShowPauseAtLayer=!0}btnCancelJob(){if(this.$store.state.gui.uiSettings.confirmOnCancelJob){this.showCancelJobDialog=!0;return}this.cancelJob()}cancelJob(){this.showCancelJobDialog=!1,this.$socket.emit("printer.print.cancel",{},{loading:"statusPrintCancel"})}btnClearJob(){this.$socket.emit("printer.gcode.script",{script:"SDCARD_RESET_FILE"},{loading:"statusPrintClear"})}btnReprintJob(){this.$socket.emit("printer.print.start",{filename:this.current_filename},{loading:"statusPrintReprint"})}};Ex([ce("current_filename")],gc.prototype,"current_filenameChanged",1);gc=Ex([w({components:{CancelJobDialog:Mx,KlippyStatePanel:wo,MinSettingsPanel:rg,Panel:B,StatusPanelExcludeObject:KR,StatusPanelGcodefiles:yx,StatusPanelHistory:PR,StatusPanelJobqueue:_x,StatusPanelPrintstatus:dR,StatusPanelPrintstatusThumbnail:nH,StatusPanelPauseAtLayerDialog:hH}})],gc);var CH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(rg),t(wo),e.klipperReadyForGui?t(B,{attrs:{icon:e.mdiInformation,title:e.printerStateOutput,collapsible:!0,"card-class":"status-panel"},scopedSlots:e._u([{key:"icon",fn:function(){return[["paused","printing"].includes(e.printer_state)?t(dt,{staticClass:"mr-3",attrs:{rotate:-90,size:30,width:5,value:e.printPercent,color:"primary"}}):e._e()]},proxy:!0},{key:"buttons",fn:function(){return[e._l(e.filteredToolbarButtons,function(r){return t(g,{key:r.loadingName,attrs:{color:r.color,loading:e.loadings.includes(r.loadingName),icon:"",tile:""},on:{click:r.click}},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[t(_,e._g(e._b({},"v-icon",a,!1),n),[e._v(e._s(r.icon))])]}}],null,!0)},[t("span",[e._v(e._s(r.text))])])],1)}),e.multiFunctionButton?t(ye,{staticClass:"pa-0",attrs:{left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDotsVertical))])],1)]}}],null,!1,2883138713)},[t(Ee,{attrs:{dense:""}},e._l(e.multiFunctionMenuButtonsFiltered,function(r,i){return t(Y,{key:"multiFunction_"+i},[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(n){return r.click()}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(r.icon))]),e._v(" "+e._s(r.text)+" ")],1)],1)}),1)],1):e._e()]},proxy:!0}],null,!1,3390704979)},[t("status-panel-printstatus-thumbnail"),t("status-panel-exclude-object",{attrs:{"show-dialog":e.boolShowObjects},on:{"update:showDialog":[function(r){e.boolShowObjects=r},e.updateShowDialog],"update:show-dialog":function(r){e.boolShowObjects=r}}}),t("status-panel-pause-at-layer-dialog",{attrs:{"show-dialog":e.boolShowPauseAtLayer},on:{"update:showDialog":function(r){e.boolShowPauseAtLayer=r},"update:show-dialog":function(r){e.boolShowPauseAtLayer=r}}}),e.print_stats_message?[t(Pe,[t(C,[t(v,{staticClass:"py-2"},[t("span",{staticClass:"subtitle-2 px-0 text--disabled"},[t(_,{staticClass:"mr-2 mt-1 float-left",attrs:{color:"warning",small:""}},[e._v(" "+e._s(e.mdiAlertOutline)+" ")]),e._v(" "+e._s(e.print_stats_message)+" ")],1)])],1)],1),t(H,{staticClass:"mt-0 mb-0"})]:e._e(),e.display_message?[t(Pe,[t(C,{staticClass:"flex-nowrap"},[t(v,{staticClass:"py-2",staticStyle:{"min-width":"0"}},[t("span",{staticClass:"subtitle-2 px-0 text--disabled"},[t(_,{staticClass:"mr-2 mt-1 float-left",attrs:{small:""}},[e._v(e._s(e.mdiMessageProcessingOutline))]),e._v(" "+e._s(e.display_message)+" ")],1)]),t(v,{staticClass:"col-auto py-2"},[t(_,{staticClass:"text--disabled cursor-pointer",attrs:{small:""},on:{click:e.clearDisplayMessage}},[e._v(" "+e._s(e.mdiCloseCircle)+" ")])],1)],1)],1),t(H,{staticClass:"mt-0 mb-0"})]:e._e(),t(Ll,{attrs:{"fixed-tabs":""},model:{value:e.activeTab,callback:function(r){e.activeTab=r},expression:"activeTab"}},[e.current_filename?t(Gr,{attrs:{href:"#status"}},[t(_,[e._v(e._s(e.mdiSpeedometer))])],1):e._e(),e.displayFilesTab?t(Gr,{attrs:{href:"#files"}},[t(_,[e._v(e._s(e.mdiFileDocumentMultipleOutline))])],1):e._e(),e.displayHistoryTab?t(Gr,{attrs:{href:"#history"}},[t(_,[e._v(e._s(e.mdiHistory))])],1):e._e(),t(Gr,{attrs:{href:"#jobqueue"}},[t(hC,{attrs:{color:e.jobQueueBadgeColor,content:e.jobsCount.toString(),inline:!0}},[t(_,{attrs:{color:"disabled"}},[e._v(e._s(e.mdiTrayFull))])],1)],1)],1),t(H,{staticClass:"my-0"}),t(mC,{staticClass:"_border-radius",model:{value:e.activeTab,callback:function(r){e.activeTab=r},expression:"activeTab"}},[e.current_filename?t(lr,{attrs:{value:"status"}},[t("status-panel-printstatus")],1):e._e(),e.displayFilesTab?t(lr,{attrs:{value:"files"}},[t("status-panel-gcodefiles")],1):e._e(),e.displayHistoryTab?t(lr,{attrs:{value:"history"}},[t("status-panel-history")],1):e._e(),t(lr,{attrs:{value:"jobqueue"}},[t("status-panel-jobqueue")],1)],1)],2):e._e(),t(Mx,{attrs:{"show-dialog":e.showCancelJobDialog},on:{"cancel-job":e.cancelJob,close:function(r){e.showCancelJobDialog=!1}}})],1)},$H=[];const Nv={};var xH=E(gc,CH,$H,!1,SH,"0aeeb1e2",null,null);function SH(e){for(let s in Nv)this[s]=Nv[s]}const sa=function(){return xH.exports}();var wH=Object.defineProperty,PH=Object.getOwnPropertyDescriptor,TH=(e,s,t,r)=>{for(var i=r>1?void 0:r?PH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&wH(s,t,i),i};let Mm=class extends M(O,Xe){constructor(){super(...arguments),this.mdiEngineOff=Lf,this.mdiHome=GC}get enableXYHoming(){return this.$store.state.gui.control.enableXYHoming}get stepsXYsorted(){return[...this.$store.state.gui.control.stepsXY].sort(function(s,t){return t-s})}get stepsXYsortedReverse(){return[...this.$store.state.gui.control.stepsXY].sort(function(s,t){return s-t})}get stepsZsorted(){return[...this.$store.state.gui.control.stepsZ].sort(function(s,t){return t-s})}get stepsZsortedReverse(){return[...this.$store.state.gui.control.stepsZ].sort(function(s,t){return s-t})}};Mm=TH([w],Mm);var DH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{attrs:{"no-gutters":""}},[t(v,{staticClass:"col-12 pb-0 text-center"},[t(g,{attrs:{small:"",disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeAll"),color:e.homedAxes.includes("xyz")?"primary":"warning"},on:{click:e.doHome}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiHome))]),e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.ALL"))+" ")],1),e.enableXYHoming?t(g,{staticClass:"ml-2",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeAll"),color:e.homedAxes.includes("xy")?"primary":"warning",small:""},on:{click:e.doHomeXY}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiHome))]),e._v(" XY ")],1):e._e(),e.existsQGL?t(g,{staticClass:"ml-2",attrs:{disabled:["printing"].includes(e.printer_state),small:"",loading:e.loadings.includes("qgl"),color:e.colorQuadGantryLevel},on:{click:e.doQGL}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.QGL"))+" ")]):e._e(),e.existsZtilt?t(g,{staticClass:"ml-2",attrs:{disabled:["printing"].includes(e.printer_state),small:"",loading:e.loadings.includes("zTilt"),color:e.colorZTilt},on:{click:e.doZtilt}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.ZTilt"))+" ")]):e._e(),t(g,{staticClass:"ml-2",attrs:{small:"",disabled:["printing"].includes(e.printer_state),color:e.homedAxes!==""?"primary":"warning"},on:{click:function(r){return e.doSend("M84")}}},[t(_,[e._v(e._s(e.mdiEngineOff))])],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"text-center"},[t(qt,{staticClass:"_btn-group row no-gutters"},[e._l(e.stepsXYsorted,function(r){return t(g,{key:"x-"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("X-"+r,e.feedrateXY)}}},[t("span",{staticClass:"body-2"},[e._v("–"+e._s(r))])])}),t(g,{staticClass:"font-weight-bold btnHomeAxis btnGroup",attrs:{disabled:["printing"].includes(e.printer_state),color:e.homedAxes.includes("x")?"primary":"warning",loading:e.loadings.includes("homeX")},on:{click:e.doHomeX}},[e._v(" X ")]),e._l(e.stepsXYsortedReverse,function(r){return t(g,{key:"x+"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("X+"+r,e.feedrateXY)}}},[t("span",{staticClass:"body-2"},[e._v("+"+e._s(r))])])})],2)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"text-center"},[t(qt,{staticClass:"_btn-group row no-gutters"},[e._l(e.stepsXYsorted,function(r){return t(g,{key:"y-"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("Y-"+r,e.feedrateXY)}}},[t("span",{staticClass:"body-2"},[e._v("–"+e._s(r))])])}),t(g,{staticClass:"font-weight-bold btnHomeAxis btnGroup",attrs:{disabled:["printing"].includes(e.printer_state),color:e.homedAxes.includes("y")?"primary":"warning",loading:e.loadings.includes("homeY")},on:{click:e.doHomeY}},[e._v(" Y ")]),e._l(e.stepsXYsortedReverse,function(r){return t(g,{key:"y+"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("Y+"+r,e.feedrateXY)}}},[t("span",{staticClass:"body-2"},[e._v("+"+e._s(r))])])})],2)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"text-center"},[t(qt,{staticClass:"_btn-group row no-gutters"},[e._l(e.stepsZsorted,function(r){return t(g,{key:"z-"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("Z-"+r,e.feedrateZ)}}},[t("span",{staticClass:"body-2"},[e._v("–"+e._s(r))])])}),t(g,{staticClass:"font-weight-bold btnHomeAxis btnGroup",attrs:{disabled:["printing"].includes(e.printer_state),color:e.homedAxes.includes("z")?"primary":"warning",loading:e.loadings.includes("homeZ")},on:{click:e.doHomeZ}},[e._v(" Z ")]),e._l(e.stepsZsortedReverse,function(r){return t(g,{key:"z+"+r,staticClass:"btnMinWidthAuto col btnGroup",attrs:{disabled:["printing"].includes(e.printer_state)},on:{click:function(i){return e.doSendMove("Z+"+r,e.feedrateZ)}}},[t("span",{staticClass:"body-2"},[e._v("+"+e._s(r))])])})],2)],1)],1)],1)},MH=[];const Vv={};var EH=E(Mm,DH,MH,!1,OH,"23a679bf",null,null);function OH(e){for(let s in Vv)this[s]=Vv[s]}const LH=function(){return EH.exports}();var FH=Object.defineProperty,AH=Object.getOwnPropertyDescriptor,kH=(e,s,t,r)=>{for(var i=r>1?void 0:r?AH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&FH(s,t,i),i};let Em=class extends M(O,Xe){constructor(){super(...arguments),this.homeIcon="M10,20L10,14L14,14L14,20L19,20L19,12L22,12L12,3L2,12L5,12L5,20L10,20Z",this.pathHomeButtonTop="M9.188,-0C9.634,0.001 10.028,0.291 10.162,0.717C10.295,1.142 10.136,1.605 9.77,1.86C6.722,4.035 4.05,6.701 1.869,9.743C1.614,10.11 1.151,10.269 0.724,10.135C0.298,10.002 0.008,9.607 0.008,9.16C0,6.418 0,2.781 0,1.029C-0,0.756 0.108,0.495 0.302,0.302C0.495,0.108 0.756,-0 1.029,0L9.188,-0Z",this.pathHomeButtonBottom="M9.188,0C9.634,0.001 10.028,0.291 10.162,0.717C10.295,1.142 10.136,1.605 9.77,1.86C6.722,4.035 4.05,6.701 1.869,9.743C1.614,10.11 1.151,10.269 0.724,10.135C0.298,10.002 0.008,9.607 0.008,9.16C0,6.418 0,2.781 0,1.029C-0,0.756 0.108,0.495 0.302,0.302C0.495,0.108 0.756,-0 1.029,0L9.188,0Z",this.xyStepOuter="M43.181,8.535C43.262,8.453 43.373,8.409 43.488,8.412C43.602,8.415 43.711,8.466 43.787,8.551C47.661,12.933 50,18.695 50,25C50,31.291 47.672,37.042 43.811,41.42C43.735,41.505 43.627,41.556 43.512,41.559C43.398,41.562 43.287,41.518 43.206,41.437C42.343,40.575 39.981,38.213 39.981,38.213C43.11,34.7 45,30.069 45,25C45,19.918 43.1,15.276 39.956,11.759C39.956,11.759 42.319,9.397 43.181,8.535Z",this.xyStepOuterMid="M47.418,4.777C57.663,18.688 57.829,31.029 47.304,45.072L39.308,37.098C42.081,33.838 43.75,29.612 43.75,25C43.75,20.371 42.069,16.132 39.277,12.868L47.418,4.777Z",this.xyStepInnerMid="M54.897,-1.964C68.991,16.277 68.542,32.764 54.738,51.763L44.077,41.131L38.115,35.169C40.361,32.389 41.667,28.846 41.667,25C41.667,21.132 40.346,17.57 38.076,14.784L54.897,-1.964Z",this.xyStepInner="M36.096,19.243C35.88,18.839 35.954,18.342 36.278,18.019C40.686,13.619 69.84,-15.445 69.84,-15.445C90.891,13.786 89.845,38.467 69.564,65.144C69.564,65.144 40.684,36.265 36.318,31.899C35.996,31.576 35.922,31.081 36.134,30.678C37.008,28.975 37.5,27.044 37.5,25C37.5,22.925 36.993,20.967 36.096,19.243Z",this.zStepOuter="M66.037,2.5C66.037,1.672 66.709,1 67.537,1L74.537,1C75.365,1 76.037,1.672 76.037,2.5L76.037,7.521C74.428,7.179 72.759,7 71.048,7C69.33,7 67.654,7.181 66.037,7.525L66.037,2.5Z",this.zStepOuterMid="M66.037,7.221C69.367,6.597 72.7,6.583 76.037,7.192L76.037,13.702C74.453,13.245 72.778,13 71.048,13C69.309,13 67.627,13.247 66.037,13.708L66.037,7.221Z",this.zStepInnerMid="M66.037,13.244C69.353,12.66 72.687,12.7 76.037,13.355L76.037,20.099C74.523,19.39 72.831,19 71.048,19C69.256,19 67.556,19.393 66.037,20.109L66.037,13.244Z",this.zStepInner="M66.037,19.186C69.409,18.542 72.742,18.52 76.037,19.102L76.037,23.682C76.037,23.815 75.984,23.942 75.891,24.036C75.564,24.362 74.774,25.153 74.359,25.567C74.204,25.722 73.967,25.757 73.773,25.656C72.955,25.236 72.029,25 71.048,25C70.051,25 69.112,25.243 68.284,25.674C68.09,25.777 67.852,25.742 67.697,25.586C67.283,25.175 66.506,24.395 66.183,24.071C66.09,23.977 66.037,23.85 66.037,23.718C66.037,22.806 66.037,19.186 66.037,19.186Z",this.zTiltIcon1="M74.189,31.503L67.751,30.009L67.638,30.496L74.076,31.99L74.189,31.503Z",this.zTiltIcon2="M74.361,32.85L74.034,32.676L74.939,32.188L75.039,33.211L74.745,33.055C74.386,33.724 73.858,34.288 73.213,34.69L72.983,34.321C73.563,33.959 74.038,33.452 74.361,32.85ZM67.193,28.75C67.586,28.1 68.142,27.564 68.807,27.196L69.018,27.576C68.42,27.907 67.919,28.389 67.565,28.974L67.883,29.165L66.954,29.605L66.907,28.578L67.193,28.75Z",this.engineOffIcon="M3.78 2.5L21.5 20.22l-1.27 1.28L18 19.27V20h-8l-2-2H5v-3H3v3H1v-8h2v3h2v-3l1.87-1.86L2.5 3.77L3.78 2.5M20 9v3h-2V8h-6V6h3V4H7.82l15 15H23V9h-3Z"}get enableXYHoming(){return this.$store.state.gui.control.enableXYHoming}get reverseX(){return this.$store.state.gui.control.reverseX}get reverseY(){return this.$store.state.gui.control.reverseY}get reverseZ(){return this.$store.state.gui.control.reverseZ}get stepsXY(){var t,r;const s=(r=(t=this.$store.state.gui.control)==null?void 0:t.stepsCircleXY)!=null?r:[];return Array.from(new Set([...s!=null?s:[]])).sort((i,n)=>i-n)}get stepsZ(){var t,r;const s=(r=(t=this.$store.state.gui.control)==null?void 0:t.stepsCircleZ)!=null?r:[];return Array.from(new Set([...s!=null?s:[]])).sort((i,n)=>i-n)}get isPrinting(){return["printing"].includes(this.printer_state)}get stepTextClass(){return!this.homedAxes.includes("xy")||this.isPrinting?["disabled"]:[]}get xStepClass(){return!this.homedAxes.includes("x")||this.isPrinting?["disabled"]:[]}get yStepClass(){return!this.homedAxes.includes("y")||this.isPrinting?["disabled"]:[]}get zStepClass(){return!this.homedAxes.includes("z")||this.isPrinting?["disabled"]:[]}get xHomeClass(){let s=[];return this.homedAxes.includes("x")&&s.push("homed"),this.isPrinting&&s.push("disabled"),s}get yHomeClass(){let s=[];return this.homedAxes.includes("y")&&s.push("homed"),this.isPrinting&&s.push("disabled"),s}get xyHomeClass(){let s=[];return this.homedAxes.includes("xy")&&s.push("homed"),this.isPrinting&&s.push("disabled"),s}get xyzHomeClass(){let s=[];return this.homedAxes.includes("xyz")&&s.push("homed"),this.isPrinting&&s.push("disabled"),s}get zHomeClass(){let s=[];return this.homedAxes.includes("z")&&s.push("homed"),this.isPrinting&&s.push("disabled"),s}get colorSpecialButton(){let s=[];return this.isPrinting&&s.push("disabled"),this.existsQGL?s.push(this.colorQuadGantryLevel):this.existsZtilt&&s.push(this.colorZTilt),s}get motorsOffClass(){let s=[];return s.push(this.homedAxes!==""?"primary":"warning"),this.isPrinting&&s.push("disabled"),s}clickSpecialButton(){if(this.existsQGL)this.doQGL();else if(this.existsZtilt)return this.doZtilt()}};Em=kH([w],Em);var RH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,[t(v,{staticClass:"pa-0 mt-1"},[t("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{width:"100%",height:"100%",viewBox:"0 0 78 62",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve"}},[t("g",{attrs:{id:"ArtBoard1",transform:"matrix(1.24239,0,0,1,0,0)"}},[t("rect",{staticStyle:{fill:"none"},attrs:{x:"0",y:"0",width:"62",height:"62"}}),t("g",{attrs:{id:"home_buttons",transform:"matrix(0.804902,0,0,1,0.0430241,0)"}},[t("a",{class:e.xHomeClass,on:{click:e.doHomeX}},[t("g",{attrs:{id:"home_x",transform:"matrix(0.707107,-0.707107,0.707107,0.707107,-1.41799,4.05689)"}},[t("g",{staticClass:"home_button",attrs:{id:"home_button_x",transform:"matrix(0.68689,0.68689,-0.68689,0.68689,3.87132,0.962447)"}},[t("path",{attrs:{d:e.pathHomeButtonTop}})]),t("g",{attrs:{transform:"matrix(0.654426,0,0,0.654426,0.298666,4.01315)"}},[t("text",{attrs:{x:"3.789px",y:"6.089px"}},[e._v("X")])]),t("g",{staticClass:"home_icon",attrs:{id:"Icon",transform:"matrix(0.147059,0,0,0.147059,2.10662,2.08254)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])])]),t("a",{class:e.yHomeClass,on:{click:e.doHomeY}},[t("g",{attrs:{id:"home_y",transform:"matrix(0.707107,0.707107,-0.707107,0.707107,57.8807,-1.41799)"}},[t("g",{staticClass:"home_button",attrs:{id:"home_button_y",transform:"matrix(0.68689,0.68689,-0.68689,0.68689,3.87132,0.962447)"}},[t("path",{attrs:{d:e.pathHomeButtonTop}})]),t("g",{attrs:{transform:"matrix(0.654426,0,0,0.654426,0.298666,4.01315)"}},[t("text",{attrs:{x:"3.789px",y:"6.089px"}},[e._v("Y")])]),t("g",{staticClass:"home_icon",attrs:{id:"icon",transform:"matrix(0.147059,0,0,0.147059,2.10662,2.08254)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])])]),t("a",{class:e.zHomeClass,on:{click:e.doHomeZ}},[t("g",{attrs:{id:"home_z",transform:"matrix(-0.707107,0.707107,-0.707107,-0.707107,63.3555,57.8807)"}},[t("g",{staticClass:"home_button",attrs:{id:"home_button_z",transform:"matrix(0.68689,0.68689,-0.68689,0.68689,3.87132,0.962447)"}},[t("path",{attrs:{d:e.pathHomeButtonBottom}})]),t("g",{attrs:{transform:"matrix(0.654426,0,0,0.654426,0.298666,4.01315)"}},[t("text",{attrs:{x:"3.93px",y:"6.089px"}},[e._v("Z")])]),t("g",{staticClass:"home_icon",attrs:{id:"icon1",transform:"matrix(0.147059,0,0,0.147059,2.10662,2.08254)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])])]),e.enableXYHoming?t("a",{class:e.xyHomeClass,on:{click:e.doHomeXY}},[t("g",{attrs:{id:"home_xy",transform:"matrix(-0.707107,-0.707107,0.707107,-0.707107,4.05689,63.3555)"}},[t("g",{staticClass:"home_button",attrs:{id:"home_button_xy",transform:"matrix(0.68689,0.68689,-0.68689,0.68689,3.87132,0.962447)"}},[t("path",{attrs:{d:e.pathHomeButtonBottom}})]),t("g",{attrs:{transform:"matrix(0.654426,0,0,0.654426,0.298666,4.01315)"}},[t("text",{attrs:{x:"2.3px",y:"6.089px"}},[e._v("XY")])]),t("g",{staticClass:"home_icon",attrs:{id:"icon2",transform:"matrix(0.147059,0,0,0.147059,2.10662,2.08254)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])])]):t("a",{class:e.xyzHomeClass,on:{click:e.doHome}},[t("g",{attrs:{id:"home_all",transform:"matrix(-0.707107,-0.707107,0.707107,-0.707107,4.05689,63.3555)"}},[t("g",{staticClass:"home_button",attrs:{id:"home_button_all",transform:"matrix(0.68689,0.68689,-0.68689,0.68689,3.87132,0.962447)"}},[t("path",{attrs:{d:e.pathHomeButtonBottom}})]),t("g",{staticClass:"home_icon",attrs:{id:"icon3",transform:"matrix(0.29377,0,0,0.29377,0.346087,1.64241)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])])]),e.enableXYHoming?t("a",{class:e.xyzHomeClass,on:{click:e.doHome}},[t("g",{staticClass:"home_button",attrs:{id:"home_all_center"}},[t("circle",{attrs:{id:"home_button_all_center",cx:"31",cy:"31",r:"5"}})]),t("g",{staticClass:"home-icon",attrs:{id:"icon4",transform:"scale(0.3) translate(91.25,91.25)"}},[t("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:e.homeIcon}})])]):e._e()]),t("g",{attrs:{id:"step_buttons",transform:"matrix(0.804902,0,0,1,0.0430241,0)"}},[t("g",{attrs:{id:"Z",transform:"matrix(1.24239,0,0,1,-0.0534526,0)"}},[t("g",{class:e.zStepClass,attrs:{id:"Bottom",transform:"matrix(-1,-1.52149e-16,9.85721e-17,-1,114.34,62)"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"+":"-").concat(e.stepsZ.length>=0?e.stepsZ[0]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"+":"-").concat(e.stepsZ.length>=1?e.stepsZ[1]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,1.2326e-32,-9.92118e-33,1,-5.71917e-15,-7.10543e-15)"}},[t("path",{attrs:{d:e.zStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"+":"-").concat(e.stepsZ.length>=2?e.stepsZ[2]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"+":"-").concat(e.stepsZ.length>=3?e.stepsZ[3]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepOuter}})])])]),t("g",{class:e.zStepClass,attrs:{id:"Top"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"-":"+").concat(e.stepsZ.length>=0?e.stepsZ[0]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"-":"+").concat(e.stepsZ.length>=1?e.stepsZ[1]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,1.2326e-32,-9.92118e-33,1,-5.71917e-15,-7.10543e-15)"}},[t("path",{attrs:{d:e.zStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"-":"+").concat(e.stepsZ.length>=2?e.stepsZ[2]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("Z".concat(e.reverseZ?"-":"+").concat(e.stepsZ.length>=3?e.stepsZ[3]:0),e.feedrateZ)}}},[t("g",{attrs:{transform:"matrix(0.804902,0,0,1,0,0)"}},[t("path",{attrs:{d:e.zStepOuter}})])])])]),t("g",{class:e.zStepClass,attrs:{id:"stepsZ",transform:"matrix(1,0,0,1,40,0)"}},[t("g",{attrs:{transform:"matrix(1,0,0,1,0.483899,4.07983)"}},[t("text",{attrs:{x:"30.7px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsZ.length>=0?e.stepsZ[0]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-1.95729)"}},[t("text",{attrs:{x:"30.7px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsZ.length>=1?e.stepsZ[1]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-7.99441)"}},[t("text",{attrs:{x:"30.7px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsZ.length>=2?e.stepsZ[2]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-14.0315)"}},[t("text",{attrs:{x:"30.7px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsZ.length>=3?e.stepsZ[3]:"--")+" ")])])]),t("g",{attrs:{id:"XY"}},[t("g",{class:e.xStepClass,attrs:{id:"Right"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"-":"+").concat(e.stepsXY.length>=0?e.stepsXY[0]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.48,0,0,0.48,19,19)"}},[t("path",{attrs:{d:e.xyStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"-":"+").concat(e.stepsXY.length>=1?e.stepsXY[1]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.72,0,0,0.72,13,13)"}},[t("path",{attrs:{d:e.xyStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"-":"+").concat(e.stepsXY.length>=2?e.stepsXY[2]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.96,0,0,0.96,7,7)"}},[t("path",{attrs:{d:e.xyStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"-":"+").concat(e.stepsXY.length>=3?e.stepsXY[3]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(1.2,0,0,1.2,1,1)"}},[t("path",{attrs:{d:e.xyStepOuter}})])])]),t("g",{class:e.xStepClass,attrs:{id:"Left",transform:"matrix(-1,-1.22465e-16,1.22465e-16,-1,61.9767,61.9767)"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"+":"-").concat(e.stepsXY.length>=0?e.stepsXY[0]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.48,0,0,0.48,19,19)"}},[t("path",{attrs:{d:e.xyStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"+":"-").concat(e.stepsXY.length>=1?e.stepsXY[1]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.72,0,0,0.72,13,13)"}},[t("path",{attrs:{d:e.xyStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"+":"-").concat(e.stepsXY.length>=2?e.stepsXY[2]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.96,0,0,0.96,7,7)"}},[t("path",{attrs:{d:e.xyStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("X".concat(e.reverseX?"+":"-").concat(e.stepsXY.length>=3?e.stepsXY[3]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(1.2,0,0,1.2,1,1)"}},[t("path",{attrs:{d:e.xyStepOuter}})])])]),t("g",{class:e.yStepClass,attrs:{id:"Bottom1",transform:"matrix(6.12323e-17,1,-1,6.12323e-17,61.9767,-1.77705e-14)"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"+":"-").concat(e.stepsXY.length>=0?e.stepsXY[0]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.48,0,0,0.48,19,19)"}},[t("path",{attrs:{d:e.xyStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"+":"-").concat(e.stepsXY.length>=1?e.stepsXY[1]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.72,0,0,0.72,13,13)"}},[t("path",{attrs:{d:e.xyStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"+":"-").concat(e.stepsXY.length>=2?e.stepsXY[2]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.96,0,0,0.96,7,7)"}},[t("path",{attrs:{d:e.xyStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"+":"-").concat(e.stepsXY.length>=3?e.stepsXY[3]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(1.2,0,0,1.2,1,1)"}},[t("path",{attrs:{d:e.xyStepOuter}})])])]),t("g",{class:e.yStepClass,attrs:{id:"Top1",transform:"matrix(6.12323e-17,-1,1,6.12323e-17,7.10543e-15,61.9767)"}},[t("a",{staticClass:"step inner",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"-":"+").concat(e.stepsXY.length>=0?e.stepsXY[0]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.48,0,0,0.48,19,19)"}},[t("path",{attrs:{d:e.xyStepInner}})])]),t("a",{staticClass:"step inner-mid",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"-":"+").concat(e.stepsXY.length>=1?e.stepsXY[1]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.72,0,0,0.72,13,13)"}},[t("path",{attrs:{d:e.xyStepInnerMid}})])]),t("a",{staticClass:"step outer-mid",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"-":"+").concat(e.stepsXY.length>=2?e.stepsXY[2]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(0.96,0,0,0.96,7,7)"}},[t("path",{attrs:{d:e.xyStepOuterMid}})])]),t("a",{staticClass:"step outer",on:{click:function(r){return e.doSendMove("Y".concat(e.reverseY?"-":"+").concat(e.stepsXY.length>=3?e.stepsXY[3]:0),e.feedrateXY)}}},[t("g",{attrs:{transform:"matrix(1.2,0,0,1.2,1,1)"}},[t("path",{attrs:{d:e.xyStepOuter}})])])])]),t("g",{class:e.stepTextClass,attrs:{id:"stepsXY"}},[t("g",{attrs:{transform:"matrix(1,0,0,1,0.483899,4.07983)"}},[t("text",{attrs:{x:"30.5px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsXY.length>=0?e.stepsXY[0]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-1.95729)"}},[t("text",{attrs:{x:"30.5px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsXY.length>=1?e.stepsXY[1]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-7.99441)"}},[t("text",{attrs:{x:"30.5px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsXY.length>=2?e.stepsXY[2]:"--")+" ")])]),t("g",{attrs:{transform:"matrix(1,0,0,1,0.220227,-14.0315)"}},[t("text",{attrs:{x:"30.5px",y:"19.056px","text-anchor":"middle"}},[e._v(" "+e._s(e.stepsXY.length>=3?e.stepsXY[3]:"--")+" ")])])])])]),e.existsQGL&&e.actionButton==="qgl"?t("a",{class:e.colorSpecialButton,attrs:{id:"tilt_adjust"},on:{click:e.clickSpecialButton}},[t("circle",{attrs:{id:"qgl_button",cx:"70.92",cy:"31",r:"5"}}),t("text",{attrs:{x:"66.776px",y:"32.066px"}},[e._v("QGL")]),t("g",{attrs:{id:"tilt_icon"}},[t("path",{attrs:{d:e.zTiltIcon1}}),t("path",{attrs:{d:e.zTiltIcon2}})])]):e.existsZtilt&&e.actionButton==="ztilt"?t("a",{class:e.colorSpecialButton,attrs:{id:"tilt_adjust"},on:{click:e.clickSpecialButton}},[t("circle",{attrs:{id:"tilt_button",cx:"70.92",cy:"31",r:"5"}}),t("text",{attrs:{x:"66.776px",y:"32.066px"}},[e._v("Z-TILT")]),t("g",{attrs:{id:"tilt_icon"}},[t("path",{attrs:{d:e.zTiltIcon1}}),t("path",{attrs:{d:e.zTiltIcon2}})])]):t("a",{class:e.motorsOffClass,attrs:{id:"stepper_off"},on:{click:function(r){return e.doSend("M84")}}},[t("circle",{attrs:{id:"stepper_off_button",cx:"70.92",cy:"31",r:"5"}}),t("g",{attrs:{id:"stepper_off_icon",transform:"scale(0.3) translate(224,91)"}},[t("path",{attrs:{d:e.engineOffIcon}})])])])])],1)],1)},HH=[];const Uv={};var jH=E(Em,RH,HH,!1,IH,"9859f966",null,null);function IH(e){for(let s in Uv)this[s]=Uv[s]}const NH=function(){return jH.exports}();var VH=Object.defineProperty,UH=Object.getOwnPropertyDescriptor,BH=(e,s,t,r)=>{for(var i=r>1?void 0:r?UH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VH(s,t,i),i};let Om=class extends M(O,Xe){constructor(){super(...arguments),this.mdiChevronUp=Uu,this.mdiChevronLeft=BM,this.mdiChevronRight=GM,this.mdiChevronDown=Or,this.mdiEngineOff=Lf,this.mdiHome=GC}get selectedCrossStep(){return this.$store.state.gui.control.selectedCrossStep}set selectedCrossStep(s){this.$store.dispatch("gui/saveSetting",{name:"control.selectedCrossStep",value:s})}get stepSize(){return this.stepsReversed[this.selectedCrossStep]}get reverseX(){return this.$store.state.gui.control.reverseX}get reverseY(){return this.$store.state.gui.control.reverseY}get reverseZ(){return this.$store.state.gui.control.reverseZ}get stepsAll(){var s,t;return(t=(s=this.$store.state.gui.control)==null?void 0:s.stepsAll)!=null?t:[]}get stepsReversed(){var s;return Array.from(new Set([...(s=this.stepsAll)!=null?s:[]])).sort((t,r)=>t-r)}};Om=BH([w({components:{Responsive:st}})],Om);var GH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(st,{attrs:{breakpoints:{small:function(r){return r.width<=300}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t("div",[t(C,[t(v,[t(C,{staticClass:"mb-1",attrs:{dense:""}},[t(v,{attrs:{cols:"3"}}),t(v,{attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width",attrs:{disabled:!e.yAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("Y".concat(e.reverseY?"-":"+").concat(e.stepSize),e.feedrateXY)}}},[t(_,[e._v(e._s(e.mdiChevronUp))])],1)],1),t(v,{attrs:{cols:"3"}}),t(v,{attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width",attrs:{disabled:!e.zAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("Z".concat(e.reverseZ?"-":"+").concat(e.stepSize),e.feedrateZ)}}},[t(_,[e._v(e._s(e.mdiChevronUp))])],1)],1)],1),t(C,{attrs:{dense:""}},[t(v,{staticClass:"position-relative",attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width position-absolute",staticStyle:{top:"-50%",width:"calc(100% - 8px)"},attrs:{disabled:!e.xAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("X".concat(e.reverseX?"+":"-").concat(e.stepSize),e.feedrateXY)}}},[t(_,[e._v(e._s(e.mdiChevronLeft))])],1)],1),t(v,{attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width",attrs:{disabled:!e.yAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("Y".concat(e.reverseY?"+":"-").concat(e.stepSize),e.feedrateXY)}}},[t(_,[e._v(e._s(e.mdiChevronDown))])],1)],1),t(v,{staticClass:"position-relative",attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width position-absolute",staticStyle:{top:"-50%",width:"calc(100% - 8px)"},attrs:{disabled:!e.xAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("X".concat(e.reverseX?"-":"+").concat(e.stepSize),e.feedrateXY)}}},[t(_,[e._v(e._s(e.mdiChevronRight))])],1)],1),t(v,{attrs:{cols:"3"}},[t(g,{staticClass:"btnMinWidthAuto fill-width",attrs:{disabled:!e.zAxisHomed||e.selectedCrossStep===null||e.selectedCrossStep===void 0||["printing"].includes(e.printer_state)},on:{click:function(n){return e.doSendMove("Z".concat(e.reverseZ?"+":"-").concat(e.stepSize),e.feedrateZ)}}},[t(_,[e._v(e._s(e.mdiChevronDown))])],1)],1)],1)],1),i.is.small?e._e():t(v,{staticClass:"d-flex align-center"},[t("div",{staticClass:"flex-grow-1",staticStyle:{"border-radius":"4px",overflow:"hidden"}},[t(C,{staticStyle:{"margin-bottom":"-2px !important"},attrs:{dense:""}},[t(v,{attrs:{cols:"6"}},[t(g,{staticClass:"w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeAll"),color:e.homedAxes.includes("xyz")?"primary":"warning",height:"30",tile:""},on:{click:e.doHome}},[t("div",{staticClass:"d-flex align-center"},[t(_,[e._v(e._s(e.mdiHome))]),t("span",[e._v(e._s(e.$t("Panels.ToolheadControlPanel.ALL")))])],1)])],1),t(v,{staticClass:"d-flex",attrs:{cols:"6"}},[e.actionButton==="qgl"?t(g,{staticClass:"btnMinWidthAuto flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("qgl"),color:e.colorQuadGantryLevel,height:"30",dense:"",tile:""},on:{click:e.doQGL}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.QGL"))+" ")]):e.actionButton==="ztilt"?t(g,{staticClass:"btnMinWidthAuto flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("zTilt"),color:e.colorZTilt,height:"30",dense:"",tile:""},on:{click:e.doZtilt}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.ZTilt"))+" ")]):t(g,{staticClass:"flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),color:e.homedAxes!==""?"primary":"warning",height:"30",dense:"",tile:""},on:{click:function(n){return e.doSend("M84")}}},[t(_,[e._v(e._s(e.mdiEngineOff))])],1)],1)],1),t(C,{attrs:{dense:""}},[e.enableXYHoming?e._e():t(v,{staticClass:"flex-grow-1",attrs:{cols:"4"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeX"),color:e.homedAxes.includes("x")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeX}},[e._v(" X ")])],1),e.enableXYHoming?t(v,{staticClass:"flex-grow-1",attrs:{cols:"6"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeY"),color:e.homedAxes.includes("xy")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeXY}},[e._v(" XY ")])],1):t(v,{staticClass:"flex-grow-1",attrs:{cols:"4"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeY"),color:e.homedAxes.includes("y")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeY}},[e._v(" Y ")])],1),t(v,{staticClass:"flex-grow-1",class:e.enableXYHoming?"col-6":"col-4"},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeZ"),color:e.homedAxes.includes("z")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeZ}},[e._v(" Z ")])],1)],1)],1)])],1),i.is.small?t(C,[t(v,{staticClass:"d-flex align-center"},[t("div",{staticClass:"flex-grow-1",staticStyle:{"border-radius":"4px",overflow:"hidden"}},[t(C,{staticStyle:{"margin-bottom":"-2px !important"},attrs:{dense:""}},[t(v,{attrs:{cols:"6"}},[t(g,{staticClass:"w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeAll"),color:e.homedAxes.includes("xyz")?"primary":"warning",height:"30",tile:""},on:{click:e.doHome}},[t("div",{staticClass:"d-flex align-center"},[t(_,[e._v(e._s(e.mdiHome))]),t("span",[e._v(e._s(e.$t("Panels.ToolheadControlPanel.ALL")))])],1)])],1),t(v,{staticClass:"d-flex",attrs:{cols:"6"}},[e.actionButton==="qgl"?t(g,{staticClass:"btnMinWidthAuto flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("qgl"),color:e.colorQuadGantryLevel,height:"30",dense:"",tile:""},on:{click:e.doQGL}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.QGL"))+" ")]):e.actionButton==="ztilt"?t(g,{staticClass:"btnMinWidthAuto flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("zTilt"),color:e.colorZTilt,height:"30",dense:"",tile:""},on:{click:e.doZtilt}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.ZTilt"))+" ")]):t(g,{staticClass:"flex-grow-1 px-0",attrs:{disabled:["printing"].includes(e.printer_state),color:e.homedAxes!==""?"primary":"warning",height:"30",dense:"",tile:""},on:{click:function(n){return e.doSend("M84")}}},[t(_,[e._v(e._s(e.mdiEngineOff))])],1)],1)],1),t(C,{attrs:{dense:""}},[e.enableXYHoming?e._e():t(v,{staticClass:"flex-grow-1",attrs:{cols:"4"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeX"),color:e.homedAxes.includes("x")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeX}},[e._v(" X ")])],1),e.enableXYHoming?t(v,{staticClass:"flex-grow-1",attrs:{cols:"6"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeY"),color:e.homedAxes.includes("xy")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeXY}},[e._v(" XY ")])],1):t(v,{staticClass:"flex-grow-1",attrs:{cols:"4"}},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeY"),color:e.homedAxes.includes("y")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeY}},[e._v(" Y ")])],1),t(v,{staticClass:"flex-grow-1",class:e.enableXYHoming?"col-6":"col-4"},[t(g,{staticClass:"btnMinWidthAuto w-100",attrs:{disabled:["printing"].includes(e.printer_state),loading:e.loadings.includes("homeZ"),color:e.homedAxes.includes("z")?"primary":"warning",tile:"",height:"30"},on:{click:e.doHomeZ}},[e._v(" Z ")])],1)],1)],1)])],1):e._e(),t(C,{staticClass:"mt-3",attrs:{"no-gutters":""}},[t(v,[e.stepsReversed.length>0?t(la,{key:"all-steps-".concat(e.stepsReversed.join("_")),staticStyle:{"flex-wrap":"nowrap",width:"100%"},attrs:{dense:"",mandatory:""},model:{value:e.selectedCrossStep,callback:function(n){e.selectedCrossStep=n},expression:"selectedCrossStep"}},e._l(e.stepsReversed,function(n){return t(g,{key:"step-".concat(n),staticClass:"btnMinWidthAuto flex-grow-1 px-0",staticStyle:{height:"28px"},attrs:{disabled:["printing"].includes(e.printer_state),dense:""}},[t("span",{staticClass:"body-2"},[e._v(e._s(n))])])}),1):t("div",{staticClass:"font-weight-bold warning rounded pa-2"},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.PleaseConfigureSteps"))+" "),t("br"),t("router-link",{staticStyle:{color:"white"},attrs:{to:"/settings/interface"}},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.SettingsInterfaceControl"))+" ")])],1)],1)],1)],1)]}}])})},WH=[];const Bv={};var zH=E(Om,GH,WH,!1,qH,"4842dd3d",null,null);function qH(e){for(let s in Bv)this[s]=Bv[s]}const ZH=function(){return zH.exports}();var YH=Object.defineProperty,XH=Object.getOwnPropertyDescriptor,Ar=(e,s,t,r)=>{for(var i=r>1?void 0:r?XH(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&YH(s,t,i),i};let Os=class extends M(O){onBlur(){this.position!==this.currentPos&&(this.position=this.currentPos)}submit(){this.$emit("submit")}};Ar([tM({type:String})],Os.prototype,"position",2);Ar([x({type:String,required:!0})],Os.prototype,"currentPos",2);Ar([x({type:String,required:!1})],Os.prototype,"label",2);Ar([x({type:String,required:!1})],Os.prototype,"suffix",2);Ar([x({type:Number,required:!1,default:1})],Os.prototype,"step",2);Ar([x({type:Boolean,required:!1})],Os.prototype,"disabled",2);Ar([x({type:Boolean,required:!1})],Os.prototype,"readonly",2);Os=Ar([w({components:{}})],Os);var JH=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("form",{on:{submit:function(r){return r.preventDefault(),e.submit.apply(null,arguments)}}},[t(re,{attrs:{label:"[ ".concat(e.label," ]"),suffix:e.suffix,disabled:e.disabled,step:e.step,readonly:e.readonly,"hide-details":"auto",type:"number","hide-spin-buttons":"",outlined:"",reverse:"",dense:""},on:{blur:e.onBlur,focus:function(r){e.readonly||r.target.select()}},model:{value:e.position,callback:function(r){e.position=r},expression:"position"}})],1)},KH=[];const Gv={};var QH=E(Os,JH,KH,!1,ej,null,null,null);function ej(e){for(let s in Gv)this[s]=Gv[s]}const fl=function(){return QH.exports}();var tj=Object.defineProperty,sj=Object.getOwnPropertyDescriptor,xd=(e,s,t,r)=>{for(var i=r>1?void 0:r?sj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&tj(s,t,i),i};let ln=class extends M(O,Xe){constructor(){super(...arguments),this.mdiCrosshairsGps=QM,this.mdiGrid=Bu,this.input={x:{pos:"",valid:!0},y:{pos:"",valid:!0},z:{pos:"",valid:!0}}}updatePositionX(e){this.input.x.pos=e}updatePositionY(e){this.input.y.pos=e}updatePositionZ(e){this.input.z.pos=e}get displayPositionAbsolute(){return this.positionAbsolute?this.$t("Panels.ToolheadControlPanel.Absolute"):this.$t("Panels.ToolheadControlPanel.Relative")}get positionAbsolute(){var e,s;return(s=(e=this.$store.state.printer.gcode_move)==null?void 0:e.absolute_coordinates)!=null?s:!0}get livePositions(){var s,t,r,i,n,a,o,l;const e=(t=(s=this.$store.state.printer.motion_report)==null?void 0:s.live_position)!=null?t:[0,0,0];return{x:(i=(r=e[0])==null?void 0:r.toFixed(2))!=null?i:"--",y:(a=(n=e[1])==null?void 0:n.toFixed(2))!=null?a:"--",z:(l=(o=e[2])==null?void 0:o.toFixed(3))!=null?l:"--"}}get gcodePositions(){var s,t,r,i,n,a,o,l;const e=(t=(s=this.$store.state.printer.gcode_move)==null?void 0:s.gcode_position)!=null?t:[0,0,0];return{x:(i=(r=e[0])==null?void 0:r.toFixed(2))!=null?i:"--",y:(a=(n=e[1])==null?void 0:n.toFixed(2))!=null?a:"--",z:(l=(o=e[2])==null?void 0:o.toFixed(3))!=null?l:"--"}}get bed_mesh(){var e;return(e=this.$store.state.printer.bed_mesh)!=null?e:null}get currentProfileName(){var e,s;return(s=(e=this.bed_mesh)==null?void 0:e.profile_name)!=null?s:""}get showPosition(){var e;return(e=this.$store.state.gui.view.toolhead.showPosition)!=null?e:!0}get showCoordinates(){var e;return(e=this.$store.state.gui.view.toolhead.showCoordinates)!=null?e:!0}get showControl(){var e;return(e=this.$store.state.gui.view.toolhead.showControl)!=null?e:!0}get containerClass(){return this.showControl?"pb-0":""}sendCmd(){let e=[];if(this.existsClientLinearMoveMacro||(e.push("SAVE_GCODE_STATE NAME=_ui_movement"),e.push("G90")),this.input.z.pos!==this.gcodePositions.z&&(this.existsClientLinearMoveMacro?e.push("_CLIENT_LINEAR_MOVE Z=".concat(this.input.z.pos," F=").concat(this.feedrateZ*60," ABSOLUTE=1")):e.push("G1 Z".concat(this.input.z.pos," F").concat(this.feedrateZ*60))),this.input.x.pos!==this.gcodePositions.x||this.input.y.pos!==this.gcodePositions.y){let t="",r="";this.existsClientLinearMoveMacro?(this.input.x.pos!==this.gcodePositions.x&&(t=" X=".concat(this.input.x.pos)),this.input.y.pos!==this.gcodePositions.y&&(r=" Y=".concat(this.input.y.pos)),e.push("_CLIENT_LINEAR_MOVE".concat(t).concat(r," F=").concat(this.feedrateXY*60," ABSOLUTE=1"))):(this.input.x.pos!==this.gcodePositions.x&&(t=" X".concat(this.input.x.pos)),this.input.y.pos!==this.gcodePositions.y&&(r=" Y".concat(this.input.y.pos)),e.push("G1".concat(t).concat(r," F").concat(this.feedrateXY*60)))}this.existsClientLinearMoveMacro||e.push("RESTORE_GCODE_STATE NAME=_ui_movement");const s=e.join("\n");this.input.x.valid&&this.input.y.valid&&this.input.z.valid&&(this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s}))}};xd([ce("gcodePositions.x",{immediate:!0})],ln.prototype,"updatePositionX",1);xd([ce("gcodePositions.y",{immediate:!0})],ln.prototype,"updatePositionY",1);xd([ce("gcodePositions.z",{immediate:!0})],ln.prototype,"updatePositionZ",1);ln=xd([w({components:{MoveToInput:fl,Responsive:st}})],ln);var rj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showCoordinates||e.showPosition?t(Pe,{class:e.containerClass},[t(st,{attrs:{breakpoints:{xsmall:function(r){return r.width<=320},small:function(r){return r.width>320&&r.width<=460},medium:function(r){return r.width>460&&r.width<=560},large:function(r){return r.width>560}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[e.showPosition?t(C,{staticClass:"flex-nowrap pb-1"},[t(v,{staticClass:"v-subheader text--secondary mr-2",class:{"col-5":i.is.small,"col-4":i.is.xsmall||i.is.medium,"col-3":i.is.large}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiCrosshairsGps))]),i.is.xsmall?e._e():t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.Position"))+":  ")]),t("span",{staticClass:"text-no-wrap"},[e._v(e._s(e.displayPositionAbsolute))])],1),e.currentProfileName?t(v,{staticClass:"v-subheader text--secondary pl-2 justify-end text-no-wrap text-truncate"},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiGrid))]),t("span",{staticClass:"text-no-wrap text-truncate"},[e._v(e._s(e.currentProfileName))])],1):e._e()],1):e._e(),e.showCoordinates?t(C,{attrs:{dense:""}},[t(v,{class:i.is.xsmall?"col-12":"col-4"},[t(fl,{attrs:{label:e.livePositions.x,suffix:"X",step:.01,"current-pos":e.gcodePositions.x,readonly:["printing"].includes(e.printer_state),disabled:!e.xAxisHomed},on:{submit:e.sendCmd},model:{value:e.input.x.pos,callback:function(n){e.$set(e.input.x,"pos",n)},expression:"input.x.pos"}})],1),t(v,{class:i.is.xsmall?"col-12":"col-4"},[t(fl,{attrs:{label:e.livePositions.y,suffix:"Y",step:.01,"current-pos":e.gcodePositions.y,readonly:["printing"].includes(e.printer_state),disabled:!e.yAxisHomed},on:{submit:e.sendCmd},model:{value:e.input.y.pos,callback:function(n){e.$set(e.input.y,"pos",n)},expression:"input.y.pos"}})],1),t(v,{class:i.is.xsmall?"col-12":"col-4"},[t(fl,{attrs:{label:e.livePositions.z,suffix:"Z",step:.001,"current-pos":e.gcodePositions.z,readonly:["printing"].includes(e.printer_state),disabled:!e.zAxisHomed},on:{submit:e.sendCmd},model:{value:e.input.z.pos,callback:function(n){e.$set(e.input.z,"pos",n)},expression:"input.z.pos"}})],1)],1):e._e()]}}],null,!1,3225060219)})],1):e._e()},ij=[];const Wv={};var nj=E(ln,rj,ij,!1,aj,null,null,null);function aj(e){for(let s in Wv)this[s]=Wv[s]}const Ox=function(){return nj.exports}();var oj=Object.defineProperty,lj=Object.getOwnPropertyDescriptor,cj=(e,s,t,r)=>{for(var i=r>1?void 0:r?lj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&oj(s,t,i),i};let _c=class extends y{get homing_origin(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.gcode_move)==null?void 0:s.homing_origin)!=null?t:[]}get z_gcode_offset(){return this.homing_origin.length>1?Math.round(this.homing_origin[2]*1e3)/1e3:0}get commands(){var e,s;return(s=(e=this.$store.state.printer.gcode)==null?void 0:e.commands)!=null?s:{}}get settings(){var e,s;return(s=(e=this.$store.state.printer.configfile)==null?void 0:e.settings)!=null?s:{}}get kinematics(){var e,s;return(s=(e=this.settings.printer)==null?void 0:e.kinematics)!=null?s:"cartesian"}get stepper_name(){return this.kinematics==="delta"?"stepper_a":"stepper_z"}get endstop_pin(){var e,s,t;return(t=(s=(e=this.settings[this.stepper_name])==null?void 0:e.endstop_pin)==null?void 0:s.trim())!=null?t:null}get zOffset(){var e,s;return(s=(e=this.$store.state.printer)==null?void 0:e.gcode_move)==null?void 0:s.homing_origin[2].toFixed(3)}get isEndstopProbe(){return this.endstop_pin.replaceAll(" ","").search("probe:z_virtual_endstop")!==-1}get existZOffsetApplyProbe(){return"Z_OFFSET_APPLY_PROBE"in this.commands}get existZOffsetApplyEndstop(){return"Z_OFFSET_APPLY_ENDSTOP"in this.commands}get showSaveButton(){return this.z_gcode_offset===0?!1:this.isEndstopProbe&&this.existZOffsetApplyProbe?!0:!this.isEndstopProbe&&this.existZOffsetApplyEndstop}get autoSaveZOffsetOption(){return this.isEndstopProbe&&this.existZOffsetApplyProbe?"Z_OFFSET_APPLY_PROBE":"Z_OFFSET_APPLY_ENDSTOP"}};_c=cj([w],_c);var uj=Object.defineProperty,dj=Object.getOwnPropertyDescriptor,hj=(e,s,t,r)=>{for(var i=r>1?void 0:r?dj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&uj(s,t,i),i};let Lm=class extends M(O,_c){constructor(){super(...arguments),this.mdiBroom=EC,this.mdiContentSave=Df,this.mdiArrowCollapseDown=Nu,this.mdiInformation=It,this.mdiArrowExpandUp=DC,this.mdiLayersOutline=$5,this.saveOffsetDialog=!1}get offsetsZ(){return this.$store.state.gui.control.offsetsZ}get homed_axis(){var e,s;return(s=(e=this.$store.state.printer.toolhead)==null?void 0:e.homed_axes)!=null?s:""}get offsetZSaveOption(){var e;return(e=this.$store.state.gui.control.offsetZSaveOption)!=null?e:null}sendBabyStepDown(e){const s="SET_GCODE_OFFSET Z_ADJUST=-".concat(e," ").concat(this.homed_axis==="xyz"?"MOVE=1":"");this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s},{loading:"babyStepDown"})}sendBabyStepUp(e){const s="SET_GCODE_OFFSET Z_ADJUST=+".concat(e," ").concat(this.homed_axis==="xyz"?"MOVE=1":"");this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s},{loading:"babyStepUp"})}clearZOffset(){const e="SET_GCODE_OFFSET Z=0"+(this.homed_axis==="xyz"?" MOVE=1":"");this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"babySteppingClear"})}saveZOffset(){let e=this.offsetZSaveOption;e===null&&(e=this.autoSaveZOffsetOption),this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e}),this.saveOffsetDialog=!0}saveConfig(){const e="SAVE_CONFIG";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"topbarSaveConfig"}),this.saveOffsetDialog=!1}};Lm=hj([w({components:{Panel:B,Responsive:st}})],Lm);var mj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(st,{attrs:{breakpoints:{xsmall:function(r){return r.width<=285},medium:function(r){return r.width<=510}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(Pe,{staticClass:"pa-0"},[t(C,[t(v,{staticClass:"v-subheader text--secondary pr-0"},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(" "+e._s(e.mdiLayersOutline)+" ")]),t("span",[e._v(e._s(e.$t("Panels.ZoffsetPanel.Headline"))+": "+e._s(e.zOffset))])],1),t(v,{staticClass:"v-subheader justify-end pl-0"},[t("div",{staticClass:"d-flex align-center"},[e.z_gcode_offset!==0?t(g,{staticClass:"px-2 mr-1",attrs:{loading:e.loadings.includes("babySteppingClear"),text:"",small:"",plain:""},on:{click:function(n){return e.clearZOffset()}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiBroom))]),i.is.xsmall?e._e():t("span",{staticClass:"ml-1"},[e._v(e._s(e.$t("Panels.ZoffsetPanel.Clear")))])],1):e._e(),e.showSaveButton?t(g,{staticClass:"px-2",attrs:{color:"primary",text:"",small:"",plain:""},on:{click:e.saveZOffset}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiContentSave))]),i.is.xsmall?e._e():t("span",{staticClass:"ml-1"},[e._v(e._s(e.$t("Panels.ZoffsetPanel.Save")))])],1):e._e()],1)])],1),t(C,{attrs:{dense:""}},[t(v,{class:i.is.medium?"col-12":"order-1 col-6"},[t("div",{staticClass:"d-flex align-center"},[t(qt,{staticClass:"_btn-group"},e._l(e.offsetsZ,function(n,a){return t(g,{key:"offsetsUp-".concat(a),staticClass:"_btn-qs flex-grow-1 px-1",attrs:{small:""},on:{click:function(o){return e.sendBabyStepUp(n)}}},[a===0&&!i.is.xsmall?t(_,{staticClass:"mr-1 ml-n1",attrs:{left:"",small:""}},[e._v(" "+e._s(e.mdiArrowExpandUp)+" ")]):e._e(),t("span",[e._v("+"+e._s(n))])],1)}),1)],1)]),t(v,{class:i.is.medium?"col-12":"order-0 col-6"},[i.is.medium?t(qt,{staticClass:"_btn-group"},e._l(e.offsetsZ,function(n,a){return t(g,{key:"offsetsDown-".concat(a),staticClass:"_btn-qs flex-grow-1 px-1",attrs:{small:""},on:{click:function(o){return e.sendBabyStepDown(n)}}},[a===0&&!i.is.xsmall?t(_,{staticClass:"mr-1 ml-n1",attrs:{left:"",small:""}},[e._v(" "+e._s(e.mdiArrowCollapseDown)+" ")]):e._e(),t("span",[e._v("−"+e._s(n))])],1)}),1):t(qt,{staticClass:"_btn-group"},e._l(e.offsetsZ.slice().reverse(),function(n,a){return t(g,{key:"offsetsDown-".concat(a),staticClass:"_btn-qs flex-grow-1 px-1",attrs:{small:""},on:{click:function(o){return e.sendBabyStepDown(n)}}},[t("span",[e._v("−"+e._s(n))]),a===e.offsetsZ.length-1&&!i.is.xsmall?t(_,{staticClass:"mr-n1 ml-1",attrs:{left:"",small:""}},[e._v(" "+e._s(e.mdiArrowCollapseDown)+" ")]):e._e()],1)}),1)],1)],1),t(oe,{attrs:{"max-width":"290"},model:{value:e.saveOffsetDialog,callback:function(n){e.saveOffsetDialog=n},expression:"saveOffsetDialog"}},[t(B,{attrs:{title:e.$t("Panels.ZoffsetPanel.SaveInfoHeadline"),icon:e.mdiInformation,"card-class":"zoffset-saveinfo-dialog","margin-bottom":!1}},[e.printerIsPrinting?t(Z,{staticClass:"mt-3"},[e._v(" "+e._s(e.$t("Panels.ZoffsetPanel.SaveInfoDescriptionPrint"))+" ")]):t(Z,{staticClass:"mt-3"},[e._v(" "+e._s(e.$t("Panels.ZoffsetPanel.SaveInfoDescription"))+" ")]),e.printerIsPrinting?t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:function(n){e.saveOffsetDialog=!1}}},[e._v(e._s(e.$t("Panels.ZoffsetPanel.Ok")))])],1):t(ae,[t(ie),t(g,{attrs:{color:"primary",text:""},on:{click:e.saveConfig}},[e._v(" "+e._s(e.$t("Panels.ZoffsetPanel.SaveConfig"))+" ")]),t(g,{attrs:{text:""},on:{click:function(n){e.saveOffsetDialog=!1}}},[e._v(e._s(e.$t("Panels.ZoffsetPanel.Later")))])],1)],1)],1)],1)]}}])})},pj=[];const zv={};var fj=E(Lm,mj,pj,!1,gj,"51065007",null,null);function gj(e){for(let s in zv)this[s]=zv[s]}const Lx=function(){return fj.exports}();var _j=Object.defineProperty,vj=Object.getOwnPropertyDescriptor,bj=(e,s,t,r)=>{for(var i=r>1?void 0:r?vj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_j(s,t,i),i};let Fm=class extends M(O,Xe){constructor(){super(...arguments),this.mdiDotsVertical=vo,this.mdiEngineOff=Lf,this.mdiGamepad=Hf,this.mdiSpeedometer=Wf,this.mdiRestore=G5,this.mdiMenuDown=Lr}get controlStyle(){var s;return(s=this.$store.state.gui.control.style)!=null?s:"bars"}get actionButton(){var s;return(s=this.$store.state.gui.control.actionButton)!=null?s:this.defaultActionButton}get speedFactor(){var s,t,r;return(r=(t=(s=this.$store.state.printer)==null?void 0:s.gcode_move)==null?void 0:t.speed_factor)!=null?r:1}get isPrinting(){return["printing"].includes(this.printer_state)}get axisControlVisible(){var s;return this.showControl?!(this.isPrinting&&((s=this.$store.state.gui.control.hideDuringPrint)!=null&&s)):!1}get showButtons(){return this.controlStyle!=="bars"&&(this.existsZtilt||this.existsQGL)?!0:this.existsBedScrews||this.existsBedTilt||this.existsDeltaCalibrate||this.existsScrewsTilt}get showControl(){var s;return(s=this.$store.state.gui.view.toolhead.showControl)!=null?s:!0}get showZOffset(){var s;return(s=this.$store.state.gui.view.toolhead.showZOffset)!=null?s:!0}get showSpeedFactor(){var s;return(s=this.$store.state.gui.view.toolhead.showSpeedFactor)!=null?s:!0}};Fm=bj([w({components:{BarsControl:LH,CircleControl:NH,CrossControl:ZH,MoveToControl:Ox,Panel:B,ToolSlider:ed,ZoffsetControl:Lx}})],Fm);var yj=Object.defineProperty,Cj=Object.getOwnPropertyDescriptor,$j=(e,s,t,r)=>{for(var i=r>1?void 0:r?Cj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&yj(s,t,i),i};let Am=class extends M(O){constructor(){super(...arguments),this.mdiCog=Yt}get showPosition(){var e;return(e=this.$store.state.gui.view.toolhead.showPosition)!=null?e:!0}set showPosition(e){this.$store.dispatch("gui/saveSetting",{name:"view.toolhead.showPosition",value:e})}get showCoordinates(){var e;return(e=this.$store.state.gui.view.toolhead.showCoordinates)!=null?e:!0}set showCoordinates(e){this.$store.dispatch("gui/saveSetting",{name:"view.toolhead.showCoordinates",value:e})}get showControl(){var e;return(e=this.$store.state.gui.view.toolhead.showControl)!=null?e:!0}set showControl(e){this.$store.dispatch("gui/saveSetting",{name:"view.toolhead.showControl",value:e})}get showZOffset(){var e;return(e=this.$store.state.gui.view.toolhead.showZOffset)!=null?e:!0}set showZOffset(e){this.$store.dispatch("gui/saveSetting",{name:"view.toolhead.showZOffset",value:e})}get showSpeedFactor(){var e;return(e=this.$store.state.gui.view.toolhead.showSpeedFactor)!=null?e:!0}set showSpeedFactor(e){this.$store.dispatch("gui/saveSetting",{name:"view.toolhead.showSpeedFactor",value:e})}};Am=$j([w],Am);var xj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{"offset-y":!0,left:!0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ToolheadControlPanel.PositionOutput")},model:{value:e.showPosition,callback:function(r){e.showPosition=r},expression:"showPosition"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ToolheadControlPanel.CoordinateFields")},model:{value:e.showCoordinates,callback:function(r){e.showCoordinates=r},expression:"showCoordinates"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ToolheadControlPanel.ControlButtons")},model:{value:e.showControl,callback:function(r){e.showControl=r},expression:"showControl"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ToolheadControlPanel.ZOffset")},model:{value:e.showZOffset,callback:function(r){e.showZOffset=r},expression:"showZOffset"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.ToolheadControlPanel.SpeedFactor")},model:{value:e.showSpeedFactor,callback:function(r){e.showSpeedFactor=r},expression:"showSpeedFactor"}})],1)],1)],1)},Sj=[];const qv={};var wj=E(Am,xj,Sj,!1,Pj,null,null,null);function Pj(e){for(let s in qv)this[s]=qv[s]}const Tj=function(){return wj.exports}();var Dj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperReadyForGui?t(B,{attrs:{icon:e.mdiGamepad,title:e.$t("Panels.ToolheadControlPanel.Headline"),collapsible:!0,"card-class":"toolhead-control-panel"},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.showButtons?t(ye,{staticClass:"pa-0",attrs:{left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:"",disabled:["printing"].includes(e.printer_state)}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDotsVertical))])],1)]}}],null,!1,3697264518)},[t(Ee,{attrs:{dense:""}},[e.controlStyle!=="bars"&&e.actionButton!=="m84"?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("M84")}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiEngineOff))]),e._v(" "+e._s(e.$t("Settings.ControlTab.MotorsOff",{isDefault:""}))+" ")],1)],1):e._e(),e.controlStyle!=="bars"&&e.existsZtilt&&e.actionButton!=="ztilt"?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:e.doZtilt}},[e._v("Z-Tilt Adjust")])],1):e._e(),e.controlStyle!=="bars"&&e.existsQGL&&e.actionButton!=="qgl"?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:e.doQGL}},[e._v("Quad Gantry Level")])],1):e._e(),e.existsBedTilt?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("BED_TILT_CALIBRATE")}}},[e._v(" BED TILT CALIBRATE ")])],1):e._e(),e.existsBedScrews?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("BED_SCREWS_ADJUST")}}},[e._v("BED SCREWS ADJUST")])],1):e._e(),e.existsDeltaCalibrate?t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("DELTA_CALIBRATE")}}},[e._v("DELTA CALIBRATE")])],1):e._e(),e.existsScrewsTilt?t(Y,[t("div",{staticClass:"d-flex align-center",staticStyle:{width:"100%"}},[t(g,{staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"},attrs:{small:""},on:{click:function(r){return e.doSend("SCREWS_TILT_CALCULATE")}}},[e._v(" SCREWS TILT CALCULATE ")]),t(ye,{attrs:{"offset-y":"",left:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-0",staticStyle:{"min-width":"32px","border-top-left-radius":"0","border-bottom-left-radius":"0"},attrs:{small:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,274928364)},[t(Ee,{attrs:{dense:""}},[t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("SCREWS_TILT_CALCULATE DIRECTION=CW")}}},[t(_,{staticStyle:{transform:"scaleX(-1)"},attrs:{left:"",small:""}},[e._v(e._s(e.mdiRestore))]),t("span",[e._v("CW")])],1)],1),t(Y,[t(g,{staticStyle:{width:"100%"},attrs:{small:""},on:{click:function(r){return e.doSend("SCREWS_TILT_CALCULATE DIRECTION=CCW")}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiRestore))]),t("span",[e._v("CCW")])],1)],1)],1)],1)],1)]):e._e()],1)],1):e._e(),t(Tj)]},proxy:!0}],null,!1,2619595342)},[t(Ox),e.axisControlVisible?t(Pe,[t("".concat(e.controlStyle,"-control"),{tag:"component"})],1):e._e(),e.showZOffset?t(H):e._e(),e.showZOffset?t(Pe,[t(Lx)],1):e._e(),e.showSpeedFactor?t(H):e._e(),e.showSpeedFactor?t(Pe,[t(ed,{attrs:{label:e.$t("Panels.ToolheadControlPanel.SpeedFactor"),icon:e.mdiSpeedometer,target:e.speedFactor,min:1,max:200,multi:100,step:5,"dynamic-range":!0,"has-input-field":!0,command:"M220","attribute-name":"S"}})],1):e._e()],1):e._e()},Mj=[];const Zv={};var Ej=E(Fm,Dj,Mj,!1,Oj,null,null,null);function Oj(e){for(let s in Zv)this[s]=Zv[s]}const Lj=function(){return Ej.exports}();var Fj=Object.defineProperty,Aj=Object.getOwnPropertyDescriptor,kj=(e,s,t,r)=>{for(var i=r>1?void 0:r?Aj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Fj(s,t,i),i};let yt=class extends y{fgColor(e=1,s=this.$vuetify.theme.dark){const t=s?255:0;return"rgba(".concat(t,", ").concat(t,", ").concat(t,", ").concat(e,")")}bgColor(e=1){return this.fgColor(e,!this.$vuetify.theme.dark)}get themeName(){return this.$store.getters["gui/theme"]}get theme(){return this.$store.getters["gui/getTheme"]}get themeMode(){var e;return(e=this.$store.state.gui.uiSettings.mode)!=null?e:"dark"}get fgColorHi(){return this.fgColor(.8)}get fgColorMid(){return this.fgColor(.5)}get fgColorLow(){return this.fgColor(.2)}get fgColorFaint(){return this.fgColor(.1)}get machineButtonCol(){return this.$vuetify.theme.dark?"grey darken-3":"grey lighten-1"}get draggableBgStyle(){const e=this.$vuetify.theme.dark?"#282828":"#e7e7e7";return"background-color: ".concat(e)}get progressBarColor(){return this.$vuetify.theme.dark?"white":"primary"}get sidebarBgImage(){var e,s;return(e=this.theme.sidebarBackground)!=null&&e.show?(s=this.theme.sidebarBackground)!=null&&s.light&&this.themeMode==="light"?"/img/themes/sidebarBackground-".concat(this.themeName,"-light.png"):"/img/themes/sidebarBackground-".concat(this.themeName,".png"):this.$vuetify.theme.dark?"/img/sidebar-background.svg":"/img/sidebar-background-light.svg"}get sidebarLogo(){var s,t,r;const e=this.$store.getters["files/getSidebarLogo"];return e!==""||this.themeName==="mainsail"?e:(t=(s=this.theme.logo)==null?void 0:s.show)!=null&&t?(r=this.theme.logo)!=null&&r.light&&this.themeMode==="light"?"/img/themes/sidebarLogo-".concat(this.themeName,"-light.svg"):"/img/themes/sidebarLogo-".concat(this.themeName,".svg"):""}get mainBgImage(){var s,t;const e=this.$store.getters["files/getMainBackground"];return e||this.themeName==="mainsail"?e:(s=this.theme.mainBackground)!=null&&s.show?(t=this.theme.mainBackground)!=null&&t.light&&this.themeMode==="light"?"/img/themes/mainBackground-".concat(this.themeName,"-light.png"):"/img/themes/mainBackground-".concat(this.themeName,".png"):null}get themeCss(){var e;return(e=this.theme.css)!=null&&e?"/css/themes/".concat(this.themeName,".css"):null}};yt=kj([w],yt);var Rj=Object.defineProperty,Hj=Object.getOwnPropertyDescriptor,$g=(e,s,t,r)=>{for(var i=r>1?void 0:r?Hj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Rj(s,t,i),i};let ka=class extends M(O,yt){constructor(){super(...arguments),this.hoverChart=!1,this.isVisible=!0}get chartOptions(){return{renderer:"svg",animation:!1,tooltip:this.tooltip,grid:{top:35,right:this.gridRight,bottom:30,left:25},legend:{animation:!1,show:!1,selected:this.selectedLegends},xAxis:{type:"time",splitNumber:5,minInterval:60*1e3,splitLine:{show:!0,lineStyle:{color:this.fgColorFaint}},axisLabel:{color:this.fgColorLow,margin:10,formatter:this.timeFormat}},yAxis:this.yAxis,media:this.media,dataset:{source:[]},series:this.series}}get tooltip(){return{animation:!1,trigger:"axis",backgroundColor:this.bgColor(1),borderWidth:0,textStyle:{color:this.fgColorHi,fontSize:"14px"},padding:15,formatter:this.tooltipFormatter,confine:!0,className:"echarts-tooltip",position:function(e,s,t,r,i){const n={top:60};return n[["left","right"][+(e[0]<i.viewSize[0]/2)]]=5,n}}}get yAxis(){return[{name:this.$t("Panels.TemperaturePanel.TemperaturesInChart"),type:"value",min:0,max:e=>this.autoscale?Math.ceil((e.max+5)/20)*20:this.maxTemp,minInterval:20,maxInterval:100,nameLocation:"end",nameGap:5,nameTextStyle:{color:this.fgColorMid,align:"left"},splitLine:{lineStyle:{color:this.fgColorFaint}},axisLabel:{color:this.fgColorMid,formatter:"{value}",rotate:90,showMinLabel:!0,margin:5},axisLine:{show:!0,lineStyle:{color:this.fgColorLow}}},{show:this.boolDisplayPwmAxis,name:"PWM [%]",min:0,max:1,minInterval:.25,type:"value",nameLocation:"end",nameGap:5,nameTextStyle:{color:this.fgColorMid,align:"right"},splitLine:{show:!1},axisLabel:{color:this.fgColorMid,formatter:e=>e*100,showMinLabel:!0,rotate:90,margin:5},axisLine:{show:!0,lineStyle:{color:this.fgColorLow}}}]}get media(){return[{query:{minWidth:500},option:{grid:{right:this.optionGridRight,left:40},yAxis:[{maxInterval:50,axisLabel:{showMinLabel:!1,showMaxLabel:!0,rotate:0}},{maxInterval:25,axisLabel:{showMinLabel:!1,rotate:0}}]}}]}get chart(){var e,s;return(s=(e=this.$refs.tempchart)==null?void 0:e.chart)!=null?s:null}get maxHistory(){return this.$store.getters["printer/tempHistory/getTemperatureStoreSize"]}get series(){var e;return(e=this.$store.state.printer.tempHistory.series)!=null?e:{}}get source(){var e;return(e=this.$store.state.printer.tempHistory.source)!=null?e:[]}get autoscale(){var e;return(e=this.$store.state.gui.view.tempchart.autoscale)!=null?e:!0}get maxTemp(){var e;return(e=this.$store.getters["printer/getMaxTemp"])!=null?e:300}get boolDisplayPwmAxis(){return this.$store.getters["printer/tempHistory/getBoolDisplayPwmAxis"]}get selectedLegends(){return this.$store.getters["printer/tempHistory/getSelectedLegends"]}get timeFormat(){return this.hours12Format?"{hh}:{mm}":"{HH}:{mm}"}get tempchartHeight(){var e;return(e=this.$store.state.gui.uiSettings.tempchartHeight)!=null?e:250}get tempchartStyle(){return{height:this.tempchartHeight+"px"}}get gridRight(){return this.boolDisplayPwmAxis?25:15}get optionGridRight(){return this.boolDisplayPwmAxis?35:15}beforeDestroy(){typeof window>"u"||this.chart&&this.chart.dispose()}visibilityChanged(e){this.isVisible=e}tooltipFormatter(e){let s="";const t=e.filter(r=>r.seriesName.endsWith("-temperature"));if(e.length){let r=e[0].axisValueLabel;r=r.substring(r.indexOf(" "));const i=this.$vuetify.theme.dark?"theme-dark":"";s+='<div class="row"><div class="col py-1" style=\'border-bottom: 1px solid rgba(255, 255, 255, 0.24);\'><span class="v-icon mdi '.concat(i,'" style="margin-right: 5px;"><svg xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" viewBox="0 0 24 24" class="v-icon__svg" style="font-size: 12px; width: 12px; height: 12px;"><path d="').concat(qM,'"></path></svg></span><span class="font-weight-bold">')+r+"</span></div></div>"}return t.forEach(r=>{const i=r.seriesName.substring(0,r.seriesName.lastIndexOf("-"));let n=i;n.indexOf(" ")!==-1&&(n=n.substring(n.indexOf(" ")+1)),s+='<div class="row">',s+='<div class="col-auto py-0">',s+=r.marker,s+="<span class='ml-2'>"+at(n)+":</span>",s+="</div>",s+='<div class="col text-right py-0 font-weight-bold">';const a="".concat(i,"-temperature"),o="".concat(i,"-target");if(a in r.value){const l=r.value[a];s+=l!==null?l.toFixed(1):"--"}if(o in r.value){s+=" / ";const l=r.value[o];s+=l!==null?l.toFixed(1):"--"}s+="°C",_a.forEach(l=>{const c="".concat(i,"-").concat(l);if(!(c in r.value))return;let u=r.value[c];u=u!==null?(r.value[c]*100).toFixed(0):"--",s+=" [ ".concat(u,"% ]")}),s+="</div>",s+="</div>"}),s}selectedLegendsChanged(e){var s,t;((s=this.chart)==null?void 0:s.isDisposed())!==!0&&((t=this.chart)==null||t.setOption({legend:{selected:e}}))}sourceChanged(e){var r;if(!this.chart||!this.isVisible||this.hoverChart)return;(r=this.chart)==null||r.setOption({dataset:{source:e}});const s=new Date(Date.now()-this.maxHistory*1e3);let t=e.filter(i=>i.date>=s);e.length>0&&t.length<this.maxHistory*.8&&this.$socket.emit("server.temperature_store",{include_monitors:!0},{action:"printer/tempHistory/init"})}};$g([ce("selectedLegends")],ka.prototype,"selectedLegendsChanged",1);$g([ce("source")],ka.prototype,"sourceChanged",1);ka=$g([w({components:{}})],ka);var jj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("e-chart",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],ref:"tempchart",staticClass:"tempchart",style:e.tempchartStyle,attrs:{option:e.chartOptions,"init-options":{renderer:"svg"},autoresize:!0},nativeOn:{mouseenter:function(r){e.hoverChart=!0},mouseleave:function(r){e.hoverChart=!1}}})},Ij=[];const Yv={};var Nj=E(ka,jj,Ij,!1,Vj,"9b1e84ce",null,null);function Vj(e){for(let s in Yv)this[s]=Yv[s]}const Fx=function(){return Nj.exports}();var Uj=Object.defineProperty,Bj=Object.getOwnPropertyDescriptor,tr=(e,s,t,r)=>{for(var i=r>1?void 0:r?Bj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Uj(s,t,i),i};let bs=class extends M(O,Xe){constructor(){super(...arguments),this.mdiSnowflake=Ju,this.mdiFire=Tn,this.mdiMenuDown=Lr,this.value=0}setTemps(){var e;if(typeof this.value=="object"&&(this.value=(e=this.value.value)!=null?e:0),this.value===null&&(this.value=0),this.value>this.max_temp)this.value={value:this.target,text:this.target},this.$toast.error(this.$t("Panels.TemperaturePanel.TempTooHigh",{name:this.name,max:this.max_temp})+"");else if(this.value<this.min_temp&&this.value!=0)this.value={value:this.target,text:this.target},this.$toast.error(this.$t("Panels.TemperaturePanel.TempTooLow",{name:this.name,min:this.min_temp})+"");else if(this.target!==parseFloat(this.value)){const s=this.command+" "+this.attributeName+"="+this.name+" TARGET="+this.value;this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})}}mounted(){this.value=this.target}targetChanged(e){this.value=e}};tr([x({type:String,required:!0})],bs.prototype,"name",2);tr([x({type:Number,required:!0,default:0})],bs.prototype,"target",2);tr([x({type:Number,required:!0})],bs.prototype,"min_temp",2);tr([x({type:Number,required:!0})],bs.prototype,"max_temp",2);tr([x({type:String,required:!0})],bs.prototype,"command",2);tr([x({type:String,required:!0})],bs.prototype,"attributeName",2);tr([x({type:Array,default:[]})],bs.prototype,"presets",2);tr([ce("target")],bs.prototype,"targetChanged",1);bs=tr([w],bs);var Gj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"d-flex align-center"},[t("form",{on:{submit:function(r){return r.preventDefault(),e.setTemps.apply(null,arguments)}}},[t(re,{staticClass:"_temp-input pr-1",attrs:{suffix:"°C",type:"number",dense:"",outlined:"","hide-details":"","hide-spin-buttons":""},on:{blur:function(r){e.value=e.target},focus:function(r){return r.target.select()}},model:{value:e.value,callback:function(r){e.value=r},expression:"value"}})],1),e.presets?t(ye,{attrs:{"offset-y":!0,left:"",title:"Preheat"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"pa-0",staticStyle:{"min-width":"24px"},attrs:{disabled:["printing","paused"].includes(e.printer_state),tabindex:"-1","x-small":"",plain:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,165235721)},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},e._l(e.presets,function(r){return t(Y,{key:r.index,staticStyle:{"min-height":"32px"},attrs:{link:""},on:{click:function(i){return e.doSend("".concat(e.command," ").concat(e.attributeName,"=").concat(e.name," TARGET=").concat(r.value))}}},[t("div",{staticClass:"_preset"},[r.value===0?t(_,{staticClass:"_preset-icon",attrs:{else:"",color:"primary",small:""}},[e._v(" "+e._s(e.mdiSnowflake)+" ")]):t(_,{staticClass:"_preset-icon",attrs:{small:""}},[e._v(e._s(e.mdiFire))]),t("span",{staticStyle:{"padding-top":"2px"}},[e._v(e._s(r.value)+"°C")])],1)])}),1)],1):e._e()],1)},Wj=[];const Xv={};var zj=E(bs,Gj,Wj,!1,qj,"5e5067e7",null,null);function qj(e){for(let s in Xv)this[s]=Xv[s]}const Ax=function(){return zj.exports}();var Zj=Object.defineProperty,Yj=Object.getOwnPropertyDescriptor,kx=(e,s,t,r)=>{for(var i=r>1?void 0:r?Yj(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Zj(s,t,i),i};let vc=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiSnowflake=Ju}get cooldownGcode(){return this.$store.getters["gui/presets/getCooldownGcode"]}cooldown(){this.$store.dispatch("server/addEvent",{message:this.cooldownGcode,type:"command"}),this.$socket.emit("printer.gcode.script",{script:this.cooldownGcode}),this.closePrompt()}closePrompt(){this.$emit("close")}};kx([x({type:Boolean,default:!1})],vc.prototype,"showDialog",2);vc=kx([w({components:{Panel:B}})],vc);var Xj=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:""}},[t(B,{attrs:{title:e.$t("CoolDownDialog.CoolDown"),"card-class":"cool-down-dialog",icon:e.mdiSnowflake,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closePrompt}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e._v(e._s(e.$t("CoolDownDialog.AreYouSure")))]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closePrompt}},[e._v(e._s(e.$t("CoolDownDialog.No")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.cooldown}},[e._v(e._s(e.$t("CoolDownDialog.Yes")))])],1)],1)],1)},Jj=[];const Jv={};var Kj=E(vc,Xj,Jj,!1,Qj,null,null,null);function Qj(e){for(let s in Jv)this[s]=Jv[s]}const Rx=function(){return Kj.exports}();var eI=Object.defineProperty,tI=Object.getOwnPropertyDescriptor,sI=(e,s,t,r)=>{for(var i=r>1?void 0:r?tI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&eI(s,t,i),i};let km=class extends M(O){constructor(){super(...arguments),this.mdiFire=Tn,this.mdiMenuDown=Lr,this.mdiSnowflake=Ju,this.mdiCloseThick=pe,this.showCoolDownDialog=!1}get presets(){var e;return(e=this.$store.getters["gui/presets/getPresets"])!=null?e:[]}get cooldownGcode(){return this.$store.getters["gui/presets/getCooldownGcode"]}get confirmOnCoolDown(){return this.$store.state.gui.uiSettings.confirmOnCoolDown}preheat(e){var s;for(const[t,r]of Object.entries(e.values))if(r.bool){const i=t.split(" "),n=i[0];let a=(s=i[1])!=null?s:i[0],o="SET_HEATER_TEMPERATURE",l="HEATER";n==="temperature_fan"&&(o="SET_TEMPERATURE_FAN_TARGET",l="TEMPERATURE_FAN");const c="".concat(o," ").concat(l,"=").concat(a," TARGET=").concat(r.value);this.$store.dispatch("server/addEvent",{message:c,type:"command"}),this.$socket.emit("printer.gcode.script",{script:c})}e.gcode!==""&&setTimeout(()=>{this.$store.dispatch("server/addEvent",{message:e.gcode,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e.gcode})},100)}btnCoolDown(){if(this.confirmOnCoolDown){this.showCoolDownDialog=!0;return}this.cooldown()}cooldown(){this.showCoolDownDialog=!1,this.$store.dispatch("server/addEvent",{message:this.cooldownGcode,type:"command"}),this.$socket.emit("printer.gcode.script",{script:this.cooldownGcode})}};km=sI([w({components:{CoolDownDialog:Rx}})],km);var rI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticStyle:{height:"100%"}},[e.presets.length?t(ye,{attrs:{"offset-y":!0,left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"pa-1",attrs:{text:"",tile:"",color:"primary",disabled:["printing","paused"].includes(e.printer_state)}},"v-btn",n,!1),i),[t("span",{staticClass:"d-none ml-1 d-md-block"},[e._v(e._s(e.$t("Panels.TemperaturePanel.Presets")))]),t(_,{staticClass:"d-md-none"},[e._v(e._s(e.mdiFire))]),t(_,[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,1208155870)},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},e._l(e.presets,function(r,i){return t(Y,{key:i,attrs:{link:""},on:{click:function(n){return e.preheat(r)}}},[t("div",{staticClass:"d-flex align-center _preset-title"},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiFire))]),t("span",{staticStyle:{"padding-top":"2px"}},[e._v(e._s(r.name))])],1)])}),1),t(H,{staticClass:"_fix_transparency"}),t(Ee,{staticClass:"py-0",attrs:{dense:""}},[t(Y,{attrs:{link:""},on:{click:e.btnCoolDown}},[t("div",{staticClass:"d-flex align-center _preset-title"},[t(_,{staticClass:"mr-1",attrs:{small:"",color:"primary"}},[e._v(e._s(e.mdiSnowflake))]),t("span",{staticClass:"primary--text"},[e._v(e._s(e.$t("Panels.TemperaturePanel.Cooldown")))])],1)])],1)],1):t(g,{attrs:{icon:e.$vuetify.breakpoint.smAndDown,text:e.$vuetify.breakpoint.mdAndUp,tile:"",color:"primary"},on:{click:e.btnCoolDown}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiSnowflake))]),t("span",{staticClass:"d-none ml-1 d-md-inline"},[e._v(e._s(e.$t("Panels.TemperaturePanel.Cooldown")))])],1),t(Rx,{attrs:{"show-dialog":e.showCoolDownDialog},on:{close:function(r){e.showCoolDownDialog=!1}}})],1)},iI=[];const Kv={};var nI=E(km,rI,iI,!1,aI,"300d8a4d",null,null);function aI(e){for(let s in Kv)this[s]=Kv[s]}const Hx=function(){return nI.exports}();var oI=Object.defineProperty,lI=Object.getOwnPropertyDescriptor,cI=(e,s,t,r)=>{for(var i=r>1?void 0:r?lI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&oI(s,t,i),i};let Rm=class extends M(O,Xe){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiThermometerLines=c$,this.convertName=at,this.capitalize=$r}get boolTempchart(){var s;return(s=this.$store.state.gui.view.tempchart.boolTempchart)!=null?s:!1}};Rm=cI([w({components:{Panel:B,TempChart:Fx,TemperatureInput:Ax,Responsive:st,TemperaturePanelPresets:Hx}})],Rm);var uI=Object.defineProperty,dI=Object.getOwnPropertyDescriptor,xg=(e,s,t,r)=>{for(var i=r>1?void 0:r?dI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&uI(s,t,i),i};let Ra=class extends M(O){constructor(){super(...arguments),this.mdiFan=Ff,this.showEditDialog=!1,this.nevermoreValues=["temperature","pressure","humidity"]}get printerObject(){var e;return(e=this.$store.state.printer[this.objectName])!=null?e:{}}get name(){const e=this.objectName.split(" ");return e.length===1?e[0]:e[1]}get formatName(){return at(this.name)}get color(){var e,s,t,r,i,n;return(n=(i=(r=(t=(s=(e=this.$store.state.gui)==null?void 0:e.view)==null?void 0:s.tempchart)==null?void 0:t.datasetSettings)==null?void 0:r[this.objectName])==null?void 0:i.color)!=null?n:"#ffffff"}get iconColor(){return this.state===null||this.state>0?"".concat(this.color).concat(xC):"".concat(this.color).concat(SC)}get iconClass(){var t,r,i;const e=["_no-focus-style","cursor-pointer"];return!((r=(t=this.$store.state.gui)==null?void 0:t.uiSettings.disableFanAnimation)!=null?r:!1)&&((i=this.state)!=null?i:0)>0&&e.push("icon-rotate"),e}get state(){var e;return(e=this.printerObject.speed)!=null?e:null}get rpm(){var s;return((s=this.printerObject.rpm)!=null?s:null)===null?null:parseInt(this.printerObject.rpm)}get rpmClass(){var e;return this.rpm===0&&((e=this.printerObject.speed)!=null?e:0)>0?"red--text":""}};xg([x({type:String,required:!0})],Ra.prototype,"objectName",2);xg([x({type:Boolean,required:!0})],Ra.prototype,"isResponsiveMobile",2);Ra=xg([w],Ra);var hI=Object.defineProperty,mI=Object.getOwnPropertyDescriptor,Sg=(e,s,t,r)=>{for(var i=r>1?void 0:r?mI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&hI(s,t,i),i};let Ha=class extends M(O){get value(){return this.$store.getters["gui/getDatasetValue"]({name:this.objectName,type:this.serieName})}get label(){return this.$t("Panels.TemperaturePanel.ShowNameInChart",{name:this.formatSerieName})}set value(e){this.$store.dispatch("gui/setChartDatasetStatus",{objectName:this.objectName,dataset:this.serieName,value:e})}get formatSerieName(){return $r(this.serieName)}};Sg([x({type:String,required:!0})],Ha.prototype,"objectName",2);Sg([x({type:String,required:!0})],Ha.prototype,"serieName",2);Ha=Sg([w],Ha);var pI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,{staticClass:"py-1"},[t(fe,{staticClass:"mt-0",attrs:{label:e.label,"hide-details":""},model:{value:e.value,callback:function(r){e.value=r},expression:"value"}})],1)],1)},fI=[];const Qv={};var gI=E(Ha,pI,fI,!1,_I,null,null,null);function _I(e){for(let s in Qv)this[s]=Qv[s]}const jx=function(){return gI.exports}();var vI=Object.defineProperty,bI=Object.getOwnPropertyDescriptor,wg=(e,s,t,r)=>{for(var i=r>1?void 0:r?bI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&vI(s,t,i),i};let ja=class extends M(O){get value(){return this.$store.getters["gui/getDatasetAdditionalSensorValue"]({name:this.objectName,type:this.additionalSensor})}set value(e){this.$store.dispatch("gui/setDatasetAdditionalSensorStatus",{objectName:this.objectName,dataset:this.additionalSensor,value:e})}get label(){return this.$t("Panels.TemperaturePanel.ShowNameInList",{name:this.additionalSensor})}};wg([x({type:String,required:!0})],ja.prototype,"objectName",2);wg([x({type:String,required:!0})],ja.prototype,"additionalSensor",2);ja=wg([w],ja);var yI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,{staticClass:"col-12 py-1"},[t(fe,{staticClass:"mt-0",attrs:{label:e.label,"hide-details":""},model:{value:e.value,callback:function(r){e.value=r},expression:"value"}})],1)],1)},CI=[];const eb={};var $I=E(ja,yI,CI,!1,xI,null,null,null);function xI(e){for(let s in eb)this[s]=eb[s]}const Ix=function(){return $I.exports}();var SI=Object.defineProperty,wI=Object.getOwnPropertyDescriptor,sr=(e,s,t,r)=>{for(var i=r>1?void 0:r?wI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&SI(s,t,i),i};let ys=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe}get chartSeries(){var e;return(e=this.$store.getters["printer/tempHistory/getSerieNames"](this.objectName))!=null?e:[]}get printerObjectAdditionalSensor(){return this.additionalSensorName===null||!(this.additionalSensorName in this.$store.state.printer)?{}:this.$store.state.printer[this.additionalSensorName]}get additionalValues(){return this.objectName==="z_thermal_adjust"?["current_z_adjust"]:this.objectName.startsWith("nevermore")?["temperature","pressure","humidity","rpm"]:Object.keys(this.printerObjectAdditionalSensor).filter(e=>e!=="temperature")}setChartColor(e){typeof e=="object"&&"hex"in e&&(e=e.hex),this.$store.dispatch("gui/setChartColor",{objectName:this.objectName,value:e}),this.$store.dispatch("printer/tempHistory/setColor",{name:this.objectName,value:e})}closeDialog(){this.$emit("close-dialog")}};sr([x({type:Boolean,required:!0})],ys.prototype,"boolShow",2);sr([x({type:String,required:!0})],ys.prototype,"objectName",2);sr([x({type:String,required:!0})],ys.prototype,"name",2);sr([x({required:!0})],ys.prototype,"additionalSensorName",2);sr([x({type:String,required:!0})],ys.prototype,"formatName",2);sr([x({type:String,required:!0})],ys.prototype,"icon",2);sr([x({type:String,required:!0})],ys.prototype,"color",2);sr([Ye(500)],ys.prototype,"setChartColor",1);ys=sr([w({components:{TemperaturePanelListItemEditAdditionalSensor:Ix,TemperaturePanelListItemEditChartSerie:jx}})],ys);var PI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"",width:400},model:{value:e.boolShow,callback:function(r){e.boolShow=r},expression:"boolShow"}},[t(B,{attrs:{title:e.formatName,icon:e.icon,"card-class":"temperature-edit-heater-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-6"},[e._l(e.chartSeries,function(r){return t(jx,{key:r,attrs:{"object-name":e.objectName,"serie-name":r}})}),e._l(e.additionalValues,function(r){return t(Ix,{key:r,attrs:{"object-name":e.objectName,"additional-sensor":r}})}),t(C,[t(v,{staticClass:"col-12 text-center pb-0"},[t(Wt,{staticClass:"mx-auto",attrs:{"hide-mode-switch":"",mode:"hexa",value:e.color},on:{"update:color":e.setChartColor}})],1)],1)],2)],1)],1)},TI=[];const tb={};var DI=E(ys,PI,TI,!1,MI,null,null,null);function MI(e){for(let s in tb)this[s]=tb[s]}const Nx=function(){return DI.exports}();var EI=Object.defineProperty,OI=Object.getOwnPropertyDescriptor,Fo=(e,s,t,r)=>{for(var i=r>1?void 0:r?OI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&EI(s,t,i),i};let ui=class extends M(O){get cssStyle(){let e={cursor:"default",fontSize:"1em"};return this.small&&(e.fontSize="0.8em"),e}get value(){var s;const e=(s=this.printerObject[this.keyName])!=null?s:null;return isNaN(e)?null:e}get intake_value(){var s;const e="intake_".concat(this.keyName);return(s=this.printerObject[e])!=null?s:null}get intake_value_min(){var s;const e="intake_".concat(this.keyName,"_min");return(s=this.printerObject[e])!=null?s:null}get intake_value_max(){var s;const e="intake_".concat(this.keyName,"_max");return(s=this.printerObject[e])!=null?s:null}get exhaust_value(){var s;const e="exhaust_".concat(this.keyName);return(s=this.printerObject[e])!=null?s:null}get exhaust_value_min(){var s;const e="exhaust_".concat(this.keyName,"_min");return(s=this.printerObject[e])!=null?s:null}get exhaust_value_max(){var s;const e="exhaust_".concat(this.keyName,"_max");return(s=this.printerObject[e])!=null?s:null}get unit(){switch(this.keyName){case"temperature":return"°C";case"pressure":return"hPa";case"humidity":return"%"}return null}get digits(){return["gas","pressure"].includes(this.keyName)?0:1}get formatValue(){return this.getFormatedValue(this.intake_value,this.exhaust_value)}get formatValue_min(){return this.getFormatedValue(this.intake_value_min,this.exhaust_value_min)}get formatValue_max(){return this.getFormatedValue(this.intake_value_max,this.exhaust_value_max)}getFormatedValue(e,s){let t=e==null?void 0:e.toFixed(this.digits),r=s==null?void 0:s.toFixed(this.digits);return this.intake_value===null&&(t="--"),this.exhaust_value===null&&(r="--"),this.unit===null?"".concat(t," > ").concat(r):"".concat(t," ").concat(this.unit," > ").concat(r," ").concat(this.unit)}get disableTooltip(){return this.intake_value_min===null||this.exhaust_value_min===null||this.intake_value_max===null||this.exhaust_value_max===null}get guiSetting(){return this.$store.getters["gui/getDatasetAdditionalSensorValue"]({name:this.objectName,sensor:this.keyName})}get isVisible(){return this.intake_value===null&&this.exhaust_value===null?!1:this.guiSetting}};Fo([x({type:Object,required:!0})],ui.prototype,"printerObject",2);Fo([x({type:String,required:!0})],ui.prototype,"objectName",2);Fo([x({type:String,required:!0})],ui.prototype,"keyName",2);Fo([x({type:Boolean,required:!1,default:!0})],ui.prototype,"small",2);ui=Fo([w],ui);var LI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.isVisible?t("div",[t(ue,{attrs:{top:"",disabled:e.disableTooltip},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({style:e.cssStyle},"span",n,!1),i),[e._v(e._s(e.formatValue))])]}}],null,!1,2376366562)},[t("span",[e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Max"))+": "+e._s(e.formatValue_max)+" "),t("br"),e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Min"))+": "+e._s(e.formatValue_min)+" ")])])],1):e._e()},FI=[];const sb={};var AI=E(ui,LI,FI,!1,kI,null,null,null);function kI(e){for(let s in sb)this[s]=sb[s]}const rb=function(){return AI.exports}();var RI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",[t("td",{staticClass:"icon"},[t(_,{class:e.iconClass,attrs:{color:e.iconColor,tabindex:"-1"},on:{click:function(r){e.showEditDialog=!0}}},[e._v(" "+e._s(e.mdiFan)+" ")])],1),t("td",{staticClass:"name"},[t("span",{staticClass:"cursor-pointer",on:{click:function(r){e.showEditDialog=!0}}},[e._v(e._s(e.formatName))])]),t("td",{staticClass:"text-no-wrap text-center",attrs:{colspan:"3"}},[t(rb,{attrs:{"printer-object":e.printerObject,"object-name":e.objectName,small:!1,"key-name":"gas"}}),e._l(e.nevermoreValues,function(r){return t(rb,{key:r,attrs:{"printer-object":e.printerObject,"object-name":e.objectName,"key-name":r}})}),e.rpm!==null?t("div",[t("small",{class:e.rpmClass},[e._v(e._s(e.rpm)+" RPM")])]):e._e()],2),t(Nx,{attrs:{"bool-show":e.showEditDialog,"object-name":e.objectName,name:e.name,"format-name":e.formatName,"additional-sensor-name":"nevermore",icon:e.mdiFan,color:e.color},on:{"close-dialog":function(r){e.showEditDialog=!1}}})],1)},HI=[];const ib={};var jI=E(Ra,RI,HI,!1,II,"7026933a",null,null);function II(e){for(let s in ib)this[s]=ib[s]}const Vx=function(){return jI.exports}();var NI=Object.defineProperty,VI=Object.getOwnPropertyDescriptor,UI=(e,s,t,r)=>{for(var i=r>1?void 0:r?VI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&NI(s,t,i),i};let Hm=class extends M(O){get available_heaters(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.heaters)==null?void 0:s.available_heaters)!=null?t:[]}get filteredHeaters(){return this.filterNamesAndSort(this.available_heaters)}get available_sensors(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.heaters)==null?void 0:s.available_sensors)!=null?t:[]}get available_monitors(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.heaters)==null?void 0:s.available_monitors)!=null?t:[]}get available_nevermores(){return Object.keys(this.$store.state.printer).filter(e=>e.startsWith("nevermore"))}get monitors(){return this.available_monitors.sort(this.sortObjectName)}get temperature_fans(){return this.available_sensors.filter(e=>e.startsWith("temperature_fan")&&!e.startsWith("temperature_fan _")).sort(this.sortObjectName)}get hideMcuHostSensors(){var e;return(e=this.$store.state.gui.view.tempchart.hideMcuHostSensors)!=null?e:!1}get hideMonitors(){var e;return(e=this.$store.state.gui.view.tempchart.hideMonitors)!=null?e:!1}get temperature_sensors(){return this.filterNamesAndSort(this.available_sensors).filter(e=>!(this.available_heaters.includes(e)||this.temperature_fans.includes(e)||this.hideMcuHostSensors&&this.checkMcuHostSensor(e)))}get heaterObjects(){return[...this.filteredHeaters,...this.temperature_fans]}get nevermoreObjects(){return this.filterNamesAndSort(this.available_nevermores)}get settings(){var e,s,t;return(t=(s=(e=this.$store.state.printer)==null?void 0:e.configfile)==null?void 0:s.settings)!=null?t:{}}checkMcuHostSensor(e){var r,i;const t=(i=((r=this.settings[e.toLowerCase()])!=null?r:{}).sensor_type)!=null?i:"";return["temperature_mcu","temperature_host"].includes(t)}filterNamesAndSort(e){return e.filter(this.isVisibleName).sort(this.sortObjectName)}isVisibleName(e){return!this.shortName(e).startsWith("_")}sortObjectName(e,s){const t=this.shortName(e).toUpperCase(),r=this.shortName(s).toUpperCase();return t<r?-1:t>r?1:0}shortName(e){const s=e.split(" ");return s.length==1?s[0]:s[1]}};Hm=UI([w({components:{TemperaturePanelListItemNevermore:Vx}})],Hm);const _h=new y,vh="close-temperature-context-menu";var BI=Object.defineProperty,GI=Object.getOwnPropertyDescriptor,Pg=(e,s,t,r)=>{for(var i=r>1?void 0:r?GI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&BI(s,t,i),i};let Ia=class extends M(O){constructor(){super(...arguments),this.mdiCog=Yt,this.mdiSnowflake=Ju,this.showEditDialog=!1,this.showContextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get printerObject(){return this.objectName in this.$store.state.printer?this.$store.state.printer[this.objectName]:{}}get printerObjectSettings(){var s,t,r,i,n;const e=this.objectName.toLowerCase();return e in((r=(t=(s=this.$store.state.printer)==null?void 0:s.configfile)==null?void 0:t.settings)!=null?r:{})?(n=(i=this.$store.state.printer)==null?void 0:i.configfile)==null?void 0:n.settings[e]:{}}get name(){const e=this.objectName.split(" ");return e.length===1?this.objectName:e[1]}get formatName(){return at(this.name)}get icon(){var e;return this.objectName.startsWith("extruder")?(e=this.printerObject.can_extrude)!=null&&e?Qs:t$:this.objectName==="heater_bed"?this.temperature!==null&&this.temperature>50||this.target&&this.temperature&&this.temperature>this.target-5?V5:r$:this.objectName.startsWith("heater_generic")?Tn:this.objectName.startsWith("tmc")?ZC:this.isFan?Ff:l$}get color(){var e;return(e=this.$store.getters["printer/tempHistory/getDatasetColor"](this.objectName))!=null?e:"#FFFFFF"}get iconColor(){return this.target===null||this.target>0?"".concat(this.color).concat(xC):"".concat(this.color).concat(SC)}get iconClass(){var s,t,r;const e=["_no-focus-style","cursor-pointer"];return this.isFan&&!((t=(s=this.$store.state.gui)==null?void 0:s.uiSettings.disableFanAnimation)!=null&&t)&&((r=this.state)!=null?r:0)>0&&e.push("icon-rotate"),e}get isFan(){return this.objectName.startsWith("temperature_fan")}get state(){var e,s;return(s=(e=this.printerObject.power)!=null?e:this.printerObject.speed)!=null?s:null}get formatState(){return this.state===null?null:this.target===0&&this.state===0?"off":"".concat(Math.round(this.state*100)," %")}get avgPower(){var e;return(e=this.$store.getters["printer/tempHistory/getAvgPower"](this.name))!=null?e:0}get avgSpeed(){var e;return(e=this.$store.getters["printer/tempHistory/getAvgSpeed"](this.name))!=null?e:0}get avgState(){return"power"in this.printerObject?Math.round(this.avgPower):"speed"in this.printerObject?Math.round(this.avgSpeed):null}get temperature(){var e,s;return(s=(e=this.printerObject)==null?void 0:e.temperature)!=null?s:null}get formatTemperature(){var e,s;return"".concat((s=(e=this.temperature)==null?void 0:e.toFixed(1))!=null?s:"--","°C")}get min_temp(){var e;return parseInt((e=this.printerObjectSettings.min_temp)!=null?e:0)}get max_temp(){var e;return parseInt((e=this.printerObjectSettings.max_temp)!=null?e:0)}get measured_min_temp(){var e,s,t;return(t=(s=(e=this.printerObject)==null?void 0:e.measured_min_temp)==null?void 0:s.toFixed(1))!=null?t:null}get measured_max_temp(){var e,s,t;return(t=(s=(e=this.printerObject)==null?void 0:e.measured_max_temp)==null?void 0:s.toFixed(1))!=null?t:null}get target(){var e,s;return(s=(e=this.printerObject)==null?void 0:e.target)!=null?s:null}get additionalSensorName(){if(this.objectName==="z_thermal_adjust")return"z_thermal_adjust";const e=uM.find(s=>{if("".concat(s," ").concat(this.name)in this.$store.state.printer)return!0});return e?"".concat(e," ").concat(this.name):null}get rpm(){var s;return((s=this.printerObject.rpm)!=null?s:null)===null?null:parseInt(this.printerObject.rpm)}get rpmClass(){var e;return this.rpm===0&&((e=this.printerObject.speed)!=null?e:0)>0?"red--text":""}get presets(){var e;return(e=this.$store.getters["gui/presets/getPresetsFromHeater"]({name:this.objectName}))!=null?e:[]}get command(){return this.objectName.startsWith("temperature_fan")?"SET_TEMPERATURE_FAN_TARGET":this.objectName.startsWith("extruder")||this.objectName.startsWith("heater_")?"SET_HEATER_TEMPERATURE":null}get commandAttributeName(){return this.command==="SET_HEATER_TEMPERATURE"?"HEATER":this.command==="SET_TEMPERATURE_FAN_TARGET"?"TEMPERATURE_FAN":""}get availableHeaters(){var e,s;return(s=(e=this.$store.state.printer.heaters)==null?void 0:e.available_heaters)!=null?s:[]}get isHeater(){return this.availableHeaters.includes(this.objectName)}get isHeaterActive(){return this.target>0}mounted(){_h.$on(vh,this.closeContextMenu)}beforeDestroy(){_h.$off(vh,this.closeContextMenu)}openContextMenu(e){_h.$emit(vh),this.showContextMenu=!0,this.contextMenuX=(e==null?void 0:e.clientX)||(e==null?void 0:e.pageX)||window.screenX/2,this.contextMenuY=(e==null?void 0:e.clientY)||(e==null?void 0:e.pageY)||window.screenY/2}closeContextMenu(){this.showContextMenu=!1}openEditDialog(){this.closeContextMenu(),this.showEditDialog=!0}turnOffHeater(){const e="SET_HEATER_TEMPERATURE HEATER=".concat(this.name," TARGET=0");this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e})}};Pg([x({type:String,required:!0})],Ia.prototype,"objectName",2);Pg([x({type:Boolean,required:!0})],Ia.prototype,"isResponsiveMobile",2);Ia=Pg([w],Ia);var WI=Object.defineProperty,zI=Object.getOwnPropertyDescriptor,Tg=(e,s,t,r)=>{for(var i=r>1?void 0:r?zI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&WI(s,t,i),i};let Na=class extends M(O){get printerObject(){return this.additionalObjectName in this.$store.state.printer?this.$store.state.printer[this.additionalObjectName]:{}}get additionalValues(){return this.objectName==="z_thermal_adjust"?["current_z_adjust"]:Object.keys(this.printerObject).filter(e=>e!=="temperature")}};Tg([x({type:String,required:!0})],Na.prototype,"objectName",2);Tg([x({type:String,required:!0})],Na.prototype,"additionalObjectName",2);Na=Tg([w],Na);var qI=Object.defineProperty,ZI=Object.getOwnPropertyDescriptor,Sd=(e,s,t,r)=>{for(var i=r>1?void 0:r?ZI(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&qI(s,t,i),i};let cn=class extends M(O){get value(){var s;const e=(s=this.printerObject[this.keyName])!=null?s:null;return isNaN(e)?null:e}get formatValue(){var t;let e=(t=this.value)==null?void 0:t.toFixed(1);this.value===null&&(e="--");let s=null;switch(this.keyName){case"pressure":s="hPa";break;case"humidity":s="%";break;case"current_z_adjust":s="mm";break}return this.keyName==="current_z_adjust"&&this.value&&(e=this.value.toFixed(3),Math.abs(this.value)<.1&&(e=Math.round(this.value*1e3).toString(),s="μm")),s?"".concat(e," ").concat(s):e}get guiSetting(){return this.$store.getters["gui/getDatasetAdditionalSensorValue"]({name:this.objectName,sensor:this.keyName})}get isVisible(){return this.value===null?!1:this.guiSetting}};Sd([x({type:Object,required:!0})],cn.prototype,"printerObject",2);Sd([x({type:String,required:!0})],cn.prototype,"objectName",2);Sd([x({type:String,required:!0})],cn.prototype,"keyName",2);cn=Sd([w],cn);var YI=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.isVisible?t("div",[t("small",[e._v(e._s(e.formatValue))])]):e._e()},XI=[];const nb={};var JI=E(cn,YI,XI,!1,KI,null,null,null);function KI(e){for(let s in nb)this[s]=nb[s]}const QI=function(){return JI.exports}();var eN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",e._l(e.additionalValues,function(r){return t(QI,{key:r,attrs:{"printer-object":e.printerObject,"object-name":e.objectName,"key-name":r}})}),1)},tN=[];const ab={};var sN=E(Na,eN,tN,!1,rN,null,null,null);function rN(e){for(let s in ab)this[s]=ab[s]}const iN=function(){return sN.exports}();var nN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(r){return e.openContextMenu(r)},expression:"(e) => openContextMenu(e)",arg:"600"}],on:{contextmenu:function(r){return r.preventDefault(),e.openContextMenu(r)}}},[t("td",{staticClass:"icon"},[t(_,{class:e.iconClass,attrs:{color:e.iconColor,tabindex:"-1"},on:{click:e.openEditDialog}},[e._v(" "+e._s(e.icon)+" ")])],1),t("td",{staticClass:"name"},[t("span",{staticClass:"cursor-pointer",on:{click:e.openEditDialog}},[e._v(e._s(e.formatName))])]),e.isResponsiveMobile?e._e():t("td",{staticClass:"state"},[e.state!==null?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("div",e._g(e._b({},"div",n,!1),i),[e._v(e._s(e.formatState))])]}}],null,!1,938967334)},[t("span",[e._v(e._s(e.$t("Panels.TemperaturePanel.Avg"))+": "+e._s(e.avgState)+" %")])]):e._e()],1),t("td",{staticClass:"current"},[t(ue,{attrs:{top:"",disabled:!(e.measured_min_temp!==null||e.measured_max_temp!==null)},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"default"}},"span",n,!1),i),[e._v(" "+e._s(e.formatTemperature)+" ")])]}}])},[t("span",[e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Max"))+": "+e._s(e.measured_max_temp)+"°C "),t("br"),e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Min"))+": "+e._s(e.measured_min_temp)+"°C ")])]),e.rpm!==null?t("div",[t("small",{class:e.rpmClass},[e._v(e._s(e.rpm)+" RPM")])]):e._e(),e.additionalSensorName?t(iN,{attrs:{"object-name":e.objectName,"additional-object-name":e.additionalSensorName}}):e._e()],1),t("td",{staticClass:"target"},[e.command!==null?t(Ax,{attrs:{name:e.name,target:e.target,presets:e.presets,min_temp:e.min_temp,max_temp:e.max_temp,command:e.command,"attribute-name":e.commandAttributeName}}):e._e()],1),t(Nx,{attrs:{"bool-show":e.showEditDialog,"object-name":e.objectName,name:e.name,"format-name":e.formatName,"additional-sensor-name":e.additionalSensorName,icon:e.icon,color:e.color},on:{"close-dialog":function(r){e.showEditDialog=!1}}}),t(ye,{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.showContextMenu,callback:function(r){e.showContextMenu=r},expression:"showContextMenu"}},[t(Ee,[e.isHeater?t(Y,{attrs:{disabled:!e.isHeaterActive},on:{click:e.turnOffHeater}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiSnowflake))]),e._v(" "+e._s(e.$t("Panels.TemperaturePanel.TurnHeaterOff"))+" ")],1):e._e(),t(Y,{on:{click:e.openEditDialog}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiCog))]),e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Settings"))+" ")],1)],1)],1)],1)},aN=[];const ob={};var oN=E(Ia,nN,aN,!1,lN,"609897b7",null,null);function lN(e){for(let s in ob)this[s]=ob[s]}const bh=function(){return oN.exports}();var cN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(st,{attrs:{breakpoints:{mobile:function(r){return r.width<=395}}},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.el;return[t(Cf,{staticClass:"temperature-panel-table"},[t("thead",[t("tr",[t("th",{staticClass:"icon"},[e._v(" ")]),t("th",{staticClass:"name"},[e._v(e._s(e.$t("Panels.TemperaturePanel.Name")))]),i.is.mobile?e._e():t("th",{staticClass:"state"},[e._v(" "+e._s(e.$t("Panels.TemperaturePanel.State"))+" ")]),t("th",{staticClass:"current"},[e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Current"))+" ")]),t("th",{staticClass:"target"},[e._v(" "+e._s(e.$t("Panels.TemperaturePanel.Target"))+" ")])])]),t("tbody",[e._l(e.heaterObjects,function(n){var a;return t(bh,{key:n,attrs:{"object-name":n,"is-responsive-mobile":(a=i.is.mobile)!==null&&a!==void 0?a:!1}})}),e._l(e.nevermoreObjects,function(n){var a;return t(Vx,{key:n,attrs:{"object-name":n,"is-responsive-mobile":(a=i.is.mobile)!==null&&a!==void 0?a:!1}})}),e._l(e.temperature_sensors,function(n){var a;return t(bh,{key:n,attrs:{"object-name":n,"is-responsive-mobile":(a=i.is.mobile)!==null&&a!==void 0?a:!1}})}),e.hideMonitors?e._e():e._l(e.monitors,function(n){var a;return t(bh,{key:n,attrs:{"object-name":n,"is-responsive-mobile":(a=i.is.mobile)!==null&&a!==void 0?a:!1}})})],2)])]}}])})},uN=[];const lb={};var dN=E(Hm,cN,uN,!1,hN,"d2cc2e04",null,null);function hN(e){for(let s in lb)this[s]=lb[s]}const mN=function(){return dN.exports}();var pN=Object.defineProperty,fN=Object.getOwnPropertyDescriptor,gN=(e,s,t,r)=>{for(var i=r>1?void 0:r?fN(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&pN(s,t,i),i};let jm=class extends M(O){constructor(){super(...arguments),this.mdiCog=Yt}get boolTempchart(){var e;return(e=this.$store.state.gui.view.tempchart.boolTempchart)!=null?e:!1}set boolTempchart(e){this.$store.dispatch("gui/saveSetting",{name:"view.tempchart.boolTempchart",value:e})}get autoscaleTempchart(){var e;return(e=this.$store.state.gui.view.tempchart.autoscale)!=null?e:!1}set autoscaleTempchart(e){this.$store.dispatch("gui/saveSetting",{name:"view.tempchart.autoscale",value:e})}get hideMcuHostSensors(){var e;return(e=this.$store.state.gui.view.tempchart.hideMcuHostSensors)!=null?e:!1}set hideMcuHostSensors(e){this.$store.dispatch("gui/saveSetting",{name:"view.tempchart.hideMcuHostSensors",value:e})}get hideMonitors(){var e;return(e=this.$store.state.gui.view.tempchart.hideMonitors)!=null?e:!1}set hideMonitors(e){this.$store.dispatch("gui/saveSetting",{name:"view.tempchart.hideMonitors",value:e})}};jm=gN([w],jm);var _N=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1,title:e.$t("Panels.TemperaturePanel.SetupTemperatures")},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.TemperaturePanel.ShowChart")},model:{value:e.boolTempchart,callback:function(r){e.boolTempchart=r},expression:"boolTempchart"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.TemperaturePanel.HideMcuHostSensors")},model:{value:e.hideMcuHostSensors,callback:function(r){e.hideMcuHostSensors=r},expression:"hideMcuHostSensors"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.TemperaturePanel.HideMonitors")},model:{value:e.hideMonitors,callback:function(r){e.hideMonitors=r},expression:"hideMonitors"}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.TemperaturePanel.AutoscaleChart")},model:{value:e.autoscaleTempchart,callback:function(r){e.autoscaleTempchart=r},expression:"autoscaleTempchart"}})],1)],1)],1)},vN=[];const cb={};var bN=E(jm,_N,vN,!1,yN,null,null,null);function yN(e){for(let s in cb)this[s]=cb[s]}const CN=function(){return bN.exports}();var $N=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.klipperReadyForGui?t(B,{attrs:{icon:e.mdiThermometerLines,title:e.$t("Panels.TemperaturePanel.Headline"),collapsible:!0,"card-class":"temperature-panel"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(Hx),t(CN)]},proxy:!0}],null,!1,3208382191)},[t(Z,{staticClass:"pa-0"},[t(mN),e.boolTempchart?[t(H,{staticClass:"my-0"}),t(Fx)]:e._e()],2)],1):e._e()},xN=[];const ub={};var SN=E(Rm,$N,xN,!1,wN,null,null,null);function wN(e){for(let s in ub)this[s]=ub[s]}const PN=function(){return SN.exports}();var TN=Object.defineProperty,DN=Object.getOwnPropertyDescriptor,MN=(e,s,t,r)=>{for(var i=r>1?void 0:r?DN(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&TN(s,t,i),i};let Pr=class extends M(O){convertUrl(e,s){var r,i,n,a,o,l,c,u;let t=new URL(e,this.hostUrl.toString());if(s!==null&&(t=new URL(e,s)),(e.startsWith("http")||e.startsWith("://"))&&(t=new URL(e)),e.startsWith("/webcam")){const d=[80];d.push((a=(n=(i=(r=this.$store.state.server.config)==null?void 0:r.config)==null?void 0:i.server)==null?void 0:n.port)!=null?a:7125),d.push((u=(c=(l=(o=this.$store.state.server.config)==null?void 0:o.config)==null?void 0:l.server)==null?void 0:c.ssl_port)!=null?u:7130),d.includes(this.hostPort)||(t.port=this.hostPort.toString())}return decodeURIComponent(t.toString())}convertWebcamIcon(e){switch(e){case"mdiAlbum":return xM;case"mdiCampfire":return HM;case"mdiDoor":return r5;case"mdiRadiatorDisabled":return r$;case"mdiPrinter3d":return xo;case"mdiPrinter3dNozzle":return Qs;case"mdiRaspberryPi":return U5;default:return Mn}}generateTransform(e,s,t){let r="";return e&&(r+=" scaleX(-1)"),s&&(r+=" scaleY(-1)"),t===180&&(r+=" rotate(180deg)"),r.trimStart().length?r.trimStart():"none"}};Pr=MN([w],Pr);var EN=Object.defineProperty,ON=Object.getOwnPropertyDescriptor,Ux=(e,s,t,r)=>{for(var i=r>1?void 0:r?ON(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&EN(s,t,i),i};let bc=class extends M(O,Pr){constructor(){super(...arguments),this.mdiWebcam=Mn,this.mdiMenuDown=Lr,this.mdiViewGrid=J1}get webcams(){return this.$store.getters["gui/webcams/getWebcams"]}get showSwitch(){return this.webcams.length>1}get currentCamId(){var s,t,r,i;if(this.webcams.length===1)return(s=this.webcams[0].name)!=null?s:"all";let e=(r=this.$store.state.gui.view.webcam.currentCam[(t=this.currentPage)!=null?t:""])!=null?r:"all";return this.webcams.findIndex(n=>n.name===e)!==-1?e:e!==void 0&&this.webcams.length===1?(i=this.webcams[0].name)!=null?i:"":"all"}set currentCamId(e){this.$store.dispatch("gui/setCurrentWebcam",{page:this.currentPage,value:e})}get currentCam(){const e=this.webcams.find(s=>s.name===this.currentCamId);return e!=null?e:{name:this.$t("Panels.WebcamPanel.All"),service:"grid",icon:J1}}};Ux([x({default:"dashboard"})],bc.prototype,"currentPage",2);bc=Ux([w({components:{Panel:B}})],bc);function LN(e){switch(e){case"Hlsstreamer":return()=>ge(()=>import("./Hlsstreamer-11b3d4f9.js"),["assets/Hlsstreamer-11b3d4f9.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/Hlsstreamer-f9f189cf.css"]);case"Ipstreamer":return()=>ge(()=>import("./Ipstreamer-e3cb693d.js"),["assets/Ipstreamer-e3cb693d.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/Ipstreamer-f951d43b.css"]);case"JanusStreamer":return()=>ge(()=>import("./JanusStreamer-7f51c0d0.js"),["assets/JanusStreamer-7f51c0d0.js","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/JanusStreamer-3206d816.css"]);case"JMuxerStream":return()=>ge(()=>import("./JMuxerStream-3791c11a.js"),["assets/JMuxerStream-3791c11a.js","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/echarts-ff51454d.js","assets/JMuxerStream-baf633f9.css"]);case"Mjpegstreamer":return()=>ge(()=>import("./Mjpegstreamer-4990c77a.js"),["assets/Mjpegstreamer-4990c77a.js","assets/WebcamNozzleCrosshair-92fa8183.js","assets/WebcamNozzleCrosshair-01a27cd3.css","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/Mjpegstreamer-890e2bca.css"]);case"MjpegstreamerAdaptive":return()=>ge(()=>import("./MjpegstreamerAdaptive-0458e461.js"),["assets/MjpegstreamerAdaptive-0458e461.js","assets/WebcamNozzleCrosshair-92fa8183.js","assets/WebcamNozzleCrosshair-01a27cd3.css","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/MjpegstreamerAdaptive-2dd43470.css"]);case"Uv4lMjpeg":return()=>ge(()=>import("./Uv4lMjpeg-33cc3610.js"),["assets/Uv4lMjpeg-33cc3610.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/Uv4lMjpeg-d8f68fca.css"]);case"WebrtcCameraStreamer":return()=>ge(()=>import("./WebrtcCameraStreamer-8f1c05b1.js"),["assets/WebrtcCameraStreamer-8f1c05b1.js","assets/WebcamNozzleCrosshair-92fa8183.js","assets/WebcamNozzleCrosshair-01a27cd3.css","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/WebrtcCameraStreamer-425d8403.css"]);case"WebrtcMediaMTX":return()=>ge(()=>import("./WebrtcMediaMTX-dcf4ca54.js"),["assets/WebrtcMediaMTX-dcf4ca54.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/WebrtcMediaMTX-6448093e.css"]);case"WebrtcGo2rtc":return()=>ge(()=>import("./WebrtcGo2rtc-474d55e2.js"),["assets/WebrtcGo2rtc-474d55e2.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js","assets/WebrtcGo2rtc-4ca7d296.css"])}}const Ps=e=>y.component(e,LN(e));var FN=Object.defineProperty,AN=Object.getOwnPropertyDescriptor,Ao=(e,s,t,r)=>{for(var i=r>1?void 0:r?AN(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&FN(s,t,i),i};let di=class extends M(O){get service(){var e,s;return(s=(e=this.webcam)==null?void 0:e.service)!=null?s:"unknown"}};Ao([x({type:Object,required:!0})],di.prototype,"webcam",2);Ao([x({type:Boolean,default:!0})],di.prototype,"showFps",2);Ao([x({default:null})],di.prototype,"printerUrl",2);Ao([x({type:String,default:null})],di.prototype,"page",2);di=Ao([w({components:{HlsstreamerAsync:Ps("Hlsstreamer"),IpstreamerAsync:Ps("Ipstreamer"),JanusStreamerAsync:Ps("JanusStreamer"),JMuxerStreamAsync:Ps("JMuxerStream"),MjpegstreamerAsync:Ps("Mjpegstreamer"),MjpegstreamerAdaptiveAsync:Ps("MjpegstreamerAdaptive"),Uv4lMjpegAsync:Ps("Uv4lMjpeg"),WebrtcCameraStreamerAsync:Ps("WebrtcCameraStreamer"),WebrtcMediaMTXAsync:Ps("WebrtcMediaMTX"),WebrtcGo2rtcAsync:Ps("WebrtcGo2rtc")}})],di);var kN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.service==="mjpegstreamer"?[t("mjpegstreamer-async",{attrs:{"cam-settings":e.webcam,"show-fps":e.showFps,"printer-url":e.printerUrl,page:e.page}})]:e.service==="mjpegstreamer-adaptive"?[t("mjpegstreamer-adaptive-async",{attrs:{"cam-settings":e.webcam,"show-fps":e.showFps,"printer-url":e.printerUrl}})]:e.service==="uv4l-mjpeg"?[t("uv4l-mjpeg-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:e.service==="ipstream"?[t("ipstreamer-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:e.service==="hlsstream"?[t("hlsstreamer-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:e.service==="jmuxer-stream"?[t("j-muxer-stream-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:e.service==="webrtc-camerastreamer"?[t("webrtc-camera-streamer-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl,page:e.page}})]:e.service==="webrtc-janus"?[t("janus-streamer-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:e.service==="webrtc-mediamtx"?[t("webrtc-media-m-t-x-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl,page:e.page}})]:e.service==="webrtc-go2rtc"?[t("webrtc-go2rtc-async",{attrs:{"cam-settings":e.webcam,"printer-url":e.printerUrl}})]:[t("p",{staticClass:"text-center py-3 font-italic"},[e._v(e._s(e.$t("Panels.WebcamPanel.UnknownWebcamService")))])]],2)},RN=[];const db={};var HN=E(di,kN,RN,!1,jN,null,null,null);function jN(e){for(let s in db)this[s]=db[s]}const Im=function(){return HN.exports}();var IN=Object.defineProperty,NN=Object.getOwnPropertyDescriptor,ko=(e,s,t,r)=>{for(var i=r>1?void 0:r?NN(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&IN(s,t,i),i};let hi=class extends M(O){get webcams(){return this.$store.getters["gui/webcams/getWebcams"]}};ko([x({type:Object,required:!0})],hi.prototype,"webcam",2);ko([x({type:Boolean,default:!0})],hi.prototype,"showFps",2);ko([x({type:String,default:null})],hi.prototype,"printerUrl",2);ko([x({type:String,default:null})],hi.prototype,"page",2);hi=ko([w({components:{WebcamWrapperItem:Im}})],hi);var VN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.webcam.service==="grid"?[e.webcams?t(Pe,{staticClass:"pb-4",attrs:{fluid:""}},[t(C,{attrs:{dense:""}},e._l(e.webcams,function(r){return t(v,{key:r.name,attrs:{cols:"6"}},[t(Im,{attrs:{webcam:r,"printer-url":e.printerUrl,"show-fps":e.showFps,page:e.page}})],1)}),1)],1):e._e()]:[t(Im,{attrs:{webcam:e.webcam,"printer-url":e.printerUrl,"show-fps":e.showFps,page:e.page}})]],2)},UN=[];const hb={};var BN=E(hi,VN,UN,!1,GN,null,null,null);function GN(e){for(let s in hb)this[s]=hb[s]}const wd=function(){return BN.exports}();var WN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.socketIsConnected?t(B,{attrs:{icon:e.mdiWebcam,title:e.$t("Panels.WebcamPanel.Headline"),collapsible:e.$route.fullPath!=="/cam","card-class":"webcam-panel","margin-bottom":e.currentPage!=="page"},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.showSwitch?t(ye,{attrs:{"offset-y":!0},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{text:"",tile:""}},"v-btn",n,!1),i),["icon"in e.currentCam?t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(" "+e._s(e.convertWebcamIcon(e.currentCam.icon))+" ")]):e._e(),t("span",{staticClass:"d-none d-md-block"},[e._v(e._s("name"in e.currentCam?e.currentCam.name:"unknown"))]),t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,150688541)},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},[t(Y,{attrs:{link:""},on:{click:function(r){e.currentCamId="all"}}},[t(Ws,{staticClass:"mr-2"},[t(_,{staticClass:"mt-1",attrs:{small:""}},[e._v(e._s(e.mdiViewGrid))])],1),t(ot,[t(Ne,[e._v(e._s(e.$t("Panels.WebcamPanel.All")))])],1)],1),e._l(e.webcams,function(r){return t(Y,{key:r.name,attrs:{link:""},on:{click:function(i){e.currentCamId=r.name}}},[t(Ws,{staticClass:"mr-2"},[t(_,{staticClass:"mt-1",attrs:{small:""}},[e._v(e._s(e.convertWebcamIcon(r.icon)))])],1),t(ot,[t(Ne,{domProps:{textContent:e._s(r.name)}})],1)],1)})],2)],1):e._e()]},proxy:!0}],null,!1,467766518)},[e.webcams.length?t(Z,{staticClass:"px-0 py-0 content d-inline-block"},[t(C,[t(v,{staticClass:"pb-0",staticStyle:{position:"relative"}},[t(wd,{attrs:{webcam:e.currentCam,page:e.currentPage}})],1)],1)],1):t(Z,[t("p",{staticClass:"text-center mb-0 text--disabled"},[e._v(e._s(e.$t("Panels.WebcamPanel.NoWebcam")))])])],1):e._e()},zN=[];const mb={};var qN=E(bc,WN,zN,!1,ZN,null,null,null);function ZN(e){for(let s in mb)this[s]=mb[s]}const Dg=function(){return qN.exports}();var YN=Object.defineProperty,XN=Object.getOwnPropertyDescriptor,JN=(e,s,t,r)=>{for(var i=r>1?void 0:r?XN(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&YN(s,t,i),i};let Nm=class extends M(Zs){get mobileLayout(){return this.$store.getters["gui/getPanels"]("mobile",0,!0)}get tabletLayout1(){return this.$store.getters["gui/getPanels"]("tablet",1,!0)}get tabletLayout2(){return this.$store.getters["gui/getPanels"]("tablet",2,!0)}get desktopLayout1(){return this.$store.getters["gui/getPanels"]("desktop",1,!0)}get desktopLayout2(){return this.$store.getters["gui/getPanels"]("desktop",2,!0)}get widescreenLayout1(){return this.$store.getters["gui/getPanels"]("widescreen",1,!0)}get widescreenLayout2(){return this.$store.getters["gui/getPanels"]("widescreen",2,!0)}get widescreenLayout3(){return this.$store.getters["gui/getPanels"]("widescreen",3,!0)}extractPanelName(e){return e.split("_")[0]+"-panel"}extractPanelId(e){var s;return(s=e.split("_")[1])!=null?s:null}};Nm=JN([w({components:{ExtruderControlPanel:c6,KlippyStatePanel:wo,MachineSettingsPanel:H6,MacrogroupPanel:G6,MacrosPanel:K6,MiniconsolePanel:jL,MinSettingsPanel:rg,MiscellaneousPanel:bA,SpoolmanPanel:g7,MmuPanel:$k,StatusPanel:sa,ToolheadControlPanel:Lj,TemperaturePanel:PN,WebcamPanel:Dg}})],Nm);var KN=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.isMobile?t(C,[t(v,[t(sa),e._l(e.mobileLayout,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-mobileLayout-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2)],1):e.isTablet?t(C,[t(v,{staticClass:"col-6"},[t(sa),e._l(e.tabletLayout1,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-tabletLayout1-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2),t(v,{staticClass:"col-6"},[e._l(e.tabletLayout2,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-tabletLayout2-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2)],1):e.isDesktop?t(C,[t(v,{staticClass:"col-5"},[t(sa),e._l(e.desktopLayout1,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-desktopLayout1-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2),t(v,{staticClass:"col-7"},[e._l(e.desktopLayout2,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-desktopLayout2-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2)],1):e.isWidescreen?t(C,[t(v,{staticClass:"col-3"},[t(sa),e._l(e.widescreenLayout1,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-desktopLayout1-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2),t(v,{staticClass:"col-5"},[e._l(e.widescreenLayout2,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-desktopLayout2-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2),t(v,{staticClass:"col-4"},[e._l(e.widescreenLayout3,function(r){return[t(e.extractPanelName(r.name),{key:"dashboard-desktopLayout3-"+r.name,tag:"component",attrs:{"panel-id":e.extractPanelId(r.name)}})]})],2)],1):e._e()],1)},QN=[];const pb={};var eV=E(Nm,KN,QN,!1,tV,null,null,null);function tV(e){for(let s in pb)this[s]=pb[s]}const sV=function(){return eV.exports}();var rV=Object.defineProperty,iV=Object.getOwnPropertyDescriptor,nV=(e,s,t,r)=>{for(var i=r>1?void 0:r?iV(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&rV(s,t,i),i};let Vm=class extends M(O){};Vm=nV([w({components:{WebcamPanel:Dg}})],Vm);var aV=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,[t(v,{attrs:{"col-12":""}},[t(Dg,{attrs:{"current-page":"page"}})],1)],1)],1)},oV=[];const fb={};var lV=E(Vm,aV,oV,!1,cV,null,null,null);function cV(e){for(let s in fb)this[s]=fb[s]}const uV=function(){return lV.exports}();var dV=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,Pd=(e,s,t,r)=>{for(var i=r>1?void 0:r?hV(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&dV(s,t,i),i};let un=class extends M(O,yt,Pr){constructor(){super(...arguments),this.mdiPrinter3d=xo,this.mdiWebcam=Mn,this.mdiMenuDown=Lr,this.mdiWebcamOff=aE,this.mdiFileOutline=IC,this.imageHeight=200}get printerUrl(){let t=window.location.href.split("/")[0]+"//"+this.printer.socket.hostname;return this.printer.socket.webPort!==80&&(t+=":"+this.printer.socket.webPort),t}get isCurrentPrinter(){return this.$store.getters["farm/"+this.printer._namespace+"/isCurrentPrinter"]}get currentCamName(){return this.$store.getters["farm/"+this.printer._namespace+"/getSetting"]("currentCamName","off")}set currentCamName(e){this.$store.dispatch("farm/"+this.printer._namespace+"/setSettings",{currentCamName:e})}get printer_name(){return this.$store.getters["farm/"+this.printer._namespace+"/getPrinterName"]}get printer_status(){return this.$store.getters["farm/"+this.printer._namespace+"/getStatus"]}get printer_current_filename(){return this.$store.getters["farm/"+this.printer._namespace+"/getCurrentFilename"]}get printer_image(){var e;return this.currentWebcam?this.sidebarBgImage:(e=this.$store.getters["farm/"+this.printer._namespace+"/getImage"])!=null?e:this.sidebarBgImage}get printer_logo(){return this.$store.getters["farm/"+this.printer._namespace+"/getLogo"]}get printerLogoColor(){return this.$store.getters["farm/"+this.printer._namespace+"/getLogoColor"]}get printer_position(){return this.$store.getters["farm/"+this.printer._namespace+"/getPosition"]}get printer_preview(){return this.$store.getters["farm/"+this.printer._namespace+"/getPrinterPreview"]}get showWebcamSwitch(){return this.printer_webcams.length==0?!1:this.printer.socket.isConnected}get printer_webcams(){return this.$store.getters["farm/"+this.printer._namespace+"/getPrinterWebcams"]}get currentWebcam(){var s;const e=(s=this.printer_webcams)==null?void 0:s.find(t=>t.name===this.currentCamName);return e||null}get panelClass(){let e=[];return!this.printer.socket.isConnected&&!this.printer.socket.isConnecting&&e.push("disabledPrinter"),e}clickPrinter(){if(this.printer.socket.isConnected){this.$store.dispatch("changePrinter",{printer:this.printer._namespace});return}this.$store.dispatch("farm/"+this.printer._namespace+"/reconnect")}mounted(){this.calcImageHeight()}calcImageHeight(){var e,s;if((s=(e=this.imageDiv)==null?void 0:e.$el)!=null&&s.clientWidth){this.imageHeight=Math.round(this.imageDiv.$el.clientWidth/3*2);return}this.imageHeight=200}handleResize(){this.$nextTick(()=>{this.calcImageHeight()})}};Pd([x({type:Object,required:!0})],un.prototype,"printer",2);Pd([Fs()],un.prototype,"imageDiv",2);Pd([Ye(200)],un.prototype,"handleResize",1);un=Pd([w({components:{Panel:B,"webcam-wrapper":wd,"mainsail-logo":En}})],un);var mV=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{class:e.panelClass,attrs:{icon:e.mdiPrinter3d,title:e.printer_name,"card-class":"farmprinter-panel",loading:e.printer.socket.isConnecting,"toolbar-color":e.isCurrentPrinter?"primary":""},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.showWebcamSwitch?t(ye,{attrs:{"offset-y":!0,title:"Webcam"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{text:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiWebcam))]),t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,505444931)},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},[t(Y,{attrs:{link:""},on:{click:function(r){e.currentCamName="off"}}},[t(Ws,{staticClass:"mr-2"},[t(_,{staticClass:"mt-1",attrs:{small:""}},[e._v(e._s(e.mdiWebcamOff))])],1),t(ot,[t(Ne,[e._v(e._s(e.$t("Panels.FarmPrinterPanel.WebcamOff")))])],1)],1),e._l(e.printer_webcams,function(r){return t(Y,{key:r.name,attrs:{link:""},on:{click:function(i){e.currentCamName=r.name}}},[t(Ws,{staticClass:"mr-2"},[t(_,{staticClass:"mt-1",attrs:{small:""}},[e._v(e._s(e.convertWebcamIcon(r.icon)))])],1),t(ot,[t(Ne,{domProps:{textContent:e._s(r.name)}})],1)],1)})],2)],1):e._e()]},proxy:!0}])},[t(GD,{scopedSlots:e._u([{key:"default",fn:function(r){var i=r.hover;return[t("div",[t(Hu,{ref:"imageDiv",staticClass:"d-flex align-end",attrs:{height:e.imageHeight,src:e.printer_image}},[e.printer.socket.isConnected&&e.currentCamName!=="off"&&e.currentWebcam&&"service"in e.currentWebcam?t("div",{staticClass:"webcamContainer"},[t(wd,{attrs:{webcam:e.currentWebcam,"printer-url":e.printerUrl,"show-fps":!1}})],1):e._e(),t(ft,{staticClass:"white--text py-2",staticStyle:{"background-color":"rgba(0, 0, 0, 0.3)","backdrop-filter":"blur(3px)"}},[t(C,[t(v,{staticClass:"col-auto pr-0 d-flex align-center",staticStyle:{width:"58px"}},[e.printer_logo?t("img",{staticClass:"my-auto",staticStyle:{width:"100%"},attrs:{src:e.printer_logo,alt:"Logo"}}):t(En,{staticClass:"my-auto",staticStyle:{width:"100%"},attrs:{color:e.printerLogoColor}})],1),t(v,{staticClass:"col",staticStyle:{width:"100px"}},[t("h3",{staticClass:"font-weight-regular"},[e._v(e._s(e.printer_status))]),e.printer_current_filename!==""?t("span",{staticClass:"subtitle-2 text-truncate px-0 text--disabled d-block"},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiFileOutline))]),e._v(" "+e._s(e.printer_current_filename)+" ")],1):e._e()])],1)],1)],1),e.printer_preview.length?t(Z,{staticClass:"px-0 py-2"},[t(Pe,{staticClass:"py-0"},[t(C,e._l(e.printer_preview,function(n){return t(v,{key:n.name,class:n.name==="ETA"?"col-auto":"col px-2"},[t("strong",{staticClass:"d-block text-center"},[e._v(e._s(n.name))]),t("span",{staticClass:"d-block text-center"},[e._v(e._s(n.value))])])}),1)],1)],1):e._e(),t(WD,[i?t(zD,{attrs:{absolute:"","z-index":4}},[t(g,{attrs:{color:"primary"},on:{click:e.clickPrinter}},[e._v(" "+e._s(e.printer.socket.isConnected?e.$t("Panels.FarmPrinterPanel.SwitchToPrinter"):e.$t("Panels.FarmPrinterPanel.ReconnectToPrinter"))+" ")])],1):e._e()],1)],1)]}}])}),t("resize-observer",{on:{notify:e.handleResize}})],1)},pV=[];const gb={};var fV=E(un,mV,pV,!1,gV,"69438451",null,null);function gV(e){for(let s in gb)this[s]=gb[s]}const Bx=function(){return fV.exports}();var _V=Object.defineProperty,vV=Object.getOwnPropertyDescriptor,bV=(e,s,t,r)=>{for(var i=r>1?void 0:r?vV(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_V(s,t,i),i};let Um=class extends M(O){get printers(){return this.$store.getters["farm/getPrinters"]}};Um=bV([w({components:{FarmPrinterPanel:Bx}})],Um);var yV=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,e._l(e.printers,function(r,i){return t(v,{key:i,staticClass:"col-12 col-sm-6 col-md-4 pb-0"},[t(Bx,{attrs:{printer:r}})],1)}),1)},CV=[];const _b={};var $V=E(Um,yV,CV,!1,xV,null,null,null);function xV(e){for(let s in _b)this[s]=_b[s]}const SV=function(){return $V.exports}();var wV=Object.defineProperty,PV=Object.getOwnPropertyDescriptor,Ro=(e,s,t,r)=>{for(var i=r>1?void 0:r?PV(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&wV(s,t,i),i};let mi=class extends M(O,wa){constructor(){super(...arguments),this.mdiCog=Yt,this.mdiTrashCan=h$}get events(){return this.$store.getters["server/getConsoleEvents"](this.consoleDirection==="table")}eventsChanged(){this.consoleDirection==="shell"&&this.autoscroll&&setTimeout(()=>{this.scrollToBottom()},50)}autoscrollChanged(e){e&&this.scrollToBottom()}commandClick(e){this.gcodeCommandField.setGcode(e)}mounted(){this.consoleDirection==="shell"&&this.scrollToBottom()}scrollToBottom(){this.$nextTick(()=>{if(!this.consoleScroll)return;const e=this.consoleScroll.osInstance();e==null||e.scroll({y:"100%"})})}};Ro([Fs()],mi.prototype,"consoleScroll",2);Ro([Fs()],mi.prototype,"gcodeCommandField",2);Ro([ce("events")],mi.prototype,"eventsChanged",1);Ro([ce("autoscroll")],mi.prototype,"autoscrollChanged",1);mi=Ro([w({components:{CommandHelpModal:id,ConsoleTable:sd}})],mi);var TV=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"d-flex flex-column"},[t(C,{class:e.consoleDirection==="table"?"order-0":"order-1 mt-3"},[t(v,[t(R$,{ref:"gcodeCommandField"})],1),t(v,{staticClass:"col-auto d-flex align-center"},[t(g,{staticClass:"mr-3 px-2 minwidth-0",attrs:{color:"lightgray"},on:{click:e.clearConsole}},[t(_,[e._v(e._s(e.mdiTrashCan))])],1),t(id,{on:{onCommand:function(r){return e.commandClick(r)}}}),t(ye,{attrs:{"offset-y":"",top:e.consoleDirection==="shell","close-on-content-click":!1,title:e.$t("Console.SetupConsole")},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"ml-3 px-2 minwidth-0",attrs:{color:"lightgray"}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[e.consoleDirection==="shell"?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.Autoscroll")},model:{value:e.autoscroll,callback:function(r){e.autoscroll=r},expression:"autoscroll"}})],1):e._e(),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Console.HideTemperatures")},model:{value:e.hideWaitTemperatures,callback:function(r){e.hideWaitTemperatures=r},expression:"hideWaitTemperatures"}})],1),e.moonrakerComponents.includes("timelapse")?t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Console.HideTimelapse")},model:{value:e.hideTlCommands,callback:function(r){e.hideTlCommands=r},expression:"hideTlCommands"}})],1):e._e(),e._l(e.customFilters,function(r,i){return t(Y,{key:i,staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:r.name},on:{change:function(n){return e.toggleFilter(i,r)}},model:{value:r.bool,callback:function(n){e.$set(r,"bool",n)},expression:"filter.bool"}})],1)}),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("Panels.MiniconsolePanel.RawOutput")},model:{value:e.rawOutput,callback:function(r){e.rawOutput=r},expression:"rawOutput"}})],1)],2)],1)],1)],1),t(C,{class:e.consoleDirection==="table"?"order-1":"order-0 mt-0"},[t(v,{class:e.consoleDirection==="table"?"col":"col pt-0"},[t(Te,[t(Z,{staticClass:"pa-0"},[t("overlay-scrollbars",{ref:"consoleScroll",staticClass:"consoleScrollContainer d-flex flex-column"},[t(sd,{ref:"console",attrs:{"is-mini":!1,events:e.events},on:{"command-click":e.commandClick}})],1)],1)],1)],1)],1)],1)},DV=[];const vb={};var MV=E(mi,TV,DV,!1,EV,"6491b9d8",null,null);function EV(e){for(let s in vb)this[s]=vb[s]}const OV=function(){return MV.exports}();var Gx={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(s){return typeof s}:gl=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gl(e)}function LV(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function rs(){return rs=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rs.apply(this,arguments)}function Tr(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){LV(e,i,t[i])})}return e}function FV(e,s){if(e==null)return{};var t={},r=Object.keys(e),i,n;for(n=0;n<r.length;n++)i=r[n],!(s.indexOf(i)>=0)&&(t[i]=e[i]);return t}function AV(e,s){if(e==null)return{};var t=FV(e,s),r,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function kV(e){return RV(e)||HV(e)||jV()}function RV(e){if(Array.isArray(e)){for(var s=0,t=new Array(e.length);s<e.length;s++)t[s]=e[s];return t}}function HV(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function jV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var IV="1.10.2";function Us(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var rr=Us(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ho=Us(/Edge/i),bb=Us(/firefox/i),Bm=Us(/safari/i)&&!Us(/chrome/i)&&!Us(/android/i),Wx=Us(/iP(ad|od|hone)/i),NV=Us(/chrome/i)&&Us(/android/i),zx={capture:!1,passive:!1};function Le(e,s,t){e.addEventListener(s,t,!rr&&zx)}function Me(e,s,t){e.removeEventListener(s,t,!rr&&zx)}function yc(e,s){if(s){if(s[0]===">"&&(s=s.substring(1)),e)try{if(e.matches)return e.matches(s);if(e.msMatchesSelector)return e.msMatchesSelector(s);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(s)}catch{return!1}return!1}}function VV(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ds(e,s,t,r){if(e){t=t||document;do{if(s!=null&&(s[0]===">"?e.parentNode===t&&yc(e,s):yc(e,s))||r&&e===t)return e;if(e===t)break}while(e=VV(e))}return null}var yb=/\s+/g;function Ue(e,s,t){if(e&&s)if(e.classList)e.classList[t?"add":"remove"](s);else{var r=(" "+e.className+" ").replace(yb," ").replace(" "+s+" "," ");e.className=(r+(t?" "+s:"")).replace(yb," ")}}function me(e,s,t){var r=e&&e.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),s===void 0?t:t[s];!(s in r)&&s.indexOf("webkit")===-1&&(s="-webkit-"+s),r[s]=t+(typeof t=="string"?"":"px")}}function Jr(e,s){var t="";if(typeof e=="string")t=e;else do{var r=me(e,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!s&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function qx(e,s,t){if(e){var r=e.getElementsByTagName(s),i=0,n=r.length;if(t)for(;i<n;i++)t(r[i],i);return r}return[]}function Ds(){var e=document.scrollingElement;return e||document.documentElement}function qe(e,s,t,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var n,a,o,l,c,u,d;if(e!==window&&e!==Ds()?(n=e.getBoundingClientRect(),a=n.top,o=n.left,l=n.bottom,c=n.right,u=n.height,d=n.width):(a=0,o=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(s||t)&&e!==window&&(i=i||e.parentNode,!rr))do if(i&&i.getBoundingClientRect&&(me(i,"transform")!=="none"||t&&me(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(me(i,"border-top-width")),o-=h.left+parseInt(me(i,"border-left-width")),l=a+n.height,c=o+n.width;break}while(i=i.parentNode);if(r&&e!==window){var m=Jr(i||e),p=m&&m.a,f=m&&m.d;m&&(a/=f,o/=p,d/=p,u/=f,l=a+u,c=o+d)}return{top:a,left:o,bottom:l,right:c,width:d,height:u}}}function Cb(e,s,t){for(var r=dr(e,!0),i=qe(e)[s];r;){var n=qe(r)[t],a=void 0;if(t==="top"||t==="left"?a=i>=n:a=i<=n,!a)return r;if(r===Ds())break;r=dr(r,!1)}return!1}function Cc(e,s,t){for(var r=0,i=0,n=e.children;i<n.length;){if(n[i].style.display!=="none"&&n[i]!==ve.ghost&&n[i]!==ve.dragged&&ds(n[i],t.draggable,e,!1)){if(r===s)return n[i];r++}i++}return null}function Mg(e,s){for(var t=e.lastElementChild;t&&(t===ve.ghost||me(t,"display")==="none"||s&&!yc(t,s));)t=t.previousElementSibling;return t||null}function ze(e,s){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ve.clone&&(!s||yc(e,s))&&t++;return t}function $b(e){var s=0,t=0,r=Ds();if(e)do{var i=Jr(e),n=i.a,a=i.d;s+=e.scrollLeft*n,t+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[s,t]}function UV(e,s){for(var t in e)if(e.hasOwnProperty(t)){for(var r in s)if(s.hasOwnProperty(r)&&s[r]===e[t][r])return Number(t)}return-1}function dr(e,s){if(!e||!e.getBoundingClientRect)return Ds();var t=e,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=me(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ds();if(r||s)return t;r=!0}}while(t=t.parentNode);return Ds()}function BV(e,s){if(e&&s)for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t]);return e}function yh(e,s){return Math.round(e.top)===Math.round(s.top)&&Math.round(e.left)===Math.round(s.left)&&Math.round(e.height)===Math.round(s.height)&&Math.round(e.width)===Math.round(s.width)}var ua;function Zx(e,s){return function(){if(!ua){var t=arguments,r=this;t.length===1?e.call(r,t[0]):e.apply(r,t),ua=setTimeout(function(){ua=void 0},s)}}}function GV(){clearTimeout(ua),ua=void 0}function Yx(e,s,t){e.scrollLeft+=s,e.scrollTop+=t}function Eg(e){var s=window.Polymer,t=window.jQuery||window.Zepto;return s&&s.dom?s.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function xb(e,s){me(e,"position","absolute"),me(e,"top",s.top),me(e,"left",s.left),me(e,"width",s.width),me(e,"height",s.height)}function Ch(e){me(e,"position",""),me(e,"top",""),me(e,"left",""),me(e,"width",""),me(e,"height","")}var bt="Sortable"+new Date().getTime();function WV(){var e=[],s;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(me(i,"display")==="none"||i===ve.ghost)){e.push({target:i,rect:qe(i)});var n=Tr({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=Jr(i,!0);a&&(n.top-=a.f,n.left-=a.e)}i.fromRect=n}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(UV(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(s),typeof r=="function"&&r();return}var n=!1,a=0;e.forEach(function(o){var l=0,c=o.target,u=c.fromRect,d=qe(c),h=c.prevFromRect,m=c.prevToRect,p=o.rect,f=Jr(c,!0);f&&(d.top-=f.f,d.left-=f.e),c.toRect=d,c.thisAnimationDuration&&yh(h,d)&&!yh(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=qV(p,h,m,i.options)),yh(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=i.options.animation),i.animate(c,p,d,l)),l&&(n=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(s),n?s=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),e=[]},animate:function(r,i,n,a){if(a){me(r,"transition",""),me(r,"transform","");var o=Jr(this.el),l=o&&o.a,c=o&&o.d,u=(i.left-n.left)/(l||1),d=(i.top-n.top)/(c||1);r.animatingX=!!u,r.animatingY=!!d,me(r,"transform","translate3d("+u+"px,"+d+"px,0)"),zV(r),me(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),me(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){me(r,"transition",""),me(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function zV(e){return e.offsetWidth}function qV(e,s,t,r){return Math.sqrt(Math.pow(s.top-e.top,2)+Math.pow(s.left-e.left,2))/Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))*r.animation}var Bn=[],$h={initializeByDefault:!0},jo={mount:function(s){for(var t in $h)$h.hasOwnProperty(t)&&!(t in s)&&(s[t]=$h[t]);Bn.push(s)},pluginEvent:function(s,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var n=s+"Global";Bn.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][n]&&t[a.pluginName][n](Tr({sortable:t},r)),t.options[a.pluginName]&&t[a.pluginName][s]&&t[a.pluginName][s](Tr({sortable:t},r)))})},initializePlugins:function(s,t,r,i){Bn.forEach(function(o){var l=o.pluginName;if(!(!s.options[l]&&!o.initializeByDefault)){var c=new o(s,t,s.options);c.sortable=s,c.options=s.options,s[l]=c,rs(r,c.defaults)}});for(var n in s.options)if(s.options.hasOwnProperty(n)){var a=this.modifyOption(s,n,s.options[n]);typeof a<"u"&&(s.options[n]=a)}},getEventProperties:function(s,t){var r={};return Bn.forEach(function(i){typeof i.eventProperties=="function"&&rs(r,i.eventProperties.call(t[i.pluginName],s))}),r},modifyOption:function(s,t,r){var i;return Bn.forEach(function(n){s[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[t]=="function"&&(i=n.optionListeners[t].call(s[n.pluginName],r))}),i}};function ra(e){var s=e.sortable,t=e.rootEl,r=e.name,i=e.targetEl,n=e.cloneEl,a=e.toEl,o=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,p=e.extraEventProperties;if(s=s||t&&t[bt],!!s){var f,b=s.options,$="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!rr&&!Ho?f=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(r,!0,!0)),f.to=a||t,f.from=o||t,f.item=i||t,f.clone=n,f.oldIndex=l,f.newIndex=c,f.oldDraggableIndex=u,f.newDraggableIndex=d,f.originalEvent=h,f.pullMode=m?m.lastPutMode:void 0;var P=Tr({},p,jo.getEventProperties(r,s));for(var D in P)f[D]=P[D];t&&t.dispatchEvent(f),b[$]&&b[$].call(s,f)}}var Ot=function(s,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,n=AV(r,["evt"]);jo.pluginEvent.bind(ve)(s,t,Tr({dragEl:ne,parentEl:Je,ghostEl:xe,rootEl:Ve,nextEl:Vr,lastDownEl:_l,cloneEl:We,cloneHidden:or,dragStarted:ia,putSortable:pt,activeSortable:ve.active,originalEvent:i,oldIndex:Ii,oldDraggableIndex:da,newIndex:Gt,newDraggableIndex:ar,hideGhostForTarget:Qx,unhideGhostForTarget:eS,cloneNowHidden:function(){or=!0},cloneNowShown:function(){or=!1},dispatchSortableEvent:function(o){$t({sortable:t,name:o,originalEvent:i})}},n))};function $t(e){ra(Tr({putSortable:pt,cloneEl:We,targetEl:ne,rootEl:Ve,oldIndex:Ii,oldDraggableIndex:da,newIndex:Gt,newDraggableIndex:ar},e))}var ne,Je,xe,Ve,Vr,_l,We,or,Ii,Gt,da,ar,Qo,pt,Hi=!1,$c=!1,xc=[],jr,os,xh,Sh,Sb,wb,ia,Ei,ha,ma=!1,el=!1,vl,vt,wh=[],Gm=!1,Sc=[],Td=typeof document<"u",tl=Wx,Pb=Ho||rr?"cssFloat":"float",ZV=Td&&!NV&&!Wx&&"draggable"in document.createElement("div"),Xx=function(){if(Td){if(rr)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Jx=function(s,t){var r=me(s),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),n=Cc(s,0,t),a=Cc(s,1,t),o=n&&me(n),l=a&&me(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+qe(n).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+qe(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&o.float&&o.float!=="none"){var d=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return n&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||c>=i&&r[Pb]==="none"||a&&r[Pb]==="none"&&c+u>i)?"vertical":"horizontal"},YV=function(s,t,r){var i=r?s.left:s.top,n=r?s.right:s.bottom,a=r?s.width:s.height,o=r?t.left:t.top,l=r?t.right:t.bottom,c=r?t.width:t.height;return i===o||n===l||i+a/2===o+c/2},XV=function(s,t){var r;return xc.some(function(i){if(!Mg(i)){var n=qe(i),a=i[bt].options.emptyInsertThreshold,o=s>=n.left-a&&s<=n.right+a,l=t>=n.top-a&&t<=n.bottom+a;if(a&&o&&l)return r=i}}),r},Kx=function(s){function t(n,a){return function(o,l,c,u){var d=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(n==null&&(a||d))return!0;if(n==null||n===!1)return!1;if(a&&n==="clone")return n;if(typeof n=="function")return t(n(o,l,c,u),a)(o,l,c,u);var h=(a?o:l).options.group.name;return n===!0||typeof n=="string"&&n===h||n.join&&n.indexOf(h)>-1}}var r={},i=s.group;(!i||gl(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,s.group=r},Qx=function(){!Xx&&xe&&me(xe,"display","none")},eS=function(){!Xx&&xe&&me(xe,"display","")};Td&&document.addEventListener("click",function(e){if($c)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),$c=!1,!1},!0);var Ir=function(s){if(ne){s=s.touches?s.touches[0]:s;var t=XV(s.clientX,s.clientY);if(t){var r={};for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[bt]._onDragOver(r)}}},JV=function(s){ne&&ne.parentNode[bt]._isOutsideThisEl(s.target)};function ve(e,s){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=s=rs({},s),e[bt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jx(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ve.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};jo.initializePlugins(this,e,t);for(var r in t)!(r in s)&&(s[r]=t[r]);Kx(s);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=s.forceFallback?!1:ZV,this.nativeDraggable&&(this.options.touchStartThreshold=1),s.supportPointer?Le(e,"pointerdown",this._onTapStart):(Le(e,"mousedown",this._onTapStart),Le(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Le(e,"dragover",this),Le(e,"dragenter",this)),xc.push(this.el),s.store&&s.store.get&&this.sort(s.store.get(this)||[]),rs(this,WV())}ve.prototype={constructor:ve,_isOutsideThisEl:function(s){!this.el.contains(s)&&s!==this.el&&(Ei=null)},_getDirection:function(s,t){return typeof this.options.direction=="function"?this.options.direction.call(this,s,t,ne):this.options.direction},_onTapStart:function(s){if(s.cancelable){var t=this,r=this.el,i=this.options,n=i.preventOnFilter,a=s.type,o=s.touches&&s.touches[0]||s.pointerType&&s.pointerType==="touch"&&s,l=(o||s).target,c=s.target.shadowRoot&&(s.path&&s.path[0]||s.composedPath&&s.composedPath()[0])||l,u=i.filter;if(iU(r),!ne&&!(/mousedown|pointerdown/.test(a)&&s.button!==0||i.disabled)&&!c.isContentEditable&&(l=ds(l,i.draggable,r,!1),!(l&&l.animated)&&_l!==l)){if(Ii=ze(l),da=ze(l,i.draggable),typeof u=="function"){if(u.call(this,s,l,this)){$t({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),Ot("filter",t,{evt:s}),n&&s.cancelable&&s.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=ds(c,d.trim(),r,!1),d)return $t({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Ot("filter",t,{evt:s}),!0}),u)){n&&s.cancelable&&s.preventDefault();return}i.handle&&!ds(c,i.handle,r,!1)||this._prepareDragStart(s,o,l)}}},_prepareDragStart:function(s,t,r){var i=this,n=i.el,a=i.options,o=n.ownerDocument,l;if(r&&!ne&&r.parentNode===n){var c=qe(r);if(Ve=n,ne=r,Je=ne.parentNode,Vr=ne.nextSibling,_l=r,Qo=a.group,ve.dragged=ne,jr={target:ne,clientX:(t||s).clientX,clientY:(t||s).clientY},Sb=jr.clientX-c.left,wb=jr.clientY-c.top,this._lastX=(t||s).clientX,this._lastY=(t||s).clientY,ne.style["will-change"]="all",l=function(){if(Ot("delayEnded",i,{evt:s}),ve.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!bb&&i.nativeDraggable&&(ne.draggable=!0),i._triggerDragStart(s,t),$t({sortable:i,name:"choose",originalEvent:s}),Ue(ne,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){qx(ne,u.trim(),Th)}),Le(o,"dragover",Ir),Le(o,"mousemove",Ir),Le(o,"touchmove",Ir),Le(o,"mouseup",i._onDrop),Le(o,"touchend",i._onDrop),Le(o,"touchcancel",i._onDrop),bb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ne.draggable=!0),Ot("delayStart",this,{evt:s}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ho||rr))){if(ve.eventCanceled){this._onDrop();return}Le(o,"mouseup",i._disableDelayedDrag),Le(o,"touchend",i._disableDelayedDrag),Le(o,"touchcancel",i._disableDelayedDrag),Le(o,"mousemove",i._delayedDragTouchMoveHandler),Le(o,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Le(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(s){var t=s.touches?s.touches[0]:s;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ne&&Th(ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var s=this.el.ownerDocument;Me(s,"mouseup",this._disableDelayedDrag),Me(s,"touchend",this._disableDelayedDrag),Me(s,"touchcancel",this._disableDelayedDrag),Me(s,"mousemove",this._delayedDragTouchMoveHandler),Me(s,"touchmove",this._delayedDragTouchMoveHandler),Me(s,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(s,t){t=t||s.pointerType=="touch"&&s,!this.nativeDraggable||t?this.options.supportPointer?Le(document,"pointermove",this._onTouchMove):t?Le(document,"touchmove",this._onTouchMove):Le(document,"mousemove",this._onTouchMove):(Le(ne,"dragend",this),Le(Ve,"dragstart",this._onDragStart));try{document.selection?bl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(s,t){if(Hi=!1,Ve&&ne){Ot("dragStarted",this,{evt:t}),this.nativeDraggable&&Le(document,"dragover",JV);var r=this.options;!s&&Ue(ne,r.dragClass,!1),Ue(ne,r.ghostClass,!0),ve.active=this,s&&this._appendGhost(),$t({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(os){this._lastX=os.clientX,this._lastY=os.clientY,Qx();for(var s=document.elementFromPoint(os.clientX,os.clientY),t=s;s&&s.shadowRoot&&(s=s.shadowRoot.elementFromPoint(os.clientX,os.clientY),s!==t);)t=s;if(ne.parentNode[bt]._isOutsideThisEl(s),t)do{if(t[bt]){var r=void 0;if(r=t[bt]._onDragOver({clientX:os.clientX,clientY:os.clientY,target:s,rootEl:t}),r&&!this.options.dragoverBubble)break}s=t}while(t=t.parentNode);eS()}},_onTouchMove:function(s){if(jr){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,n=s.touches?s.touches[0]:s,a=xe&&Jr(xe,!0),o=xe&&a&&a.a,l=xe&&a&&a.d,c=tl&&vt&&$b(vt),u=(n.clientX-jr.clientX+i.x)/(o||1)+(c?c[0]-wh[0]:0)/(o||1),d=(n.clientY-jr.clientY+i.y)/(l||1)+(c?c[1]-wh[1]:0)/(l||1);if(!ve.active&&!Hi){if(r&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<r)return;this._onDragStart(s,!0)}if(xe){a?(a.e+=u-(xh||0),a.f+=d-(Sh||0)):a={a:1,b:0,c:0,d:1,e:u,f:d};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");me(xe,"webkitTransform",h),me(xe,"mozTransform",h),me(xe,"msTransform",h),me(xe,"transform",h),xh=u,Sh=d,os=n}s.cancelable&&s.preventDefault()}},_appendGhost:function(){if(!xe){var s=this.options.fallbackOnBody?document.body:Ve,t=qe(ne,!0,tl,!0,s),r=this.options;if(tl){for(vt=s;me(vt,"position")==="static"&&me(vt,"transform")==="none"&&vt!==document;)vt=vt.parentNode;vt!==document.body&&vt!==document.documentElement?(vt===document&&(vt=Ds()),t.top+=vt.scrollTop,t.left+=vt.scrollLeft):vt=Ds(),wh=$b(vt)}xe=ne.cloneNode(!0),Ue(xe,r.ghostClass,!1),Ue(xe,r.fallbackClass,!0),Ue(xe,r.dragClass,!0),me(xe,"transition",""),me(xe,"transform",""),me(xe,"box-sizing","border-box"),me(xe,"margin",0),me(xe,"top",t.top),me(xe,"left",t.left),me(xe,"width",t.width),me(xe,"height",t.height),me(xe,"opacity","0.8"),me(xe,"position",tl?"absolute":"fixed"),me(xe,"zIndex","100000"),me(xe,"pointerEvents","none"),ve.ghost=xe,s.appendChild(xe),me(xe,"transform-origin",Sb/parseInt(xe.style.width)*100+"% "+wb/parseInt(xe.style.height)*100+"%")}},_onDragStart:function(s,t){var r=this,i=s.dataTransfer,n=r.options;if(Ot("dragStart",this,{evt:s}),ve.eventCanceled){this._onDrop();return}Ot("setupClone",this),ve.eventCanceled||(We=Eg(ne),We.draggable=!1,We.style["will-change"]="",this._hideClone(),Ue(We,this.options.chosenClass,!1),ve.clone=We),r.cloneId=bl(function(){Ot("clone",r),!ve.eventCanceled&&(r.options.removeCloneOnHide||Ve.insertBefore(We,ne),r._hideClone(),$t({sortable:r,name:"clone"}))}),!t&&Ue(ne,n.dragClass,!0),t?($c=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Me(document,"mouseup",r._onDrop),Me(document,"touchend",r._onDrop),Me(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",n.setData&&n.setData.call(r,i,ne)),Le(document,"drop",r),me(ne,"transform","translateZ(0)")),Hi=!0,r._dragStartId=bl(r._dragStarted.bind(r,t,s)),Le(document,"selectstart",r),ia=!0,Bm&&me(document.body,"user-select","none")},_onDragOver:function(s){var t=this.el,r=s.target,i,n,a,o=this.options,l=o.group,c=ve.active,u=Qo===l,d=o.sort,h=pt||c,m,p=this,f=!1;if(Gm)return;function b(ee,te){Ot(ee,p,Tr({evt:s,isOwner:u,axis:m?"vertical":"horizontal",revert:a,dragRect:i,targetRect:n,canSort:d,fromSortable:h,target:r,completed:P,onMove:function(z,T){return Ph(Ve,t,ne,i,z,qe(z),s,T)},changed:D},te))}function $(){b("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function P(ee){return b("dragOverCompleted",{insertion:ee}),ee&&(u?c._hideClone():c._showClone(p),p!==h&&(Ue(ne,pt?pt.options.ghostClass:c.options.ghostClass,!1),Ue(ne,o.ghostClass,!0)),pt!==p&&p!==ve.active?pt=p:p===ve.active&&pt&&(pt=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){b("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===ne&&!ne.animated||r===t&&!r.animated)&&(Ei=null),!o.dragoverBubble&&!s.rootEl&&r!==document&&(ne.parentNode[bt]._isOutsideThisEl(s.target),!ee&&Ir(s)),!o.dragoverBubble&&s.stopPropagation&&s.stopPropagation(),f=!0}function D(){Gt=ze(ne),ar=ze(ne,o.draggable),$t({sortable:p,name:"change",toEl:t,newIndex:Gt,newDraggableIndex:ar,originalEvent:s})}if(s.preventDefault!==void 0&&s.cancelable&&s.preventDefault(),r=ds(r,o.draggable,t,!0),b("dragOver"),ve.eventCanceled)return f;if(ne.contains(s.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return P(!1);if($c=!1,c&&!o.disabled&&(u?d||(a=!Ve.contains(ne)):pt===this||(this.lastPutMode=Qo.checkPull(this,c,ne,s))&&l.checkPut(this,c,ne,s))){if(m=this._getDirection(s,r)==="vertical",i=qe(ne),b("dragOverValid"),ve.eventCanceled)return f;if(a)return Je=Ve,$(),this._hideClone(),b("revert"),ve.eventCanceled||(Vr?Ve.insertBefore(ne,Vr):Ve.appendChild(ne)),P(!0);var R=Mg(t,o.draggable);if(!R||eU(s,m,this)&&!R.animated){if(R===ne)return P(!1);if(R&&t===s.target&&(r=R),r&&(n=qe(r)),Ph(Ve,t,ne,i,r,n,s,!!r)!==!1)return $(),t.appendChild(ne),Je=t,D(),P(!0)}else if(r.parentNode===t){n=qe(r);var k=0,S,L=ne.parentNode!==t,I=!YV(ne.animated&&ne.toRect||i,r.animated&&r.toRect||n,m),N=m?"top":"left",G=Cb(r,"top","top")||Cb(ne,"top","top"),q=G?G.scrollTop:void 0;Ei!==r&&(S=n[N],ma=!1,el=!I&&o.invertSwap||L),k=tU(s,r,n,m,I?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,el,Ei===r);var se;if(k!==0){var F=ze(ne);do F-=k,se=Je.children[F];while(se&&(me(se,"display")==="none"||se===xe))}if(k===0||se===r)return P(!1);Ei=r,ha=k;var W=r.nextElementSibling,X=!1;X=k===1;var J=Ph(Ve,t,ne,i,r,n,s,X);if(J!==!1)return(J===1||J===-1)&&(X=J===1),Gm=!0,setTimeout(QV,30),$(),X&&!W?t.appendChild(ne):r.parentNode.insertBefore(ne,X?W:r),G&&Yx(G,0,q-G.scrollTop),Je=ne.parentNode,S!==void 0&&!el&&(vl=Math.abs(S-qe(r)[N])),D(),P(!0)}if(t.contains(ne))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Me(document,"mousemove",this._onTouchMove),Me(document,"touchmove",this._onTouchMove),Me(document,"pointermove",this._onTouchMove),Me(document,"dragover",Ir),Me(document,"mousemove",Ir),Me(document,"touchmove",Ir)},_offUpEvents:function(){var s=this.el.ownerDocument;Me(s,"mouseup",this._onDrop),Me(s,"touchend",this._onDrop),Me(s,"pointerup",this._onDrop),Me(s,"touchcancel",this._onDrop),Me(document,"selectstart",this)},_onDrop:function(s){var t=this.el,r=this.options;if(Gt=ze(ne),ar=ze(ne,r.draggable),Ot("drop",this,{evt:s}),Je=ne&&ne.parentNode,Gt=ze(ne),ar=ze(ne,r.draggable),ve.eventCanceled){this._nulling();return}Hi=!1,el=!1,ma=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wm(this.cloneId),Wm(this._dragStartId),this.nativeDraggable&&(Me(document,"drop",this),Me(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Bm&&me(document.body,"user-select",""),me(ne,"transform",""),s&&(ia&&(s.cancelable&&s.preventDefault(),!r.dropBubble&&s.stopPropagation()),xe&&xe.parentNode&&xe.parentNode.removeChild(xe),(Ve===Je||pt&&pt.lastPutMode!=="clone")&&We&&We.parentNode&&We.parentNode.removeChild(We),ne&&(this.nativeDraggable&&Me(ne,"dragend",this),Th(ne),ne.style["will-change"]="",ia&&!Hi&&Ue(ne,pt?pt.options.ghostClass:this.options.ghostClass,!1),Ue(ne,this.options.chosenClass,!1),$t({sortable:this,name:"unchoose",toEl:Je,newIndex:null,newDraggableIndex:null,originalEvent:s}),Ve!==Je?(Gt>=0&&($t({rootEl:Je,name:"add",toEl:Je,fromEl:Ve,originalEvent:s}),$t({sortable:this,name:"remove",toEl:Je,originalEvent:s}),$t({rootEl:Je,name:"sort",toEl:Je,fromEl:Ve,originalEvent:s}),$t({sortable:this,name:"sort",toEl:Je,originalEvent:s})),pt&&pt.save()):Gt!==Ii&&Gt>=0&&($t({sortable:this,name:"update",toEl:Je,originalEvent:s}),$t({sortable:this,name:"sort",toEl:Je,originalEvent:s})),ve.active&&((Gt==null||Gt===-1)&&(Gt=Ii,ar=da),$t({sortable:this,name:"end",toEl:Je,originalEvent:s}),this.save()))),this._nulling()},_nulling:function(){Ot("nulling",this),Ve=ne=Je=xe=Vr=We=_l=or=jr=os=ia=Gt=ar=Ii=da=Ei=ha=pt=Qo=ve.dragged=ve.ghost=ve.clone=ve.active=null,Sc.forEach(function(s){s.checked=!0}),Sc.length=xh=Sh=0},handleEvent:function(s){switch(s.type){case"drop":case"dragend":this._onDrop(s);break;case"dragenter":case"dragover":ne&&(this._onDragOver(s),KV(s));break;case"selectstart":s.preventDefault();break}},toArray:function(){for(var s=[],t,r=this.el.children,i=0,n=r.length,a=this.options;i<n;i++)t=r[i],ds(t,a.draggable,this.el,!1)&&s.push(t.getAttribute(a.dataIdAttr)||rU(t));return s},sort:function(s){var t={},r=this.el;this.toArray().forEach(function(i,n){var a=r.children[n];ds(a,this.options.draggable,r,!1)&&(t[i]=a)},this),s.forEach(function(i){t[i]&&(r.removeChild(t[i]),r.appendChild(t[i]))})},save:function(){var s=this.options.store;s&&s.set&&s.set(this)},closest:function(s,t){return ds(s,t||this.options.draggable,this.el,!1)},option:function(s,t){var r=this.options;if(t===void 0)return r[s];var i=jo.modifyOption(this,s,t);typeof i<"u"?r[s]=i:r[s]=t,s==="group"&&Kx(r)},destroy:function(){Ot("destroy",this);var s=this.el;s[bt]=null,Me(s,"mousedown",this._onTapStart),Me(s,"touchstart",this._onTapStart),Me(s,"pointerdown",this._onTapStart),this.nativeDraggable&&(Me(s,"dragover",this),Me(s,"dragenter",this)),Array.prototype.forEach.call(s.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xc.splice(xc.indexOf(this.el),1),this.el=s=null},_hideClone:function(){if(!or){if(Ot("hideClone",this),ve.eventCanceled)return;me(We,"display","none"),this.options.removeCloneOnHide&&We.parentNode&&We.parentNode.removeChild(We),or=!0}},_showClone:function(s){if(s.lastPutMode!=="clone"){this._hideClone();return}if(or){if(Ot("showClone",this),ve.eventCanceled)return;Ve.contains(ne)&&!this.options.group.revertClone?Ve.insertBefore(We,ne):Vr?Ve.insertBefore(We,Vr):Ve.appendChild(We),this.options.group.revertClone&&this.animate(ne,We),me(We,"display",""),or=!1}}};function KV(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ph(e,s,t,r,i,n,a,o){var l,c=e[bt],u=c.options.onMove,d;return window.CustomEvent&&!rr&&!Ho?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=s,l.from=e,l.dragged=t,l.draggedRect=r,l.related=i||s,l.relatedRect=n||qe(s),l.willInsertAfter=o,l.originalEvent=a,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function Th(e){e.draggable=!1}function QV(){Gm=!1}function eU(e,s,t){var r=qe(Mg(t.el,t.options.draggable)),i=10;return s?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function tU(e,s,t,r,i,n,a,o){var l=r?e.clientY:e.clientX,c=r?t.height:t.width,u=r?t.top:t.left,d=r?t.bottom:t.right,h=!1;if(!a){if(o&&vl<c*i){if(!ma&&(ha===1?l>u+c*n/2:l<d-c*n/2)&&(ma=!0),ma)h=!0;else if(ha===1?l<u+vl:l>d-vl)return-ha}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return sU(s)}return h=h||a,h&&(l<u+c*n/2||l>d-c*n/2)?l>u+c/2?1:-1:0}function sU(e){return ze(ne)<ze(e)?1:-1}function rU(e){for(var s=e.tagName+e.className+e.src+e.href+e.textContent,t=s.length,r=0;t--;)r+=s.charCodeAt(t);return r.toString(36)}function iU(e){Sc.length=0;for(var s=e.getElementsByTagName("input"),t=s.length;t--;){var r=s[t];r.checked&&Sc.push(r)}}function bl(e){return setTimeout(e,0)}function Wm(e){return clearTimeout(e)}Td&&Le(document,"touchmove",function(e){(ve.active||Hi)&&e.cancelable&&e.preventDefault()});ve.utils={on:Le,off:Me,css:me,find:qx,is:function(s,t){return!!ds(s,t,s,!1)},extend:BV,throttle:Zx,closest:ds,toggleClass:Ue,clone:Eg,index:ze,nextTick:bl,cancelNextTick:Wm,detectDirection:Jx,getChild:Cc};ve.get=function(e){return e[bt]};ve.mount=function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];s[0].constructor===Array&&(s=s[0]),s.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ve.utils=Tr({},ve.utils,r.utils)),jo.mount(r)})};ve.create=function(e,s){return new ve(e,s)};ve.version=IV;var Ke=[],na,zm,qm=!1,Dh,Mh,wc,aa;function nU(){function e(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this))}return e.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?Le(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Le(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Le(document,"touchmove",this._handleFallbackAutoScroll):Le(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Me(document,"dragover",this._handleAutoScroll):(Me(document,"pointermove",this._handleFallbackAutoScroll),Me(document,"touchmove",this._handleFallbackAutoScroll),Me(document,"mousemove",this._handleFallbackAutoScroll)),Tb(),yl(),GV()},nulling:function(){wc=zm=na=qm=aa=Dh=Mh=null,Ke.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var i=this,n=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,a);if(wc=t,r||Ho||rr||Bm){Eh(t,this.options,o,r);var l=dr(o,!0);qm&&(!aa||n!==Dh||a!==Mh)&&(aa&&Tb(),aa=setInterval(function(){var c=dr(document.elementFromPoint(n,a),!0);c!==l&&(l=c,yl()),Eh(t,i.options,c,r)},10),Dh=n,Mh=a)}else{if(!this.options.bubbleScroll||dr(o,!0)===Ds()){yl();return}Eh(t,this.options,dr(o,!1),!1)}}},rs(e,{pluginName:"scroll",initializeByDefault:!0})}function yl(){Ke.forEach(function(e){clearInterval(e.pid)}),Ke=[]}function Tb(){clearInterval(aa)}var Eh=Zx(function(e,s,t,r){if(s.scroll){var i=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,a=s.scrollSensitivity,o=s.scrollSpeed,l=Ds(),c=!1,u;zm!==t&&(zm=t,yl(),na=s.scroll,u=s.scrollFn,na===!0&&(na=dr(t,!0)));var d=0,h=na;do{var m=h,p=qe(m),f=p.top,b=p.bottom,$=p.left,P=p.right,D=p.width,R=p.height,k=void 0,S=void 0,L=m.scrollWidth,I=m.scrollHeight,N=me(m),G=m.scrollLeft,q=m.scrollTop;m===l?(k=D<L&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),S=R<I&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(k=D<L&&(N.overflowX==="auto"||N.overflowX==="scroll"),S=R<I&&(N.overflowY==="auto"||N.overflowY==="scroll"));var se=k&&(Math.abs(P-i)<=a&&G+D<L)-(Math.abs($-i)<=a&&!!G),F=S&&(Math.abs(b-n)<=a&&q+R<I)-(Math.abs(f-n)<=a&&!!q);if(!Ke[d])for(var W=0;W<=d;W++)Ke[W]||(Ke[W]={});(Ke[d].vx!=se||Ke[d].vy!=F||Ke[d].el!==m)&&(Ke[d].el=m,Ke[d].vx=se,Ke[d].vy=F,clearInterval(Ke[d].pid),(se!=0||F!=0)&&(c=!0,Ke[d].pid=setInterval((function(){r&&this.layer===0&&ve.active._onTouchMove(wc);var X=Ke[this.layer].vy?Ke[this.layer].vy*o:0,J=Ke[this.layer].vx?Ke[this.layer].vx*o:0;typeof u=="function"&&u.call(ve.dragged.parentNode[bt],J,X,e,wc,Ke[this.layer].el)!=="continue"||Yx(Ke[this.layer].el,J,X)}).bind({layer:d}),24))),d++}while(s.bubbleScroll&&h!==l&&(h=dr(h,!1)));qm=c}},30),tS=function(s){var t=s.originalEvent,r=s.putSortable,i=s.dragEl,n=s.activeSortable,a=s.dispatchSortableEvent,o=s.hideGhostForTarget,l=s.unhideGhostForTarget;if(t){var c=r||n;o();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Og(){}Og.prototype={startIndex:null,dragStart:function(s){var t=s.oldDraggableIndex;this.startIndex=t},onSpill:function(s){var t=s.dragEl,r=s.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Cc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:tS};rs(Og,{pluginName:"revertOnSpill"});function Lg(){}Lg.prototype={onSpill:function(s){var t=s.dragEl,r=s.putSortable,i=r||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:tS};rs(Lg,{pluginName:"removeOnSpill"});var Kt;function aU(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){var r=t.dragEl;Kt=r},dragOverValid:function(t){var r=t.completed,i=t.target,n=t.onMove,a=t.activeSortable,o=t.changed,l=t.cancel;if(a.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var d=Kt;n(i)!==!1?(Ue(i,u.swapClass,!0),Kt=i):Kt=null,d&&d!==Kt&&Ue(d,u.swapClass,!1)}o(),r(!0),l()}},drop:function(t){var r=t.activeSortable,i=t.putSortable,n=t.dragEl,a=i||this.sortable,o=this.options;Kt&&Ue(Kt,o.swapClass,!1),Kt&&(o.swap||i&&i.options.swap)&&n!==Kt&&(a.captureAnimationState(),a!==r&&r.captureAnimationState(),oU(n,Kt),a.animateAll(),a!==r&&r.animateAll())},nulling:function(){Kt=null}},rs(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Kt}}})}function oU(e,s){var t=e.parentNode,r=s.parentNode,i,n;!t||!r||t.isEqualNode(s)||r.isEqualNode(e)||(i=ze(e),n=ze(s),t.isEqualNode(r)&&i<n&&n++,t.insertBefore(s,t.children[i]),r.insertBefore(e,r.children[n]))}var $e=[],Bt=[],Gn,ls,Wn=!1,Vt=!1,Oi=!1,Re,zn,sl;function lU(){function e(s){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));s.options.supportPointer?Le(document,"pointerup",this._deselectMultiDrag):(Le(document,"mouseup",this._deselectMultiDrag),Le(document,"touchend",this._deselectMultiDrag)),Le(document,"keydown",this._checkKeyDown),Le(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,n){var a="";$e.length&&ls===s?$e.forEach(function(o,l){a+=(l?", ":"")+o.textContent}):a=n.textContent,i.setData("Text",a)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var r=t.dragEl;Re=r},delayEnded:function(){this.isMultiDrag=~$e.indexOf(Re)},setupClone:function(t){var r=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var n=0;n<$e.length;n++)Bt.push(Eg($e[n])),Bt[n].sortableIndex=$e[n].sortableIndex,Bt[n].draggable=!1,Bt[n].style["will-change"]="",Ue(Bt[n],this.options.selectedClass,!1),$e[n]===Re&&Ue(Bt[n],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(t){var r=t.sortable,i=t.rootEl,n=t.dispatchSortableEvent,a=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||$e.length&&ls===r&&(Db(!0,i),n("clone"),a()))},showClone:function(t){var r=t.cloneNowShown,i=t.rootEl,n=t.cancel;this.isMultiDrag&&(Db(!1,i),Bt.forEach(function(a){me(a,"display","")}),r(),sl=!1,n())},hideClone:function(t){var r=this;t.sortable;var i=t.cloneNowHidden,n=t.cancel;this.isMultiDrag&&(Bt.forEach(function(a){me(a,"display","none"),r.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),i(),sl=!0,n())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&ls&&ls.multiDrag._deselectMultiDrag(),$e.forEach(function(r){r.sortableIndex=ze(r)}),$e=$e.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Oi=!0},dragStarted:function(t){var r=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){$e.forEach(function(a){a!==Re&&me(a,"position","absolute")});var n=qe(Re,!1,!0,!0);$e.forEach(function(a){a!==Re&&xb(a,n)}),Vt=!0,Wn=!0}i.animateAll(function(){Vt=!1,Wn=!1,r.options.animation&&$e.forEach(function(a){Ch(a)}),r.options.sort&&rl()})}},dragOver:function(t){var r=t.target,i=t.completed,n=t.cancel;Vt&&~$e.indexOf(r)&&(i(!1),n())},revert:function(t){var r=t.fromSortable,i=t.rootEl,n=t.sortable,a=t.dragRect;$e.length>1&&($e.forEach(function(o){n.addAnimationState({target:o,rect:Vt?qe(o):a}),Ch(o),o.fromRect=a,r.removeAnimationState(o)}),Vt=!1,cU(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var r=t.sortable,i=t.isOwner,n=t.insertion,a=t.activeSortable,o=t.parentEl,l=t.putSortable,c=this.options;if(n){if(i&&a._hideClone(),Wn=!1,c.animation&&$e.length>1&&(Vt||!i&&!a.options.sort&&!l)){var u=qe(Re,!1,!0,!0);$e.forEach(function(h){h!==Re&&(xb(h,u),o.appendChild(h))}),Vt=!0}if(!i)if(Vt||rl(),$e.length>1){var d=sl;a._showClone(r),a.options.animation&&!sl&&d&&Bt.forEach(function(h){a.addAnimationState({target:h,rect:zn}),h.fromRect=zn,h.thisAnimationDuration=null})}else a._showClone(r)}},dragOverAnimationCapture:function(t){var r=t.dragRect,i=t.isOwner,n=t.activeSortable;if($e.forEach(function(o){o.thisAnimationDuration=null}),n.options.animation&&!i&&n.multiDrag.isMultiDrag){zn=rs({},r);var a=Jr(Re,!0);zn.top-=a.f,zn.left-=a.e}},dragOverAnimationComplete:function(){Vt&&(Vt=!1,rl())},drop:function(t){var r=t.originalEvent,i=t.rootEl,n=t.parentEl,a=t.sortable,o=t.dispatchSortableEvent,l=t.oldIndex,c=t.putSortable,u=c||this.sortable;if(r){var d=this.options,h=n.children;if(!Oi)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ue(Re,d.selectedClass,!~$e.indexOf(Re)),~$e.indexOf(Re))$e.splice($e.indexOf(Re),1),Gn=null,ra({sortable:a,rootEl:i,name:"deselect",targetEl:Re,originalEvt:r});else{if($e.push(Re),ra({sortable:a,rootEl:i,name:"select",targetEl:Re,originalEvt:r}),r.shiftKey&&Gn&&a.el.contains(Gn)){var m=ze(Gn),p=ze(Re);if(~m&&~p&&m!==p){var f,b;for(p>m?(b=m,f=p):(b=p,f=m+1);b<f;b++)~$e.indexOf(h[b])||(Ue(h[b],d.selectedClass,!0),$e.push(h[b]),ra({sortable:a,rootEl:i,name:"select",targetEl:h[b],originalEvt:r}))}}else Gn=Re;ls=u}if(Oi&&this.isMultiDrag){if((n[bt].options.sort||n!==i)&&$e.length>1){var $=qe(Re),P=ze(Re,":not(."+this.options.selectedClass+")");if(!Wn&&d.animation&&(Re.thisAnimationDuration=null),u.captureAnimationState(),!Wn&&(d.animation&&(Re.fromRect=$,$e.forEach(function(R){if(R.thisAnimationDuration=null,R!==Re){var k=Vt?qe(R):$;R.fromRect=k,u.addAnimationState({target:R,rect:k})}})),rl(),$e.forEach(function(R){h[P]?n.insertBefore(R,h[P]):n.appendChild(R),P++}),l===ze(Re))){var D=!1;$e.forEach(function(R){if(R.sortableIndex!==ze(R)){D=!0;return}}),D&&o("update")}$e.forEach(function(R){Ch(R)}),u.animateAll()}ls=u}(i===n||c&&c.lastPutMode!=="clone")&&Bt.forEach(function(R){R.parentNode&&R.parentNode.removeChild(R)})}},nullingGlobal:function(){this.isMultiDrag=Oi=!1,Bt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Me(document,"pointerup",this._deselectMultiDrag),Me(document,"mouseup",this._deselectMultiDrag),Me(document,"touchend",this._deselectMultiDrag),Me(document,"keydown",this._checkKeyDown),Me(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof Oi<"u"&&Oi)&&ls===this.sortable&&!(t&&ds(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;$e.length;){var r=$e[0];Ue(r,this.options.selectedClass,!1),$e.shift(),ra({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},rs(e,{pluginName:"multiDrag",utils:{select:function(t){var r=t.parentNode[bt];!r||!r.options.multiDrag||~$e.indexOf(t)||(ls&&ls!==r&&(ls.multiDrag._deselectMultiDrag(),ls=r),Ue(t,r.options.selectedClass,!0),$e.push(t))},deselect:function(t){var r=t.parentNode[bt],i=$e.indexOf(t);!r||!r.options.multiDrag||!~i||(Ue(t,r.options.selectedClass,!1),$e.splice(i,1))}},eventProperties:function(){var t=this,r=[],i=[];return $e.forEach(function(n){r.push({multiDragElement:n,index:n.sortableIndex});var a;Vt&&n!==Re?a=-1:Vt?a=ze(n,":not(."+t.options.selectedClass+")"):a=ze(n),i.push({multiDragElement:n,index:a})}),{items:kV($e),clones:[].concat(Bt),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function cU(e,s){$e.forEach(function(t,r){var i=s.children[t.sortableIndex+(e?Number(r):0)];i?s.insertBefore(t,i):s.appendChild(t)})}function Db(e,s){Bt.forEach(function(t,r){var i=s.children[t.sortableIndex+(e?Number(r):0)];i?s.insertBefore(t,i):s.appendChild(t)})}function rl(){$e.forEach(function(e){e!==Re&&e.parentNode&&e.parentNode.removeChild(e)})}ve.mount(new nU);ve.mount(Lg,Og);const uU=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:lU,Sortable:ve,Swap:aU,default:ve},Symbol.toStringTag,{value:"Module"})),dU=$f(uU);(function(e,s){(function(r,i){e.exports=i(dU)})(typeof self<"u"?self:Wr,function(t){return function(r){var i={};function n(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=i,n.d=function(a,o,l){n.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,o){if(o&1&&(a=n(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var c in a)n.d(l,c,(function(u){return a[u]}).bind(null,c));return l},n.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(o,"a",o),o},n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},n.p="",n(n.s="fb15")}({"01f9":function(r,i,n){var a=n("2d00"),o=n("5ca1"),l=n("2aba"),c=n("32e9"),u=n("84f2"),d=n("41a0"),h=n("7f20"),m=n("38fd"),p=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),b="@@iterator",$="keys",P="values",D=function(){return this};r.exports=function(R,k,S,L,I,N,G){d(S,k,L);var q=function(V){if(!f&&V in X)return X[V];switch(V){case $:return function(){return new S(this,V)};case P:return function(){return new S(this,V)}}return function(){return new S(this,V)}},se=k+" Iterator",F=I==P,W=!1,X=R.prototype,J=X[p]||X[b]||I&&X[I],ee=J||q(I),te=I?F?q("entries"):ee:void 0,j=k=="Array"&&X.entries||J,z,T,A;if(j&&(A=m(j.call(new R)),A!==Object.prototype&&A.next&&(h(A,se,!0),!a&&typeof A[p]!="function"&&c(A,p,D))),F&&J&&J.name!==P&&(W=!0,ee=function(){return J.call(this)}),(!a||G)&&(f||W||!X[p])&&c(X,p,ee),u[k]=ee,u[se]=D,I)if(z={values:F?ee:q(P),keys:N?ee:q($),entries:te},G)for(T in z)T in X||l(X,T,z[T]);else o(o.P+o.F*(f||W),k,z);return z}},"02f4":function(r,i,n){var a=n("4588"),o=n("be13");r.exports=function(l){return function(c,u){var d=String(o(c)),h=a(u),m=d.length,p,f;return h<0||h>=m?l?"":void 0:(p=d.charCodeAt(h),p<55296||p>56319||h+1===m||(f=d.charCodeAt(h+1))<56320||f>57343?l?d.charAt(h):p:l?d.slice(h,h+2):(p-55296<<10)+(f-56320)+65536)}}},"0390":function(r,i,n){var a=n("02f4")(!0);r.exports=function(o,l,c){return l+(c?a(o,l).length:1)}},"0bfb":function(r,i,n){var a=n("cb7c");r.exports=function(){var o=a(this),l="";return o.global&&(l+="g"),o.ignoreCase&&(l+="i"),o.multiline&&(l+="m"),o.unicode&&(l+="u"),o.sticky&&(l+="y"),l}},"0d58":function(r,i,n){var a=n("ce10"),o=n("e11e");r.exports=Object.keys||function(c){return a(c,o)}},1495:function(r,i,n){var a=n("86cc"),o=n("cb7c"),l=n("0d58");r.exports=n("9e1e")?Object.defineProperties:function(u,d){o(u);for(var h=l(d),m=h.length,p=0,f;m>p;)a.f(u,f=h[p++],d[f]);return u}},"214f":function(r,i,n){n("b0c5");var a=n("2aba"),o=n("32e9"),l=n("79e5"),c=n("be13"),u=n("2b4c"),d=n("520a"),h=u("species"),m=!l(function(){var f=/./;return f.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(f,"$<a>")!=="7"}),p=function(){var f=/(?:)/,b=f.exec;f.exec=function(){return b.apply(this,arguments)};var $="ab".split(f);return $.length===2&&$[0]==="a"&&$[1]==="b"}();r.exports=function(f,b,$){var P=u(f),D=!l(function(){var N={};return N[P]=function(){return 7},""[f](N)!=7}),R=D?!l(function(){var N=!1,G=/a/;return G.exec=function(){return N=!0,null},f==="split"&&(G.constructor={},G.constructor[h]=function(){return G}),G[P](""),!N}):void 0;if(!D||!R||f==="replace"&&!m||f==="split"&&!p){var k=/./[P],S=$(c,P,""[f],function(G,q,se,F,W){return q.exec===d?D&&!W?{done:!0,value:k.call(q,se,F)}:{done:!0,value:G.call(se,q,F)}:{done:!1}}),L=S[0],I=S[1];a(String.prototype,f,L),o(RegExp.prototype,P,b==2?function(N,G){return I.call(N,this,G)}:function(N){return I.call(N,this)})}}},"230e":function(r,i,n){var a=n("d3f4"),o=n("7726").document,l=a(o)&&a(o.createElement);r.exports=function(c){return l?o.createElement(c):{}}},"23c6":function(r,i,n){var a=n("2d95"),o=n("2b4c")("toStringTag"),l=a(function(){return arguments}())=="Arguments",c=function(u,d){try{return u[d]}catch{}};r.exports=function(u){var d,h,m;return u===void 0?"Undefined":u===null?"Null":typeof(h=c(d=Object(u),o))=="string"?h:l?a(d):(m=a(d))=="Object"&&typeof d.callee=="function"?"Arguments":m}},2621:function(r,i){i.f=Object.getOwnPropertySymbols},"2aba":function(r,i,n){var a=n("7726"),o=n("32e9"),l=n("69a8"),c=n("ca5a")("src"),u=n("fa5b"),d="toString",h=(""+u).split(d);n("8378").inspectSource=function(m){return u.call(m)},(r.exports=function(m,p,f,b){var $=typeof f=="function";$&&(l(f,"name")||o(f,"name",p)),m[p]!==f&&($&&(l(f,c)||o(f,c,m[p]?""+m[p]:h.join(String(p)))),m===a?m[p]=f:b?m[p]?m[p]=f:o(m,p,f):(delete m[p],o(m,p,f)))})(Function.prototype,d,function(){return typeof this=="function"&&this[c]||u.call(this)})},"2aeb":function(r,i,n){var a=n("cb7c"),o=n("1495"),l=n("e11e"),c=n("613b")("IE_PROTO"),u=function(){},d="prototype",h=function(){var m=n("230e")("iframe"),p=l.length,f="<",b=">",$;for(m.style.display="none",n("fab2").appendChild(m),m.src="javascript:",$=m.contentWindow.document,$.open(),$.write(f+"script"+b+"document.F=Object"+f+"/script"+b),$.close(),h=$.F;p--;)delete h[d][l[p]];return h()};r.exports=Object.create||function(p,f){var b;return p!==null?(u[d]=a(p),b=new u,u[d]=null,b[c]=p):b=h(),f===void 0?b:o(b,f)}},"2b4c":function(r,i,n){var a=n("5537")("wks"),o=n("ca5a"),l=n("7726").Symbol,c=typeof l=="function",u=r.exports=function(d){return a[d]||(a[d]=c&&l[d]||(c?l:o)("Symbol."+d))};u.store=a},"2d00":function(r,i){r.exports=!1},"2d95":function(r,i){var n={}.toString;r.exports=function(a){return n.call(a).slice(8,-1)}},"2fdb":function(r,i,n){var a=n("5ca1"),o=n("d2c8"),l="includes";a(a.P+a.F*n("5147")(l),"String",{includes:function(u){return!!~o(this,u,l).indexOf(u,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(r,i,n){var a=n("86cc"),o=n("4630");r.exports=n("9e1e")?function(l,c,u){return a.f(l,c,o(1,u))}:function(l,c,u){return l[c]=u,l}},"38fd":function(r,i,n){var a=n("69a8"),o=n("4bf8"),l=n("613b")("IE_PROTO"),c=Object.prototype;r.exports=Object.getPrototypeOf||function(u){return u=o(u),a(u,l)?u[l]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},"41a0":function(r,i,n){var a=n("2aeb"),o=n("4630"),l=n("7f20"),c={};n("32e9")(c,n("2b4c")("iterator"),function(){return this}),r.exports=function(u,d,h){u.prototype=a(c,{next:o(1,h)}),l(u,d+" Iterator")}},"456d":function(r,i,n){var a=n("4bf8"),o=n("0d58");n("5eda")("keys",function(){return function(c){return o(a(c))}})},4588:function(r,i){var n=Math.ceil,a=Math.floor;r.exports=function(o){return isNaN(o=+o)?0:(o>0?a:n)(o)}},4630:function(r,i){r.exports=function(n,a){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:a}}},"4bf8":function(r,i,n){var a=n("be13");r.exports=function(o){return Object(a(o))}},5147:function(r,i,n){var a=n("2b4c")("match");r.exports=function(o){var l=/./;try{"/./"[o](l)}catch{try{return l[a]=!1,!"/./"[o](l)}catch{}}return!0}},"520a":function(r,i,n){var a=n("0bfb"),o=RegExp.prototype.exec,l=String.prototype.replace,c=o,u="lastIndex",d=function(){var p=/a/,f=/b*/g;return o.call(p,"a"),o.call(f,"a"),p[u]!==0||f[u]!==0}(),h=/()??/.exec("")[1]!==void 0,m=d||h;m&&(c=function(f){var b=this,$,P,D,R;return h&&(P=new RegExp("^"+b.source+"$(?!\\s)",a.call(b))),d&&($=b[u]),D=o.call(b,f),d&&D&&(b[u]=b.global?D.index+D[0].length:$),h&&D&&D.length>1&&l.call(D[0],P,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(D[R]=void 0)}),D}),r.exports=c},"52a7":function(r,i){i.f={}.propertyIsEnumerable},5537:function(r,i,n){var a=n("8378"),o=n("7726"),l="__core-js_shared__",c=o[l]||(o[l]={});(r.exports=function(u,d){return c[u]||(c[u]=d!==void 0?d:{})})("versions",[]).push({version:a.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(r,i,n){var a=n("7726"),o=n("8378"),l=n("32e9"),c=n("2aba"),u=n("9b43"),d="prototype",h=function(m,p,f){var b=m&h.F,$=m&h.G,P=m&h.S,D=m&h.P,R=m&h.B,k=$?a:P?a[p]||(a[p]={}):(a[p]||{})[d],S=$?o:o[p]||(o[p]={}),L=S[d]||(S[d]={}),I,N,G,q;$&&(f=p);for(I in f)N=!b&&k&&k[I]!==void 0,G=(N?k:f)[I],q=R&&N?u(G,a):D&&typeof G=="function"?u(Function.call,G):G,k&&c(k,I,G,m&h.U),S[I]!=G&&l(S,I,q),D&&L[I]!=G&&(L[I]=G)};a.core=o,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,r.exports=h},"5eda":function(r,i,n){var a=n("5ca1"),o=n("8378"),l=n("79e5");r.exports=function(c,u){var d=(o.Object||{})[c]||Object[c],h={};h[c]=u(d),a(a.S+a.F*l(function(){d(1)}),"Object",h)}},"5f1b":function(r,i,n){var a=n("23c6"),o=RegExp.prototype.exec;r.exports=function(l,c){var u=l.exec;if(typeof u=="function"){var d=u.call(l,c);if(typeof d!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return d}if(a(l)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(l,c)}},"613b":function(r,i,n){var a=n("5537")("keys"),o=n("ca5a");r.exports=function(l){return a[l]||(a[l]=o(l))}},"626a":function(r,i,n){var a=n("2d95");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return a(o)=="String"?o.split(""):Object(o)}},6762:function(r,i,n){var a=n("5ca1"),o=n("c366")(!0);a(a.P,"Array",{includes:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(r,i,n){var a=n("626a"),o=n("be13");r.exports=function(l){return a(o(l))}},"69a8":function(r,i){var n={}.hasOwnProperty;r.exports=function(a,o){return n.call(a,o)}},"6a99":function(r,i,n){var a=n("d3f4");r.exports=function(o,l){if(!a(o))return o;var c,u;if(l&&typeof(c=o.toString)=="function"&&!a(u=c.call(o))||typeof(c=o.valueOf)=="function"&&!a(u=c.call(o))||!l&&typeof(c=o.toString)=="function"&&!a(u=c.call(o)))return u;throw TypeError("Can't convert object to primitive value")}},7333:function(r,i,n){var a=n("0d58"),o=n("2621"),l=n("52a7"),c=n("4bf8"),u=n("626a"),d=Object.assign;r.exports=!d||n("79e5")(function(){var h={},m={},p=Symbol(),f="abcdefghijklmnopqrst";return h[p]=7,f.split("").forEach(function(b){m[b]=b}),d({},h)[p]!=7||Object.keys(d({},m)).join("")!=f})?function(m,p){for(var f=c(m),b=arguments.length,$=1,P=o.f,D=l.f;b>$;)for(var R=u(arguments[$++]),k=P?a(R).concat(P(R)):a(R),S=k.length,L=0,I;S>L;)D.call(R,I=k[L++])&&(f[I]=R[I]);return f}:d},7726:function(r,i){var n=r.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=n)},"77f1":function(r,i,n){var a=n("4588"),o=Math.max,l=Math.min;r.exports=function(c,u){return c=a(c),c<0?o(c+u,0):l(c,u)}},"79e5":function(r,i){r.exports=function(n){try{return!!n()}catch{return!0}}},"7f20":function(r,i,n){var a=n("86cc").f,o=n("69a8"),l=n("2b4c")("toStringTag");r.exports=function(c,u,d){c&&!o(c=d?c:c.prototype,l)&&a(c,l,{configurable:!0,value:u})}},8378:function(r,i){var n=r.exports={version:"2.6.5"};typeof __e=="number"&&(__e=n)},"84f2":function(r,i){r.exports={}},"86cc":function(r,i,n){var a=n("cb7c"),o=n("c69a"),l=n("6a99"),c=Object.defineProperty;i.f=n("9e1e")?Object.defineProperty:function(d,h,m){if(a(d),h=l(h,!0),a(m),o)try{return c(d,h,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported!");return"value"in m&&(d[h]=m.value),d}},"9b43":function(r,i,n){var a=n("d8e8");r.exports=function(o,l,c){if(a(o),l===void 0)return o;switch(c){case 1:return function(u){return o.call(l,u)};case 2:return function(u,d){return o.call(l,u,d)};case 3:return function(u,d,h){return o.call(l,u,d,h)}}return function(){return o.apply(l,arguments)}}},"9c6c":function(r,i,n){var a=n("2b4c")("unscopables"),o=Array.prototype;o[a]==null&&n("32e9")(o,a,{}),r.exports=function(l){o[a][l]=!0}},"9def":function(r,i,n){var a=n("4588"),o=Math.min;r.exports=function(l){return l>0?o(a(l),9007199254740991):0}},"9e1e":function(r,i,n){r.exports=!n("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(r,i){r.exports=t},a481:function(r,i,n){var a=n("cb7c"),o=n("4bf8"),l=n("9def"),c=n("4588"),u=n("0390"),d=n("5f1b"),h=Math.max,m=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,b=/\$([$&`']|\d\d?)/g,$=function(P){return P===void 0?P:String(P)};n("214f")("replace",2,function(P,D,R,k){return[function(I,N){var G=P(this),q=I==null?void 0:I[D];return q!==void 0?q.call(I,G,N):R.call(String(G),I,N)},function(L,I){var N=k(R,L,this,I);if(N.done)return N.value;var G=a(L),q=String(this),se=typeof I=="function";se||(I=String(I));var F=G.global;if(F){var W=G.unicode;G.lastIndex=0}for(var X=[];;){var J=d(G,q);if(J===null||(X.push(J),!F))break;var ee=String(J[0]);ee===""&&(G.lastIndex=u(q,l(G.lastIndex),W))}for(var te="",j=0,z=0;z<X.length;z++){J=X[z];for(var T=String(J[0]),A=h(m(c(J.index),q.length),0),V=[],Q=1;Q<J.length;Q++)V.push($(J[Q]));var le=J.groups;if(se){var he=[T].concat(V,A,q);le!==void 0&&he.push(le);var _e=String(I.apply(void 0,he))}else _e=S(T,q,A,V,le,I);A>=j&&(te+=q.slice(j,A)+_e,j=A+T.length)}return te+q.slice(j)}];function S(L,I,N,G,q,se){var F=N+L.length,W=G.length,X=b;return q!==void 0&&(q=o(q),X=f),R.call(se,X,function(J,ee){var te;switch(ee.charAt(0)){case"$":return"$";case"&":return L;case"`":return I.slice(0,N);case"'":return I.slice(F);case"<":te=q[ee.slice(1,-1)];break;default:var j=+ee;if(j===0)return J;if(j>W){var z=p(j/10);return z===0?J:z<=W?G[z-1]===void 0?ee.charAt(1):G[z-1]+ee.charAt(1):J}te=G[j-1]}return te===void 0?"":te})}})},aae3:function(r,i,n){var a=n("d3f4"),o=n("2d95"),l=n("2b4c")("match");r.exports=function(c){var u;return a(c)&&((u=c[l])!==void 0?!!u:o(c)=="RegExp")}},ac6a:function(r,i,n){for(var a=n("cadf"),o=n("0d58"),l=n("2aba"),c=n("7726"),u=n("32e9"),d=n("84f2"),h=n("2b4c"),m=h("iterator"),p=h("toStringTag"),f=d.Array,b={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},$=o(b),P=0;P<$.length;P++){var D=$[P],R=b[D],k=c[D],S=k&&k.prototype,L;if(S&&(S[m]||u(S,m,f),S[p]||u(S,p,D),d[D]=f,R))for(L in a)S[L]||l(S,L,a[L],!0)}},b0c5:function(r,i,n){var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},be13:function(r,i){r.exports=function(n){if(n==null)throw TypeError("Can't call method on  "+n);return n}},c366:function(r,i,n){var a=n("6821"),o=n("9def"),l=n("77f1");r.exports=function(c){return function(u,d,h){var m=a(u),p=o(m.length),f=l(h,p),b;if(c&&d!=d){for(;p>f;)if(b=m[f++],b!=b)return!0}else for(;p>f;f++)if((c||f in m)&&m[f]===d)return c||f||0;return!c&&-1}}},c649:function(r,i,n){(function(a){n.d(i,"c",function(){return m}),n.d(i,"a",function(){return d}),n.d(i,"b",function(){return l}),n.d(i,"d",function(){return h}),n("a481");function o(){return typeof window<"u"?window.console:a.console}var l=o();function c(p){var f=Object.create(null);return function($){var P=f[$];return P||(f[$]=p($))}}var u=/-(\w)/g,d=c(function(p){return p.replace(u,function(f,b){return b?b.toUpperCase():""})});function h(p){p.parentElement!==null&&p.parentElement.removeChild(p)}function m(p,f,b){var $=b===0?p.children[0]:p.children[b-1].nextSibling;p.insertBefore(f,$)}}).call(this,n("c8ba"))},c69a:function(r,i,n){r.exports=!n("9e1e")&&!n("79e5")(function(){return Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(r,i){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}r.exports=n},ca5a:function(r,i){var n=0,a=Math.random();r.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++n+a).toString(36))}},cadf:function(r,i,n){var a=n("9c6c"),o=n("d53b"),l=n("84f2"),c=n("6821");r.exports=n("01f9")(Array,"Array",function(u,d){this._t=c(u),this._i=0,this._k=d},function(){var u=this._t,d=this._k,h=this._i++;return!u||h>=u.length?(this._t=void 0,o(1)):d=="keys"?o(0,h):d=="values"?o(0,u[h]):o(0,[h,u[h]])},"values"),l.Arguments=l.Array,a("keys"),a("values"),a("entries")},cb7c:function(r,i,n){var a=n("d3f4");r.exports=function(o){if(!a(o))throw TypeError(o+" is not an object!");return o}},ce10:function(r,i,n){var a=n("69a8"),o=n("6821"),l=n("c366")(!1),c=n("613b")("IE_PROTO");r.exports=function(u,d){var h=o(u),m=0,p=[],f;for(f in h)f!=c&&a(h,f)&&p.push(f);for(;d.length>m;)a(h,f=d[m++])&&(~l(p,f)||p.push(f));return p}},d2c8:function(r,i,n){var a=n("aae3"),o=n("be13");r.exports=function(l,c,u){if(a(c))throw TypeError("String#"+u+" doesn't accept regex!");return String(o(l))}},d3f4:function(r,i){r.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},d53b:function(r,i){r.exports=function(n,a){return{value:a,done:!!n}}},d8e8:function(r,i){r.exports=function(n){if(typeof n!="function")throw TypeError(n+" is not a function!");return n}},e11e:function(r,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(r,i,n){var a=n("5ca1"),o=n("9def"),l=n("d2c8"),c="startsWith",u=""[c];a(a.P+a.F*n("5147")(c),"String",{startsWith:function(h){var m=l(this,h,c),p=o(Math.min(arguments.length>1?arguments[1]:void 0,m.length)),f=String(h);return u?u.call(m,f,p):m.slice(p,p+f.length)===f}})},f6fd:function(r,i){(function(n){var a="currentScript",o=n.getElementsByTagName("script");a in n||Object.defineProperty(n,a,{get:function(){try{throw new Error}catch(u){var l,c=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(u.stack)||[!1])[1];for(l in o)if(o[l].src==c||o[l].readyState=="interactive")return o[l];return null}}})})(document)},f751:function(r,i,n){var a=n("5ca1");a(a.S+a.F,"Object",{assign:n("7333")})},fa5b:function(r,i,n){r.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(r,i,n){var a=n("7726").document;r.exports=a&&a.documentElement},fb15:function(r,i,n){if(n.r(i),typeof window<"u"){n("f6fd");var a;(a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=a[1])}n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function o(T){if(Array.isArray(T))return T}function l(T,A){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(T)))){var V=[],Q=!0,le=!1,he=void 0;try{for(var _e=T[Symbol.iterator](),De;!(Q=(De=_e.next()).done)&&(V.push(De.value),!(A&&V.length===A));Q=!0);}catch(it){le=!0,he=it}finally{try{!Q&&_e.return!=null&&_e.return()}finally{if(le)throw he}}return V}}function c(T,A){(A==null||A>T.length)&&(A=T.length);for(var V=0,Q=new Array(A);V<A;V++)Q[V]=T[V];return Q}function u(T,A){if(T){if(typeof T=="string")return c(T,A);var V=Object.prototype.toString.call(T).slice(8,-1);if(V==="Object"&&T.constructor&&(V=T.constructor.name),V==="Map"||V==="Set")return Array.from(T);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return c(T,A)}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(T,A){return o(T)||l(T,A)||u(T,A)||d()}n("6762"),n("2fdb");function m(T){if(Array.isArray(T))return c(T)}function p(T){if(typeof Symbol<"u"&&Symbol.iterator in Object(T))return Array.from(T)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(T){return m(T)||p(T)||u(T)||f()}var $=n("a352"),P=n.n($),D=n("c649");function R(T,A,V){return V===void 0||(T=T||{},T[A]=V),T}function k(T,A){return T.map(function(V){return V.elm}).indexOf(A)}function S(T,A,V,Q){if(!T)return[];var le=T.map(function(De){return De.elm}),he=A.length-Q,_e=b(A).map(function(De,it){return it>=he?le.length:le.indexOf(De)});return V?_e.filter(function(De){return De!==-1}):_e}function L(T,A){var V=this;this.$nextTick(function(){return V.$emit(T.toLowerCase(),A)})}function I(T){var A=this;return function(V){A.realList!==null&&A["onDrag"+T](V),L.call(A,T,V)}}function N(T){return["transition-group","TransitionGroup"].includes(T)}function G(T){if(!T||T.length!==1)return!1;var A=h(T,1),V=A[0].componentOptions;return V?N(V.tag):!1}function q(T,A,V){return T[V]||(A[V]?A[V]():void 0)}function se(T,A,V){var Q=0,le=0,he=q(A,V,"header");he&&(Q=he.length,T=T?[].concat(b(he),b(T)):b(he));var _e=q(A,V,"footer");return _e&&(le=_e.length,T=T?[].concat(b(T),b(_e)):b(_e)),{children:T,headerOffset:Q,footerOffset:le}}function F(T,A){var V=null,Q=function(Dt,Nt){V=R(V,Dt,Nt)},le=Object.keys(T).filter(function(it){return it==="id"||it.startsWith("data-")}).reduce(function(it,Dt){return it[Dt]=T[Dt],it},{});if(Q("attrs",le),!A)return V;var he=A.on,_e=A.props,De=A.attrs;return Q("on",he),Q("props",_e),Object.assign(V.attrs,De),V}var W=["Start","Add","Remove","Update","End"],X=["Choose","Unchoose","Sort","Filter","Clone"],J=["Move"].concat(W,X).map(function(T){return"on"+T}),ee=null,te={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(A){return A}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},j={name:"draggable",inheritAttrs:!1,props:te,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(A){var V=this.$slots.default;this.transitionMode=G(V);var Q=se(V,this.$slots,this.$scopedSlots),le=Q.children,he=Q.headerOffset,_e=Q.footerOffset;this.headerOffset=he,this.footerOffset=_e;var De=F(this.$attrs,this.componentData);return A(this.getTag(),De,le)},created:function(){this.list!==null&&this.value!==null&&D.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&D.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&D.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var A=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var V={};W.forEach(function(he){V["on"+he]=I.call(A,he)}),X.forEach(function(he){V["on"+he]=L.bind(A,he)});var Q=Object.keys(this.$attrs).reduce(function(he,_e){return he[Object(D.a)(_e)]=A.$attrs[_e],he},{}),le=Object.assign({},this.options,Q,V,{onMove:function(_e,De){return A.onDragMove(_e,De)}});!("draggable"in le)&&(le.draggable=">*"),this._sortable=new P.a(this.rootContainer,le),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(A){this.updateOptions(A)},deep:!0},$attrs:{handler:function(A){this.updateOptions(A)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var A=this._vnode.fnOptions;return A&&A.functional},getTag:function(){return this.tag||this.element},updateOptions:function(A){for(var V in A){var Q=Object(D.a)(V);J.indexOf(Q)===-1&&this._sortable.option(Q,A[V])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var A=this.$slots.default;return this.transitionMode?A[0].child.$slots.default:A},computeIndexes:function(){var A=this;this.$nextTick(function(){A.visibleIndexes=S(A.getChildrenNodes(),A.rootContainer.children,A.transitionMode,A.footerOffset)})},getUnderlyingVm:function(A){var V=k(this.getChildrenNodes()||[],A);if(V===-1)return null;var Q=this.realList[V];return{index:V,element:Q}},getUnderlyingPotencialDraggableComponent:function(A){var V=A.__vue__;return!V||!V.$options||!N(V.$options._componentTag)?!("realList"in V)&&V.$children.length===1&&"realList"in V.$children[0]?V.$children[0]:V:V.$parent},emitChanges:function(A){var V=this;this.$nextTick(function(){V.$emit("change",A)})},alterList:function(A){if(this.list){A(this.list);return}var V=b(this.value);A(V),this.$emit("input",V)},spliceList:function(){var A=arguments,V=function(le){return le.splice.apply(le,b(A))};this.alterList(V)},updatePosition:function(A,V){var Q=function(he){return he.splice(V,0,he.splice(A,1)[0])};this.alterList(Q)},getRelatedContextFromMoveEvent:function(A){var V=A.to,Q=A.related,le=this.getUnderlyingPotencialDraggableComponent(V);if(!le)return{component:le};var he=le.realList,_e={list:he,component:le};if(V!==Q&&he&&le.getUnderlyingVm){var De=le.getUnderlyingVm(Q);if(De)return Object.assign(De,_e)}return _e},getVmIndex:function(A){var V=this.visibleIndexes,Q=V.length;return A>Q-1?Q:V[A]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(A){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var V=this.getChildrenNodes();V[A].data=null;var Q=this.getComponent();Q.children=[],Q.kept=void 0}},onDragStart:function(A){this.context=this.getUnderlyingVm(A.item),A.item._underlying_vm_=this.clone(this.context.element),ee=A.item},onDragAdd:function(A){var V=A.item._underlying_vm_;if(V!==void 0){Object(D.d)(A.item);var Q=this.getVmIndex(A.newIndex);this.spliceList(Q,0,V),this.computeIndexes();var le={element:V,newIndex:Q};this.emitChanges({added:le})}},onDragRemove:function(A){if(Object(D.c)(this.rootContainer,A.item,A.oldIndex),A.pullMode==="clone"){Object(D.d)(A.clone);return}var V=this.context.index;this.spliceList(V,1);var Q={element:this.context.element,oldIndex:V};this.resetTransitionData(V),this.emitChanges({removed:Q})},onDragUpdate:function(A){Object(D.d)(A.item),Object(D.c)(A.from,A.item,A.oldIndex);var V=this.context.index,Q=this.getVmIndex(A.newIndex);this.updatePosition(V,Q);var le={element:this.context.element,oldIndex:V,newIndex:Q};this.emitChanges({moved:le})},updateProperty:function(A,V){A.hasOwnProperty(V)&&(A[V]+=this.headerOffset)},computeFutureIndex:function(A,V){if(!A.element)return 0;var Q=b(V.to.children).filter(function(De){return De.style.display!=="none"}),le=Q.indexOf(V.related),he=A.component.getVmIndex(le),_e=Q.indexOf(ee)!==-1;return _e||!V.willInsertAfter?he:he+1},onDragMove:function(A,V){var Q=this.move;if(!Q||!this.realList)return!0;var le=this.getRelatedContextFromMoveEvent(A),he=this.context,_e=this.computeFutureIndex(le,A);Object.assign(he,{futureIndex:_e});var De=Object.assign({},A,{relatedContext:le,draggedContext:he});return Q(De,V)},onDragEnd:function(){this.computeIndexes(),ee=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",j);var z=j;i.default=z}}).default})})(Gx);var hU=Gx.exports;const Si=Pn(hU);var mU=Object.defineProperty,pU=Object.getOwnPropertyDescriptor,Dd=(e,s,t,r)=>{for(var i=r>1?void 0:r?pU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&mU(s,t,i),i};let dn=class extends M(O){constructor(){super(...arguments),this.segmentSeparator="/"}get pathSegments(){const[e,...s]=(this.path||"").split(this.segmentSeparator),t={directoryName:e,location:e};return s.reduce((r,i)=>{const n=r[r.length-1].location,a="".concat(n).concat(this.segmentSeparator).concat(i),o={directoryName:i,location:a};return r.push(o),r},[t])}};Dd([x({default:!1})],dn.prototype,"path",2);Dd([x({default:!1})],dn.prototype,"baseDirectoryLabel",2);Dd([x({default:!1})],dn.prototype,"onSegmentClick",2);dn=Dd([w],dn);var fU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",e._l(e.pathSegments,function(r,i){var n=r.directoryName,a=r.location;return t("span",{key:a,staticClass:"navigation-container"},[i!==0?[t("span",{staticClass:"navigation-divider text--disabled"},[e._v(e._s(e.segmentSeparator))])]:e._e(),i!==e.pathSegments.length-1?[t("span",{staticClass:"cursor-pointer navigation-segment",attrs:{tabindex:"0",role:"button"},on:{click:function(o){return e.onSegmentClick({location:a})},keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.onSegmentClick({location:a})}}},[n?[e._v(e._s(n))]:[e._v(e._s(e.baseDirectoryLabel))]],2)]:[t("span",[n?[e._v(e._s(n))]:[e._v(e._s(e.baseDirectoryLabel))]],2)]],2)}),0)},gU=[];const Mb={};var _U=E(dn,fU,gU,!1,vU,"4b5d1549",null,null);function vU(e){for(let s in Mb)this[s]=Mb[s]}const An=function(){return _U.exports}();var bU=Object.defineProperty,yU=Object.getOwnPropertyDescriptor,sS=(e,s,t,r)=>{for(var i=r>1?void 0:r?yU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&bU(s,t,i),i};let Pc=class extends M(O,Xe){constructor(){super(...arguments),this.mdiContentCopy=Tf,this.mdiFile=Ks,this.mdiFileDocumentMultipleOutline=Co,this.mdiMagnify=zu,this.mdiUpload=p$,this.mdiFolderPlus=kf,this.mdiRefresh=bi,this.mdiCog=Yt,this.mdiFolderUpload=Rf,this.mdiFolder=Af,this.mdiPlay=Dn,this.mdiPlaylistPlus=$o,this.mdiFire=Tn,this.mdiVideo3d=Ku,this.mdiCloudDownload=ya,this.mdiRenameBox=Xu,this.mdiFileDocumentEditOutline=yo,this.mdiDelete=Ge,this.mdiCloseThick=pe,this.mdiCheckboxBlankOutline=Sf,this.mdiCheckboxMarked=wf,this.mdiDragVertical=bo,this.formatFilesize=Qe,this.sortFiles=eg,this.search="",this.dialogCreateDirectory={show:!1,name:""},this.contextMenu={shown:!1,isDirectory:!1,touchTimer:void 0,x:0,y:0,item:{isDirectory:!1,filename:"",permissions:"",modified:new Date,preheat_gcode:null,small_thumbnail:null,big_thumbnail:null,big_thumbnail_width:null,count_printed:0,last_filament_used:null,last_start_time:null,last_end_time:null,last_print_duration:null,last_status:null,last_total_duration:null}},this.draggingFile={item:{...this.contextMenu.item}},this.dialogPrintFile={show:!1,item:{...this.contextMenu.item}},this.dialogAddBatchToQueue={isVisible:!1,filename:""},this.dialogRenameFile={show:!1,newName:"",item:{...this.contextMenu.item}},this.dialogDuplicateFile={show:!1,newName:"",item:{...this.contextMenu.item}},this.dialogRenameDirectory={show:!1,newName:"",item:{...this.contextMenu.item}},this.dialogDeleteDirectory={show:!1,newName:"",item:{...this.contextMenu.item}},this.deleteDialog=!1,this.deleteSelectedDialog=!1,this.isInvalidName=!0,this.nameInputRules=[e=>!!e||this.$t("Files.InvalidNameEmpty"),e=>!this.existsFilename(e)||this.$t("Files.InvalidNameAlreadyExists")],this.countInputRules=[e=>!!e||this.$t("JobQueue.InvalidCountEmpty"),e=>parseInt(e)>0||this.$t("JobQueue.InvalidCountGreaterZero")]}existsFilename(e){return this.files.findIndex(s=>s.filename===e)>=0}get gcodeInputFileAccept(){return this.isIOS?[]:Zi}get currentPath(){const e=this.$store.state.gui.view.gcodefiles.currentPath;return e==="gcodes"?"":e}set currentPath(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.gcodefiles.currentPath",value:e})}get selectedFiles(){var e;return(e=this.$store.state.gui.view.gcodefiles.selectedFiles)!=null?e:[]}set selectedFiles(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.gcodefiles.selectedFiles",value:e})}get fixedHeaders(){return[{text:"",value:"",visible:!0,sortable:!1},{text:this.$t("Files.Name").toString(),value:"filename",visible:!0,class:"text-no-wrap"},{text:"",value:"status",visible:!0,class:"text-no-wrap",sortable:!1}]}get configurableHeaders(){const e=[{text:this.$t("Files.Filesize").toString(),value:"size",visible:!0,class:"text-no-wrap",outputType:"filesize"},{text:this.$t("Files.LastModified").toString(),value:"modified",visible:!0,class:"text-no-wrap",outputType:"date"},{text:this.$t("Files.ObjectHeight").toString(),value:"object_height",visible:!0,class:"text-no-wrap",outputType:"length"},{text:this.$t("Files.LayerHeight").toString(),value:"layer_height",visible:!0,class:"text-no-wrap",outputType:"length"},{text:this.$t("Files.NozzleDiameter").toString(),value:"nozzle_diameter",visible:!0,class:"text-no-wrap",outputType:"length"},{text:this.$t("Files.ExtruderTemp").toString(),value:"first_layer_extr_temp",visible:!0,class:"text-no-wrap",outputType:"temp"},{text:this.$t("Files.BedTemp").toString(),value:"first_layer_bed_temp",visible:!0,class:"text-no-wrap",outputType:"temp"},{text:this.$t("Files.ChamberTemp").toString(),value:"chamber_temp",visible:!0,class:"text-no-wrap",outputType:"temp"},{text:this.$t("Files.FilamentName").toString(),value:"filament_name",visible:!0,class:"text-no-wrap"},{text:this.$t("Files.FilamentType").toString(),value:"filament_type",visible:!0,class:"text-no-wrap",outputType:"string"},{text:this.$t("Files.FilamentUsage").toString(),value:"filament_total",visible:!0,class:"text-no-wrap",outputType:"length"},{text:this.$t("Files.FilamentWeight").toString(),value:"filament_weight_total",visible:!0,class:"text-no-wrap",outputType:"weight"},{text:this.$t("Files.PrintTime").toString(),value:"estimated_time",visible:!0,class:"text-no-wrap",outputType:"time"},{text:this.$t("Files.LastStartTime").toString(),value:"last_start_time",visible:!0,class:"text-no-wrap",outputType:"date"},{text:this.$t("Files.LastEndTime").toString(),value:"last_end_time",visible:!0,class:"text-no-wrap",outputType:"date"},{text:this.$t("Files.LastPrintDuration").toString(),value:"last_print_duration",visible:!0,class:"text-no-wrap",outputType:"time"},{text:this.$t("Files.LastTotalDuration").toString(),value:"last_total_duration",visible:!0,class:"text-no-wrap",outputType:"time"},{text:this.$t("Files.LastFilamentUsed").toString(),value:"last_filament_used",visible:!0,class:"text-no-wrap",outputType:"length"},{text:this.$t("Files.Slicer").toString(),value:"slicer",visible:!0,class:"text-no-wrap",outputType:"string"}];let s=0;return e.forEach(t=>{var i;t.visible=!this.hideMetadataColumns.includes(t.value);let r=(i=this.orderMetadataColumns)==null?void 0:i.findIndex(n=>n===t.value);r===-1&&(s++,r=this.orderMetadataColumns.length+s),t.pos=r}),e.sort((t,r)=>{var i,n;return((i=t.pos)!=null?i:0)-((n=r.pos)!=null?n:0)})}set configurableHeaders(e){const s=[];e.forEach(t=>s.push(t.value)),this.orderMetadataColumns=s}get headers(){return[...this.fixedHeaders,...this.configurableHeaders]}get tableColumns(){return this.configurableHeaders.filter(e=>e.visible)}get directory(){return this.$store.getters["files/getDirectory"]("gcodes"+this.currentPath)}get disk_usage(){var e,s;return(s=(e=this.directory)==null?void 0:e.disk_usage)!=null?s:{used:0,free:0,total:0}}get files(){return this.$store.getters["files/getGcodeFiles"](this.currentPath,this.showHiddenFiles,this.showPrintedFiles)}get filteredHeaders(){return this.headers.filter(e=>e.visible)}get orderMetadataColumns(){var e;return(e=this.$store.state.gui.view.gcodefiles.orderMetadataColumns)!=null?e:[]}set orderMetadataColumns(e){this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.orderMetadataColumns",value:e})}get hideMetadataColumns(){var e;return(e=this.$store.state.gui.view.gcodefiles.hideMetadataColumns)!=null?e:[]}set hideMetadataColumns(e){this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.hideMetadataColumns",value:e})}get showHiddenFiles(){return this.$store.state.gui.view.gcodefiles.showHiddenFiles}set showHiddenFiles(e){this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.showHiddenFiles",value:e})}get showPrintedFiles(){return this.$store.state.gui.view.gcodefiles.showPrintedFiles}set showPrintedFiles(e){this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.showPrintedFiles",value:e})}get sortBy(){return this.$store.state.gui.view.gcodefiles.sortBy}set sortBy(e){e===void 0&&(e="modified"),this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.sortBy",value:e})}get sortDesc(){return this.$store.state.gui.view.gcodefiles.sortDesc}set sortDesc(e){e===void 0&&(e=!1),this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.sortDesc",value:e})}get countPerPage(){return this.$store.state.gui.view.gcodefiles.countPerPage}set countPerPage(e){this.$store.dispatch("gui/saveSetting",{name:"view.gcodefiles.countPerPage",value:e})}get bigThumbnailBackground(){var e;return(e=this.$store.state.gui.uiSettings.bigThumbnailBackground)!=null?e:kt}get bigThumbnailTooltipColor(){if(kt.toLowerCase()!==this.bigThumbnailBackground.toLowerCase())return this.bigThumbnailBackground}getStatusIcon(e){return this.$store.getters["server/history/getPrintStatusIcon"](e)}getStatusTextColor(e){return this.$store.getters["server/history/getPrintStatusTextColor"](e)}getStatusColor(e){return this.$store.getters["server/history/getPrintStatusIconColor"](e)}dragOverFilelist(e,s){e.preventDefault(),s.isDirectory&&(e.target.parentElement.style.backgroundColor="#43A04720")}dragLeaveFilelist(e){e.preventDefault(),e.stopPropagation(),e.target.parentElement.style.backgroundColor="transparent"}async dragDropFilelist(e,s){e.preventDefault(),e.target.parentElement.style.backgroundColor="transparent";let t;s.filename===".."?t=this.currentPath.substring(0,this.currentPath.lastIndexOf("/")+1)+this.draggingFile.item.filename:t=this.currentPath+"/"+s.filename+"/"+this.draggingFile.item.filename,this.$socket.emit("server.files.move",{source:"gcodes"+this.currentPath+"/"+this.draggingFile.item.filename,dest:"gcodes"+t},{action:"files/getMove"})}async uploadFile(){var e;if((e=this.$refs.fileUpload.files)!=null&&e.length){const s=[...this.$refs.fileUpload.files];this.$refs.fileUpload.value="",await this.$store.dispatch("socket/addLoading",{name:"gcodeUpload"}),await this.$store.dispatch("files/uploadSetCurrentNumber",0),await this.$store.dispatch("files/uploadSetMaxNumber",this.$refs.fileUpload.files.length);for(const t of s){await this.$store.dispatch("files/uploadIncrementCurrentNumber");const r=this.currentPath.slice(0,1)==="/"?this.currentPath.slice(1):this.currentPath,i=await this.$store.dispatch("files/uploadFile",{file:t,path:r,root:"gcodes"});i!==!1&&this.$toast.success(this.$t("Files.SuccessfullyUploaded",{filename:i}).toString())}await this.$store.dispatch("socket/removeLoading",{name:"gcodeUpload"})}}clickUploadButton(){this.$refs.fileUpload.click()}createDirectory(){this.dialogCreateDirectory.name="",this.dialogCreateDirectory.show=!0,setTimeout(()=>{var e;(e=this.$refs.inputFieldCreateDirectory)==null||e.focus()},200)}createDirectoryAction(){this.dialogCreateDirectory.name.length&&(this.dialogCreateDirectory.show=!1,this.$socket.emit("server.files.post_directory",{path:"gcodes"+this.currentPath+"/"+this.dialogCreateDirectory.name},{action:"files/getCreateDir"}))}refreshFileList(){this.$socket.emit("server.files.get_directory",{path:"gcodes"+this.currentPath},{action:"files/getDirectory"})}advancedSearch(e,s){if(s===null||typeof e!="string")return!1;e=e.toString().toLowerCase();const t=s.toLowerCase().split(" ");for(const r of t)if(!e.includes(r))return!1;return!0}refreshMetadata(e){const s=e.filter(t=>!t.isDirectory&&!t.metadataRequested&&!t.metadataPulled);this.$store.dispatch("files/requestMetadata",s.map(t=>({filename:"gcodes"+this.currentPath+"/"+t.filename})))}clickRow(e,s=!1){(!this.contextMenu.shown||s)&&(s&&(this.contextMenu.shown=!1),e.isDirectory?this.currentPath+="/"+e.filename:!["error","printing","paused"].includes(this.printer_state)&&this.isGcodeFile(e)&&(this.dialogPrintFile.show=!0,this.dialogPrintFile.item=e))}clickRowGoBack(){this.currentPath=this.currentPath.slice(0,this.currentPath.lastIndexOf("/"))}clickPathNavGoToDirectory(e){this.currentPath=e.location}async addToQueue(e){let s=[this.currentPath,e.filename].join("/");s.startsWith("/")&&(s=s.slice(1)),await this.$store.dispatch("server/jobQueue/addToQueue",[s])}openAddBatchToQueueDialog(e){let s=[this.currentPath,e.filename].join("/");s.startsWith("/")&&(s=s.slice(1)),this.dialogAddBatchToQueue.isVisible=!0,this.dialogAddBatchToQueue.filename=s}closeAddBatchToQueueDialog(){this.dialogAddBatchToQueue.isVisible=!1}changeMetadataVisible(e,s){this.$store.dispatch("gui/setGcodefilesMetadata",{name:e,value:s})}showContextMenu(e,s){this.contextMenu.shown||(e==null||e.preventDefault(),this.contextMenu.shown=!0,this.contextMenu.x=(e==null?void 0:e.clientX)||(e==null?void 0:e.pageX)||window.screenX/2,this.contextMenu.y=(e==null?void 0:e.clientY)||(e==null?void 0:e.pageY)||window.screenY/2,this.contextMenu.item=s,this.$nextTick(()=>{this.contextMenu.shown=!0}))}editFile(e){this.$store.dispatch("editor/openFile",{root:"gcodes",path:this.currentPath,filename:e.filename,size:e.size,permissions:e.permissions})}downloadFile(){const e=this.currentPath+"/"+this.contextMenu.item.filename,s=this.apiUrl+"/server/files/gcodes"+Ie(e);window.open(s)}async downloadSelectedFiles(){let e=[];const s=async(i,n)=>{for(const a of n){const o="".concat(i,"/").concat(Ie(a.filename));if(a.isDirectory&&a.childrens){await s(o,a.childrens);continue}e.push(o)}};await s("gcodes/"+this.currentPath,this.selectedFiles);const t=new Date,r="".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate(),"-").concat(t.getHours()).concat(t.getMinutes()).concat(t.getSeconds());this.$socket.emit("server.files.zip",{items:e,dest:"config/gcodes-".concat(r,".zip")},{action:"files/downloadZip",loading:"gcodeDownloadZip"}),this.selectedFiles=[]}renameFile(e){this.dialogRenameFile.item=e,this.dialogRenameFile.newName=e.filename,this.dialogRenameFile.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputFieldRenameFile)==null||s.focus()},200)}renameFileAction(){this.dialogRenameFile.show=!1,this.$socket.emit("server.files.move",{source:"gcodes"+this.currentPath+"/"+this.dialogRenameFile.item.filename,dest:"gcodes"+this.currentPath+"/"+this.dialogRenameFile.newName},{action:"files/getMove"})}duplicateFile(e){this.dialogDuplicateFile.item=e,this.dialogDuplicateFile.newName=e.filename,this.dialogDuplicateFile.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputFieldDuplicateFile)==null||s.focus()},200)}duplicateFileAction(){this.dialogDuplicateFile.show=!1,this.$socket.emit("server.files.copy",{source:"gcodes"+this.currentPath+"/"+this.dialogDuplicateFile.item.filename,dest:"gcodes"+this.currentPath+"/"+this.dialogDuplicateFile.newName})}renameDirectory(e){this.dialogRenameDirectory.item=e,this.dialogRenameDirectory.newName=e.filename,this.dialogRenameDirectory.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputFieldRenameDirectory)==null||s.focus()},200)}renameDirectoryAction(){this.dialogRenameDirectory.show=!1,this.$socket.emit("server.files.move",{source:"gcodes"+this.currentPath+"/"+this.dialogRenameDirectory.item.filename,dest:"gcodes"+this.currentPath+"/"+this.dialogRenameDirectory.newName},{action:"files/getMove"})}removeFile(){this.$socket.emit("server.files.delete_file",{path:"gcodes"+this.currentPath+"/"+this.contextMenu.item.filename},{action:"files/getDeleteFile"}),this.deleteDialog=!1}deleteDirectory(e){this.dialogDeleteDirectory.item=e,this.dialogDeleteDirectory.show=!0}deleteDirectoryAction(){this.dialogDeleteDirectory.show=!1,this.$socket.emit("server.files.delete_directory",{path:"gcodes"+this.currentPath+"/"+this.contextMenu.item.filename,force:!0},{action:"files/getDeleteDir"})}closeStartPrint(){this.dialogPrintFile.show=!1}dragFile(e,s){e.preventDefault(),this.draggingFile.item=s}dragendFile(e){e.preventDefault(),this.draggingFile.item={isDirectory:!1,filename:"",permissions:"",modified:new Date,count_printed:0,preheat_gcode:null,small_thumbnail:null,big_thumbnail:null,big_thumbnail_width:null,last_filament_used:null,last_start_time:null,last_end_time:null,last_print_duration:null,last_status:null,last_total_duration:null}}hideMetadataColumsCanged(e){e.forEach(s=>{let t=this.headers.find(r=>r.value===s);t&&(t.visible=!1)})}isGcodeFile(e){const s=e.filename.slice(e.filename.lastIndexOf("."));return Zi.includes(s)}view3D(e){this.$router.push({path:"/viewer",query:{filename:"gcodes"+this.currentPath+"/"+e.filename}})}scanMeta(e){this.$store.dispatch("files/scanMetadata",{filename:"gcodes"+this.currentPath+"/"+e.filename})}deleteSelectedFiles(){this.selectedFiles.forEach(e=>{e.isDirectory?this.$socket.emit("server.files.delete_directory",{path:"gcodes"+this.currentPath+"/"+e.filename,force:!0},{action:"files/getDeleteDir"}):this.$socket.emit("server.files.delete_file",{path:"gcodes"+this.currentPath+"/"+e.filename},{action:"files/getDeleteFile"})}),this.selectedFiles=[],this.deleteSelectedDialog=!1}outputValue(e,s){const t=e.value in s?s[e.value]:null;if(t===null)return"--";switch(e.outputType){case"filesize":return Qe(t);case"date":return this.formatDateTime(t);case"time":return qs(t);case"temp":return t.toFixed()+" °C";case"length":return t>1e3?(t/1e3).toFixed(2)+" m":t.toFixed(2)+" mm";case"weight":return t.toFixed(2)+" g";default:return t}}};sS([ce("hideMetadataColums")],Pc.prototype,"hideMetadataColumsCanged",1);Pc=sS([w({components:{StartPrintDialog:yd,AddBatchToQueueDialog:xi,Panel:B,SettingsRow:U,PathNavigation:An,draggable:Si}})],Pc);var CU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(B,{attrs:{title:e.$t("Files.GCodeFiles"),icon:e.mdiFileDocumentMultipleOutline,"card-class":"gcode-files-panel"}},[t(Z,[t(C,[t(v,{staticClass:"col-12 d-flex align-center"},[t(re,{staticStyle:{"max-width":"300px"},attrs:{"append-icon":e.mdiMagnify,label:e.$t("Files.Search"),"single-line":"",outlined:"",clearable:"","hide-details":"",dense:""},model:{value:e.search,callback:function(r){e.search=r},expression:"search"}}),t(ie),e.selectedFiles.length?t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Files.Download"),color:"primary",loading:e.loadings.includes("gcodeDownloadZip")},on:{click:e.downloadSelectedFiles}},[t(_,[e._v(e._s(e.mdiCloudDownload))])],1):e._e(),e.selectedFiles.length?t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Files.Delete"),color:"error"},on:{click:function(r){e.deleteSelectedDialog=!0}}},[t(_,[e._v(e._s(e.mdiDelete))])],1):e._e(),t("input",{ref:"fileUpload",staticStyle:{display:"none"},attrs:{type:"file",accept:e.gcodeInputFileAccept.join(", "),multiple:""},on:{change:e.uploadFile}}),t(g,{staticClass:"primary--text px-2 minwidth-0 ml-3",attrs:{title:e.$t("Files.UploadNewGcode"),loading:e.loadings.includes("gcodeUpload")},on:{click:e.clickUploadButton}},[t(_,[e._v(e._s(e.mdiUpload))])],1),t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Files.CreateNewDirectory")},on:{click:e.createDirectory}},[t(_,[e._v(e._s(e.mdiFolderPlus))])],1),t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Files.RefreshCurrentDirectory")},on:{click:e.refreshFileList}},[t(_,[e._v(e._s(e.mdiRefresh))])],1),t(ye,{attrs:{"offset-y":"",left:"","close-on-content-click":!1,title:e.$t("Files.SetupCurrentList")},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3"},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[t(Y,{staticClass:"minHeight36",attrs:{link:""}},[t(C,[t(v,{staticClass:"pr-0"},[e._v(" "+e._s(e.$t("Files.HiddenFiles"))+" ")]),t(v,{staticClass:"col-auto pl-0"},[e.showHiddenFiles?t(_,{attrs:{color:"primary"},on:{click:function(r){r.stopPropagation(),e.showHiddenFiles=!1}}},[e._v(" "+e._s(e.mdiCheckboxMarked)+" ")]):t(_,{attrs:{color:"grey lighten-1"},on:{click:function(r){r.stopPropagation(),e.showHiddenFiles=!0}}},[e._v(" "+e._s(e.mdiCheckboxBlankOutline)+" ")])],1)],1)],1),t(Y,{staticClass:"minHeight36",attrs:{link:""}},[t(C,[t(v,{staticClass:"pr-0"},[e._v(" "+e._s(e.$t("Files.PrintedFiles"))+" ")]),t(v,{staticClass:"col-auto pl-0"},[e.showPrintedFiles?t(_,{attrs:{color:"primary"},on:{click:function(r){r.stopPropagation(),e.showPrintedFiles=!1}}},[e._v(" "+e._s(e.mdiCheckboxMarked)+" ")]):t(_,{attrs:{color:"grey lighten-1"},on:{click:function(r){r.stopPropagation(),e.showPrintedFiles=!0}}},[e._v(" "+e._s(e.mdiCheckboxBlankOutline)+" ")])],1)],1)],1),t(H),t("draggable",{staticClass:"v-list-item-group",attrs:{handle:".handle","ghost-class":"ghost",group:"gcodeFilesColumnOrder"},model:{value:e.configurableHeaders,callback:function(r){e.configurableHeaders=r},expression:"configurableHeaders"}},e._l(e.configurableHeaders,function(r){return t(Y,{key:r.value,staticClass:"minHeight36"},[t(C,[t(v,{staticClass:"col-auto pr-0"},[t(_,{staticClass:"handle"},[e._v(e._s(e.mdiDragVertical))])],1),t(v,[e._v(" "+e._s(r.text)+" ")]),t(v,{staticClass:"col-auto pl-0"},[r.visible?t(_,{attrs:{color:"primary"},on:{click:function(i){return i.stopPropagation(),e.changeMetadataVisible(r.value,!1)}}},[e._v(" "+e._s(e.mdiCheckboxMarked)+" ")]):t(_,{attrs:{color:"grey lighten-1"},on:{click:function(i){return i.stopPropagation(),e.changeMetadataVisible(r.value,!0)}}},[e._v(" "+e._s(e.mdiCheckboxBlankOutline)+" ")])],1)],1)],1)}),1)],1)],1)],1)],1)],1),t(Z,[t(C,[t(v,{staticClass:"col-12 py-2 d-flex align-center"},[t("span",[t("b",{staticClass:"mr-1"},[e._v(e._s(e.$t("Files.CurrentPath"))+":")]),t(An,{attrs:{path:e.currentPath,"base-directory-label":"/gcodes","on-segment-click":e.clickPathNavGoToDirectory}})],1),t(ie),e.disk_usage!==null?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[t("b",[e._v(e._s(e.$t("Files.FreeDisk"))+":")]),e._v(" "+e._s(e.formatFilesize(e.disk_usage.free))+" ")])]}}],null,!1,1145199616)},[t("span",[e._v(" "+e._s(e.$t("Files.Used"))+": "+e._s(e.formatFilesize(e.disk_usage.used))+" "),t("br"),e._v(" "+e._s(e.$t("Files.Free"))+": "+e._s(e.formatFilesize(e.disk_usage.free))+" "),t("br"),e._v(" "+e._s(e.$t("Files.Total"))+": "+e._s(e.formatFilesize(e.disk_usage.total))+" ")])])]:e._e()],2)],1)],1),t(H,{staticClass:"mb-3"}),t(Mr,{staticClass:"files-table",attrs:{items:e.files,headers:e.filteredHeaders,"custom-sort":e.sortFiles,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"items-per-page":e.countPerPage,"footer-props":{itemsPerPageText:e.$t("Files.Files"),itemsPerPageAllText:e.$t("Files.AllFiles"),itemsPerPageOptions:[10,25,50,100,-1]},"item-key":"filename",search:e.search,"custom-filter":e.advancedSearch,"mobile-breakpoint":"0","show-select":""},on:{"update:sortBy":function(r){e.sortBy=r},"update:sort-by":function(r){e.sortBy=r},"update:sortDesc":function(r){e.sortDesc=r},"update:sort-desc":function(r){e.sortDesc=r},"update:itemsPerPage":function(r){e.countPerPage=r},"update:items-per-page":function(r){e.countPerPage=r},"current-items":e.refreshMetadata},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(e._s(e.$t("Files.Empty")))])]},proxy:!0},e.currentPath!==""?{key:"body.prepend",fn:function(){return[t("tr",{staticClass:"file-list-cursor",on:{click:e.clickRowGoBack,dragover:function(r){return e.dragOverFilelist(r,{isDirectory:!0,filename:".."})},dragleave:e.dragLeaveFilelist,drop:function(r){return r.preventDefault(),r.stopPropagation(),e.dragDropFilelist(r,{isDirectory:!0,filename:".."})}}},[t("td",{staticClass:"file-list__select-td pr-0"},[t(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{disabled:""}})],1),t("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[t(_,[e._v(e._s(e.mdiFolderUpload))])],1),t("td",{staticClass:"",attrs:{colspan:e.filteredHeaders.length}},[e._v("..")])])]},proxy:!0}:null,{key:"item",fn:function(r){var i=r.index,n=r.item,a=r.isSelected,o=r.select;return[t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(l){return e.showContextMenu(l,n)},expression:"(e) => showContextMenu(e, item)",arg:"600"}],key:"".concat(i," ").concat(n.filename),staticClass:"file-list-cursor user-select-none",attrs:{draggable:"true","data-name":n.filename},on:{contextmenu:function(l){return e.showContextMenu(l,n)},click:function(l){return e.clickRow(n)},drag:function(l){return e.dragFile(l,n)},dragend:function(l){return e.dragendFile(l)},dragover:function(l){return e.dragOverFilelist(l,n)},dragleave:e.dragLeaveFilelist,drop:function(l){return l.preventDefault(),l.stopPropagation(),e.dragDropFilelist(l,n)}}},[t("td",{staticClass:"file-list__select-td pr-0"},[t(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{value:a},on:{click:function(l){return l.stopPropagation(),o(!a)}}})],1),t("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[n.isDirectory?[t(_,[e._v(e._s(e.mdiFolder))])]:n.small_thumbnail?[t(ue,{attrs:{top:"","content-class":"tooltip__content-opacity1",color:e.bigThumbnailTooltipColor,disabled:!n.big_thumbnail},scopedSlots:e._u([{key:"activator",fn:function(l){var c=l.on,u=l.attrs;return[t("vue-load-image",[t("img",e._g(e._b({attrs:{slot:"image",src:n.small_thumbnail,width:"32",height:"32",alt:n.filename},slot:"image"},"img",u,!1),c)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}],null,!0)},[t("span",[t("img",{attrs:{src:n.big_thumbnail,width:"250",alt:n.filename}})])])]:[t(_,[e._v(e._s(e.mdiFile))])]],2),t("td",{staticClass:""},[e._v(e._s(n.filename))]),t("td",{staticClass:"text-right text-no-wrap"},[n.last_status?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(l){var c=l.on,u=l.attrs;return[t("span",e._g(e._b({},"span",u,!1),c),[n.count_printed>0?t("span",{class:"file-list__count_printed ".concat(e.getStatusTextColor(n.last_status))},[e._v(" "+e._s(n.count_printed)+" ")]):e._e(),t(_,{attrs:{small:"",color:e.getStatusColor(n.last_status)}},[e._v(" "+e._s(e.getStatusIcon(n.last_status))+" ")])],1)]}}],null,!0)},[t("span",[e._v(e._s(n.last_status.replace(/_/g," ")))])]):e._e()],1),e._l(e.tableColumns,function(l){return t("td",{key:l.value,class:l.outputType!=="date"?"text-no-wrap":""},[e._v(" "+e._s(e.outputValue(l,n))+" "),l.value==="slicer"?[t("br"),n.slicer_version?t("small",[e._v(e._s(n.slicer_version))]):e._e()]:e._e()],2)})],2)]}}],null,!0),model:{value:e.selectedFiles,callback:function(r){e.selectedFiles=r},expression:"selectedFiles"}})],1),t(yd,{attrs:{bool:e.dialogPrintFile.show,file:e.dialogPrintFile.item,"current-path":e.currentPath},on:{closeDialog:e.closeStartPrint}}),t(ye,{attrs:{"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,absolute:"","offset-y":""},model:{value:e.contextMenu.shown,callback:function(r){e.$set(e.contextMenu,"shown",r)},expression:"contextMenu.shown"}},[t(Ee,[e.contextMenu.item.isDirectory?e._e():t(Y,{attrs:{disabled:e.printerIsPrinting||!e.klipperReadyForGui||!e.isGcodeFile(e.contextMenu.item)},on:{click:function(r){return e.clickRow(e.contextMenu.item,!0)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlay))]),e._v(" "+e._s(e.$t("Files.PrintStart"))+" ")],1),!e.contextMenu.item.isDirectory&&e.moonrakerComponents.includes("job_queue")?t(Y,{attrs:{disabled:!e.isGcodeFile(e.contextMenu.item)},on:{click:function(r){return e.addToQueue(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddToQueue"))+" ")],1):e._e(),!e.contextMenu.item.isDirectory&&e.moonrakerComponents.includes("job_queue")?t(Y,{attrs:{disabled:!e.isGcodeFile(e.contextMenu.item)},on:{click:function(r){return e.openAddBatchToQueueDialog(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddBatchToQueue"))+" ")],1):e._e(),e.contextMenu.item.preheat_gcode!==null?t(Y,{attrs:{disabled:["error","printing","paused"].includes(e.printer_state)},on:{click:function(r){return e.doSend(e.contextMenu.item.preheat_gcode)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiFire))]),e._v(" "+e._s(e.$t("Files.Preheat"))+" ")],1):e._e(),e.contextMenu.item.isDirectory?e._e():t(Y,{attrs:{disabled:!e.isGcodeFile(e.contextMenu.item)},on:{click:function(r){return e.view3D(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiVideo3d))]),e._v(" "+e._s(e.$t("Files.View3D"))+" ")],1),e.contextMenu.item.isDirectory?e._e():t(Y,{attrs:{disabled:!e.isGcodeFile(e.contextMenu.item)},on:{click:function(r){return e.scanMeta(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiMagnify))]),e._v(" "+e._s(e.$t("Files.ScanMeta"))+" ")],1),e.contextMenu.item.isDirectory?e._e():t(Y,{on:{click:e.downloadFile}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiCloudDownload))]),e._v(" "+e._s(e.$t("Files.Download"))+" ")],1),e.contextMenu.item.isDirectory?t(Y,{on:{click:function(r){return e.renameDirectory(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiRenameBox))]),e._v(" "+e._s(e.$t("Files.Rename"))+" ")],1):e._e(),e.contextMenu.item.isDirectory?e._e():t(Y,{on:{click:function(r){return e.editFile(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiFileDocumentEditOutline))]),e._v(" "+e._s(e.$t("Files.EditFile"))+" ")],1),e.contextMenu.item.isDirectory?e._e():t(Y,{on:{click:function(r){return e.renameFile(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiRenameBox))]),e._v(" "+e._s(e.$t("Files.Rename"))+" ")],1),e.contextMenu.item.isDirectory?e._e():t(Y,{on:{click:function(r){return e.duplicateFile(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiContentCopy))]),e._v(" "+e._s(e.$t("Files.Duplicate"))+" ")],1),e.contextMenu.item.isDirectory?e._e():t(Y,{staticClass:"red--text",on:{click:function(r){e.deleteDialog=!0}}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("Files.Delete"))+" ")],1),e.contextMenu.item.isDirectory?t(Y,{staticClass:"red--text",on:{click:function(r){return e.deleteDirectory(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("Files.Delete"))+" ")],1):e._e()],1)],1),t(oe,{attrs:{"max-width":400},model:{value:e.dialogCreateDirectory.show,callback:function(r){e.$set(e.dialogCreateDirectory,"show",r)},expression:"dialogCreateDirectory.show"}},[t(B,{attrs:{title:e.$t("Files.NewDirectory"),"card-class":"gcode-files-new-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogCreateDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldCreateDirectory",attrs:{label:e.$t("Files.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.createDirectoryAction.apply(null,arguments)}},model:{value:e.dialogCreateDirectory.name,callback:function(r){e.$set(e.dialogCreateDirectory,"name",r)},expression:"dialogCreateDirectory.name"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogCreateDirectory.show=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.createDirectoryAction}},[e._v(" "+e._s(e.$t("Files.Create"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":400},model:{value:e.dialogRenameFile.show,callback:function(r){e.$set(e.dialogRenameFile,"show",r)},expression:"dialogRenameFile.show"}},[t(B,{attrs:{title:e.$t("Files.RenameFile"),"card-class":"gcode-files-rename-file-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogRenameFile.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldRenameFile",attrs:{label:e.$t("Files.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.renameFileAction.apply(null,arguments)}},model:{value:e.dialogRenameFile.newName,callback:function(r){e.$set(e.dialogRenameFile,"newName",r)},expression:"dialogRenameFile.newName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogRenameFile.show=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.renameFileAction}},[e._v(" "+e._s(e.$t("Files.Rename"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":400},model:{value:e.dialogDuplicateFile.show,callback:function(r){e.$set(e.dialogDuplicateFile,"show",r)},expression:"dialogDuplicateFile.show"}},[t(B,{attrs:{title:e.$t("Files.DuplicateFile"),"card-class":"gcode-files-duplicate-file-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogDuplicateFile.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldDuplicateFile",attrs:{label:e.$t("Files.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.duplicateFileAction.apply(null,arguments)}},model:{value:e.dialogDuplicateFile.newName,callback:function(r){e.$set(e.dialogDuplicateFile,"newName",r)},expression:"dialogDuplicateFile.newName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogDuplicateFile.show=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.duplicateFileAction}},[e._v(" "+e._s(e.$t("Files.Duplicate"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogRenameDirectory.show,callback:function(r){e.$set(e.dialogRenameDirectory,"show",r)},expression:"dialogRenameDirectory.show"}},[t(B,{attrs:{title:e.$t("Files.RenameDirectory"),"card-class":"gcode-files-rename-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogRenameDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldRenameDirectory",attrs:{label:e.$t("Files.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.renameDirectoryAction.apply(null,arguments)}},model:{value:e.dialogRenameDirectory.newName,callback:function(r){e.$set(e.dialogRenameDirectory,"newName",r)},expression:"dialogRenameDirectory.newName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogRenameDirectory.show=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.renameDirectoryAction}},[e._v(" "+e._s(e.$t("Files.Rename"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogDeleteDirectory.show,callback:function(r){e.$set(e.dialogDeleteDirectory,"show",r)},expression:"dialogDeleteDirectory.show"}},[t(B,{attrs:{title:e.$t("Files.DeleteDirectory"),"card-class":"gcode-files-delete-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogDeleteDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Files.DeleteDirectoryQuestion",{name:e.dialogDeleteDirectory.item.filename}))+" ")])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogDeleteDirectory.show=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{color:"error",text:""},on:{click:e.deleteDirectoryAction}},[e._v(e._s(e.$t("Files.Delete")))])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(r){e.deleteDialog=r},expression:"deleteDialog"}},[t(B,{attrs:{title:e.$t("Files.Delete"),"card-class":"gcode-files-delete-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.deleteDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Files.DeleteSingleFileQuestion",{name:e.contextMenu.item.filename}))+" ")])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.deleteDialog=!1}}},[e._v(" "+e._s(e.$t("Files.Cancel"))+" ")]),t(g,{attrs:{color:"error",text:""},on:{click:e.removeFile}},[e._v(" "+e._s(e.$t("Files.Delete"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.deleteSelectedDialog,callback:function(r){e.deleteSelectedDialog=r},expression:"deleteSelectedDialog"}},[t(B,{attrs:{title:e.$t("Files.Delete"),"card-class":"gcode-files-delete-selected-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.deleteSelectedDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e.selectedFiles.length===1?t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Files.DeleteSingleFileQuestion",{name:e.selectedFiles[0].filename}))+" ")]):t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Files.DeleteSelectedQuestion",{count:e.selectedFiles.length})))])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.deleteSelectedDialog=!1}}},[e._v(e._s(e.$t("Files.Cancel")))]),t(g,{attrs:{color:"error",text:""},on:{click:e.deleteSelectedFiles}},[e._v(e._s(e.$t("Files.Delete")))])],1)],1)],1),t(xi,{attrs:{"is-visible":e.dialogAddBatchToQueue.isVisible,filename:e.dialogAddBatchToQueue.filename},on:{close:e.closeAddBatchToQueueDialog}})],1)},$U=[];const Eb={};var xU=E(Pc,CU,$U,!1,SU,null,null,null);function SU(e){for(let s in Eb)this[s]=Eb[s]}const rS=function(){return xU.exports}();var wU=Object.defineProperty,PU=Object.getOwnPropertyDescriptor,iS=(e,s,t,r)=>{for(var i=r>1?void 0:r?PU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&wU(s,t,i),i};let Tc=class extends M(O){get sums(){const e={filamentLength:0,filamentWeight:0,estimatedTime:0};return this.jobs.forEach(s=>{var r,i,n,a,o,l,c,u;const t=((i=(r=s.combinedIds)==null?void 0:r.length)!=null?i:0)+1;e.filamentLength+=((a=(n=s.metadata)==null?void 0:n.filament_total)!=null?a:0)*t,e.filamentWeight+=((l=(o=s.metadata)==null?void 0:o.filament_weight_total)!=null?l:0)*t,e.estimatedTime+=((u=(c=s.metadata)==null?void 0:c.estimated_time)!=null?u:0)*t}),e}get count(){let e=0;return this.jobs.forEach(s=>{var t,r;e+=((r=(t=s.combinedIds)==null?void 0:t.length)!=null?r:0)+1}),e}get filamentLength(){const e=this.sums.filamentLength;return e===0?null:e>=1e3?(e/1e3).toFixed(1)+" m":e.toFixed(0)+" mm"}get filamentWeight(){const e=this.sums.filamentWeight;return e===0?null:e>=1e3?(e/1e3).toFixed(1)+" kg":e.toFixed(0)+" g"}get filamentOutput(){const e=[];return this.filamentLength&&e.push(this.filamentLength),this.filamentWeight&&e.push(this.filamentWeight),e.length?e.join(" / "):"--"}get estimatedTime(){let e=this.sums.estimatedTime;if(e==0)return"--";const s=[],t=Math.floor(e/(3600*24));t&&(e%=3600*24,s.push(t+"d"));const r=Math.floor(e/3600);e%=3600,r&&s.push(r+"h");const i=Math.floor(e/60);if(i&&s.push(i+"m"),r>0)return s.join(" ");const n=e%60;return n&&s.push(n.toFixed(0)+"s"),s.join(" ")}get currentPrintEta(){var s,t,r;let e=this.$store.getters["printer/getEstimatedTimeETA"];return e||(this.printerIsPrinting&&((s=this.$store.state.printer.print_stats)==null?void 0:s.print_duration)===0?Date.now()+((r=(t=this.$store.state.printer.current_file)==null?void 0:t.estimated_time)!=null?r:0)*1e3:Date.now())}get eta(){var l;if(this.sums.estimatedTime===0)return"--";let e=this.currentPrintEta+this.sums.estimatedTime*1e3;const s=(l=this.$store.getters["gui/getHours12Format"])!=null?l:!1,t=new Date(e);let r=!0,i=t.getHours();s&&i>11&&(r=!1),s&&i>12&&(i-=12),s&&i==0&&(i+=12),i<10&&(i="0"+i);const n=t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes(),a=e-new Date().getTime();let o=i+":"+n;return s&&(o+=" ".concat(r?"AM":"PM")),a>60*60*24*1e3&&(o+="+".concat(Math.trunc(a/(60*60*24*1e3)))),o}};iS([x({type:Array,required:!0})],Tc.prototype,"jobs",2);Tc=iS([w],Tc);var TU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{staticClass:"jobqueue-entry-sum"},[t(v,{staticClass:"py-2",staticStyle:{"font-size":"0.875em"}},[t("small",[t("span",{staticClass:"text-no-wrap mr-1"},[e._v(e._s(e.$t("Panels.StatusPanel.Filament"))+": "+e._s(e.filamentOutput)+",")]),t("span",{staticClass:"text-no-wrap mr-1"},[e._v(e._s(e.$t("Panels.StatusPanel.PrintTime"))+": "+e._s(e.estimatedTime)+",")]),t("span",{staticClass:"text-no-wrap mr-1"},[e._v(e._s(e.$t("Panels.StatusPanel.ETA"))+": "+e._s(e.eta))])])])],1)},DU=[];const Ob={};var MU=E(Tc,TU,DU,!1,EU,"3fc24e22",null,null);function EU(e){for(let s in Ob)this[s]=Ob[s]}const nS=function(){return MU.exports}();var OU=Object.defineProperty,LU=Object.getOwnPropertyDescriptor,FU=(e,s,t,r)=>{for(var i=r>1?void 0:r?LU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&OU(s,t,i),i};let Zm=class extends M(O){constructor(){super(...arguments),this.mdiPlay=Dn,this.mdiPause=Bf,this.mdiTrayFull=m$,this.joblist=[]}get jobs(){return this.$store.getters["server/jobQueue/getJobs"]}get queueState(){var e;return(e=this.$store.state.server.jobQueue.queue_state)!=null?e:""}startJobqueue(){this.$store.dispatch("server/jobQueue/start")}pauseJobqueue(){this.$store.dispatch("server/jobQueue/pause")}updateOrder(e){this.$store.dispatch("server/jobQueue/changePosition",{newIndex:e.newIndex,oldIndex:e.oldIndex})}};Zm=FU([w({components:{JobqueueEntrySum:nS,draggable:Si,JobqueueEntry:vd,Panel:B}})],Zm);var AU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{attrs:{icon:e.mdiTrayFull,title:e.$t("JobQueue.JobQueue"),"card-class":"jobqueue-panel"},scopedSlots:e._u([{key:"buttons",fn:function(){return[e.queueState==="paused"?t(g,{attrs:{color:"success",loading:e.loadings.includes("startJobqueue"),icon:"",tile:"",disabled:!e.klipperReadyForGui},on:{click:e.startJobqueue}},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({},"v-icon",n,!1),i),[e._v(e._s(e.mdiPlay))])]}}],null,!1,2134053718)},[t("span",[e._v(e._s(e.$t("JobQueue.Start")))])])],1):e._e(),["ready","loading"].includes(e.queueState)?t(g,{attrs:{color:"warning",loading:e.loadings.includes("pauseJobqueue"),icon:"",tile:""},on:{click:e.pauseJobqueue}},[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({},"v-icon",n,!1),i),[e._v(e._s(e.mdiPause))])]}}],null,!1,1749587264)},[t("span",[e._v(e._s(e.$t("JobQueue.Pause")))])])],1):e._e()]},proxy:!0}])},[e.jobs.length?t(C,{staticClass:"mx-0 mt-0"},[t(v,[t("draggable",{staticClass:"jobqueue-list mb-3",attrs:{handle:".handle","ghost-class":"ghost",group:"jobs"},on:{end:e.updateOrder},model:{value:e.joblist,callback:function(r){e.joblist=r},expression:"joblist"}},e._l(e.jobs,function(r){return t(vd,{key:r.job_id,attrs:{job:r,"show-handle":!0}})}),1),t(nS,{attrs:{jobs:e.jobs}})],1)],1):t(Z,[t("p",[e._v(e._s(e.$t("JobQueue.Empty")))])])],1)},kU=[];const Lb={};var RU=E(Zm,AU,kU,!1,HU,null,null,null);function HU(e){for(let s in Lb)this[s]=Lb[s]}const aS=function(){return RU.exports}();var jU=Object.defineProperty,IU=Object.getOwnPropertyDescriptor,NU=(e,s,t,r)=>{for(var i=r>1?void 0:r?IU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&jU(s,t,i),i};let Ym=class extends M(O){constructor(){super(...arguments),this.mdiLockOutline=Wu}get queued_jobs(){var e;return(e=this.$store.state.server.jobQueue.queued_jobs)!=null?e:[]}get showJobQueue(){return this.moonrakerComponents.includes("job_queue")&&this.queued_jobs.length}};Ym=NU([w({components:{JobqueuePanel:aS,GcodefilesPanel:rS}})],Ym);var VU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.existGcodesRootDirectory?t(C,[t(v,{class:e.showJobQueue?"col-12 col-md-8 pt-0 pt-md-3 order-1 order-md-0":"col-12"},[t(rS)],1),e.showJobQueue?t(v,{staticClass:"col-12 col-md-4 pb-0 pb-sm-3 order-0 order-md-1"},[t(aS)],1):e._e()],1):t(C,[t(et,{staticClass:"mx-auto mt-6",attrs:{dense:"",text:"",type:"warning",elevation:"2","max-width":"500",icon:e.mdiLockOutline}},[e._v(" "+e._s(e.$t("Files.GcodesRootDirectoryDoesntExists"))+" ")])],1)},UU=[];const Fb={};var BU=E(Ym,VU,UU,!1,GU,null,null,null);function GU(e){for(let s in Fb)this[s]=Fb[s]}const WU=function(){return BU.exports}();var zU=Object.defineProperty,qU=Object.getOwnPropertyDescriptor,Fg=(e,s,t,r)=>{for(var i=r>1?void 0:r?qU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zU(s,t,i),i};let Va=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiUpdate=So,this.formatFilesize=Qe,this.formatPrintTime=qs}get entries(){var t,r,i,n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee,te;let s=[{name:this.$t("History.Filename").toString(),value:this.job.filename,exists:!0},{name:this.$t("History.Filesize").toString(),value:Qe((r=(t=this.job.metadata)==null?void 0:t.filesize)!=null?r:0),exists:((n=(i=this.job.metadata)==null?void 0:i.filesize)!=null?n:0)>0},{name:this.$t("History.LastModified").toString(),value:this.formatDateTime(((o=(a=this.job.metadata)==null?void 0:a.modified)!=null?o:0)*1e3),exists:((c=(l=this.job.metadata)==null?void 0:l.modified)!=null?c:0)>0},{name:this.$t("History.Status").toString(),value:this.$te("History.StatusValues.".concat(this.job.status),"en")?this.$t("History.StatusValues.".concat(this.job.status)).toString():this.job.status,exists:!0},{name:this.$t("History.StartTime").toString(),value:this.formatDateTime(this.job.start_time*1e3),exists:!0},{name:this.$t("History.EndTime").toString(),value:this.formatDateTime(this.job.end_time*1e3),exists:this.job.end_time>0},{name:this.$t("History.EstimatedTime").toString(),value:this.formatPrintTime((d=(u=this.job.metadata)==null?void 0:u.estimated_time)!=null?d:0),exists:this.job.metadata&&"estimated_time"in this.job.metadata},{name:this.$t("History.PrintDuration").toString(),value:this.formatPrintTime((h=this.job.print_duration)!=null?h:0),exists:this.job.print_duration>0},{name:this.$t("History.TotalDuration").toString(),value:this.formatPrintTime((m=this.job.total_duration)!=null?m:0),exists:this.job.total_duration>0},{name:this.$t("History.EstimatedFilamentWeight").toString(),value:"".concat(Math.round(((f=(p=this.job.metadata)==null?void 0:p.filament_weight_total)!=null?f:0)*100)/100," g"),exists:this.job.metadata&&"filament_weight_total"in this.job.metadata},{name:this.$t("History.EstimatedFilament").toString(),value:"".concat(Math.round(($=(b=this.job.metadata)==null?void 0:b.filament_total)!=null?$:0)," mm"),exists:this.job.metadata&&"filament_total"in this.job.metadata},{name:this.$t("History.FilamentUsed").toString(),value:"".concat(Math.round((D=(P=this.job.metadata)==null?void 0:P.filament_used)!=null?D:0)," mm"),exists:this.job.metadata&&"filament_used"in this.job.metadata},{name:this.$t("History.FirstLayerExtTemp").toString(),value:"".concat((k=(R=this.job.metadata)==null?void 0:R.first_layer_extr_temp)!=null?k:0," °C"),exists:this.job.metadata&&"first_layer_extr_temp"in this.job.metadata},{name:this.$t("History.FirstLayerBedTemp").toString(),value:"".concat((L=(S=this.job.metadata)==null?void 0:S.first_layer_bed_temp)!=null?L:0," °C"),exists:this.job.metadata&&"first_layer_bed_temp"in this.job.metadata},{name:this.$t("History.FirstLayerHeight").toString(),value:"".concat((N=(I=this.job.metadata)==null?void 0:I.first_layer_height)!=null?N:0," mm"),exists:this.job.metadata&&"first_layer_height"in this.job.metadata},{name:this.$t("History.LayerHeight").toString(),value:"".concat((q=(G=this.job.metadata)==null?void 0:G.layer_height)!=null?q:0," mm"),exists:this.job.metadata&&"layer_height"in this.job.metadata},{name:this.$t("History.ObjectHeight").toString(),value:"".concat((F=(se=this.job.metadata)==null?void 0:se.object_height)!=null?F:0," mm"),exists:this.job.metadata&&"object_height"in this.job.metadata},{name:this.$t("History.Slicer").toString(),value:(X=(W=this.job.metadata)==null?void 0:W.slicer)!=null?X:"--",exists:this.job.metadata&&"slicer"in this.job.metadata},{name:this.$t("History.SlicerVersion").toString(),value:(ee=(J=this.job.metadata)==null?void 0:J.slicer_version)!=null?ee:"--",exists:this.job.metadata&&"slicer_version"in this.job.metadata}];return"auxiliary_data"in this.job&&((te=this.job.auxiliary_data)==null||te.forEach(j=>{let z=j.value.toString();Array.isArray(j.value)||(z="".concat(Math.round(j.value*1e3)/1e3," ").concat(j.units)),z===""&&(z="--"),s.push({name:j.description,value:z,exists:!0})})),s.filter(j=>j.exists)}closeDialog(){this.$emit("close-dialog")}};Fg([x({type:Boolean,required:!0})],Va.prototype,"show",2);Fg([x({type:Object,required:!0})],Va.prototype,"job",2);Va=Fg([w({components:{Panel:B,SettingsRow:U}})],Va);var ZU=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{"max-width":600,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}},model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[t(B,{attrs:{title:e.$t("History.JobDetails").toString(),icon:e.mdiUpdate,"card-class":"history-detail-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pa-0"},[t("overlay-scrollbars",{staticClass:"px-6",staticStyle:{height:"350px"}},[e._l(e.entries,function(r,i){return[i>0?t(H,{key:"history_detail_entry_divider_"+i,staticClass:"my-3"}):e._e(),t(C,{key:"history_detail_entry_"+i},[t(v,[e._v(e._s(r.name))]),t(v,{staticClass:"text-right"},[e._v(e._s(r.value))])],1)]})],2)],1)],1)],1)},YU=[];const Ab={};var XU=E(Va,ZU,YU,!1,JU,"fa267930",null,null);function JU(e){for(let s in Ab)this[s]=Ab[s]}const Ag=function(){return XU.exports}();var KU=Object.defineProperty,QU=Object.getOwnPropertyDescriptor,Io=(e,s,t,r)=>{for(var i=r>1?void 0:r?QU(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&KU(s,t,i),i};let pi=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.note=""}get panelTitle(){return this.type==="create"?this.$t("History.CreateNote").toString():this.$t("History.EditNote").toString()}get icon(){return this.type==="create"?JC:XC}saveNote(){var e;this.$store.dispatch("server/history/saveHistoryNote",{job_id:(e=this.job)==null?void 0:e.job_id,note:this.note}),this.closeDialog()}closeDialog(){this.$emit("close-dialog")}onShowChanged(){var e;this.show&&(this.note=(e=this.job.note)!=null?e:"")}};Io([x({type:Boolean,required:!0})],pi.prototype,"show",2);Io([x({type:String,required:!0})],pi.prototype,"type",2);Io([x({type:Object,required:!0})],pi.prototype,"job",2);Io([ce("show",{immediate:!0})],pi.prototype,"onShowChanged",1);pi=Io([w({components:{Panel:B,SettingsRow:U}})],pi);var eB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{"max-width":600,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}},model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[t(B,{attrs:{title:e.panelTitle,icon:e.icon,"card-class":"history-note-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pb-0"},[t(C,[t(v,[t(Dr,{attrs:{outlined:"","hide-details":"",label:e.$t("History.Note")},model:{value:e.note,callback:function(r){e.note=r},expression:"note"}})],1)],1)],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.saveNote}},[e._v(e._s(e.$t("History.Save")))])],1)],1)],1)},tB=[];const kb={};var sB=E(pi,eB,tB,!1,rB,"e397e32c",null,null);function rB(e){for(let s in kb)this[s]=kb[s]}const oS=function(){return sB.exports}();var iB=Object.defineProperty,nB=Object.getOwnPropertyDescriptor,Md=(e,s,t,r)=>{for(var i=r>1?void 0:r?nB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&iB(s,t,i),i};let hn=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiDelete=Ge,this.mdiFile=Ks,this.mdiFileCancel=l5,this.mdiNoteEditOutline=XC,this.mdiNotePlusOutline=JC,this.mdiNoteTextOutline=F5,this.mdiPrinter=Gf,this.mdiTextBoxSearch=a$,this.mdiPlaylistPlus=$o,this.detailsDialogBool=!1,this.contextMenuBool=!1,this.contextMenuX=0,this.contextMenuY=0,this.noteDialogBool=!1,this.noteDialogType="create",this.addBatchToQueueDialogBool=!1}get smallThumbnail(){var t,r,i,n,a;if(((i=(r=(t=this.item.metadata)==null?void 0:t.thumbnails)==null?void 0:r.length)!=null?i:0)<1)return!1;const s=(a=(n=this.item.metadata)==null?void 0:n.thumbnails)==null?void 0:a.find(o=>o.width>=Qt&&o.width<=es&&o.height>=Qt&&o.height<=es);return s?this.createThumbnailUrl(s):!1}get bigThumbnail(){var t,r,i,n,a;if(((i=(r=(t=this.item.metadata)==null?void 0:t.thumbnails)==null?void 0:r.length)!=null?i:0)<1)return!1;const s=(a=(n=this.item.metadata)==null?void 0:n.thumbnails)==null?void 0:a.find(o=>o.width>=Vs);return s?this.createThumbnailUrl(s):!1}get statusIcon(){return this.$store.getters["server/history/getPrintStatusIcon"](this.item.status)}get statusColor(){return this.$store.getters["server/history/getPrintStatusIconColor"](this.item.status)}get statusName(){return this.$t("History.StatusValues.".concat(this.item.status),"en")?this.$t("History.StatusValues.".concat(this.item.status)):this.item.status.replace(/_/g," ")}get cssClasses(){let s=["file-list-cursor","user-select-none"];return this.item.exists||s.push("text--disabled"),s}get isJobQueueAvailable(){return this.moonrakerComponents.includes("job_queue")}select(s){this.$emit("select",s)}showContextMenu(s){s==null||s.preventDefault(),!this.contextMenuBool&&(this.contextMenuBool=!0,this.contextMenuX=(s==null?void 0:s.clientX)||(s==null?void 0:s.pageX)||window.screenX/2,this.contextMenuY=(s==null?void 0:s.clientY)||(s==null?void 0:s.pageY)||window.screenY/2,this.$nextTick(()=>{this.contextMenuBool=!0}))}startPrint(){this.item.exists&&this.$socket.emit("printer.print.start",{filename:this.item.filename},{action:"switchToDashboard"})}createNote(){this.noteDialogType="create",this.noteDialogBool=!0}editNote(){this.noteDialogType="edit",this.noteDialogBool=!0}addToQueue(){this.$store.dispatch("server/jobQueue/addToQueue",[this.item.filename]),this.$toast.info(this.$t("History.AddToQueueSuccessful",{filename:this.item.filename}).toString())}deleteJob(){this.$socket.emit("server.history.delete_job",{uid:this.item.job_id},{action:"server/history/getDeletedJobs"})}outputValue(s,t){var i;let r=s.value in t?t[s.value]:null;if(r===null&&(r=s.value in t.metadata?t.metadata[s.value]:null),s.value.startsWith("history_field_")){const n=s.value.replace("history_field_",""),a=(i=t.auxiliary_data)==null?void 0:i.find(o=>o.name===n);if(a&&!Array.isArray(a.value))return"".concat(Math.round(a.value*1e3)/1e3," ").concat(a.units)}if(r===null)return"--";switch(s.value==="slicer"&&(r+="<br />"+t.metadata.slicer_version),s.outputType){case"filesize":return Qe(r);case"date":return this.formatDateTime(r*1e3);case"time":return qs(r,!1);case"temp":return(r==null?void 0:r.toFixed())+" °C";case"length":return r>1e3?(r/1e3).toFixed(2)+" m":(r==null?void 0:r.toFixed(2))+" mm";default:return r}}createThumbnailUrl(s){let t="";return this.item.filename.lastIndexOf("/")!==-1&&(t=this.item.filename.substring(0,this.item.filename.lastIndexOf("/")+1)),"".concat(this.apiUrl,"/server/files/gcodes/").concat(Ie(t+s.relative_path),"?timestamp=").concat(this.item.metadata.modified)}};Md([x({type:Object,required:!0})],hn.prototype,"item",2);Md([x({type:Array,required:!0})],hn.prototype,"tableFields",2);Md([x({type:Boolean,required:!0})],hn.prototype,"isSelected",2);hn=Md([w({components:{AddBatchToQueueDialog:xi,HistoryListPanelNoteDialog:oS,HistoryListPanelDetailsDialog:Ag,Panel:B}})],hn);var aB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(r){return e.showContextMenu(r)},expression:"(e) => showContextMenu(e)",arg:"600"}],key:e.item.job_id,class:e.cssClasses,on:{contextmenu:function(r){return e.showContextMenu(r)},click:function(r){e.detailsDialogBool=!0}}},[t("td",{staticClass:"pr-0"},[t(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{value:e.isSelected},on:{click:function(r){return r.stopPropagation(),e.select(!e.isSelected)}}})],1),t("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[e.item.exists?e.smallThumbnail&&e.bigThumbnail?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("vue-load-image",[t("img",e._g(e._b({attrs:{slot:"image",alt:e.item.filename,src:e.smallThumbnail,width:"32",height:"32"},slot:"image"},"img",n,!1),i)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}])},[t("span",[t("img",{attrs:{alt:e.item.filename,src:e.bigThumbnail,width:"250"}})])])]:e.smallThumbnail?[t("vue-load-image",[t("img",{attrs:{slot:"image",alt:e.item.filename,src:e.smallThumbnail,width:"32",height:"32"},slot:"image"}),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]:[t(_,[e._v(e._s(e.mdiFile))])]:[t(_,{staticClass:"text--disabled"},[e._v(e._s(e.mdiFileCancel))])]],2),t("td",[e._v(e._s(e.item.filename))]),t("td",{staticClass:"text-right text-no-wrap"},["note"in e.item&&e.item.note?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({staticClass:"mr-2",attrs:{small:""}},"v-icon",n,!1),i),[e._v(" "+e._s(e.mdiNoteTextOutline)+" ")])]}}],null,!1,3447416518)},[t("span",{domProps:{innerHTML:e._s(e.item.note.replaceAll("\n","<br />"))}})])]:e._e(),t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[t(_,{attrs:{small:"",color:e.statusColor,disabled:!e.item.exists}},[e._v(" "+e._s(e.statusIcon)+" ")])],1)]}}])},[t("span",[e._v(e._s(e.statusName))])])],2),e._l(e.tableFields,function(r){return t("td",{key:r.value,staticClass:"text-no-wrap",domProps:{innerHTML:e._s(e.outputValue(r,e.item))}})}),t(ye,{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenuBool,callback:function(r){e.contextMenuBool=r},expression:"contextMenuBool"}},[t(Ee,[t(Y,{on:{click:function(r){e.detailsDialogBool=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiTextBoxSearch))]),e._v(" "+e._s(e.$t("History.Details"))+" ")],1),e.item.note?t(Y,{on:{click:e.editNote}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiNoteEditOutline))]),e._v(" "+e._s(e.$t("History.EditNote"))+" ")],1):t(Y,{on:{click:e.createNote}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiNotePlusOutline))]),e._v(" "+e._s(e.$t("History.AddNote"))+" ")],1),e.item.exists?t(Y,{attrs:{disabled:e.printerIsPrinting||!e.klipperReadyForGui},on:{click:e.startPrint}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPrinter))]),e._v(" "+e._s(e.$t("History.Reprint"))+" ")],1):e._e(),e.item.exists&&e.isJobQueueAvailable?t(Y,{on:{click:e.addToQueue}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddToQueue"))+" ")],1):e._e(),e.item.exists&&e.isJobQueueAvailable?t(Y,{on:{click:function(r){e.addBatchToQueueDialogBool=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiPlaylistPlus))]),e._v(" "+e._s(e.$t("Files.AddBatchToQueue"))+" ")],1):e._e(),t(Y,{staticClass:"red--text",on:{click:e.deleteJob}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("History.Delete"))+" ")],1)],1)],1),t(Ag,{attrs:{show:e.detailsDialogBool,job:e.item},on:{"close-dialog":function(r){e.detailsDialogBool=!1}}}),t(oS,{attrs:{show:e.noteDialogBool,type:e.noteDialogType,job:e.item},on:{"close-dialog":function(r){e.noteDialogBool=!1}}}),t(xi,{attrs:{"is-visible":e.addBatchToQueueDialogBool,"show-toast":!0,filename:e.item.filename},on:{close:function(r){e.addBatchToQueueDialogBool=!1}}})],2)},oB=[];const Rb={};var lB=E(hn,aB,oB,!1,cB,null,null,null);function cB(e){for(let s in Rb)this[s]=Rb[s]}const lS=function(){return lB.exports}();var uB=Object.defineProperty,dB=Object.getOwnPropertyDescriptor,kg=(e,s,t,r)=>{for(var i=r>1?void 0:r?dB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&uB(s,t,i),i};let Ua=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiAlarm=va,this.mdiCalendar=Vu,this.mdiCloseThick=pe,this.mdiNotebookPlus=KC,this.name="",this.note="",this.reminder=null,this.reminderFilament=!1,this.reminderFilamentValue=0,this.reminderPrinttime=!1,this.reminderPrinttimeValue=0,this.reminderDate=!1,this.reminderDateValue=0,this.nameInputRules=[s=>!!s||this.$t("History.InvalidNameEmpty")]}get reminderItems(){return[{text:this.$t("History.NoReminder").toString(),value:null},{text:this.$t("History.OneTime").toString(),value:"one-time"},{text:this.$t("History.Repeat").toString(),value:"repeat"}]}get totalFilamentUsed(){var s,t;return(t=(s=this.$store.state.server.history.job_totals)==null?void 0:s.total_filament_used)!=null?t:0}get totalPrinttime(){var s,t;return(t=(s=this.$store.state.server.history.job_totals)==null?void 0:s.total_print_time)!=null?t:0}get isValid(){return!(this.name===""||this.reminder!==null&&(!this.reminderFilament&&!this.reminderPrinttime&&!this.reminderDate||this.reminderFilament&&this.reminderFilamentValue<=0||this.reminderPrinttime&&this.reminderPrinttimeValue<=0||this.reminderDate&&this.reminderDateValue<=0))}closeDialog(){this.$emit("close")}save(){const s=new Date;this.$store.dispatch("gui/maintenance/store",{entry:{name:this.name,note:this.note,start_time:s.getTime()/1e3,end_time:null,start_filament:this.totalFilamentUsed,end_filament:null,start_printtime:this.totalPrinttime,end_printtime:null,reminder:{type:this.reminder,filament:{bool:this.reminderFilament,value:this.reminderFilamentValue},printtime:{bool:this.reminderPrinttime,value:this.reminderPrinttimeValue},date:{bool:this.reminderDate,value:this.reminderDateValue}}}}),this.closeDialog()}resetValues(){this.name="",this.note="",this.reminder=null,this.reminderFilament=!1,this.reminderFilamentValue=0,this.reminderPrinttime=!1,this.reminderPrinttimeValue=0,this.reminderDate=!1,this.reminderDateValue=0}onShowChanged(){this.show&&this.resetValues()}};kg([x({type:Boolean,default:!1})],Ua.prototype,"show",2);kg([ce("show")],Ua.prototype,"onShowChanged",1);Ua=kg([w({components:{Panel:B,SettingsRow:U}})],Ua);var hB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":600,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}}},[t(B,{attrs:{title:e.$t("History.AddMaintenance"),icon:e.mdiNotebookPlus,"card-class":"history-add-maintenance-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pb-0"},[t(C,[t(v,[t(re,{attrs:{rules:e.nameInputRules,label:e.$t("History.Name"),"hide-details":"auto",outlined:"",dense:""},model:{value:e.name,callback:function(r){e.name=r},expression:"name"}})],1)],1),t(C,[t(v,[t(Dr,{attrs:{outlined:"","hide-details":"auto",label:e.$t("History.Note")},model:{value:e.note,callback:function(r){e.note=r},expression:"note"}})],1)],1),t(C,[t(v,[t(U,{attrs:{title:e.$t("History.Reminder")}},[t(we,{staticClass:"mt-0",attrs:{items:e.reminderItems,outlined:"",dense:"","hide-details":""},model:{value:e.reminder,callback:function(r){e.reminder=r},expression:"reminder"}})],1)],1)],1),e.reminder?[t(C,[t(v,[t(U,{attrs:{icon:e.mdiAdjust,title:e.$t("History.FilamentBasedReminder"),"sub-title":e.$t("History.FilamentBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reminderFilament,callback:function(r){e.reminderFilament=r},expression:"reminderFilament"}}),t(re,{staticClass:"mt-0",attrs:{"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Meter")},model:{value:e.reminderFilamentValue,callback:function(r){e.reminderFilamentValue=e._n(r)},expression:"reminderFilamentValue"}})],1)],1)],1),t(C,[t(v,[t(U,{attrs:{icon:e.mdiAlarm,title:e.$t("History.PrinttimeBasedReminder"),"sub-title":e.$t("History.PrinttimeBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reminderPrinttime,callback:function(r){e.reminderPrinttime=r},expression:"reminderPrinttime"}}),t(re,{staticClass:"mt-0",attrs:{"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Hours")},model:{value:e.reminderPrinttimeValue,callback:function(r){e.reminderPrinttimeValue=e._n(r)},expression:"reminderPrinttimeValue"}})],1)],1)],1),t(C,[t(v,[t(U,{attrs:{icon:e.mdiCalendar,title:e.$t("History.DateBasedReminder"),"sub-title":e.$t("History.DateBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reminderDate,callback:function(r){e.reminderDate=r},expression:"reminderDate"}}),t(re,{staticClass:"mt-0",attrs:{"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Days")},model:{value:e.reminderDateValue,callback:function(r){e.reminderDateValue=e._n(r)},expression:"reminderDateValue"}})],1)],1)],1)]:e._e()],2),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),t(g,{attrs:{color:"primary",text:"",disabled:!e.isValid},on:{click:e.save}},[e._v(e._s(e.$t("History.Save")))])],1)],1)],1)},mB=[];const Hb={};var pB=E(Ua,hB,mB,!1,fB,null,null,null);function fB(e){for(let s in Hb)this[s]=Hb[s]}const cS=function(){return pB.exports}();var gB=Object.defineProperty,_B=Object.getOwnPropertyDescriptor,Ed=(e,s,t,r)=>{for(var i=r>1?void 0:r?_B(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&gB(s,t,i),i};let mn=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiAlarm=va,this.mdiCalendar=Vu,this.mdiCloseThick=pe}get date(){return this.formatDateTime(this.item.start_time*1e3,!1)}get dateText(){return this.last?this.$t("History.EntryCreatedAt",{date:this.date}):this.$t("History.EntryPerformedAt",{date:this.date})}get showGoals(){return this.item.reminder.type===null?!1:this.current&&this.item.end_time===null}get restFilament(){var i,n,a,o,l;const e=(n=(i=this.item)==null?void 0:i.start_filament)!=null?n:0,s=(a=this.item.end_filament)!=null?a:0;let r=((l=(o=this.$store.state.server.history.job_totals)==null?void 0:o.total_filament_used)!=null?l:0)-e;return s&&(r=s-e),r/=1e3,r}get restFilamentText(){var s,t;const e=(t=(s=this.item.reminder.filament)==null?void 0:s.value)!=null?t:0;return this.showGoals?this.item.reminder.filament.bool?"".concat(this.restFilament.toFixed(0)," / ").concat(e," m"):!1:"".concat(this.restFilament.toFixed(0)," m")}get restFilamentClass(){var t,r;const e=["mr-3"];if(!this.showGoals||!this.item.reminder.filament.bool)return e;const s=(r=(t=this.item.reminder.filament)==null?void 0:t.value)!=null?r:0;return this.restFilament>s?[...e,"error--text","font-weight-bold"]:e}get restPrinttime(){var i,n,a,o;const e=(i=this.item.start_printtime)!=null?i:0,s=(n=this.item.end_printtime)!=null?n:0;let r=((o=(a=this.$store.state.server.history.job_totals)==null?void 0:a.total_print_time)!=null?o:0)-e;return s&&(r=s-e),r/=3600,r}get restPrinttimeText(){var s,t;const e=(t=(s=this.item.reminder.printtime)==null?void 0:s.value)!=null?t:0;return this.showGoals?this.item.reminder.printtime.bool?"".concat(this.restPrinttime.toFixed(1)," / ").concat(e," h"):!1:"".concat(this.restPrinttime.toFixed(1)," h")}get restPrinttimeClass(){var t,r;const e=["mr-3"];if(!this.showGoals||!this.item.reminder.printtime.bool)return e;const s=(r=(t=this.item.reminder.printtime)==null?void 0:t.value)!=null?r:0;return this.restPrinttime>s?[...e,"error--text","font-weight-bold"]:e}get restDays(){var i,n;const e=(i=this.item.start_time)!=null?i:0,s=(n=this.item.end_time)!=null?n:0;let r=new Date().getTime()/1e3-e;return s&&(r=s-e),r/(60*60*24)}get restDaysText(){var s,t;const e=(t=(s=this.item.reminder.date)==null?void 0:s.value)!=null?t:0;return this.showGoals?this.item.reminder.date.bool?"".concat(this.restDays.toFixed(0)," / ").concat(e," days"):!1:"".concat(this.restDays.toFixed(0)," days")}get restDaysClass(){var t,r;const e=["mr-3"];if(!this.showGoals||!this.item.reminder.date.bool)return e;const s=(r=(t=this.item.reminder.date)==null?void 0:t.value)!=null?r:0;return this.restDays>s?[...e,"error--text","font-weight-bold"]:e}get classDateItem(){return{"pb-2":!this.last,"pb-5":this.last}}get note(){var e;return(e=this.item.perform_note)==null?void 0:e.replaceAll("\n","<br>")}};Ed([x({type:Object,default:!1})],mn.prototype,"item",2);Ed([x({type:Boolean,default:!1})],mn.prototype,"current",2);Ed([x({type:Boolean,default:!1})],mn.prototype,"last",2);mn=Ed([w({components:{Panel:B}})],mn);var vB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(ga,{staticClass:"pb-2",attrs:{small:"","hide-dot":""}},[t("div",[e.restFilamentText?t("span",{class:e.restFilamentClass},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiAdjust))]),e._v(" "+e._s(e.restFilamentText)+" ")],1):e._e(),e.restPrinttimeText?t("span",{class:e.restPrinttimeClass},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiAlarm))]),e._v(" "+e._s(e.restPrinttimeText)+" ")],1):e._e(),e.restDaysText?t("span",{class:e.restDaysClass},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCalendar))]),e._v(" "+e._s(e.restDaysText)+" ")],1):e._e()]),e.note?t("p",{staticClass:"mt-2 mb-0",domProps:{innerHTML:e._s(e.note)}}):e._e()]),t(ga,{class:e.classDateItem,attrs:{small:""}},[t("strong",[e._v(e._s(e.dateText))])])],1)},bB=[];const jb={};var yB=E(mn,vB,bB,!1,CB,null,null,null);function CB(e){for(let s in jb)this[s]=jb[s]}const Rg=function(){return yB.exports}();var $B=Object.defineProperty,xB=Object.getOwnPropertyDescriptor,Od=(e,s,t,r)=>{for(var i=r>1?void 0:r?xB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$B(s,t,i),i};let pn=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiNotebook=qu,this.note=""}get showPerformButton(){var e,s;return this.item.end_time?!1:(s=(e=this.item.reminder)==null?void 0:e.type)!=null?s:!1}get performButtonText(){var e;return((e=this.item.reminder)==null?void 0:e.type)==="repeat"?this.$t("History.PerformedAndReschedule"):this.$t("History.Performed")}closeDialog(){this.$emit("close")}perform(){this.$store.dispatch("gui/maintenance/perform",{id:this.item.id,note:this.note}),this.$emit("close-both")}onShowChanged(e){e&&(this.note="")}};Od([x({type:Boolean,default:!1})],pn.prototype,"show",2);Od([x({type:Object,default:!1})],pn.prototype,"item",2);Od([ce("show")],pn.prototype,"onShowChanged",1);pn=Od([w({components:{Panel:B,HistoryListPanelDetailMaintenanceHistoryEntry:Rg}})],pn);var SB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":400,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}}},[t(B,{attrs:{title:e.$t("History.PerformMaintenance"),icon:e.mdiNotebook,"card-class":"history-perform-maintenance-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pb-0"},[t(C,[t(v,[t(Dr,{attrs:{outlined:"","hide-details":"auto",label:e.$t("History.AddANote")},model:{value:e.note,callback:function(r){e.note=r},expression:"note"}})],1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),e.showPerformButton?t(g,{attrs:{text:"",color:"primary"},on:{click:e.perform}},[e._v(e._s(e.performButtonText))]):e._e()],1)],1)],1)},wB=[];const Ib={};var PB=E(pn,SB,wB,!1,TB,null,null,null);function TB(e){for(let s in Ib)this[s]=Ib[s]}const uS=function(){return PB.exports}();var DB=Object.defineProperty,MB=Object.getOwnPropertyDescriptor,Hg=(e,s,t,r)=>{for(var i=r>1?void 0:r?MB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&DB(s,t,i),i};let Ba=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiNotebook=qu,this.mdiPencil=Ct,this.showEditDialog=!1,this.showPerformDialog=!1}get date(){return this.formatDateTime(this.item.start_time*1e3,!1)}get note(){return this.item.note.replaceAll("\n","<br>")}get showPerformButton(){var e,s;return this.item.end_time?!1:(s=(e=this.item.reminder)==null?void 0:e.type)!=null?s:!1}get allEntries(){var e;return(e=this.$store.getters["gui/maintenance/getEntries"])!=null?e:[]}get history(){const e=[];let s=this.item.id;for(;s;){const t=this.allEntries.find(r=>r.id===s);if(!t)break;e.push(t),s=t.last_entry}return e}get outputFirstPointOfHistory(){return this.item.reminder.type===null?this.$t("History.EntrySince"):this.item.end_time===null?this.$t("History.EntryNextPerform"):this.$t("History.EntryPerformedAt",{date:this.formatDateTime(this.item.end_time*1e3)})}closeDialog(){this.$emit("close")}closePerform(){this.showPerformDialog=!1,this.closeDialog()}};Hg([x({type:Boolean,default:!1})],Ba.prototype,"show",2);Hg([x({type:Object,default:!1})],Ba.prototype,"item",2);Ba=Hg([w({components:{HistoryListPanelPerformMaintenance:uS,Panel:B,HistoryListPanelDetailMaintenanceHistoryEntry:Rg}})],Ba);var EB=Object.defineProperty,OB=Object.getOwnPropertyDescriptor,Ld=(e,s,t,r)=>{for(var i=r>1?void 0:r?OB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&EB(s,t,i),i};let fn=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiAlarm=va,this.mdiCalendar=Vu,this.mdiCloseThick=pe,this.mdiNotebook=qu,this.name="",this.note="",this.reminder=null,this.reminderFilament=!1,this.reminderFilamentValue=0,this.reminderPrinttime=!1,this.reminderPrinttimeValue=0,this.reminderDate=!1,this.reminderDateValue=0,this.nameInputRules=[e=>!!e||this.$t("History.InvalidNameEmpty")]}get reminderItems(){return[{text:this.$t("History.NoReminder").toString(),value:null},{text:this.$t("History.OneTime").toString(),value:"one-time"},{text:this.$t("History.Repeat").toString(),value:"repeat"}]}get totalFilamentUsed(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.total_filament_used)!=null?s:0}get totalPrinttime(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.total_print_time)!=null?s:0}get isValid(){return!(this.name===""||this.reminder!==null&&(!this.reminderFilament&&!this.reminderPrinttime&&!this.reminderDate||this.reminderFilament&&this.reminderFilamentValue<=0||this.reminderPrinttime&&this.reminderPrinttimeValue<=0||this.reminderDate&&this.reminderDateValue<=0))}closeDialog(){this.$emit("close")}save(){const e={...this.item};"type"in e&&delete e.type,e.name=this.name,e.note=this.note,e.reminder={type:this.reminder,filament:{bool:this.reminderFilament,value:this.reminderFilamentValue},printtime:{bool:this.reminderPrinttime,value:this.reminderPrinttimeValue},date:{bool:this.reminderDate,value:this.reminderDateValue}},this.$store.dispatch("gui/maintenance/update",e),this.closeDialog()}onShowChanged(){var e,s,t,r,i,n,a,o,l,c,u,d,h,m;this.show&&(this.name=this.item.name,this.note=this.item.note,this.reminder=(s=(e=this.item.reminder)==null?void 0:e.type)!=null?s:null,this.reminderFilament=(r=(t=this.item.reminder)==null?void 0:t.filament.bool)!=null?r:!1,this.reminderFilamentValue=(n=(i=this.item.reminder)==null?void 0:i.filament.value)!=null?n:0,this.reminderPrinttime=(o=(a=this.item.reminder)==null?void 0:a.printtime.bool)!=null?o:!1,this.reminderPrinttimeValue=(c=(l=this.item.reminder)==null?void 0:l.printtime.value)!=null?c:0,this.reminderDate=(d=(u=this.item.reminder)==null?void 0:u.date.bool)!=null?d:!1,this.reminderDateValue=(m=(h=this.item.reminder)==null?void 0:h.date.value)!=null?m:0)}};Ld([x({type:Boolean,default:!1})],fn.prototype,"show",2);Ld([x({type:Object,required:!0})],fn.prototype,"item",2);Ld([ce("show")],fn.prototype,"onShowChanged",1);fn=Ld([w({components:{Panel:B,SettingsRow:U}})],fn);var LB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":600,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}}},[t(B,{attrs:{title:e.$t("History.EditMaintenance"),icon:e.mdiNotebook,"card-class":"history-edit-maintenance-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pb-0"},[t(C,[t(v,[t(re,{attrs:{rules:e.nameInputRules,label:e.$t("History.Name"),"hide-details":"auto",outlined:"",dense:""},model:{value:e.name,callback:function(r){e.name=r},expression:"name"}})],1)],1),t(C,[t(v,[t(Dr,{attrs:{outlined:"","hide-details":"auto",label:e.$t("History.Note")},model:{value:e.note,callback:function(r){e.note=r},expression:"note"}})],1)],1),t(C,[t(v,[t(U,{attrs:{title:e.$t("History.Reminder")}},[t(we,{staticClass:"mt-0",attrs:{items:e.reminderItems,disabled:e.item.end_time!==null,outlined:"",dense:"","hide-details":""},model:{value:e.reminder,callback:function(r){e.reminder=r},expression:"reminder"}})],1)],1)],1),e.reminder?[t(C,[t(v,[t(U,{attrs:{icon:e.mdiAdjust,title:e.$t("History.FilamentBasedReminder"),"sub-title":e.$t("History.FilamentBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":""},model:{value:e.reminderFilament,callback:function(r){e.reminderFilament=r},expression:"reminderFilament"}}),t(re,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Meter")},model:{value:e.reminderFilamentValue,callback:function(r){e.reminderFilamentValue=e._n(r)},expression:"reminderFilamentValue"}})],1)],1)],1),t(C,[t(v,[t(U,{attrs:{icon:e.mdiAlarm,title:e.$t("History.PrinttimeBasedReminder"),"sub-title":e.$t("History.PrinttimeBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":""},model:{value:e.reminderPrinttime,callback:function(r){e.reminderPrinttime=r},expression:"reminderPrinttime"}}),t(re,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Hours")},model:{value:e.reminderPrinttimeValue,callback:function(r){e.reminderPrinttimeValue=e._n(r)},expression:"reminderPrinttimeValue"}})],1)],1)],1),t(C,[t(v,[t(U,{attrs:{icon:e.mdiCalendar,title:e.$t("History.DateBasedReminder"),"sub-title":e.$t("History.DateBasedReminderDescription")}},[t(fe,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":""},model:{value:e.reminderDate,callback:function(r){e.reminderDate=r},expression:"reminderDate"}}),t(re,{staticClass:"mt-0",attrs:{disabled:e.item.end_time!==null,"hide-details":"auto",type:"number",outlined:"",dense:"",suffix:e.$t("History.Days")},model:{value:e.reminderDateValue,callback:function(r){e.reminderDateValue=e._n(r)},expression:"reminderDateValue"}})],1)],1)],1)]:e._e()],2),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),t(g,{attrs:{color:"primary",text:"",disabled:!e.isValid},on:{click:e.save}},[e._v(e._s(e.$t("History.Save")))])],1)],1)],1)},FB=[];const Nb={};var AB=E(fn,LB,FB,!1,kB,null,null,null);function kB(e){for(let s in Nb)this[s]=Nb[s]}const RB=function(){return AB.exports}();var HB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":500,persistent:""},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.closeDialog.apply(null,arguments)}}},[t(B,{attrs:{title:e.$t("History.Maintenance"),icon:e.mdiNotebook,"card-class":"history-maintenance-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.showEditDialog=!0}}},[t(_,[e._v(e._s(e.mdiPencil))])],1),t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t("overlay-scrollbars",{staticStyle:{height:"350px"}},[t(Z,{staticClass:"pb-0"},[t(C,[t(v,[t("div",[e._v(e._s(e.date))]),t("p",{staticClass:"text-h4 text--primary"},[e._v(e._s(e.item.name))]),e.note?t("div",{staticClass:"text--primary",domProps:{innerHTML:e._s(e.note)}}):e._e()])],1)],1),t(H,{staticClass:"mt-3 mb-0"}),t(Z,{staticClass:"pt-0 mb-0 pb-0"},[t(pC,{attrs:{"align-top":"",dense:""}},[t(ga,{staticClass:"pb-1",attrs:{small:""}},[t("strong",[e._v(e._s(e.outputFirstPointOfHistory))])]),e._l(e.history,function(r){return t(Rg,{key:r.id,attrs:{item:r,current:r.id===e.item.id,last:r.id===e.history[e.history.length-1].id}})})],2)],1)],1),t(H,{staticClass:"mt-0"}),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),e.showPerformButton?t(g,{attrs:{text:"",color:"primary"},on:{click:function(r){e.showPerformDialog=!0}}},[e._v(" "+e._s(e.$t("History.Perform"))+" ")]):e._e()],1)],1),t(uS,{attrs:{show:e.showPerformDialog,item:e.item},on:{close:function(r){e.showPerformDialog=!1},"close-both":e.closePerform}}),t(RB,{attrs:{show:e.showEditDialog,item:e.item},on:{close:function(r){e.showEditDialog=!1}}})],1)},jB=[];const Vb={};var IB=E(Ba,HB,jB,!1,NB,null,null,null);function NB(e){for(let s in Vb)this[s]=Vb[s]}const jg=function(){return IB.exports}();var VB=Object.defineProperty,UB=Object.getOwnPropertyDescriptor,Fd=(e,s,t,r)=>{for(var i=r>1?void 0:r?UB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VB(s,t,i),i};let gn=class extends M(O){constructor(){super(...arguments),this.mdiAdjust=Er,this.mdiAlarm=va,this.mdiCalendar=Vu,this.mdiDelete=Ge,this.mdiTextBoxSearch=a$,this.detailsDialogBool=!1,this.contextMenuBool=!1,this.contextMenuX=0,this.contextMenuY=0}get cssClasses(){return["file-list-cursor","user-select-none"]}get restFilament(){var n,a,o,l,c;const s=(a=(n=this.item)==null?void 0:n.start_filament)!=null?a:0,t=(o=this.item.end_filament)!=null?o:0;let i=((c=(l=this.$store.state.server.history.job_totals)==null?void 0:l.total_filament_used)!=null?c:0)-s;return t&&(i=t-s),i/=1e3,i}get restTextFilament(){var t,r;if(!this.item.reminder.filament.bool)return!1;const s=(r=(t=this.item.reminder.filament)==null?void 0:t.value)!=null?r:0;return"".concat(this.restFilament.toFixed(0)," / ").concat(s," m")}get restPrinttime(){var n,a,o,l;const s=(n=this.item.start_printtime)!=null?n:0,t=(a=this.item.end_printtime)!=null?a:0;let i=((l=(o=this.$store.state.server.history.job_totals)==null?void 0:o.total_print_time)!=null?l:0)-s;return t&&(i=t-s),i/=3600,i}get restTextPrinttime(){var t,r;if(!this.item.reminder.printtime.bool)return!1;const s=(r=(t=this.item.reminder.printtime)==null?void 0:t.value)!=null?r:0;return"".concat(this.restPrinttime.toFixed(1)," / ").concat(s," h")}get restDays(){var n,a;const s=(n=this.item.start_time)!=null?n:0,t=(a=this.item.end_time)!=null?a:0;let i=new Date().getTime()/1e3-s;return t&&(i=t-s),i/(60*60*24)}get restTextDays(){var t,r;if(!this.item.reminder.date.bool)return!1;const s=(r=(t=this.item.reminder.date)==null?void 0:t.value)!=null?r:0;return"".concat(this.restDays.toFixed(0)," / ").concat(s," days")}get reminder(){var s,t;return(t=(s=this.item.reminder)==null?void 0:s.type)!=null?t:null}get alarmIcon(){return this.reminder==="repeat"?$M:va}get icon(){return this.item.end_time!==null?A5:qu}select(s){this.$emit("select",s)}showContextMenu(s){s==null||s.preventDefault(),!this.contextMenuBool&&(this.contextMenuBool=!0,this.contextMenuX=(s==null?void 0:s.clientX)||(s==null?void 0:s.pageX)||window.screenX/2,this.contextMenuY=(s==null?void 0:s.clientY)||(s==null?void 0:s.pageY)||window.screenY/2,this.$nextTick(()=>{this.contextMenuBool=!0}))}deleteEntry(){this.$store.dispatch("gui/maintenance/delete",this.item.id)}};Fd([x({type:Object,required:!0})],gn.prototype,"item",2);Fd([x({type:Array,required:!0})],gn.prototype,"tableFields",2);Fd([x({type:Boolean,required:!0})],gn.prototype,"isSelected",2);gn=Fd([w({components:{HistoryListPanelDetailMaintenance:jg,Panel:B}})],gn);var BB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(r){return e.showContextMenu(r)},expression:"(e) => showContextMenu(e)",arg:"600"}],key:e.item.id,class:e.cssClasses,on:{contextmenu:function(r){return e.showContextMenu(r)},click:function(r){e.detailsDialogBool=!0}}},[t("td",{staticClass:"pr-0"},[t(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{value:e.isSelected},on:{click:function(r){return r.stopPropagation(),e.select(!e.isSelected)}}})],1),t("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[t(_,{attrs:{color:"primary"}},[e._v(e._s(e.icon))])],1),t("td",[e._v(e._s(e.item.name))]),t("td",{staticClass:"text-right text-no-wrap"},[e.reminder!==null?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({attrs:{small:"",color:"primary"}},"v-icon",n,!1),i),[e._v(" "+e._s(e.alarmIcon)+" ")])]}}],null,!1,95998964)},[t("div",[e.restTextFilament?t("div",[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiAdjust))]),e._v(" "+e._s(e.restTextFilament)+" ")],1):e._e(),e.restTextPrinttime?t("div",[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiAlarm))]),e._v(" "+e._s(e.restTextPrinttime)+" ")],1):e._e(),e.restTextDays?t("div",[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiCalendar))]),e._v(" "+e._s(e.restTextDays)+" ")],1):e._e()])]):e._e()],1),t("td",{staticClass:"text-left text-no-wrap"},[e._v(" "+e._s(e.formatDateTime(e.item.start_time*1e3,!1))+" ")]),t("td",{attrs:{colspan:e.tableFields.length-1}}),t(ye,{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenuBool,callback:function(r){e.contextMenuBool=r},expression:"contextMenuBool"}},[t(Ee,[t(Y,{on:{click:function(r){e.detailsDialogBool=!0}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiTextBoxSearch))]),e._v(" "+e._s(e.$t("History.Details"))+" ")],1),t(Y,{staticClass:"red--text",on:{click:e.deleteEntry}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("History.Delete"))+" ")],1)],1)],1),t(jg,{attrs:{show:e.detailsDialogBool,item:e.item},on:{close:function(r){e.detailsDialogBool=!1}}})],1)},GB=[];const Ub={};var WB=E(gn,BB,GB,!1,zB,null,null,null);function zB(e){for(let s in Ub)this[s]=Ub[s]}const dS=function(){return WB.exports}();var qB=Object.defineProperty,ZB=Object.getOwnPropertyDescriptor,hS=(e,s,t,r)=>{for(var i=r>1?void 0:r?ZB(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&qB(s,t,i),i};let Dc=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe}get selectedJobs(){var e;return(e=this.$store.state.gui.view.history.selectedJobs)!=null?e:[]}set selectedJobs(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.history.selectedJobs",value:e})}get question(){return this.selectedJobs.length===1?this.$t("History.DeleteSingleJobQuestion"):this.$t("History.DeleteSelectedQuestion",{count:this.selectedJobs.length})}closeDialog(){this.$emit("close")}deleteSelectedJobs(){this.selectedJobs.forEach(e=>{if(e.type==="maintenance"){this.$store.dispatch("gui/maintenance/delete",e.id);return}"job_id"in e&&this.$socket.emit("server.history.delete_job",{uid:e.job_id},{action:"server/history/getDeletedJobs"})}),this.selectedJobs=[],this.closeDialog()}};hS([x({type:Boolean,required:!0})],Dc.prototype,"show",2);Dc=hS([w({components:{Panel:B}})],Dc);var YB=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":"400"}},[t(B,{attrs:{title:e.$t("History.Delete"),"card-class":"history-delete-selected-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.question))])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("History.Cancel")))]),t(g,{attrs:{color:"error",text:""},on:{click:e.deleteSelectedJobs}},[e._v(e._s(e.$t("History.Delete")))])],1)],1)],1)},XB=[];const Bb={};var JB=E(Dc,YB,XB,!1,KB,null,null,null);function KB(e){for(let s in Bb)this[s]=Bb[s]}const mS=function(){return JB.exports}();var QB=Object.defineProperty,eG=Object.getOwnPropertyDescriptor,tG=(e,s,t,r)=>{for(var i=r>1?void 0:r?eG(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&QB(s,t,i),i};let Mc=class extends y{get moonrakerHistoryFields(){var r,i;const e=(i=(r=this.$store.state.server.config)==null?void 0:r.config)!=null?i:{},s=Object.keys(e).filter(n=>n.startsWith("sensor ")),t=[];return s.forEach(n=>{var o;const a=(o=e[n])!=null?o:{};Object.keys(a).filter(l=>l.startsWith("history_field_")).forEach(l=>{const c=a[l];t.push({desc:c.desc,unit:c.units,provider:n,parameter:c.parameter,name:l})})}),t}};Mc=tG([w],Mc);const sG=(e,s)=>{const t=e[s];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+s)))})};/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var pS=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],rG=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function _n(e,s){typeof console<"u"&&(console.warn("[vue-i18n] "+e),s&&console.warn(s.stack))}function iG(e,s){typeof console<"u"&&(console.error("[vue-i18n] "+e),s&&console.error(s.stack))}var Ls=Array.isArray;function is(e){return e!==null&&typeof e=="object"}function nG(e){return typeof e=="boolean"}function ht(e){return typeof e=="string"}var aG=Object.prototype.toString,oG="[object Object]";function Ms(e){return aG.call(e)===oG}function At(e){return e==null}function Xm(e){return typeof e=="function"}function Ad(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var t=null,r=null;return e.length===1?is(e[0])||Ls(e[0])?r=e[0]:typeof e[0]=="string"&&(t=e[0]):e.length===2&&(typeof e[0]=="string"&&(t=e[0]),(is(e[1])||Ls(e[1]))&&(r=e[1])),{locale:t,params:r}}function kn(e){return JSON.parse(JSON.stringify(e))}function lG(e,s){if(e.delete(s))return e}function cG(e){var s=[];return e.forEach(function(t){return s.push(t)}),s}function No(e,s){return!!~e.indexOf(s)}var uG=Object.prototype.hasOwnProperty;function dG(e,s){return uG.call(e,s)}function Kr(e){for(var s=arguments,t=Object(e),r=1;r<arguments.length;r++){var i=s[r];if(i!=null){var n=void 0;for(n in i)dG(i,n)&&(is(i[n])?t[n]=Kr(t[n],i[n]):t[n]=i[n])}}return t}function Ec(e,s){if(e===s)return!0;var t=is(e),r=is(s);if(t&&r)try{var i=Ls(e),n=Ls(s);if(i&&n)return e.length===s.length&&e.every(function(l,c){return Ec(l,s[c])});if(!i&&!n){var a=Object.keys(e),o=Object.keys(s);return a.length===o.length&&a.every(function(l){return Ec(e[l],s[l])})}else return!1}catch{return!1}else return!t&&!r?String(e)===String(s):!1}function hG(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function mG(e){return e!=null&&Object.keys(e).forEach(function(s){typeof e[s]=="string"&&(e[s]=hG(e[s]))}),e}function pG(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(s){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=this.$i18n;return i._t.apply(i,[s,i.locale,i._getMessages(),this].concat(t))},e.prototype.$tc=function(s,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var n=this.$i18n;return n._tc.apply(n,[s,n.locale,n._getMessages(),this,t].concat(r))},e.prototype.$te=function(s,t){var r=this.$i18n;return r._te(s,r.locale,r._getMessages(),t)},e.prototype.$d=function(s){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(t=this.$i18n).d.apply(t,[s].concat(r))},e.prototype.$n=function(s){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(t=this.$i18n).n.apply(t,[s].concat(r))}}function fG(e){e===void 0&&(e=!1);function s(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return e?{mounted:s}:{beforeCreate:function(){var r=this.$options;if(r.i18n=r.i18n||(r.__i18nBridge||r.__i18n?{}:null),r.i18n){if(r.i18n instanceof de){if(r.__i18nBridge||r.__i18n)try{var i=r.i18n&&r.i18n.messages?r.i18n.messages:{},n=r.__i18nBridge||r.__i18n;n.forEach(function(d){i=Kr(i,JSON.parse(d))}),Object.keys(i).forEach(function(d){r.i18n.mergeLocaleMessage(d,i[d])})}catch{}this._i18n=r.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(Ms(r.i18n)){var a=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof de?this.$root.$i18n:null;if(a&&(r.i18n.root=this.$root,r.i18n.formatter=a.formatter,r.i18n.fallbackLocale=a.fallbackLocale,r.i18n.formatFallbackMessages=a.formatFallbackMessages,r.i18n.silentTranslationWarn=a.silentTranslationWarn,r.i18n.silentFallbackWarn=a.silentFallbackWarn,r.i18n.pluralizationRules=a.pluralizationRules,r.i18n.preserveDirectiveContent=a.preserveDirectiveContent),r.__i18nBridge||r.__i18n)try{var o=r.i18n&&r.i18n.messages?r.i18n.messages:{},l=r.__i18nBridge||r.__i18n;l.forEach(function(d){o=Kr(o,JSON.parse(d))}),r.i18n.messages=o}catch{}var c=r.i18n,u=c.sharedMessages;u&&Ms(u)&&(r.i18n.messages=Kr(r.i18n.messages,u)),this._i18n=new de(r.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(r.i18n.sync===void 0||r.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),a&&a.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof de?this._i18n=this.$root.$i18n:r.parent&&r.parent.$i18n&&r.parent.$i18n instanceof de&&(this._i18n=r.parent.$i18n)},beforeMount:function(){var r=this.$options;r.i18n=r.i18n||(r.__i18nBridge||r.__i18n?{}:null),r.i18n?r.i18n instanceof de?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):Ms(r.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof de?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):r.parent&&r.parent.$i18n&&r.parent.$i18n instanceof de&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:s,beforeDestroy:function(){if(this._i18n){var r=this;this.$nextTick(function(){r._subscribing&&(r._i18n.unsubscribeDataChanging(r),delete r._subscribing),r._i18nWatcher&&(r._i18nWatcher(),r._i18n.destroyVM(),delete r._i18nWatcher),r._localeWatcher&&(r._localeWatcher(),delete r._localeWatcher)})}}}}var Gb={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(s,t){var r=t.data,i=t.parent,n=t.props,a=t.slots,o=i.$i18n;if(o){var l=n.path,c=n.locale,u=n.places,d=a(),h=o.i(l,c,gG(d)||u?_G(d.default,u):d),m=n.tag&&n.tag!==!0||n.tag===!1?n.tag:"span";return m?s(m,r,h):h}}};function gG(e){var s;for(s in e)if(s!=="default")return!1;return!!s}function _G(e,s){var t=s?vG(s):{};if(!e)return t;e=e.filter(function(i){return i.tag||i.text.trim()!==""});var r=e.every(yG);return e.reduce(r?bG:fS,t)}function vG(e){return Array.isArray(e)?e.reduce(fS,{}):Object.assign({},e)}function bG(e,s){return s.data&&s.data.attrs&&s.data.attrs.place&&(e[s.data.attrs.place]=s),e}function fS(e,s,t){return e[t]=s,e}function yG(e){return!!(e.data&&e.data.attrs&&e.data.attrs.place)}var Wb={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(s,t){var r=t.props,i=t.parent,n=t.data,a=i.$i18n;if(!a)return null;var o=null,l=null;ht(r.format)?o=r.format:is(r.format)&&(r.format.key&&(o=r.format.key),l=Object.keys(r.format).reduce(function(m,p){var f;return No(pS,p)?Object.assign({},m,(f={},f[p]=r.format[p],f)):m},null));var c=r.locale||a.locale,u=a._ntp(r.value,c,o,l),d=u.map(function(m,p){var f,b=n.scopedSlots&&n.scopedSlots[m.type];return b?b((f={},f[m.type]=m.value,f.index=p,f.parts=u,f)):m.value}),h=r.tag&&r.tag!==!0||r.tag===!1?r.tag:"span";return h?s(h,{attrs:n.attrs,class:n.class,staticClass:n.staticClass},d):d}};function CG(e,s,t){gS(e,t)&&_S(e,s,t)}function $G(e,s,t,r){if(gS(e,t)){var i=t.context.$i18n;SG(e,t)&&Ec(s.value,s.oldValue)&&Ec(e._localeMessage,i.getLocaleMessage(i.locale))||_S(e,s,t)}}function xG(e,s,t,r){var i=t.context;if(!i){_n("Vue instance does not exists in VNode context");return}var n=t.context.$i18n||{};!s.modifiers.preserve&&!n.preserveDirectiveContent&&(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}function gS(e,s){var t=s.context;return t?t.$i18n?!0:(_n("VueI18n instance does not exists in Vue instance"),!1):(_n("Vue instance does not exists in VNode context"),!1)}function SG(e,s){var t=s.context;return e._locale===t.$i18n.locale}function _S(e,s,t){var r,i,n=s.value,a=wG(n),o=a.path,l=a.locale,c=a.args,u=a.choice;if(!o&&!l&&!c){_n("value type not supported");return}if(!o){_n("`path` is required in v-t directive");return}var d=t.context;u!=null?e._vt=e.textContent=(r=d.$i18n).tc.apply(r,[o,u].concat(zb(l,c))):e._vt=e.textContent=(i=d.$i18n).t.apply(i,[o].concat(zb(l,c))),e._locale=d.$i18n.locale,e._localeMessage=d.$i18n.getLocaleMessage(d.$i18n.locale)}function wG(e){var s,t,r,i;return ht(e)?s=e:Ms(e)&&(s=e.path,t=e.locale,r=e.args,i=e.choice),{path:s,locale:t,args:r,choice:i}}function zb(e,s){var t=[];return e&&t.push(e),s&&(Array.isArray(s)||Ms(s))&&t.push(s),t}var xt;function Ig(e,s){s===void 0&&(s={bridge:!1}),Ig.installed=!0,xt=e,xt.version&&Number(xt.version.split(".")[0]),pG(xt),xt.mixin(fG(s.bridge)),xt.directive("t",{bind:CG,update:$G,unbind:xG}),xt.component(Gb.name,Gb),xt.component(Wb.name,Wb);var t=xt.config.optionMergeStrategies;t.i18n=function(r,i){return i===void 0?r:i}}var vS=function(){this._caches=Object.create(null)};vS.prototype.interpolate=function(s,t){if(!t)return[s];var r=this._caches[s];return r||(r=DG(s),this._caches[s]=r),MG(r,t)};var PG=/^(?:\d)+/,TG=/^(?:\w)+/;function DG(e){for(var s=[],t=0,r="";t<e.length;){var i=e[t++];if(i==="{"){r&&s.push({type:"text",value:r}),r="";var n="";for(i=e[t++];i!==void 0&&i!=="}";)n+=i,i=e[t++];var a=i==="}",o=PG.test(n)?"list":a&&TG.test(n)?"named":"unknown";s.push({value:n,type:o})}else i==="%"?e[t]!=="{"&&(r+=i):r+=i}return r&&s.push({type:"text",value:r}),s}function MG(e,s){var t=[],r=0,i=Array.isArray(s)?"list":is(s)?"named":"unknown";if(i==="unknown")return t;for(;r<e.length;){var n=e[r];switch(n.type){case"text":t.push(n.value);break;case"list":t.push(s[parseInt(n.value,10)]);break;case"named":i==="named"&&t.push(s[n.value]);break}r++}return t}var ut=0,Ni=1,bS=2,yS=3,Jm=0,Oc=1,Lc=2,hr=3,Bs=4,Fc=5,Ac=6,kd=7,Ga=8,kr=[];kr[Jm]={ws:[Jm],ident:[hr,ut],"[":[Bs],eof:[kd]};kr[Oc]={ws:[Oc],".":[Lc],"[":[Bs],eof:[kd]};kr[Lc]={ws:[Lc],ident:[hr,ut],0:[hr,ut],number:[hr,ut]};kr[hr]={ident:[hr,ut],0:[hr,ut],number:[hr,ut],ws:[Oc,Ni],".":[Lc,Ni],"[":[Bs,Ni],eof:[kd,Ni]};kr[Bs]={"'":[Fc,ut],'"':[Ac,ut],"[":[Bs,bS],"]":[Oc,yS],eof:Ga,else:[Bs,ut]};kr[Fc]={"'":[Bs,ut],eof:Ga,else:[Fc,ut]};kr[Ac]={'"':[Bs,ut],eof:Ga,else:[Ac,ut]};var EG=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function OG(e){return EG.test(e)}function LG(e){var s=e.charCodeAt(0),t=e.charCodeAt(e.length-1);return s===t&&(s===34||s===39)?e.slice(1,-1):e}function FG(e){if(e==null)return"eof";var s=e.charCodeAt(0);switch(s){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function AG(e){var s=e.trim();return e.charAt(0)==="0"&&isNaN(e)?!1:OG(s)?LG(s):"*"+s}function kG(e){var s=[],t=-1,r=Jm,i=0,n,a,o,l,c,u,d,h=[];h[Ni]=function(){a!==void 0&&(s.push(a),a=void 0)},h[ut]=function(){a===void 0?a=o:a+=o},h[bS]=function(){h[ut](),i++},h[yS]=function(){if(i>0)i--,r=Bs,h[ut]();else{if(i=0,a===void 0||(a=AG(a),a===!1))return!1;h[Ni]()}};function m(){var p=e[t+1];if(r===Fc&&p==="'"||r===Ac&&p==='"')return t++,o="\\"+p,h[ut](),!0}for(;r!==null;)if(t++,n=e[t],!(n==="\\"&&m())){if(l=FG(n),d=kr[r],c=d[l]||d.else||Ga,c===Ga||(r=c[0],u=h[c[1]],u&&(o=c[2],o=o===void 0?n:o,u()===!1)))return;if(r===kd)return s}}var Ng=function(){this._cache=Object.create(null)};Ng.prototype.parsePath=function(s){var t=this._cache[s];return t||(t=kG(s),t&&(this._cache[s]=t)),t||[]};Ng.prototype.getPathValue=function(s,t){if(!is(s))return null;var r=this.parsePath(t);if(r.length===0)return null;for(var i=r.length,n=s,a=0;a<i;){var o=n[r[a]];if(o==null)return null;n=o,a++}return n};var RG=/<\/?[\w\s="/.':;#-\/]+>/,HG=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,jG=/^@(?:\.([a-zA-Z]+))?:/,IG=/[()]/g,qb={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Km=new vS,de=function(s){var t=this;s===void 0&&(s={}),!xt&&typeof window<"u"&&window.Vue&&Ig(window.Vue);var r=s.locale||"en-US",i=s.fallbackLocale===!1?!1:s.fallbackLocale||"en-US",n=s.messages||{},a=s.dateTimeFormats||s.datetimeFormats||{},o=s.numberFormats||{};this._vm=null,this._formatter=s.formatter||Km,this._modifiers=s.modifiers||{},this._missing=s.missing||null,this._root=s.root||null,this._sync=s.sync===void 0?!0:!!s.sync,this._fallbackRoot=s.fallbackRoot===void 0?!0:!!s.fallbackRoot,this._fallbackRootWithEmptyString=s.fallbackRootWithEmptyString===void 0?!0:!!s.fallbackRootWithEmptyString,this._formatFallbackMessages=s.formatFallbackMessages===void 0?!1:!!s.formatFallbackMessages,this._silentTranslationWarn=s.silentTranslationWarn===void 0?!1:s.silentTranslationWarn,this._silentFallbackWarn=s.silentFallbackWarn===void 0?!1:!!s.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Ng,this._dataListeners=new Set,this._componentInstanceCreatedListener=s.componentInstanceCreatedListener||null,this._preserveDirectiveContent=s.preserveDirectiveContent===void 0?!1:!!s.preserveDirectiveContent,this.pluralizationRules=s.pluralizationRules||{},this._warnHtmlInMessage=s.warnHtmlInMessage||"off",this._postTranslation=s.postTranslation||null,this._escapeParameterHtml=s.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in s&&(this.__VUE_I18N_BRIDGE__=s.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(l,c){var u=Object.getPrototypeOf(t);if(u&&u.getChoiceIndex){var d=u.getChoiceIndex;return d.call(t,l,c)}var h=function(m,p){return m=Math.abs(m),p===2?m?m>1?1:0:1:m?Math.min(m,2):0};return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[l,c]):h(l,c)},this._exist=function(l,c){return!l||!c?!1:!!(!At(t._path.getPathValue(l,c))||l[c])},(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&Object.keys(n).forEach(function(l){t._checkLocaleMessage(l,t._warnHtmlInMessage,n[l])}),this._initVM({locale:r,fallbackLocale:i,messages:n,dateTimeFormats:a,numberFormats:o})},Ae={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};de.prototype._checkLocaleMessage=function(s,t,r){var i=[],n=function(a,o,l,c){if(Ms(l))Object.keys(l).forEach(function(h){var m=l[h];Ms(m)?(c.push(h),c.push("."),n(a,o,m,c),c.pop(),c.pop()):(c.push(h),n(a,o,m,c),c.pop())});else if(Ls(l))l.forEach(function(h,m){Ms(h)?(c.push("["+m+"]"),c.push("."),n(a,o,h,c),c.pop(),c.pop()):(c.push("["+m+"]"),n(a,o,h,c),c.pop())});else if(ht(l)){var u=RG.test(l);if(u){var d="Detected HTML in message '"+l+"' of keypath '"+c.join("")+"' at '"+o+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";a==="warn"?_n(d):a==="error"&&iG(d)}}};n(t,s,r,i)};de.prototype._initVM=function(s){var t=xt.config.silent;xt.config.silent=!0,this._vm=new xt({data:s,__VUE18N__INSTANCE__:!0}),xt.config.silent=t};de.prototype.destroyVM=function(){this._vm.$destroy()};de.prototype.subscribeDataChanging=function(s){this._dataListeners.add(s)};de.prototype.unsubscribeDataChanging=function(s){lG(this._dataListeners,s)};de.prototype.watchI18nData=function(){var s=this;return this._vm.$watch("$data",function(){for(var t=cG(s._dataListeners),r=t.length;r--;)xt.nextTick(function(){t[r]&&t[r].$forceUpdate()})},{deep:!0})};de.prototype.watchLocale=function(s){if(s){if(!this.__VUE_I18N_BRIDGE__)return null;var r=this,i=this._vm;return this.vm.$watch("locale",function(n){i.$set(i,"locale",n),r.__VUE_I18N_BRIDGE__&&s&&(s.locale.value=n),i.$forceUpdate()},{immediate:!0})}else{if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",function(n){t.$set(t,"locale",n),t.$forceUpdate()},{immediate:!0})}};de.prototype.onComponentInstanceCreated=function(s){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(s,this)};Ae.vm.get=function(){return this._vm};Ae.messages.get=function(){return kn(this._getMessages())};Ae.dateTimeFormats.get=function(){return kn(this._getDateTimeFormats())};Ae.numberFormats.get=function(){return kn(this._getNumberFormats())};Ae.availableLocales.get=function(){return Object.keys(this.messages).sort()};Ae.locale.get=function(){return this._vm.locale};Ae.locale.set=function(e){this._vm.$set(this._vm,"locale",e)};Ae.fallbackLocale.get=function(){return this._vm.fallbackLocale};Ae.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)};Ae.formatFallbackMessages.get=function(){return this._formatFallbackMessages};Ae.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e};Ae.missing.get=function(){return this._missing};Ae.missing.set=function(e){this._missing=e};Ae.formatter.get=function(){return this._formatter};Ae.formatter.set=function(e){this._formatter=e};Ae.silentTranslationWarn.get=function(){return this._silentTranslationWarn};Ae.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e};Ae.silentFallbackWarn.get=function(){return this._silentFallbackWarn};Ae.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e};Ae.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent};Ae.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e};Ae.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage};Ae.warnHtmlInMessage.set=function(e){var s=this,t=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,t!==e&&(e==="warn"||e==="error")){var r=this._getMessages();Object.keys(r).forEach(function(i){s._checkLocaleMessage(i,s._warnHtmlInMessage,r[i])})}};Ae.postTranslation.get=function(){return this._postTranslation};Ae.postTranslation.set=function(e){this._postTranslation=e};Ae.sync.get=function(){return this._sync};Ae.sync.set=function(e){this._sync=e};de.prototype._getMessages=function(){return this._vm.messages};de.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats};de.prototype._getNumberFormats=function(){return this._vm.numberFormats};de.prototype._warnDefault=function(s,t,r,i,n,a){if(!At(r))return r;if(this._missing){var o=this._missing.apply(null,[s,t,i,n]);if(ht(o))return o}if(this._formatFallbackMessages){var l=Ad.apply(void 0,n);return this._render(t,a,l.params,t)}else return t};de.prototype._isFallbackRoot=function(s){return(this._fallbackRootWithEmptyString?!s:At(s))&&!At(this._root)&&this._fallbackRoot};de.prototype._isSilentFallbackWarn=function(s){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(s):this._silentFallbackWarn};de.prototype._isSilentFallback=function(s,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||s!==this.fallbackLocale)};de.prototype._isSilentTranslationWarn=function(s){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(s):this._silentTranslationWarn};de.prototype._interpolate=function(s,t,r,i,n,a,o){if(!t)return null;var l=this._path.getPathValue(t,r);if(Ls(l)||Ms(l))return l;var c;if(At(l))if(Ms(t)){if(c=t[r],!(ht(c)||Xm(c)))return null}else return null;else if(ht(l)||Xm(l))c=l;else return null;return ht(c)&&(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(s,t,c,i,"raw",a,o)),this._render(c,n,a,r)};de.prototype._link=function(s,t,r,i,n,a,o){var l=r,c=l.match(HG);for(var u in c)if(c.hasOwnProperty(u)){var d=c[u],h=d.match(jG),m=h[0],p=h[1],f=d.replace(m,"").replace(IG,"");if(No(o,f))return l;o.push(f);var b=this._interpolate(s,t,f,i,n==="raw"?"string":n,n==="raw"?void 0:a,o);if(this._isFallbackRoot(b)){if(!this._root)throw Error("unexpected error");var $=this._root.$i18n;b=$._translate($._getMessages(),$.locale,$.fallbackLocale,f,i,n,a)}b=this._warnDefault(s,f,b,i,Ls(a)?a:[a],n),this._modifiers.hasOwnProperty(p)?b=this._modifiers[p](b):qb.hasOwnProperty(p)&&(b=qb[p](b)),o.pop(),l=b?l.replace(d,b):l}return l};de.prototype._createMessageContext=function(s,t,r,i){var n=this,a=Ls(s)?s:[],o=is(s)?s:{},l=function(h){return a[h]},c=function(h){return o[h]},u=this._getMessages(),d=this.locale;return{list:l,named:c,values:s,formatter:t,path:r,messages:u,locale:d,linked:function(h){return n._interpolate(d,u[d]||{},h,null,i,void 0,[h])}}};de.prototype._render=function(s,t,r,i){if(Xm(s))return s(this._createMessageContext(r,this._formatter||Km,i,t));var n=this._formatter.interpolate(s,r,i);return n||(n=Km.interpolate(s,r,i)),t==="string"&&!ht(n)?n.join(""):n};de.prototype._appendItemToChain=function(s,t,r){var i=!1;return No(s,t)||(i=!0,t&&(i=t[t.length-1]!=="!",t=t.replace(/!/g,""),s.push(t),r&&r[t]&&(i=r[t]))),i};de.prototype._appendLocaleToChain=function(s,t,r){var i,n=t.split("-");do{var a=n.join("-");i=this._appendItemToChain(s,a,r),n.splice(-1,1)}while(n.length&&i===!0);return i};de.prototype._appendBlockToChain=function(s,t,r){for(var i=!0,n=0;n<t.length&&nG(i);n++){var a=t[n];ht(a)&&(i=this._appendLocaleToChain(s,a,r))}return i};de.prototype._getLocaleChain=function(s,t){if(s==="")return[];this._localeChainCache||(this._localeChainCache={});var r=this._localeChainCache[s];if(!r){t||(t=this.fallbackLocale),r=[];for(var i=[s];Ls(i);)i=this._appendBlockToChain(r,i,t);var n;Ls(t)?n=t:is(t)?t.default?n=t.default:n=null:n=t,ht(n)?i=[n]:i=n,i&&this._appendBlockToChain(r,i,null),this._localeChainCache[s]=r}return r};de.prototype._translate=function(s,t,r,i,n,a,o){for(var l=this._getLocaleChain(t,r),c,u=0;u<l.length;u++){var d=l[u];if(c=this._interpolate(d,s[d],i,n,a,o,[i]),!At(c))return c}return null};de.prototype._t=function(s,t,r,i){for(var n,a=[],o=arguments.length-4;o-- >0;)a[o]=arguments[o+4];if(!s)return"";var l=Ad.apply(void 0,a);this._escapeParameterHtml&&(l.params=mG(l.params));var c=l.locale||t,u=this._translate(r,c,this.fallbackLocale,s,i,"string",l.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(n=this._root).$t.apply(n,[s].concat(a))}else return u=this._warnDefault(c,s,u,i,a,"string"),this._postTranslation&&u!==null&&u!==void 0&&(u=this._postTranslation(u,s)),u};de.prototype.t=function(s){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(t=this)._t.apply(t,[s,this.locale,this._getMessages(),null].concat(r))};de.prototype._i=function(s,t,r,i,n){var a=this._translate(r,t,this.fallbackLocale,s,i,"raw",n);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(s,t,n)}else return this._warnDefault(t,s,a,i,[n],"raw")};de.prototype.i=function(s,t,r){return s?(ht(t)||(t=this.locale),this._i(s,t,this._getMessages(),null,r)):""};de.prototype._tc=function(s,t,r,i,n){for(var a,o=[],l=arguments.length-5;l-- >0;)o[l]=arguments[l+5];if(!s)return"";n===void 0&&(n=1);var c={count:n,n},u=Ad.apply(void 0,o);return u.params=Object.assign(c,u.params),o=u.locale===null?[u.params]:[u.locale,u.params],this.fetchChoice((a=this)._t.apply(a,[s,t,r,i].concat(o)),n)};de.prototype.fetchChoice=function(s,t){if(!s||!ht(s))return null;var r=s.split("|");return t=this.getChoiceIndex(t,r.length),r[t]?r[t].trim():s};de.prototype.tc=function(s,t){for(var r,i=[],n=arguments.length-2;n-- >0;)i[n]=arguments[n+2];return(r=this)._tc.apply(r,[s,this.locale,this._getMessages(),null,t].concat(i))};de.prototype._te=function(s,t,r){for(var i=[],n=arguments.length-3;n-- >0;)i[n]=arguments[n+3];var a=Ad.apply(void 0,i).locale||t;return this._exist(r[a],s)};de.prototype.te=function(s,t){return this._te(s,this.locale,this._getMessages(),t)};de.prototype.getLocaleMessage=function(s){return kn(this._vm.messages[s]||{})};de.prototype.setLocaleMessage=function(s,t){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(s,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,s,t)};de.prototype.mergeLocaleMessage=function(s,t){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(s,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,s,Kr(typeof this._vm.messages[s]<"u"&&Object.keys(this._vm.messages[s]).length?Object.assign({},this._vm.messages[s]):{},t))};de.prototype.getDateTimeFormat=function(s){return kn(this._vm.dateTimeFormats[s]||{})};de.prototype.setDateTimeFormat=function(s,t){this._vm.$set(this._vm.dateTimeFormats,s,t),this._clearDateTimeFormat(s,t)};de.prototype.mergeDateTimeFormat=function(s,t){this._vm.$set(this._vm.dateTimeFormats,s,Kr(this._vm.dateTimeFormats[s]||{},t)),this._clearDateTimeFormat(s,t)};de.prototype._clearDateTimeFormat=function(s,t){for(var r in t){var i=s+"__"+r;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}};de.prototype._localizeDateTime=function(s,t,r,i,n,a){for(var o=t,l=i[o],c=this._getLocaleChain(t,r),u=0;u<c.length;u++){var d=o,h=c[u];if(l=i[h],o=h,!(At(l)||At(l[n])))break}if(At(l)||At(l[n]))return null;var m=l[n],p;if(a)p=new Intl.DateTimeFormat(o,Object.assign({},m,a));else{var f=o+"__"+n;p=this._dateTimeFormatters[f],p||(p=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(o,m))}return p.format(s)};de.prototype._d=function(s,t,r,i){if(!r){var n=i?new Intl.DateTimeFormat(t,i):new Intl.DateTimeFormat(t);return n.format(s)}var a=this._localizeDateTime(s,t,this.fallbackLocale,this._getDateTimeFormats(),r,i);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(s,r,t)}else return a||""};de.prototype.d=function(s){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=this.locale,n=null,a=null;return t.length===1?(ht(t[0])?n=t[0]:is(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(n=t[0].key)),a=Object.keys(t[0]).reduce(function(o,l){var c;return No(rG,l)?Object.assign({},o,(c={},c[l]=t[0][l],c)):o},null)):t.length===2&&(ht(t[0])&&(n=t[0]),ht(t[1])&&(i=t[1])),this._d(s,i,n,a)};de.prototype.getNumberFormat=function(s){return kn(this._vm.numberFormats[s]||{})};de.prototype.setNumberFormat=function(s,t){this._vm.$set(this._vm.numberFormats,s,t),this._clearNumberFormat(s,t)};de.prototype.mergeNumberFormat=function(s,t){this._vm.$set(this._vm.numberFormats,s,Kr(this._vm.numberFormats[s]||{},t)),this._clearNumberFormat(s,t)};de.prototype._clearNumberFormat=function(s,t){for(var r in t){var i=s+"__"+r;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}};de.prototype._getNumberFormatter=function(s,t,r,i,n,a){for(var o=t,l=i[o],c=this._getLocaleChain(t,r),u=0;u<c.length;u++){var d=o,h=c[u];if(l=i[h],o=h,!(At(l)||At(l[n])))break}if(At(l)||At(l[n]))return null;var m=l[n],p;if(a)p=new Intl.NumberFormat(o,Object.assign({},m,a));else{var f=o+"__"+n;p=this._numberFormatters[f],p||(p=this._numberFormatters[f]=new Intl.NumberFormat(o,m))}return p};de.prototype._n=function(s,t,r,i){if(!de.availabilities.numberFormat)return"";if(!r){var n=i?new Intl.NumberFormat(t,i):new Intl.NumberFormat(t);return n.format(s)}var a=this._getNumberFormatter(s,t,this.fallbackLocale,this._getNumberFormats(),r,i),o=a&&a.format(s);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(s,Object.assign({},{key:r,locale:t},i))}else return o||""};de.prototype.n=function(s){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=this.locale,n=null,a=null;return t.length===1?ht(t[0])?n=t[0]:is(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(n=t[0].key),a=Object.keys(t[0]).reduce(function(o,l){var c;return No(pS,l)?Object.assign({},o,(c={},c[l]=t[0][l],c)):o},null)):t.length===2&&(ht(t[0])&&(n=t[0]),ht(t[1])&&(i=t[1])),this._n(s,i,n,a)};de.prototype._ntp=function(s,t,r,i){if(!de.availabilities.numberFormat)return[];if(!r){var n=i?new Intl.NumberFormat(t,i):new Intl.NumberFormat(t);return n.formatToParts(s)}var a=this._getNumberFormatter(s,t,this.fallbackLocale,this._getNumberFormats(),r,i),o=a&&a.formatToParts(s);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(s,t,r,i)}else return o||[]};Object.defineProperties(de.prototype,Ae);var Oh;Object.defineProperty(de,"availabilities",{get:function(){if(!Oh){var s=typeof Intl<"u";Oh={dateTimeFormat:s&&typeof Intl.DateTimeFormat<"u",numberFormat:s&&typeof Intl.NumberFormat<"u"}}return Oh}});de.install=Ig;de.version="8.28.2";const CS=de,$S={Notifications:{BrowserWarnings:{Description:"{name} is outdated and not fully supported. The current version is {version}, but Mainsail requires version {minVersion} or higher.",Headline:"Outdated Browser"},DependencyDescription:"The current {name} version does not support all features of Mainsail. Update {name} to at least {neededVersion}.",DependencyName:"Dependency: {name}",DismissAll:"Dismiss all",KlipperWarnings:{DeprecatedOption:"Option '{option}' in section '{section}' is deprecated and will be removed in a future release.",DeprecatedOptionHeadline:"Deprecated Klipper Option",DeprecatedValue:"Value '{value}' in option '{option}' in section '{section}' is deprecated and will be removed in a future release.",DeprecatedValueHeadline:"Deprecated Klipper Value",KlipperRuntimeWarning:"Klipper runtime warning",KlipperWarning:"Klipper warning"},MaintenanceReminder:"Maintenance Reminder",MaintenanceReminderText:'Maintenance "{name}" is due.',MoonrakerWarnings:{MoonrakerComponent:"Moonraker: {component}",MoonrakerFailedComponentDescription:"An error was detected while loading the moonraker component '{component}'. Please check the log file and fix the issue.",MoonrakerFailedInitComponentDescription:"An error was detected during initialization the moonraker component '{component}'. Please check the log file and fix the issue.",MoonrakerInitComponent:"Init. Moonraker: {component}",MoonrakerWarning:"Moonraker warning",UnparsedConfigOption:"Unparsed config option '{option}: {value}' detected in section [{section}]. This may be an option no longer available or could be the result of a module that failed to load. In the future this will result in a startup error.",UnparsedConfigSection:"Unparsed config section [{section}] detected. This may be the result of a component that failed to load. In the future this will result in a startup error."},Never:"never",NextReboot:"next reboot",NoNotification:"No Notification available",Notifications:"Notifications",OneDayShort:"1D",OneHourShort:"1H",OneWeekShort:"1W",Remind:"Remind:",ShowDetails:"show details",TmcOtFlag:"Stepper driver error: OT flag set",TmcOtFlagText:"The stepper driver '{name}' has triggered the OT flag and stopped working. This can be caused by a too high current. Please check the stepper driver settings and cooling.",TmcOtpwFlag:"Stepper driver warning: OTPW flag set",TmcOtpwFlagText:"The stepper driver '{name}' has triggered the OTPW flag and may stop working if it gets any hotter. This is an indication of an over temperature condition. This can be caused by a too high current. Please check the stepper driver settings and cooling."},NumberInput:{GreaterOrEqualError:"Must be greater or equal than {min}!",MustBeBetweenError:"Must be between {min} and {max}!",NoEmptyAllowedError:"Input must not be empty!"},Printers:"Printers",TextfieldWithCopy:{Copied:"Copied"},TheServiceWorker:{DescriptionNeedUpdate:"The local cache is outdated and needs to be updated. Please click on the button below to update the cache.",TitleNeedUpdate:"PWA needs update",Update:"update"},ThrottledStates:{DescriptionCurrentlyThrottled:"rPi ARM core(s) are currently throttled down.",DescriptionFrequencyCapped:"rPi ARM max frequency is currently limited to 1.2 GHz.",DescriptionPreviouslyFrequencyCapped:"rPi ARM max frequency was at least once limited to 1.2 GHz since last power-on.",DescriptionPreviouslyTemperatureLimited:"rPi uC (3A+/3B+ only) temperature was at least once above the soft limit (default 60C) since last power-on.",DescriptionPreviouslyThrottled:"rPI ARM core(s) were throttled down at least once since last power-on.",DescriptionPreviouslyUnderVolted:"rPI supply voltage dropped below 4.65V at least once since the last power-on.",DescriptionTemperatureLimitActive:"rPi uC (3A+/3B+ only) temperature is currently above the soft limit (default 60C).",DescriptionUnderVoltageDetected:"rPI supply voltage currently below 4.65V",TitleCurrentlyThrottled:"Currently Throttled",TitleFrequencyCapped:"Frequency Capped",TitlePreviouslyFrequencyCapped:"Previously Frequency Capped",TitlePreviouslyTemperatureLimited:"Previously Temperature Limited",TitlePreviouslyThrottled:"Previously Throttled",TitlePreviouslyUnderVolted:"Previously Under-Volted",TitleTemperatureLimitActive:"Temperature Limit Active",TitleUnderVoltageDetected:"Under-Voltage Detected"},Titles:{Complete:"Complete - {filename}",Error:"ERROR",Pause:"Pause Print",PrinterOff:"Printer OFF",Printing:"{percent}% Printing - {filename}",PrintingETA:"{percent}% Printing - ETA: {eta} - {filename}"},TopBar:{CannotUploadTheFile:"Cannot upload the file!",EmergencyStop:"Emergency Stop",SAVE_CONFIG:"SAVE CONFIG",Uploading:"Uploading",UploadOfFileSuccessful:"Upload of {file} successful!",UploadPrint:"Upload & Print"},TopCornerMenu:{Cancel:"Cancel",ConfirmationDialog:{Description:{HostReboot:"Rebooting the Host will cause the current print to fail!",HostShutdown:"Shutting down the Host will cause the current print to fail!",KlipperFirmwareRestart:"Restarting the Klipper Firmware will cause the current print to fail!",KlipperRestart:"Restarting Klipper will cause the current print to fail!",KlipperStop:"Stopping Klipper will cause the current print to fail!",ServiceRestart:"Restarting this service may cause the current print to fail!",ServiceStart:"Starting this service may cause the current print to fail!",ServiceStop:"Stopping this service may cause the current print to fail!"},Title:{HostReboot:"Host Reboot",HostShutdown:"Host Shutdown",KlipperFirmwareRestart:"Klipper Firmware Restart",KlipperRestart:"Klipper Restart",ServiceRestart:"Service Restart",ServiceStart:"Service Start",ServiceStop:"Service Stop"}},HostControl:"Host Control",KlipperControl:"Klipper Control",KlipperFirmwareRestart:"Firmware Restart",KlipperRestart:"Restart",PowerDevices:"Power Devices",Reboot:"Reboot",Restart:"Restart",ServiceControl:"Service Control",Shutdown:"Shutdown",Start:"Start",Stop:"Stop"},UpdateDialog:{Close:"Close",Empty:"Empty",Recovering:"Recovering {software}...",RecoveringDone:"Recovering {software} done!",Updating:"Updating {software}...",UpdatingDone:"Updating {software} done!"}},xS={Abort:"abort",Accept:"accept",Adjusted:"adjusted",Description:"Click on <b>ADJUSTED</b> if the current screw was adjusted. Click on <b>ACCEPT</b> to continue without adjustment.",Headline:"Bed Screws",ScrewAccepted:"Screws accepted",ScrewIndex:"Screw Index",ScrewName:"Screw Name",ScrewOutput:"{current} of {max}"},SS={AreYouSure:"Are you sure?",CancelJob:"Cancel Job",No:"No",Yes:"Yes"},wS={CannotConnectTo:"Cannot connect to Moonraker ({host}).",CheckMoonrakerLog:"If this message appears repeatedly, please have a look in the log file located at:",Connecting:"Connecting to {host}",ErrorMessage:"Error message: {message}",Failed:"Connection failed",Help:"Help",Initializing:"Initializing",TryAgain:"try again"},PS={CommandList:"Command list",Empty:"Empty",HideTemperatures:"Hide temperatures",HideTimelapse:"Hide Timelapse",Search:"Search",SetupConsole:"Setup Console"},TS={AreYouSure:"Are you sure?",CoolDown:"CoolDown",No:"No",Yes:"Yes"},DS={CanBusInfo:"Only unassigned nodes can be detected. It’s recommended to have only one unassigned device connected to the can bus to avoid communication issues. For more details, please click on the link:",ClickRefresh:"Click on the refresh button to search for devices.",DevicePath:"Device path",Formats:"Formats",Headline:"Devices",HideSystemEntries:"Hide system entries",LibcameraId:"Libcamera ID",NoDeviceFound:"No device found. Please check the connection and click on the refresh button.",PathByHardware:"Path by hardware",PathById:"Path by ID",Refresh:"refresh",Resolutions:"Resolutions"},MS={StartPrint:{Cancel:"Cancel",DoYouWantToStartFilename:"Do you want to start {filename}?",DoYouWantToStartFilenameFilament:"Do you want to start {filename} with the following filament?",Headline:"Start Job",Print:"print",Timelapse:"Timelapse"}},ES={ConfigReference:"Config Reference",DeviceDialog:"Devices",DontSave:"Don't save",Downloading:"Downloading",FailedSave:"{filename} could not be uploaded!",FileReadOnly:"read-only",FileStructure:"File Structure",SaveClose:"Save & close",SaveRestart:"Save & Restart",SuccessfullySaved:"{filename} successfully saved.",UnsavedChanges:"Unsaved Changes",UnsavedChangesMessage:"Do you want to save your changes made to {filename}?",UnsavedChangesSubMessage:"Your changes will be lost if you don't save them. You can disable this message in the editor settings.",Uploading:"Uploading"},OS={AreYouSure:"Are you sure?",EmergencyStop:"Emergency Stop",No:"No",Yes:"Yes"},LS={AddBatchToQueue:"Add batch to Queue",AddToQueue:"Add to Queue",AllFiles:"All",BedTemp:"Bed Temp.",Cancel:"Cancel",ChamberTemp:"Chamber Temp.",Count:"Count",Create:"Create",CreateNewDirectory:"Create new Directory",CurrentPath:"Current path",Delete:"Delete",DeleteDirectory:"Delete Directory",DeleteDirectoryQuestion:'Do you really want to delete the "{name}" directory with all its contents?',DeleteSelectedQuestion:"Do you really want to delete {count} selected files?",DeleteSingleFileQuestion:'Do you really want to delete the file "{name}"?',Download:"Download",Duplicate:"Duplicate",DuplicateFile:"Duplicate File",EditFile:"Edit File",Empty:"Empty",ExtruderTemp:"Extruder Temp.",FilamentName:"Filament Name",FilamentType:"Filament Type",FilamentUsage:"Filament Usage",FilamentWeight:"Filament Weight",Files:"Files",Filesize:"File size",Free:"Free",FreeDisk:"Free disk",GCodeFiles:"G-Code Files",GcodesRootDirectoryDoesntExists:'No G-Code directory found. Please check option "path" in the [virtual_sdcard] section of the Klipper configuration.',HiddenFiles:"Hidden files",InvalidNameAlreadyExists:"Name already exists, please choose another name.",InvalidNameEmpty:"Input must not be empty!",LastEndTime:"Last End Time",LastFilamentUsed:"Last Filament Used",LastModified:"Last modified",LastPrintDuration:"Last Print Duration",LastStartTime:"Last Start Time",LastTotalDuration:"Last Total Duration",LayerHeight:"Layer Height",Name:"Name",NewDirectory:"New Directory",NozzleDiameter:"Nozzle Diameter",ObjectHeight:"Object Height",Preheat:"Preheat",PrintedFiles:"Printed files",PrintStart:"Print start",PrintTime:"Print Time",RefreshCurrentDirectory:"Refresh current Directory",Rename:"Rename",RenameDirectory:"Rename Directory",RenameFile:"Rename File",ScanMeta:"Scan Metadata",ScanMetaSuccess:"Successfully scanned metadata from: {filename}.",Search:"Search",SetupCurrentList:"Setup current list",Slicer:"Slicer",SuccessfullyCreated:"Successfully created {filename}.",SuccessfullyDeleted:"Successfully deleted {filename}.",SuccessfullyMoved:"Successfully moved {filename}.",SuccessfullyRenamed:"Successfully renamed {filename}.",SuccessfullyUploaded:"Upload of {filename} successful!",Total:"Total",UploadNewGcode:"Upload new G-Code",Used:"Used",View3D:"View 3D"},FS={CannotUploadFile:"Cannot upload file!",DropFilesToUploadFiles:"Drop files to upload"},AS={ClearLoadedFile:"Clear",CNCMode:"CNC Mode",ColorMode:"Color Mode",Downloading:"Downloading",ForceLineRendering:"Force Line Rendering",HDRendering:"HD Rendering (Round Extrusions)",High:"High",LoadCurrentFile:"Current file",LoadLocal:"Local File",Low:"Low",Max:"Max",Medium:"Medium",ReloadRequired:"Reload required",Rendering:"Rendering",RenderQuality:"Render Quality",ShowGCode:"Show G-Code",ShowObjectSelection:"Show Object Selection",ShowToolhead:"Show Toolhead",ShowTravelMoves:"Show Travel Moves",SpecularLighting:"Specular Lighting",Title:"G-Code Viewer",Tracking:"Tracking",Transparency:"Transparency",Ultra:"Ultra",VoxelMode:"Voxel Mode (ASMBL)"},kS={Abort:"abort",BedMeshCalibrate:"Bed Mesh Calibrate",BedMeshRemove:"Bed Mesh Remove",Calibrate:"calibrate",Clear:"clear",CurrentMesh:{Headline:"Current Mesh",Max:"Max",Min:"Min",Name:"Name",Range:"Range",Size:"Size"},DeleteBedMeshProfile:"Delete Bed Mesh Profile",DoYouReallyWantToDelete:'Do you really want to delete the profile "{name}"?',ErrorKlipperNotReady:"Klipper not ready. Heightmap disabled.",Flat:"Flat",Heightmap:"Heightmap",InvalidNameAlreadyExists:"Profile name already exists, please choose another profile name.",InvalidNameAscii:"Name is invalid. Only ascii character are allowed.",InvalidNameEmpty:"Input must not be empty!",InvalidNameReserved:"Profile 'default' is reserved, please choose another profile name.",Mesh:"Mesh",Name:"Name",NoBedMeshHasBeenLoadedYet:"No bed mesh has been loaded yet.",NoProfile:"No profile available",Probed:"Probed",Profiles:"Profiles",Remove:"delete",Rename:"rename",RenameBedMeshProfile:"Rename Bed Mesh Profile",ScaleGradient:"Scale gradient",ScaleZMax:"Scale z-max.",TitleCalibrate:"Calibrate new bed mesh",TitleClear:"Clear bed mesh",TitleHomeAll:"Home all",Wireframe:"Wireframe"},RS={AddANote:"Add a note",AddMaintenance:"Add Maintenance",AddNote:"Add note",AddToQueueSuccessful:"File {filename} added to Queue.",AllJobs:"All",AvgPrinttime:"Print Time - Ø",Cancel:"Cancel",Chart:"Chart",CreateNote:"Create Note",DateBasedReminder:"Date",DateBasedReminderDescription:"This reminder is based on the date.",Days:"days",Delete:"Delete",DeleteSelectedQuestion:"Do you really want to delete {count} selected jobs?",DeleteSingleJobQuestion:"Do you really want to delete the job?",Details:"Details",EditMaintenance:"Edit Maintenance",EditNote:"Edit Note",Empty:"empty",EndTime:"End Time",EntryCreatedAt:"Created at {date}.",EntryNextPerform:"Next perform:",EntryPerformedAt:"Performed at {date}.",EntrySince:"Used since:",EstimatedFilament:"Estimated Filament",EstimatedFilamentWeight:"Estimated Filament Weight",EstimatedTime:"Estimated Time",Filament:"Filament",FilamentBasedReminder:"Filament",FilamentBasedReminderDescription:"This reminder is based on the filament usage.",FilamentCalc:"Filament Calc",FilamentUsage:"Filament usage",FilamentUsed:"Filament Used",Filename:"Filename",Filesize:"Filesize",FirstLayerBedTemp:"First Layer Bed Temp.",FirstLayerExtTemp:"First Layer Ext. Temp.",FirstLayerHeight:"First Layer Height",HistoryFilamentUsage:"Filament",HistoryPrinttimeAVG:"Prints",Hours:"hours",InvalidNameEmpty:"Invalid name. Name must not be empty!",JobDetails:"Job Details",Jobs:"Jobs",LastModified:"Last Modified",LayerHeight:"Layer Height",LoadCompleteHistory:"Load complete history",LongestPrinttime:"Longest Print Time",Maintenance:"Maintenance",MaintenanceEntries:"Maintenance Entries",Meter:"meter",Name:"Name",NoReminder:"No reminder",Note:"Note",ObjectHeight:"Object Height",OneTime:"One-Time",Perform:"perform",Performed:"performed",PerformedAndReschedule:"performed and reschedule",PerformMaintenance:"Perform Maintenance",PrintDuration:"Print Time",PrintHistory:"Print History",PrintJobs:"Print Jobs",PrintTime:"Print Time",PrinttimeAvg:"Print Time - Ø",PrinttimeBasedReminder:"Print Time",PrinttimeBasedReminderDescription:"This reminder is based on the print time.",Reminder:"Reminder",Repeat:"Repeat",Reprint:"Reprint",Save:"save",Search:"search",SelectedFilamentUsed:"Selected Filament Used",SelectedJobs:"Selected Jobs",SelectedPrinttime:"Selected Print Time",Settings:"Settings",Slicer:"Slicer",SlicerVersion:"Slicer Version",StartTime:"Start Time",Statistics:"Statistics",Status:"Status",StatusValues:{cancelled:"Cancelled",completed:"Completed",error:"Error",in_progress:"In progress",interrupted:"Interrupted",klippy_disconnect:"Klippy disconnect",klippy_shutdown:"Klippy shutdown",Others:"Others",server_exit:"Server exit"},Table:"Table",Time:"Time",TitleExportHistory:"Export History",TotalDuration:"Total Time",TotalFilamentUsed:"Total Filament Used",TotalJobs:"Total Jobs",TotalPrinttime:"Total Print Time",TotalTime:"Total Time"},HS={Cancel:"Cancel",ChangeCount:"Change count",Count:"Count",Empty:"Empty",InvalidCountEmpty:"Input must not be empty!",InvalidCountGreaterZero:"Input must be greater than 0!",JobQueue:"Job Queue",Pause:"Pause",RemoveFromQueue:"Remove from Queue",Start:"Start",StartPrint:"Start Job"},jS={ConfigFilesPanel:{AllFiles:"All",Cancel:"Cancel",ConfigFiles:"Config Files",ConfigRootDirectoryDoesntExists:'No configuration directory found. Please check option "config_path" in the [file_manager] section of the Moonraker configuration.',Create:"Create",CreateDirectory:"Create Directory",CreateFile:"Create File",CurrentPath:"Current path",Delete:"Delete",DeleteDirectory:"Delete Directory",DeleteDirectoryQuestion:'Delete directory "{name}" and all its contents?',DeleteSelectedQuestion:"Delete {count} selected elements?",DeleteSingleFileQuestion:'Do you really want to delete the file "{name}"?',Download:"Download",Duplicate:"Duplicate",DuplicateFile:"Duplicate File",EditFile:"Edit file",Empty:"Empty",Files:"Files",Filesize:"Filesize",Free:"Free",FreeDisk:"Free disk",HiddenFiles:"Hidden files",HideBackupFiles:"Hide backup files",LastModified:"Last modified",Name:"Name",RefreshDirectory:"Refresh Directory",Rename:"Rename",RenameDirectory:"Rename Directory",RenameFile:"Rename File",Root:"Root",SetupCurrentList:"Setup current list",ShowFile:"Show file",Total:"Total",UploadFile:"Upload File",Uploading:"Uploading",Used:"Used"},EndstopPanel:{Endstop:"Endstop",EndstopInfo:"Press the sync-button on the right-bottom to load the current endstop status.",Endstops:"Endstops",open:"OPEN",TRIGGERED:"TRIGGERED"},LogfilesPanel:{Accept:"accept",Cancel:"cancel",Logfiles:"Log Files",Rollover:"Rollover Logs",RolloverDescription:"Please select which logs should be reset:",RolloverToastFailed:'Rollover log for "{name}": {message}',RolloverToastSuccessful:'Log for "{name}" was successfully reset.'},SystemPanel:{Constants:"Constants",Cpu:"CPU",HostDetails:"Host details",LastStats:"Last stats",Load:"Load",Memory:"MEM",NoMoreInfos:"No more Infos",SystemLoad:"System Loads",Values:{Awake:"Awake: {awake}",Bandwidth:"Bandwidth: {bandwidth}/s",Distro:"Distro: {name} {version_id}",Frequency:"Freq: {frequency}",Load:"Load: {load}",Memory:"Mem: {memory}",Os:"OS: {os}",Received:"Received: {received}",Temp:"Temp: {temp}°C",TempMax:"max: {temp}°C",TempMin:"min: {temp}°C",Transmitted:"Transmitted: {transmitted}",Version:"Version: {version}"}},UpdatePanel:{Abort:"Abort",AreYouSure:"Are you sure?",CheckForUpdates:"Check for updates",Close:"Close",CommitHistory:"Commit History",Commits:"Commits",CommitsAvailable:"no commits available | {count} commit available | {count} commits available",CommitsOnDate:"Commits on {date}",CommittedDaysAgo:"committed {days} days ago",CommittedHoursAgo:"committed {hours} hours ago",CommittedOnDate:"committed on {date}",CommittedYesterday:"committed yesterday",ConfigChanges:"Config Changes",Corrupt:"corrupt",CountPackagesCanBeUpgraded:"{count} packages can be upgraded",Detached:"detached",Dirty:"dirty",GenericUpdateQuestion:"Check the commit history (if available) and the GitHub page for this project to see if any manual adjustments are necessary for this update.",GitHubPage:"GitHub Page",HardRecovery:"Hard Recovery",InitUpdateManager:"The Update Manager has not been initialized yet. This is normal when you start the system for the first time. Please click on the refresh button to initialize all components.",Invalid:"invalid",IUnderstandTheRisks:"I understand the risks",KlipperUpdateQuestionConfig:"This update may also contain changes to config parameters that would need to be modified in the printer.cfg file, see the change log for details.",KlipperUpdateQuestionFirmware:"This will update the Klipper host software. Control boards running the Klipper firmware may need to be flashed with recompiled firmware before the machine can be put back into service.",LinkToGithub:"Link to GitHub",MoonrakerUpdateQuestion:"This will update the Moonraker API. Changes to the moonraker.conf file may be required to continue using the machine.",MoreCommitsInfo:"A maximum of 30 commits can be displayed here. To see all commits, please click on the following link:",OSPackages:"OS-Packages",SoftRecovery:"Soft Recovery",StartUpdate:"Start Update",System:"System",ThesePackagesCanBeUpgrade:"These system packages can be upgraded:",Unknown:"unknown",Update:"update",UpdateAll:"Update all components",UpdateManager:"Update Manager",UpdateWarning:"Update warning: {name}",Upgrade:"upgrade",UpgradeableSystemPackages:"Upgradeable System Packages",UpToDate:"up-to-date",WebClientUpdateQuestion:"In some cases updating the web client could have changes that may cause incompatibility. See the release notes for more information."}},IS={Abort:"abort",Accept:"accept",Advanced:"Advanced",Headline:"Manual Probe"},NS={ExtruderControlPanel:{Allowed:"Allowed",CleanNozzle:"Clean Nozzle",EstimatedExtrusion:"Extrusion:",Extrude:"Extrude",ExtruderControl:"Extruder Control",ExtruderTempTooLow:"Extruder temp. <",ExtrusionFactor:"Extrusion factor",ExtrusionFeedrate:"Extrusion Feedrate",FilamentLength:"Filament Length",FirmwareRetraction:"Firmware Retraction",FirmwareRetractionSettings:{RetractLength:"Retract Length",RetractSpeed:"Retract Speed",UnretractExtraLength:"Unretract Extra Length",UnretractSpeed:"Unretract Speed"},Headline:"Extruder",LoadFilament:"Load Filament",PressureAdvance:"Pressure Advance",PressureAdvanceSettings:{Advance:"Pressure Advance",Extruder:"Extruder",SmoothTime:"Smooth Time"},PurgeFilament:"Purge Filament",Requested:"Requested",Retract:"Retract",TooLargeExtrusion:"Extrusion too large!",Tools:"Tools",UnloadFilament:"Unload Filament"},FarmPrinterPanel:{ReconnectToPrinter:"Reconnect",SwitchToPrinter:"Switch to Printer",WebcamOff:"Off"},KlippyStatePanel:{CheckKlippyAndUdsAddress:"Please check if the Klipper service is running and klippy_uds_address is correctly configured in the moonraker.conf.",FirmwareRestart:"Firmware Restart",KlipperLog:"Klipper Log",MoonrakerCannotConnect:"Moonraker can't connect to Klipper!",MoonrakerLog:"Moonraker Log",PowerOn:"Power on",PrinterSwitchedOff:"Printer is powered off",PrinterSwitchedOffDescription:"The printer is currently powered off and Klipper cannot connect. To power on the printer, click the button below:",Restart:"Restart",ServiceReports:"{service} reports"},MachineSettingsPanel:{Headline:"Machine",MotionSettings:{Acceleration:"Acceleration",MaxAccelToDecel:"Max Accel. to Decel.",MinimumCruiseRatio:"Min. Cruise Ratio",SquareCornerVelocity:"Square Corner Velocity",Velocity:"Velocity"}},MacrosPanel:{Headline:"Macros",Send:"send"},MiniconsolePanel:{Autoscroll:"Autoscroll",Headline:"Console",HideTemperatures:"Hide temperatures",HideTimelapse:"Hide Timelapse",RawOutput:"RAW-Output (for debugging)",SendCode:"Send code...",SetupConsole:"Setup Console"},MinSettingsPanel:{IncludeMainsailCfg:"Make sure you include the mainsail.cfg in your printer.cfg file.",IsNotDefinedInConfig:"is not defined in config.",MissingConfiguration:"Missing configuration",MoreInformation:"more information"},MiscellaneousPanel:{Headline:"Miscellaneous",Light:{Blue:"blue",Green:"green",Red:"red",White:"white"},RunoutSensor:{Detected:"detected",Empty:"empty"}},MmuPanel:{ButtonCheckAllGates:"Check All Gates",ButtonCheckGate:"Check Gate",ButtonEject:"Eject",ButtonLoad:"Load",ButtonLoadExt:"Load Ext",ButtonPreload:"Preload",ButtonPrintStats:"Print Stats",ButtonRecover:"Recover",ButtonSyncSpoolman:"Sync Spoolman",ButtonUnload:"Unload",ButtonUnloadExt:"Unload Ext",ButtonUnlock:"Unlock",Cancel:"Cancel",ClogDetection:"Clog Detection",CommingSoon:"Comming Soon...",Dialog:{AreYouSure:"Are you sure?"},EditGateMap:"Edit Filaments",EditGateMapTitle:"Edit Filaments (Gate Map)",EditTtgMap:"Map Tools",EditTtgMapTitle:"Map Tools / Filaments (Edit TTG Map)",GateMapDialog:{BadTemperature:"Temperature out of range",ChooseSpool:"Choose Spool",FilamentAvailable:"Filament available in gate",FilamentEmpty:"Filament not available",FilamentName:"Filament Name",FilamentUnknown:"Unknown filament state (please set)",LoadSpeed:"Load speed override",Material:"Material",NoMatchingSpool:"No matching spool found",Reset:"Reset",ResetConfirmation:"This will reset the entire gate map back to the default defined in 'mmu_parameters.cfg' or empty map if no defaults are available",SelectGate:"Select gate/spool info you would like to edit",Spoolman:"Spoolman",SpoolmanId:"Spoolman ID",SpoolmanOff:'Spoolman support is "{mode}" in Happy Hare. Assigning spool id to a gate is disabled',SpoolmanOther:'Spoolman support is "{mode}". You can optionally assign a spool id or edit gate attributes directly',SpoolmanPull:'Spoolman support is in "{mode}" mode. Local editing of most gate properties is disabled. Assign spool/gate mapping in spoolman DB directly or use the MMU_SPOOLMAN command',Temperature:"Temperature"},Headline:"Mmu",LargeFilamentStatus:"Large Filament Status",MmuMaintenance:"MMU Maintenance",MmuMaintenanceDialog:{Animation:"Animation",Config:"Config",Down:"Down",Enable:"Enable",ExtruderOnly:"Extruder Only",ExtruderTx:"Extruder Tx",Grip:"Grip",Home:"Home",Intro:"Directly manage specific MMU functions and selective configuration.",Leds:"LEDs",Load:"Load",MmuMotors:"MMU Motors",MotorSync:"Extruder Motor Sync",Move:"Move",NoCustomControls:"No Custom Controls",Off:"Off",On:"On",Release:"Release",Selector:"Selector",Sync:"Sync",UiVisual:"UI Visual",Unload:"Unload",Unsync:"Unsync",Up:"Up"},MmuMaintenanceTitle:"MMU Maintenance",MmuRecoverDialog:{FilamentLoaded:"Is the filament completely loaded to the extruder or completely unloaded?",GateBypass:"Gate is set to Bypass!",Intro:"This is a low level recovery for use when Happy Hare is out of sync with your MMU. It is recommended to try automatic recovery first however this will be required to correct the current tool or gate (Alternatively on Type-A MMU's you can unload and home the selector).",NoGate:"A gate must be selected",NoPosition:"Attempt to recover position",NoTool:"A tool must be selected",Remap:"This will remap gate to {tool}",SetGate:"Set to the current gate",SetTool:"Set to the current tool",ToolBypass:"Tool is set to Bypass!",WarningPrefix:"Warning:"},NoActiveSpool:"No active spool",NoSpoolId:"No spool ID",Ok:"Ok",RecoverFilamentPosition:"Recover Filament Position",RecoverState:"Fix MMU State",RecoverStateTitle:"Fix MMU State (Error Recovery)",Save:"Save",ShowClogDetection:"Clog Detection",ShowDetails:"Filament Details",ShowLogos:"Display Logo",ShowTtgMap:"TTG Map",ShowUnavailableSpoolColor:"Show Unavailable Spools",StartPrintDialogMmu:{MultiColor:"This looks like a Multi Material Single Extruder print using {numTools} tools. You should probably review tool mapping",SingleColor:"This looks like a single color print but you don't have the bypass selected on your MMU. You may want to check the chosen tool"},ToolMapping:"Tool Mapping",ToolTip:{Color:"Color",Empty:"Empty",SpoolId:"Spool ID"},TtgMapDialog:{AllTools:"All Tools",Color:"Color",EndlessSpool:"ES ∞",FilamentInfo:"Filament Information",Gate:"Gate",MapSlicerTools:"Map slicer tools to MMU gates for print",MapTools:"Map tools to MMU gates",Material:"Material",Mismatch:"Possible filament mismatch:",NoGateData:"No gate data",NoSlicerInfo:"No slicer information, choose default mapping for {tool}",Reset:"Reset",ResetConfirmation:"This will reset the entire tool-to-gate mapping and endless spool groups back to the default defined in 'mmu_parameters.cfg' or default 1:1 mapping in no defaults are available",SelectTool:"Select Tool to map then choose gate from list",SkipAutomap:"Skip Automap",SlicerExpects:"Slicer Expects",Temperature:"Temperature",ToolNotUsed:"{tool} not used in this print, choose default mapping"},Unknown:"Unknown"},PowerControlPanel:{Error:"Error",Off:"Off",On:"On",PowerControl:"Power Control"},SpoolmanPanel:{ActiveSpool:"Active Spool",Cancel:"Cancel",ChangeSpool:"Change Spool",DaysAgo:"{days} days ago",EjectSpool:"Eject spool",EjectSpoolQuestion:"Are you sure to eject the filament spool?",Filament:"Filament",FilamentTypeMismatch:"The material of the active spool ({spoolType}) does not match the material of the G-Code ({fileType}).",Headline:"Spoolman",LastUsed:"Last Used",Location:"Location",Material:"Material",Never:"Never",NoActiveSpool:"Filament tracking is inactive. To get started, please select a spool.",NoResults:"No spool found with the current search criteria.",NoSpool:"No spool",NoSpools:"No spools available",NoSpoolSelected:"No spool selected. Please select a spool or this print will not be tracked.",OpenSpoolManager:"open Spool Manager",Refresh:"refresh",Search:"Search",SelectSpool:"Select Spool",Today:"Today",TooLessFilament:"The current spool may not have enough filament for this print. ({spoolWeight}g of {fileWeight}g)",Weight:"Weight",Yesterday:"Yesterday"},StatusPanel:{CancelPrint:"Cancel print",ClearPrintStats:"Clear print stats",Difference:"Difference",EmptyGcodes:"No G-Code available.",EmptyHistory:"There is no job in the history.",EmptyJobqueue:"There is currently no file in the job queue.",Estimate:"Estimate",ETA:"ETA",ExcludeObject:{Cancel:"cancel",Excluded:"Excluded",ExcludeObject:"Exclude Object",ExcludeObjectHeadline:"Exclude Object",ExcludeObjectText:'Do you really want to exclude "{name}"?'},Filament:"Filament",File:"File",Flow:"Flow",Headline:"Status",JobqueueMoreFiles:"no more jobs | one more job | {count} more jobs",Layer:"Layer",Max:"max",ObjectHeight:"Object Height",PauseAtLayer:{Abort:"abort",Accept:"accept",AtLayer:"at Layer",Call:"Call",DescriptionPauseAtLayerActive:'This function is already active and will call "{call}" at layer {layer}. If you call the command again, these settings will be overwritten.',DescriptionPauseNextLayerActive:'This function is already active and will call "{call}" at the next layer.',Layer:"Layer",NextLayer:"next Layer",PauseAtLayer:"Pause at Layer",Type:"Type"},PausePrint:"Pause print",Print:"Print",PrintTime:"Print Time",ReprintJob:"Reprint job",Requested:"Requested",ResumePrint:"Resume print",Slicer:"Slicer",Speed:"Speed",Total:"Total",TotalTime:"Total Time",Unknown:"Unknown"},TemperaturePanel:{AutoscaleChart:"Autoscale Chart",Avg:"Avg",Cooldown:"Cooldown",Current:"Current",Dataset:{Power:"PWM-power",Speed:"PWM-speed",Target:"target temperature",Temperature:"current temperature"},Headline:"Temperatures",HideMcuHostSensors:"Hide Host/MCU Sensors",HideMonitors:"Hide Monitors",Max:"max",Min:"min",Name:"Name",Presets:"Presets",Settings:"Settings",SetupTemperatures:"Setup Temperatures",ShowChart:"Show Chart",ShowNameInChart:"Show {name} in chart",ShowNameInList:"Show {name} in list",State:"State",Target:"Target",TemperaturesInChart:"Temperature [°C]",TempTooHigh:"Temperature too high for {name}! (max: {max})",TempTooLow:"Temperature too low for {name}! (min: {min})",TurnHeaterOff:"Turn Heater Off"},ToolheadControlPanel:{Absolute:"absolute",ALL:"ALL",ControlButtons:"Control buttons",CoordinateFields:"Coordinate fields",Headline:"Toolhead",PleaseConfigureSteps:"Please configure steps",Position:"Position",PositionOutput:"Position output",QGL:"QGL",Relative:"relative",SettingsInterfaceControl:"Settings > Interface > Control",SpeedFactor:"Speed factor",ZOffset:"Z-Offset",ZTilt:"Z-Tilt"},WebcamPanel:{All:"All",ConnectingTo:"Connecting to {url}",Disconnected:"Disconnected",ErrorWhileConnecting:"Error while connecting to {url}",FPS:"FPS",Headline:"Webcam",NoWebcam:'No webcam available. Add a webcam under "Interface Settings" -> "Webcams".',UnknownWebcamService:"Unknown Webcam Service"},ZoffsetPanel:{Clear:"Clear",Headline:"Z-Offset",Later:"Later",Ok:"OK",Save:"Save",SaveConfig:"SAVE CONFIG",SaveInfoDescription:'The new Z-Offset has been calculated and registered. Click on "SAVE CONFIG" to save it to the printer.cfg and restart Klipper.',SaveInfoDescriptionPrint:'The new Z-Offset has been calculated and registered. After printing, click on "SAVE CONFIG" in the top bar to save it to the printer.cfg and restart Klipper.',SaveInfoHeadline:"Information"}},VS={AreYouSure:"Are you sure?",No:"No",TurnDeviceOff:"Turn {device} off",TurnDeviceOn:"Turn {device} on",Yes:"Yes"},US={Console:"Console",Dashboard:"Dashboard","G-Code Files":"G-Code Files","G-Code Viewer":"G-Code Viewer",Heightmap:"Heightmap",History:"History",Machine:"Machine",Printers:"Printers",Timelapse:"Timelapse",Webcam:"Webcam"},BS={Accept:"accept",Base:"Base",ErrorText:"Something went wrong during the probing process.",Headline:"Screws tilt adjust",Retry:"retry"},GS={AddPrinter:"Add Printer",AddPrintersToJson:"Please add the Printers to the config.json.",CannotConnectTo:"Cannot connect to {host}.",ChangePrinter:"Change Printer",Connecting:"Connecting to {host}",ConnectionFailed:"Connection failed",EditPrinter:"Edit Printer",Hello:"Hello and welcome to the remote mode of Mainsail!",HostnameInvalid:"invalid Hostname/IP",HostnameIp:"Hostname/IP",HostnameRequired:"Hostname is required",Name:"Name",Path:"Path",Port:"Port",PortRequired:"Port is required",RememberToAdd:"Please remember to add '{cors}' in moonraker.conf within 'cors_domains'.",SelectPrinter:"Select Printer",TryAgain:"try again",UpdatePrinter:"Update Printer",YouCanFindMore:"You can find more details at"},WS={Cancel:"Cancel",Close:"Close",ConsoleTab:{AddFilter:"add filter",Console:"Console",CreateHeadline:"Create filter",Direction:"Direction",DirectionShell:"Last entry at the bottom",DirectionTable:"Last entry on the top",EditHeadline:"Edit filter",EntryStyle:"Entry-Design",EntryStyleCompact:"compact",EntryStyleDefault:"default",Filters:"Filters",Height:"Height",HideTemperatures:"Hide temperatures",HideTimelapse:"Hide Timelapse",Name:"Name",Regex:"Regex",StoreButton:"Store filter",UpdateButton:"Update filter"},ControlTab:{Bars:"Bars",Circle:"Circle",Control:"Control",Cross:"Cross",EnableXYHoming:"Enable combined X & Y axes homing",EstimatedExtrusionInfo:"Show estimated extrusion info",EstimatedExtrusionInfoDescription:"Show / Hide info for estimated extrusions based on extrusion amount and feedrate",HideDuringPrint:"Hide axis controls during print",InvertXMovement:"Invert X axis movement direction",InvertYMovement:"Invert Y axis movement direction",InvertZMovement:"Invert Z axis movement direction",IsDefault:" (default)",MaximumValues:"Maximum values: {maximum}",MaximumValuesVisibility:"Maximum of {maximum} values is recommended for best visibility",MinimumValues:"Minimum values: {minimum}",MotorsOff:"Motors off{isDefault}",MoveDistancesEInMm:"Extrusion amount presets (in mm)",MoveDistancesInMm:"Move distance increments (in mm)",MoveDistancesXYInMm:"Move distance increments X & Y axes (in mm)",MoveDistancesZInMm:"Move distance increments Z axis (in mm)",OverwriteActionButton:"Overwrite action button",QuadGantryLevel:"Quad Gantry Level{isDefault}",SpeedEInMms:"Extrusion speed presets (in mm/s)",SpeedXY:"Movement speed X & Y axes",SpeedZ:"Movement speed Z axis",Style:"Style",ValueGreaterThan:"Value has to be greater than {value}",ZOffsetIncrements:"Z-Offset increments (in mm)",ZOffsetSaveOption:"Z-Offset save option",ZOffsetSaveOptionDescription:"Change the option to save the Z-Offset",ZTiltAdjust:"Z-Tilt Adjust{isDefault}"},DashboardTab:{Dashboard:"Dashboard",Desktop:"Desktop",Mobile:"Mobile",ResetLayout:"Reset Layout",Tablet:"Tablet",Widescreen:"Widescreen"},Edit:"Edit",EditorTab:{ConfirmUnsavedChanges:"Prompt to save or discard unsaved changes",ConfirmUnsavedChangesDescription:"If enabled, the editor requires a confirmation to either save or discard the changes made. If disabled, changes are silently discarded.",Editor:"Editor",KlipperRestartMethod:"Klipper restart method",KlipperRestartMethodDescription:"Select which restart method will be used on 'Save & Restart' when editing Klipper config files.",Spaces:"Spaces: {count}",TabSize:"TAB Size",TabSizeDescription:"Adjusts how many spaces should be indented for TAB",UseEscToClose:"Use ESC to close editor",UseEscToCloseDescription:"Allows the ESC key to close the editor"},GCodeViewerTab:{BackgroundColor:"Background Color",ExtruderColor:"Extruder Colors",GCodeViewer:"G-Code Viewer",GridColor:"Grid Color",MaxFeed:"Max Feed Rate",MinFeed:"Min Feed Rate",ProgressColor:"Progress Color",ShowAxes:"Show Axes"},GeneralTab:{"12hours":"12-hours ({time})","24hours":"24-hours ({time})",Backup:"Backup",BackupDialog:"Please select all the sections you want to create a backup:",CalcEstimateTime:"Estimate time calculation",CalcEstimateTimeDescription:"If multiple are selected, an average will be calculated",CalcEtaTime:"ETA calculation",CalcEtaTimeDescription:"If multiple are selected, an average will be calculated",CalcPrintProgress:"Print progress calculation",CalcPrintProgressDescription:"Method for calculating the print progress.",CalcPrintProgressItems:{Filament:"Filament",FileAbsolute:"File position (absolute)",FileRelative:"File position (relative)",Slicer:"Slicer (M73)"},CannotReadJson:"Cannot read/parse backup file.",DateFormat:"Date Format",DbConsoleHistory:"Console History",DbHistoryJobs:"History Jobs",DbHistoryTotals:"History Totals",DbMaintenance:"Maintenance",DbNavigation:"Navigation",DbTimelapseSettings:"Timelapse Settings",DbView:"View Settings",EstimateValues:{Filament:"Filament",File:"File",Slicer:"Slicer"},Everything:"Everything",FactoryDialog:"Please select all the sections you want to reset:",FactoryReset:"Factory reset",General:"General",Language:"Language",MainsailSettingsMoonrakerDb:"Mainsail Settings in Moonraker DB",PrinterName:"Printer Name",Reset:"reset",Restore:"Restore",RestoreDialog:"Please select all the sections you want to restore:",TimeFormat:"Time Format"},HeightmapTab:{ColorSchemes:"Color Schemes",DefaultOrientation:"Default Orientation",DefaultOrientationDescription:"Select the default orientation for the bed mesh visualization.",Heightmap:"Heightmap",IsDefault:"(Default)",Orientations:{Front:"Front",LeftFront:"Left Front",RightFront:"Right Front",Top:"Top"},Schemes:{GrayScale:"Grayscale",Hot:"Hot",Hsv:"Hsv",Portland:"Portland",Spring:"Spring"}},InterfaceSettings:"Interface Settings",MacrosTab:{Add:"add",AddGroup:"add Group",AvailableMacros:"Available Macros",ChangeMacroColor:"Change the color of the button.",Color:"Color",CountMacros:"no Macros added | {count} Macro | {count} Macros",Custom:"custom",CustomColor:"Custom Color",DeletedMacro:"Deleted macro",DeleteMacroFromGroup:"Delete macro from group.",EditGroup:"Edit Group",Error:"error",Expert:"Expert",General:"General",Group:"Group",GroupMacros:"Group Macros",Macrogroups:"Groups",Macros:"Macros",Management:"Management",Name:"Name",NoAvailableMacros:"No available macros.",NoGroups:"No group found...",NOMacros:"No macros found...",NoMacrosInGroup:"No macros in this group.",Primary:"primary",Secondary:"secondary",ShowInStatePaused:"Show/hide if printer is paused.",ShowInStatePrinting:"Show/hide if printer is printing.",ShowInStateStandby:"Show/hide if printer is standby.",Simple:"Simple",Status:"Status",Success:"success",UnknownGroup:"Unknown Group",Warning:"warning"},MiscellaneousTab:{AddGroup:"add group",AddPreset:"add preset",Color:"Color",CreateGroup:"Create group",CreatePreset:"Create preset",End:"End",EndDescription:"Last LED of this group.",Groups:"Groups",GroupSubTitle:"Start: {start}, End: {end}",LightGroups:"{name} - Groups",LightPresets:"{name} - Presets",Miscellaneous:"Miscellaneous",Name:"Name",NoDevicesFound:"No devices found",NoGroupFound:"No group found",NoPresetFound:"No preset found",Presets:"Presets",Start:"Start",StartDescription:"First LED of this group.",UnableToLoadLight:"Unable to load light",UnableToLoadPreset:"Unable to load preset"},NavigationTab:{Navigation:"Navigation"},PresetsTab:{AddPreset:"add preset",Cooldown:"Cooldown",CreateHeadline:"Create Preset",CustomGCode:"Custom G-Code",EditCooldown:"Edit Cooldown",EditHeadline:"Edit Preset",ErrorInvalidValue:"Invalid value",ErrorNameNotUnique:"Name already exists",ErrorNameRequired:"Name required",Name:"Name",PreheatPresets:"Presets",PresetInfo:"Please set at least a target temperature or a custom G-Code.",PresetNamePlaceholder:"Preset name (required)",StoreButton:"Store preset",UpdateButton:"Update preset",UpdateCooldown:"Update Cooldown"},RemotePrintersTab:{AddPrinter:"Add Printer",EditPrinter:"Edit Printer",Hostname:"Hostname",Name:"Name",NameDescription:"This name will not be displayed in the GUI and will only used for redirects.",Path:"Path",Port:"Port",RemotePrinters:"Printers",UpdatePrinter:"Update Printer",UseConfigJson:"InstanceDB = JSON detected. Please use the config.json to modify the printers list."},Store:"store",TimelapseTab:{Autorender:"Autorender",AutorenderDescription:"If enabled, the timelapse video will automatically render at the end of the print",Camera:"Camera",CameraDescriptionWithSnapshotUrl:"Select which camera (with snapshot URL) should be used",CameraWarningAlreadySet:"This value is already set in the Moonraker configuration file.",CameraWarningAlreadySetSmall:"snapshoturl in the [timelapse] section",ConstantRateFactor:"Constant Rate Factor",ConstantRateFactorDescription:"This configure quality vs file size of the rendered video. The range of the CRF scale is 0–51, where 0 is lossless, 23 is the default and 51 is worst quality possible. A lower value generally leads to higher quality and a subjectively sane range is 17–28. Consider 17 or 18 to be visually lossless.",duplicatelastframe:"Duplicate Last Frame",duplicatelastframeDescription:"Duplicates the last frame on the end of the video",Enabled:"Enabled",EnabledDescription:"If disabled, G-Code macros are ignored and auto-render is skipped.",Extraoutputparams:"Extra Output Params",ExtraoutputparamsDescription:"Defines extra output parameters to FFMPEG. Note: Specifying anything here will disable the rotation setting",FwRetract:"FW Retract",FwRetractDescription:"Use firmware retraction in the timelapse macro",GcodeVerbose:"Verbose G-Code",GcodeVerboseDescription:"If enabled, G-Code macros will write information to the console",General:"General",HyperlapseCycle:"Hyperlapse Cycle Time",HyperlapseCycleDescription:"A snapshot will be taken any X seconds",Mode:"Mode",ModeDescription:"Select between Layer macro and Hyperlapse (time-based) mode",NoWebcamFound:"No Webcam available",OutputFramerate:"Output Framerate",OutputFramerateDescription:"Defines the framerate of the video. Note: this will be ignored if variable_fps is enabled",Parkhead:"Park Toolhead",ParkheadDescription:"If enabled, the toolhead will be parked before taking a frame.",Parkpos:"Park position",ParkposDescription:"Select the parking position",ParkTime:"Park Time",ParkTimeDescription:"Add additional idle time when parking.",Pixelformat:"Pixel format",PixelformatDescription:"Defines the pixel format of the output video",PosDZ:"Position Z",PosDZDescription:"Park position Z (relative)",PosX:"Position X",PosXDescription:"Park position X (absolute)",PosY:"Position Y",PosYDescription:"Park position Y (absolute)",PreviewImage:"Preview Image",PreviewImageDescription:"Save a preview image with the same name as the video",RenderingOptions:"Rendering Options",RetractDistance:"Retract Distance",RetractDistanceDescription:"The length of filament that the extruder retracts.",RetractSpeed:"Retract Speed",RetractSpeedDescription:"Speed at which the extruder retracts the filament.",RulesBetweenMinMax:"Value must be between {min} and {max}!",RulesMin:"Value must be minimum {min}!",RulesPositive:"Value must be positive!",RulesRequired:"Value is required!",RulesZeroAndPositive:"Value must be 0 or greater!",SaveFrames:"Save Frames",SaveFramesDescription:"Save the frames to a zip-file for external rendering",SelectWebcam:"Select webcam...",StreamDelayCompensation:"Stream Delay Compensation",StreamDelayCompensationDescription:"Delay frame capture",Targetlength:"Target Length",TargetlengthDescription:"The target length when Variable FPS is enabled",TimeFormatCode:"Time Format Code",TimeFormatCodeDescription:"This defines how the timestamp in the output file should be encoded",Timelapse:"Timelapse",TravelSpeed:"Travel Speed",TravelSpeedDescription:"Travel speed while moving to the parking position and resuming",UnretractDistance:"Unretract Distance",UnretractDistanceDescription:"The length of filament that the extruder unretracts after a retraction.",UnretractSpeed:"Unretract Speed",UnretractSpeedDescription:"Speed at which the extruder unretracts the filament after a retraction.",VariableFps:"Variable FPS",VariableFpsDescription:"If enabled, the framerate of the output video will be calculated based on target length",VariableFpsMax:"Variable FPS max",VariableFpsMaxDescription:"Maximum variable FPS value",VariableFpsMin:"Variable FPS min",VariableFpsMinDescription:"Minimum variable FPS value"},UiSettingsTab:{BedScrewsDialog:"Bed Screws Dialog",BedScrewsDialogDescription:"Display helper dialog for BED_SCREWS_ADJUST.",BigThumbnailBackground:"Large thumbnail background color",BoolBigThumbnail:"Large thumbnail",BoolBigThumbnailDescription:"Display a large thumbnail in the status panel during a print.",BoolHideUploadAndPrintButton:"Hide Upload and Print Button",BoolHideUploadAndPrintButtonDescription:'Show or hide the "Upload and Print" button in the top bar.',ConfirmOnCancelJob:"Require confirm on Cancel Job",ConfirmOnCancelJobDescription:"Show a confirmation dialog on Cancel Job",ConfirmOnCoolDown:"Require confirm on CoolDown",ConfirmOnCoolDownDescription:"Show a confirmation dialog on CoolDown",ConfirmOnEmergencyStop:"Require confirm on Emergency Stop",ConfirmOnEmergencyStopDescription:"Show a confirmation dialog on Emergency Stop",ConfirmOnPowerDeviceChange:"Require confirm on Device Power changes",ConfirmOnPowerDeviceChangeDescription:"Show a confirmation dialog on Device Power changes",DashboardFilesFilter:"Dashboard Files Filter",DashboardFilesFilterCompleted:"Completed",DashboardFilesFilterDescription:"Filter the files in the Dashbord Status Panel by their last status.",DashboardFilesFilterFailed:"Failed",DashboardFilesFilterNew:"New",DashboardFilesLimit:"Dashboard Files Limit",DashboardFilesLimitDescription:"Select the maximum number of files to display on the dashboard Status Panel. (0 hides the files tab)",DashboardFilesLimitLabel:"{count} files",DashboardHistoryLimit:"Dashboard History Limit",DashboardHistoryLimitDescription:"Select the maximum number of jobs to display on the dashboard in the Status Panel. (0 hides the history tab)",DashboardHistoryLimitLabel:"{count} jobs",DefaultNavigationState:"Navigation default state",DefaultNavigationStateAlwaysClosed:"always closed",DefaultNavigationStateAlwaysOpen:"always open",DefaultNavigationStateDescription:"Which state should have the navigation per default.",DefaultNavigationStateLastState:"last state",DisableFanAnimation:"Disable fan animation",DisableFanAnimationDescription:"This can reduce some load in your Browser.",DisplayCANCEL_PRINT:"Display CANCEL_PRINT",DisplayCANCEL_PRINTDescription:"Shows the CANCEL_PRINT button permanently - no second layer confirmation needed.",GcodeThumbnails:"G-Code thumbnails",GcodeThumbnailsDescription:"Click on the button to get to the instructions.",Guide:"Guide",HideOtherInstances:"Hide other instances",HideOtherInstancesDescription:"Hide other instances of Klipper & Moonraker in the Service Menu.",HideSaveConfigButtonForBedMesh:"Hide SAVE_CONFIG button for bed_mesh changes",HideSaveConfigButtonForBedMeshDescription:"Hide SAVE_CONFIG, if only bed_mesh changes are pending to be saved in Klipper.",HideUpdateWarnings:"Hide Update Warnings",HideUpdateWarningsDescription:"This option will hide all update warnings in the update manager.",LockSliders:"Lock sliders on touchscreen devices",LockSlidersDelay:"Slider lock delay",LockSlidersDelayDescription:"Sliders will lock after a given delay. If set to 0 or left blank, sliders will only lock on page change/reload.",LockSlidersDescription:"Sliders on touchscreens need to be unlocked before changes are allowed.",Logo:"Logo",ManualProbeDialog:"Manual Probe Helper Dialog",ManualProbeDialogDescription:"Display helper dialog for PROBE_CALIBRATE or Z_ENDSTOP_CALIBRATE.",Mode:"Mode",ModeDescription:"Change the overall look and feel of the application.",NavigationStyle:"Navigation style",NavigationStyleDescription:"Change navigation appearance",NavigationStyleIconsAndText:"Icons + Text",NavigationStyleIconsOnly:"Icons only",PowerDeviceName:"Printer power device",PowerDeviceNameDescription:"Select which Moonraker power device should be used to power on the printer.",Primary:"Primary",PrintstatusThumbnailZoom:"Large thumbnail zoom",PrintstatusThumbnailZoomDescription:"This will deactivate the zoom effect of the thumbnail in the status panel.",ProgressAsFavicon:"Show progress as favicon",ProgressAsFaviconDescription:"Change the Mainsail logo favicon to a progress circle.",ScrewsTiltAdjustDialog:"Screws Tilt Adjust Dialog",ScrewsTiltAdjustDialogDescription:"Display helper dialog for SCREWS_TILT_CALCULATE.",TempchartHeight:"Height Temperature Chart",TempchartHeightDescription:"Modify the height of the temperature chart on the Dashboard.",Theme:"Theme",ThemeDark:"Dark",ThemeDescription:"Customizes the branding of the interface.",ThemeLight:"Light",UiSettings:"UI-Settings"},Update:"update",WebcamsTab:{AddWebcam:"add webcam",Color:"Color",CreateWebcam:"Create Webcam",EditCrowsnestConf:"Edit crowsnest.conf",EditWebcam:"Edit Webcam",Enable:"Enable",EnableAudio:"Enable audio",FlipWebcam:"Flip webcam image:",HideFps:"Hide FPS counter",Hlsstream:"HLS Stream",Horizontally:"horizontally",IconBed:"Bed",IconCam:"Cam",IconDoor:"Door",IconFilament:"Filament",IconHot:"Hot",IconMcu:"MCU",IconNozzle:"Nozzle",IconPrinter:"Printer",Ipstream:"IP Camera",JMuxerStream:"Raw h264 stream (jmuxer)",Mjpegstreamer:"MJPEG-Streamer",MjpegstreamerAdaptive:"Adaptive MJPEG-Streamer (experimental)",Name:"Name",NameAlreadyExists:"Name already exists",NozzleCrosshair:"Nozzle Crosshair",Required:"required",Rotate:"Rotate",SaveWebcam:"Save Webcam",Service:"Service",Size:"Size",TargetFPS:"Target FPS",UpdateWebcam:"Update Webcam",UrlSnapshot:"URL Snapshot",UrlStream:"URL Stream",Uv4lMjpeg:"UV4L-MJPEG",Vertically:"vertically",Webcams:"Webcams",WebrtcCameraStreamer:"WebRTC (camera-streamer)",WebrtcGo2rtc:"WebRTC (go2rtc)",WebrtcJanus:"WebRTC (janus-gateway)",WebrtcMediaMTX:"WebRTC (MediaMTX)"}},zS={AllFiles:"All",Autorender:"Auto-render",Cancel:"Cancel",Create:"Create",CreateNewDirectory:"create directory",CurrentPath:"Current Path",Delete:"Delete",DeleteDirectory:"Delete Directory",DeleteDirectoryQuestion:'Do you really want to delete the "{name}" directory with all its contents?',DeleteSelectedQuestion:"Do you really want to delete {count} selected files?",DeleteSingleFileQuestion:'Do you really want to delete the file "{name}"?',Download:"Download",DuplicateLastframe:"Duplicate last frame",Empty:"No finished timelapse found.",Enabled:"Enabled",EstimatedLength:"Estimated length",Files:"Files",Filesize:"Filesize",Fixed:"fixed",Framerate:"Framerate",Frames:"Frames",Free:"Free",FreeDisk:"Free disk",LastModified:"Last modified",MaxFramerate:"Max. framerate",MinFramerate:"Min. framerate",Name:"Name",NewDirectory:"New Directory",NoActiveTimelapse:"No records available.",Preview:"Preview",RefreshCurrentDirectory:"refresh directory",Rename:"Rename",RenameDirectory:"Rename Directory",RenameFile:"Rename File",Render:"render",RenderSettings:"Render Settings",SaveFrames:"Save frames",Search:"search",StartRender:"start render",Status:"Status",TargetFps:"Target FPS",Targetlength:"Target length",TimelapseFiles:"Timelapse Files",TimelapseRendering:"Timelapse rendering",TimelapseRenderingSuccessful:"Timelapse rendering successful",Total:"Total",Type:"Type",Used:"Used",Variable:"Variable",Video:"Video"},qS="English",ZS={App:$S,BedScrews:xS,CancelJobDialog:SS,ConnectionDialog:wS,Console:PS,CoolDownDialog:TS,DevicesDialog:DS,Dialogs:MS,Editor:ES,EmergencyStopDialog:OS,Files:LS,FullscreenUpload:FS,GCodeViewer:AS,Heightmap:kS,History:RS,JobQueue:HS,Machine:jS,ManualProbe:IS,Panels:NS,PowerDeviceChangeDialog:VS,Router:US,ScrewsTiltAdjust:BS,SelectPrinterDialog:GS,Settings:WS,Timelapse:zS,title:qS},YS=Object.freeze(Object.defineProperty({__proto__:null,App:$S,BedScrews:xS,CancelJobDialog:SS,ConnectionDialog:wS,Console:PS,CoolDownDialog:TS,DevicesDialog:DS,Dialogs:MS,Editor:ES,EmergencyStopDialog:OS,Files:LS,FullscreenUpload:FS,GCodeViewer:AS,Heightmap:kS,History:RS,JobQueue:HS,Machine:jS,ManualProbe:IS,Panels:NS,PowerDeviceChangeDialog:VS,Router:US,ScrewsTiltAdjust:BS,SelectPrinterDialog:GS,Settings:WS,Timelapse:zS,default:ZS,title:qS},Symbol.toStringTag,{value:"Module"}));y.use(CS);const NG={}.VUE_APP_I18N_LOCALE||"en",be=new CS({locale:NG,fallbackLocale:{}.VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:{en:ZS}});async function XS(e){const s=await sG(Object.assign({"../locales/cz.json":()=>ge(()=>import("./cz-285b76fb.js"),[]),"../locales/da.json":()=>ge(()=>import("./da-74f65808.js"),[]),"../locales/de.json":()=>ge(()=>import("./de-e0cc3b3c.js"),[]),"../locales/en.json":()=>ge(()=>Promise.resolve().then(()=>YS),void 0),"../locales/es.json":()=>ge(()=>import("./es-0b46eb75.js"),[]),"../locales/fr.json":()=>ge(()=>import("./fr-df0a45c6.js"),[]),"../locales/hu.json":()=>ge(()=>import("./hu-2e525d4f.js"),[]),"../locales/it.json":()=>ge(()=>import("./it-765db142.js"),[]),"../locales/ja.json":()=>ge(()=>import("./ja-a20a0276.js"),[]),"../locales/ko.json":()=>ge(()=>import("./ko-0b8d811b.js"),[]),"../locales/nl.json":()=>ge(()=>import("./nl-6cfe03e3.js"),[]),"../locales/pl.json":()=>ge(()=>import("./pl-9e04c340.js"),[]),"../locales/pt.json":()=>ge(()=>import("./pt-880f8881.js"),[]),"../locales/ru.json":()=>ge(()=>import("./ru-1afa0614.js"),[]),"../locales/se.json":()=>ge(()=>import("./se-e0d42c00.js"),[]),"../locales/tr.json":()=>ge(()=>import("./tr-93c7599c.js"),[]),"../locales/uk.json":()=>ge(()=>import("./uk-217f44de.js"),[]),"../locales/zh.json":()=>ge(()=>import("./zh-275c856c.js"),[]),"../locales/zh_TW.json":()=>ge(()=>import("./zh_TW-b93d3b6b.js"),[])}),"../locales/".concat(e,".json"));return be.setLocaleMessage(e,s),be.locale=e,s}var VG=Object.defineProperty,UG=Object.getOwnPropertyDescriptor,BG=(e,s,t,r)=>{for(var i=r>1?void 0:r?UG(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VG(s,t,i),i};let Wa=class extends y{get allPrintStatusChartData(){var e;return this.getChartData((e=this.$store.state.server.history.jobs)!=null?e:[])}get selectedPrintStatusChartData(){return this.getChartData(this.$store.getters["server/history/getSelectedJobs"])}getStatusColor(e){var t;const s={completed:"#BDBDBD",in_progress:"#EEEEEE",cancelled:"#616161",default:"#424242"};return(t=s[e])!=null?t:s.default}getLocalizedStatusName(e){return be.te("History.StatusValues.".concat(e),"en")?be.t("History.StatusValues.".concat(e)).toString():e}getChartData(e){var r;const s=[],t=(r=this.$store.state.gui.view.history.hidePrintStatus)!=null?r:[];return e.forEach(i=>{const n=s.findIndex(a=>a.name===i.status);if(n!==-1){s[n].value+=1,s[n].valueFilament+=i.filament_used,s[n].valueTime+=i.print_duration;return}s.push({name:i.status,displayName:this.getLocalizedStatusName(i.status),value:1,valueFilament:i.filament_used,valueTime:i.print_duration,itemStyle:{opacity:.9,color:this.getStatusColor(i.status),borderColor:"#1E1E1E",borderWidth:2,borderRadius:3},showInTable:!t.includes(i.status)})}),s}groupSmallEntries(e,s){const r=e.reduce((l,c)=>l+c.value,0)*s,i=e.filter(l=>l.value<r);if(i.length<2)return e;const n=i.reduce((l,c)=>l+c.value,0),a=e.filter(l=>l.value>=r),o=be.t("History.StatusValues.Others").toString()+" (".concat(i.length,")");return a.push({name:o,displayName:o,value:n,valueFilament:0,valueTime:0,itemStyle:{opacity:.9,color:"#616161",borderColor:"#1E1E1E",borderWidth:2,borderRadius:3},showInTable:!0}),a}get printStatusArray(){return(this.$store.getters["server/history/getSelectedJobs"].length?this.selectedPrintStatusChartData:this.allPrintStatusChartData).map(t=>({...t,name:t.displayName,value:this.valueName==="filament"?t.valueFilament:this.valueName==="time"?t.valueTime:t.value}))}get groupedPrintStatusArray(){return this.groupSmallEntries(this.printStatusArray,.05)}};Wa=BG([w],Wa);var GG=Object.defineProperty,WG=Object.getOwnPropertyDescriptor,zG=(e,s,t,r)=>{for(var i=r>1?void 0:r?WG(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&GG(s,t,i),i};let Qm=class extends M(O,Mc,Wa){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiCog=Yt,this.mdiDatabaseArrowDownOutline=kC,this.mdiDatabaseExportOutline=t5,this.mdiDelete=Ge,this.mdiFileDocumentMultipleOutline=Co,this.mdiMagnify=zu,this.mdiNotebookPlus=KC,this.formatFilesize=Qe,this.search="",this.sortBy="start_time",this.sortDesc=!0,this.addMaintenanceDialog=!1,this.deleteSelectedDialog=!1}get allLoaded(){var e;return(e=this.$store.state.server.history.all_loaded)!=null?e:!1}get jobs(){var e;return(e=this.$store.getters["server/history/getFilteredJobList"])!=null?e:[]}get maintenanceEntries(){var e;return(e=this.$store.getters["gui/maintenance/getEntries"])!=null?e:[]}get entries(){let e=[];return this.showPrintJobs&&(e=[...this.jobs].map(s=>({...s,type:"job",select_id:"job_".concat(s.job_id)}))),this.sortBy!=="start_time"||this.showMaintenanceEntries&&(e=[...e,...this.maintenanceEntries.map(s=>({...s,type:"maintenance",select_id:"maintenance_".concat(s.id)}))]),e}get selectedJobs(){var e;return(e=this.$store.state.gui.view.history.selectedJobs)!=null?e:[]}set selectedJobs(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.history.selectedJobs",value:e})}get headers(){const e=[{text:"",value:"",align:"left",configable:!1,visible:!0,filterable:!1},{text:this.$t("History.Filename").toString(),value:"filename",align:"left",configable:!1,visible:!0},{text:"",value:"status",align:"left",configable:!1,visible:!0,filterable:!1},{text:this.$t("History.Filesize").toString(),value:"size",align:"left",configable:!0,visible:!0,outputType:"filesize"},{text:this.$t("History.LastModified").toString(),value:"modified",align:"left",configable:!0,visible:!0,outputType:"date"},{text:this.$t("History.StartTime").toString(),value:"start_time",align:"left",configable:!0,visible:!0,outputType:"date"},{text:this.$t("History.EndTime").toString(),value:"end_time",align:"left",configable:!0,visible:!0,outputType:"date"},{text:this.$t("History.EstimatedTime").toString(),value:"estimated_time",align:"left",configable:!0,visible:!0,outputType:"time"},{text:this.$t("History.PrintTime").toString(),value:"print_duration",align:"left",configable:!0,visible:!0,outputType:"time"},{text:this.$t("History.TotalTime").toString(),value:"total_duration",align:"left",configable:!0,visible:!0,outputType:"time"},{text:this.$t("History.FilamentCalc").toString(),value:"filament_total",align:"left",configable:!0,visible:!0,outputType:"length"},{text:this.$t("History.FilamentUsed").toString(),value:"filament_used",align:"left",configable:!0,visible:!0,outputType:"length"},{text:this.$t("History.FirstLayerExtTemp").toString(),value:"first_layer_extr_temp",align:"left",configable:!0,visible:!0,outputType:"temp"},{text:this.$t("History.FirstLayerBedTemp").toString(),value:"first_layer_bed_temp",align:"left",configable:!0,visible:!0,outputType:"temp"},{text:this.$t("History.FirstLayerHeight").toString(),value:"first_layer_height",align:"left",configable:!0,visible:!0,outputType:"length"},{text:this.$t("History.LayerHeight").toString(),value:"layer_height",align:"left",configable:!0,visible:!0,outputType:"length"},{text:this.$t("History.ObjectHeight").toString(),value:"object_height",align:"left",configable:!0,visible:!0,outputType:"length"},{text:this.$t("History.Slicer").toString(),value:"slicer",align:"left",configable:!0,visible:!0}];return this.moonrakerHistoryFields.forEach(s=>{e.push({text:s.desc,value:s.name,align:"left",configable:!0,visible:!1})}),e.forEach(s=>{s.visible&&this.hideColums.includes(s.value)?s.visible=!1:!s.visible&&!this.hideColums.includes(s.value)&&(s.visible=!0)}),e}get tableFields(){return this.filteredHeaders.filter(e=>!["filename","status"].includes(e.value)&&e.value!=="")}get configHeaders(){return this.headers.filter(e=>e.configable===!0)}get filteredHeaders(){return this.headers.filter(e=>e.visible===!0)}get allPrintStatusArray(){var e;return Rt((e=this.$store.getters["server/history/getAllPrintStatusArray"])!=null?e:[],"name")}get countPerPage(){var e;return(e=this.$store.state.gui.view.history.countPerPage)!=null?e:10}set countPerPage(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.countPerPage",value:e})}get hideColums(){return this.$store.state.gui.view.history.hideColums}set hideColums(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.hideColums",value:e})}get showMaintenanceEntries(){return this.$store.state.gui.view.history.showMaintenanceEntries}set showMaintenanceEntries(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.showMaintenanceEntries",value:e})}get showPrintJobs(){return this.$store.state.gui.view.history.showPrintJobs}set showPrintJobs(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.showPrintJobs",value:e})}refreshHistory(){this.$store.dispatch("socket/addLoading",{name:"historyLoadAll"}),this.$socket.emit("server.history.list",{start:0,limit:50},{action:"server/history/getHistory"})}sortFiles(e,s,t){const r=s.length?s[0]:"filename",i=t[0];return e!==void 0&&(e.sort(function(n,a){if(n[r]===a[r])return 0;if(n[r]===null||n[r]===void 0)return-1;if(a[r]===null||a[r]===void 0)return 1;if(n[r].constructor===String&&a[r].constructor===String)return n[r].localeCompare(a[r],void 0,{sensivity:"base"});if(n[r]instanceof Array&&a[r]instanceof Array){const o=n[r].length?n.filament.reduce((c,u)=>c+u):0,l=a[r].length?a.filament.reduce((c,u)=>c+u):0;return o-l}return n[r]-a[r]}),i&&e.reverse()),e}advancedSearch(e,s){return e!=null&&s!=null&&e.toString().toLowerCase().indexOf(s.toLowerCase())!==-1}changeColumnVisible(e){if(this.headers.filter(s=>s.value===e).length){let s=this.headers.filter(t=>t.value===e)[0].visible;this.$store.dispatch("gui/setHistoryColumns",{name:e,value:s})}}changeStatusVisible(e){if(e.showInTable){this.$store.dispatch("gui/hideStatusInHistoryList",e.name);return}this.$store.dispatch("gui/showStatusInHistoryList",e.name)}exportHistory(){const t=(parseFloat("1.23").toLocaleString(this.browserLocale).indexOf(",")>=0?",":".")===","?";":",",r=[],i=[];i.push("filename"),i.push("type"),i.push("status"),this.tableFields.forEach(l=>{if(l.value.startsWith("history_field_")){const c=l.value.replace("history_field_","");i.push(c);return}i.push(l.value)}),r.push(i);let n=[...this.entries];this.selectedJobs.length&&(n=[...this.selectedJobs]),n.length&&n.sort((l,c)=>c.start_time-l.start_time).forEach(l=>{var m,p;const c=[];if(((m=l.type)!=null?m:"job")==="maintenance"){const f=l;c.push(f.name),c.push("maintenance"),c.push(f.end_time!==null?"performed":"open"),this.tableFields.filter(b=>b.value!=="slicer").forEach(b=>{if(b.value==="start_time"){c.push(this.formatDateTime(f.start_time*1e3));return}if(b.value==="end_time"&&f.end_time!==null){c.push(this.formatDateTime(f.end_time*1e3));return}if(b.value==="print_duration"&&f.end_printtime!==null){const $=f.end_printtime-f.start_printtime;c.push($.toLocaleString(this.browserLocale,{useGrouping:!1}));return}if(b.value==="filament_used"&&f.end_filament!==null){const $=f.end_filament-f.start_filament;c.push($.toLocaleString(this.browserLocale,{useGrouping:!1}));return}c.push("")}),(p=this.tableFields.find(b=>b.value==="slicer"))!=null&&p.visible&&c.push(""),r.push(c);return}const d=l;let h=d.filename;h.includes(t)&&(h='"'+h+'"'),c.push(h),c.push("job"),c.push(d.status),this.tableFields.forEach(f=>{c.push(this.outputValue(f,d,t))}),r.push(c)});const a="data:text/csv;charset=utf-8,"+r.map(l=>l.map(c=>(c==null?void 0:c.indexOf(t))===-1?c:'"'.concat(c,'"')).join(t)).join("\n"),o=document.createElement("a");o.setAttribute("href",encodeURI(a)),o.setAttribute("download","print_history.csv"),document.body.appendChild(o),o.click(),o.remove()}outputValue(e,s,t=null){var i,n,a,o,l,c;let r=e.value in s?s[e.value]:null;if(r===null&&(r=e.value in s.metadata?s.metadata[e.value]:null),e.value==="slicer"){let u="slicer"in s.metadata&&s.metadata.slicer?s.metadata.slicer:"--";return"slicer_version"in s.metadata&&s.metadata.slicer_version&&(u+=" "+s.metadata.slicer_version),t!==null&&r.includes(t)?'"'+u+'"':u}if(e.value.startsWith("history_field_")){const u=e.value.replace("history_field_",""),d=(i=s.auxiliary_data)==null?void 0:i.find(m=>m.name===u);let h=(n=d==null?void 0:d.value)==null?void 0:n.toString();return d&&!Array.isArray(d.value)&&(h=(o=(a=d.value)==null?void 0:a.toLocaleString(this.browserLocale,{useGrouping:!1}))!=null?o:0),h?t!==null&&(h!=null&&h.includes(t))?'"'.concat(h,'"'):h:"--"}switch(e.outputType){case"date":return this.formatDateTime(r*1e3);case"time":return(l=r==null?void 0:r.toFixed())!=null?l:"";default:switch(typeof r){case"number":return(c=r==null?void 0:r.toLocaleString(this.browserLocale,{useGrouping:!1}))!=null?c:0;case"string":return t!==null&&r.includes(t)&&(r='"'+r+'"'),r;default:return r}}}};Qm=zG([w({components:{HistoryListPanelDeleteSelectedDialog:mS,HistoryListEntryMaintenance:dS,HistoryListPanelAddMaintenance:cS,HistoryListEntryJob:lS,HistoryListPanelDetailsDialog:Ag,Panel:B}})],Qm);var qG=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{attrs:{icon:e.mdiFileDocumentMultipleOutline,title:e.$t("History.PrintHistory"),"card-class":"history-list-panel"}},[t(Z,[t(C,[t(v,{staticClass:"col-4 d-flex align-center"},[t(re,{attrs:{"append-icon":e.mdiMagnify,label:e.$t("History.Search"),"single-line":"",outlined:"",clearable:"","hide-details":"",dense:""},model:{value:e.search,callback:function(r){e.search=r},expression:"search"}})],1),t(v,{staticClass:"offset-4 col-4 d-flex align-center justify-end"},[e.selectedJobs.length?t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3",attrs:{color:"error"},on:{click:function(a){e.deleteSelectedDialog=!0}}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDelete))])],1)]}}],null,!1,3710056784)},[t("span",[e._v(e._s(e.$t("History.Delete")))])]):e._e(),t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3",on:{click:function(a){e.addMaintenanceDialog=!0}}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiNotebookPlus))])],1)]}}])},[t("span",[e._v(e._s(e.$t("History.AddMaintenance")))])]),e.allLoaded?e._e():t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3",attrs:{loading:e.loadings.includes("historyLoadAll")},on:{click:e.refreshHistory}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDatabaseArrowDownOutline))])],1)]}}],null,!1,788240949)},[t("span",[e._v(e._s(e.$t("History.LoadCompleteHistory")))])]),t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3",on:{click:e.exportHistory}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiDatabaseExportOutline))])],1)]}}])},[t("span",[e._v(e._s(e.$t("History.TitleExportHistory")))])]),t(ye,{attrs:{"offset-y":!0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t(g,e._g(e._b({staticClass:"px-2 minwidth-0 ml-3"},"v-btn",n,!1),Object.assign({},i,o)),[t(_,[e._v(e._s(e.mdiCog))])],1)]}}],null,!0)},[t("span",[e._v(e._s(e.$t("History.Settings")))])])]}}])},[t(Ee,[t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"","input-value":e.showMaintenanceEntries,label:e.$t("History.MaintenanceEntries")},on:{change:function(r){e.showMaintenanceEntries=!e.showMaintenanceEntries}}})],1),t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"","input-value":e.showPrintJobs,label:e.$t("History.PrintJobs")},on:{change:function(r){e.showPrintJobs=!e.showPrintJobs}}})],1),t(H),e.printStatusArray.length?[e._l(e.printStatusArray,function(r){return t(Y,{key:r.key,staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"","input-value":r.showInTable,label:"".concat(r.displayName," (").concat(r.value,")")},on:{change:function(i){return e.changeStatusVisible(r)}}})],1)}),t(H)]:e._e(),e._l(e.configHeaders,function(r,i){return t(Y,{key:"history-list-panel-header-option-"+i,staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:r.text},on:{change:function(n){return e.changeColumnVisible(r.value)}},model:{value:r.visible,callback:function(n){e.$set(r,"visible",n)},expression:"header.visible"}})],1)})],2)],1)],1)],1)],1),t(H,{staticClass:"mb-3"}),t(Mr,{staticClass:"history-jobs-table",attrs:{items:e.entries,headers:e.filteredHeaders,"custom-sort":e.sortFiles,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"items-per-page":e.countPerPage,"footer-props":{itemsPerPageText:e.$t("History.Jobs"),itemsPerPageAllText:e.$t("History.AllJobs"),itemsPerPageOptions:[10,25,50,100,-1]},"item-key":"select_id",search:e.search,"custom-filter":e.advancedSearch,"mobile-breakpoint":"0","show-select":""},on:{"update:sortBy":function(r){e.sortBy=r},"update:sort-by":function(r){e.sortBy=r},"update:sortDesc":function(r){e.sortDesc=r},"update:sort-desc":function(r){e.sortDesc=r},"update:itemsPerPage":function(r){e.countPerPage=r},"update:items-per-page":function(r){e.countPerPage=r}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center"},[e._v(e._s(e.$t("History.Empty")))])]},proxy:!0},{key:"item",fn:function(r){var i=r.item,n=r.isSelected,a=r.select;return[i.type==="job"?t(lS,{key:i.select_id,attrs:{"is-selected":n,item:i,"table-fields":e.tableFields},on:{select:a}}):i.type==="maintenance"?t(dS,{key:i.select_id,attrs:{"is-selected":n,item:i,"table-fields":e.tableFields},on:{select:a}}):e._e()]}}]),model:{value:e.selectedJobs,callback:function(r){e.selectedJobs=r},expression:"selectedJobs"}}),t(mS,{attrs:{show:e.deleteSelectedDialog},on:{close:function(r){e.deleteSelectedDialog=!1}}}),t(cS,{attrs:{show:e.addMaintenanceDialog},on:{close:function(r){e.addMaintenanceDialog=!1}}})],1)},ZG=[];const Zb={};var YG=E(Qm,qG,ZG,!1,XG,"e54f17e8",null,null);function XG(e){for(let s in Zb)this[s]=Zb[s]}const JS=function(){return YG.exports}();var JG=Object.defineProperty,KG=Object.getOwnPropertyDescriptor,KS=(e,s,t,r)=>{for(var i=r>1?void 0:r?KG(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&JG(s,t,i),i};let kc=class extends M(O,yt){get chartOptions(){return{animation:!1,grid:{top:25,right:40,bottom:30,left:40},tooltip:{trigger:"axis",borderWidth:0,formatter:s=>{let t="";if(s.length){t=s[0].marker;const i=s[0].axisValueLabel.split(/[^0-9]/),n=new Date(i[0],i[1]-1,i[2]),a=Math.round(s[0].data[1]*10)/10;t+=n.toLocaleDateString()+": "+a+"m"}return t}},xAxis:{type:"time",min:new Date().setHours(0,0,0)-60*60*24*14*1e3,max:new Date().setHours(0,0,0),minInterval:60*60*24*1e3,splitLine:{show:!0,lineStyle:{color:this.fgColorLow}},axisLabel:{color:this.fgColorLow,margin:10}},yAxis:{name:this.$t("History.HistoryFilamentUsage"),type:"value",minInterval:10,maxInterval:100,nameLocation:"end",nameGap:5,nameTextStyle:{color:this.fgColorLow,align:"left"},splitLine:{lineStyle:{color:this.fgColorLow}},axisLabel:{color:this.fgColorLow,formatter:"{value}",showMinLabel:!0,margin:5},axisLine:{show:!0,lineStyle:{color:this.fgColorMid}}},color:["#BDBDBD"],series:[{type:"bar",data:this.filamentUsageArray,showSymbol:!1}]}}get filamentUsageArray(){return this.$store.getters["server/history/getFilamentUsageArray"]}get chart(){var s,t;return(t=(s=this.$refs.historyFilamentUsage)==null?void 0:s.chart)!=null?t:null}beforeDestroy(){typeof window>"u"||this.chart&&this.chart.dispose()}filamentUsageArrayChanged(s){var t;(t=this.chart)==null||t.setOption({series:{data:s}},!1,!0)}visibilityChanged(s){var t;s&&((t=this.chart)==null||t.resize())}};KS([ce("filamentUsageArray")],kc.prototype,"filamentUsageArrayChanged",1);kc=KS([w({})],kc);var QG=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("e-chart",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],ref:"historyFilamentUsage",staticStyle:{height:"175px",width:"100%"},attrs:{option:e.chartOptions,autoresize:!0,"init-options":{renderer:"svg"}}})},eW=[];const Yb={};var tW=E(kc,QG,eW,!1,sW,null,null,null);function sW(e){for(let s in Yb)this[s]=Yb[s]}const QS=function(){return tW.exports}();var rW=Object.defineProperty,iW=Object.getOwnPropertyDescriptor,ew=(e,s,t,r)=>{for(var i=r>1?void 0:r?iW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&rW(s,t,i),i};let Rc=class extends M(O,yt){get chartOptions(){return{animation:!1,grid:{top:25,right:40,bottom:30,left:40},tooltip:{trigger:"item",borderWidth:0},xAxis:{type:"category",data:["0-2h","2-6h","6-12h","12-24h",">24h"],splitLine:{show:!0,lineStyle:{color:this.fgColorFaint}},axisLabel:{color:this.fgColorLow,margin:10}},yAxis:{name:this.$t("History.HistoryPrinttimeAVG"),type:"value",minInterval:10,maxInterval:100,nameLocation:"end",nameGap:5,nameTextStyle:{color:this.fgColorLow,align:"left"},splitLine:{lineStyle:{color:this.fgColorLow}},axisLabel:{color:this.fgColorLow,formatter:"{value}",showMinLabel:!0,margin:5},axisLine:{show:!0,lineStyle:{color:this.fgColorLow}}},series:[{type:"bar",data:this.printtimeAvgArray,itemStyle:{color:"#BDBDBD"}}]}}get printtimeAvgArray(){return this.$store.getters["server/history/getPrinttimeAvgArray"]}get chart(){var e,s;return(s=(e=this.$refs.historyPrinttimeAvg)==null?void 0:e.chart)!=null?s:null}beforeDestroy(){typeof window>"u"||this.chart&&this.chart.dispose()}printtimeAvgArrayChanged(e){var s;(s=this.chart)==null||s.setOption({series:{data:e}},!1,!0)}visibilityChanged(e){var s;e&&((s=this.chart)==null||s.resize())}};ew([ce("printtimeAvgArray")],Rc.prototype,"printtimeAvgArrayChanged",1);Rc=ew([w({components:{}})],Rc);var nW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("e-chart",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],ref:"historyPrinttimeAvg",staticStyle:{height:"175px",width:"100%"},attrs:{option:e.chartOptions,"init-options":{renderer:"svg"}}})},aW=[];const Xb={};var oW=E(Rc,nW,aW,!1,lW,null,null,null);function lW(e){for(let s in Xb)this[s]=Xb[s]}const tw=function(){return oW.exports}();var cW=Object.defineProperty,uW=Object.getOwnPropertyDescriptor,Rd=(e,s,t,r)=>{for(var i=r>1?void 0:r?uW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&cW(s,t,i),i};let vn=class extends M(O,yt,Wa){get chartOptions(){return{animation:!1,grid:{top:10,right:0,bottom:0,left:10},tooltip:{trigger:"item",borderWidth:0,valueFormatter:e=>this.valueName==="filament"?e>1e3?Math.round(e/1e3).toString()+" m":e.toString()+" mm":this.valueName==="time"?qs(e,!1):e.toString()},series:[{type:"pie",data:this.groupedPrintStatusArray,avoidLabelOverlap:!1,minAngle:5,radius:["35%","60%"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{color:this.fgColorHi}}]}}get chart(){var e,s;return(s=(e=this.historyAllPrintStatus)==null?void 0:e.chart)!=null?s:null}beforeDestroy(){typeof window>"u"||this.chart&&this.chart.dispose()}groupedPrintStatusArrayChanged(e){var s;(s=this.chart)==null||s.setOption({series:{data:e}},!1,!0)}visibilityChanged(e){var s;e&&((s=this.chart)==null||s.resize())}};Rd([x({type:String,default:"jobs"})],vn.prototype,"valueName",2);Rd([Fs("historyAllPrintStatus")],vn.prototype,"historyAllPrintStatus",2);Rd([ce("groupedPrintStatusArray")],vn.prototype,"groupedPrintStatusArrayChanged",1);vn=Rd([w({components:{}})],vn);var dW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("e-chart",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],ref:"historyAllPrintStatus",staticStyle:{height:"200px",width:"100%"},attrs:{option:e.chartOptions,autoresize:!0,"init-options":{renderer:"svg"}}})},hW=[];const Jb={};var mW=E(vn,dW,hW,!1,pW,null,null,null);function pW(e){for(let s in Jb)this[s]=Jb[s]}const sw=function(){return mW.exports}();var fW=Object.defineProperty,gW=Object.getOwnPropertyDescriptor,_W=(e,s,t,r)=>{for(var i=r>1?void 0:r?gW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&fW(s,t,i),i};let ep=class extends M(O,Mc){constructor(){super(...arguments),this.mdiChartAreaspline=IM,this.mdiDatabaseArrowDownOutline=kC,this.formatPrintTime=qs,this.toggleValue="jobs"}get toggleValueOptions(){return[{text:this.$t("History.Jobs"),value:"jobs"},{text:this.$t("History.Filament"),value:"filament"},{text:this.$t("History.Time"),value:"time"}]}get selectedJobs(){return this.$store.getters["server/history/getSelectedJobs"]}get existsSelectedJobs(){return this.selectedJobs.length>0}get totalPrintTime(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.total_print_time)!=null?s:0}get selectedPrintTime(){let e=0;return this.selectedJobs.forEach(s=>{e+=s.print_duration}),e}get longestPrintTime(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.longest_print)!=null?s:0}get selectedLongestPrintTime(){let e=0;return this.selectedJobs.forEach(s=>{s.print_duration>e&&(e=s.print_duration)}),e}get avgPrintTime(){return this.totalJobsCount>0&&this.totalPrintTime>0?Math.round(this.totalPrintTime/this.totalJobsCount):0}get selectedAvgPrintTime(){return this.selectedJobs.length>0&&this.selectedPrintTime>0?Math.round(this.selectedPrintTime/this.selectedJobs.length):0}get totalFilamentUsed(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.total_filament_used)!=null?s:0}get totalFilamentUsedFormat(){const e=Math.round(this.totalFilamentUsed/100)/10;return"".concat(e," m")}get selectedFilamentUsed(){let e=0;return this.selectedJobs.forEach(s=>{e+=s.filament_used}),e}get selectedFilamentUsedFormat(){const e=Math.round(this.selectedFilamentUsed/100)/10;return"".concat(e," m")}get totalJobsCount(){var e,s;return(s=(e=this.$store.state.server.history.job_totals)==null?void 0:e.total_jobs)!=null?s:0}get toggleChart(){return this.$store.state.gui.view.history.toggleChartCol3}set toggleChart(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.toggleChartCol3",value:e})}get togglePrintStatus(){return this.$store.state.gui.view.history.toggleChartCol2}set togglePrintStatus(e){this.$store.dispatch("gui/saveSetting",{name:"view.history.toggleChartCol2",value:e})}get allLoaded(){var e;return(e=this.$store.state.server.history.all_loaded)!=null?e:!1}get selectedTotals(){const e=[{title:this.$t("History.SelectedPrinttime"),value:this.formatPrintTime(this.selectedPrintTime,!1)},{title:this.$t("History.LongestPrinttime"),value:this.formatPrintTime(this.selectedLongestPrintTime,!1)},{title:this.$t("History.AvgPrinttime"),value:this.formatPrintTime(this.selectedAvgPrintTime,!1)},{title:this.$t("History.SelectedFilamentUsed"),value:this.selectedFilamentUsedFormat},{title:this.$t("History.SelectedJobs"),value:this.selectedJobs.length.toString()}];return e.push(...this.auxiliarySelectedTotals),e}get auxiliarySelectedTotals(){const e=[];return this.moonrakerHistoryFields.forEach(s=>{const t=this.selectedJobs.reduce((r,i)=>{var o;const n=s.name.replace("history_field_",""),a=(o=i.auxiliary_data)==null?void 0:o.find(l=>l.provider===s.provider&&l.name===n);return!a||typeof a.value!="number"?r:r+a.value},0);e.push({title:s.desc,value:"".concat(Math.round(t*1e3)/1e3," ").concat(s.unit)})}),e}get genericTotals(){const e=[{title:this.$t("History.TotalPrinttime"),value:this.formatPrintTime(this.totalPrintTime,!1)},{title:this.$t("History.LongestPrinttime"),value:this.formatPrintTime(this.longestPrintTime,!1)},{title:this.$t("History.AvgPrinttime"),value:this.formatPrintTime(this.avgPrintTime,!1)},{title:this.$t("History.TotalFilamentUsed"),value:this.totalFilamentUsedFormat},{title:this.$t("History.TotalJobs"),value:this.totalJobsCount.toString()}];return e.push(...this.auxiliaryTotals),e}get auxiliaryTotals(){var t;const e=(t=this.$store.state.server.history.auxiliary_totals)!=null?t:[],s=[];return e.forEach(r=>{var o,l;const i="history_field_".concat(r.field),n=this.moonrakerHistoryFields.find(c=>c.provider===r.provider&&c.name===i),a=Math.round(((o=r.total)!=null?o:0)*1e3)/1e3;s.push({title:(l=n==null?void 0:n.desc)!=null?l:r.field,value:"".concat(a," ").concat(n==null?void 0:n.unit)})}),s}get totals(){return this.existsSelectedJobs?this.selectedTotals:this.genericTotals}refreshHistory(){this.$store.dispatch("socket/addLoading",{name:"historyLoadAll"}),this.$socket.emit("server.history.list",{start:0,limit:50},{action:"server/history/getHistory"})}};ep=_W([w({components:{Panel:B,HistoryFilamentUsage:QS,HistoryPrinttimeAvg:tw,HistoryAllPrintStatusChart:sw}})],ep);var vW=Object.defineProperty,bW=Object.getOwnPropertyDescriptor,Vg=(e,s,t,r)=>{for(var i=r>1?void 0:r?bW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&vW(s,t,i),i};let za=class extends M(O){get value(){return this.valueName==="filament"?this.item.value>1e3?Math.round(this.item.value/1e3).toFixed(2)+" m":this.item.value.toFixed(0)+" mm":this.valueName==="time"?qs(this.item.value,!1):this.item.value.toString()}};Vg([x({type:Object})],za.prototype,"item",2);Vg([x({type:String,default:"amount"})],za.prototype,"valueName",2);za=Vg([w({components:{}})],za);var yW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",[t("td",[e._v(e._s(e.item.displayName))]),t("td",{staticClass:"text-right"},[e._v(e._s(e.value))])])},CW=[];const Kb={};var $W=E(za,yW,CW,!1,xW,null,null,null);function xW(e){for(let s in Kb)this[s]=Kb[s]}const rw=function(){return $W.exports}();var SW=Object.defineProperty,wW=Object.getOwnPropertyDescriptor,iw=(e,s,t,r)=>{for(var i=r>1?void 0:r?wW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&SW(s,t,i),i};let Hc=class extends M(O,Wa){};iw([x({type:String,default:"amount"})],Hc.prototype,"valueName",2);Hc=iw([w({components:{HistoryAllPrintStatusTableItem:rw}})],Hc);var PW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Cf,[t("tbody",e._l(e.printStatusArray,function(r){return t(rw,{key:r.name,attrs:{item:r,"value-name":e.valueName}})}),1)])},TW=[];const Qb={};var DW=E(Hc,PW,TW,!1,MW,null,null,null);function MW(e){for(let s in Qb)this[s]=Qb[s]}const EW=function(){return DW.exports}();var OW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{attrs:{icon:e.mdiChartAreaspline,title:e.$t("History.Statistics"),"card-class":"history-statistics-panel",collapsible:!0}},[t(Z,{staticClass:"pa-0"},[t(C,{attrs:{align:"center"}},[t(v,{staticClass:"col-12 col-sm-6 col-md-4"},[t(Cf,[t("tbody",e._l(e.totals,function(r){return t("tr",{key:r.title},[t("td",[e._v(e._s(r.title))]),t("td",{staticClass:"text-right"},[e._v(e._s(r.value))])])}),0)])],1),t(v,{staticClass:"col-12 col-sm-6 col-md-4"},[e.togglePrintStatus==="chart"?t(sw,{attrs:{"value-name":e.toggleValue}}):t(EW,{attrs:{"value-name":e.toggleValue}}),t("div",{staticClass:"text-center mb-3"},[t(la,{attrs:{small:"",mandatory:""},model:{value:e.togglePrintStatus,callback:function(r){e.togglePrintStatus=r},expression:"togglePrintStatus"}},[t(g,{attrs:{small:"",value:"chart"}},[e._v(e._s(e.$t("History.Chart")))]),t(g,{attrs:{small:"",value:"table"}},[e._v(e._s(e.$t("History.Table")))])],1),e.allLoaded?e._e():t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{outlined:"",small:"",loading:e.loadings.includes("historyLoadAll"),color:"primary"},on:{click:e.refreshHistory}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDatabaseArrowDownOutline))])],1)]}}],null,!1,1343318810)},[t("span",[e._v(e._s(e.$t("History.LoadCompleteHistory")))])])],1),t("div",{staticClass:"text-center mb-3"},[t(la,{attrs:{small:"",mandatory:""},model:{value:e.toggleValue,callback:function(r){e.toggleValue=r},expression:"toggleValue"}},e._l(e.toggleValueOptions,function(r){return t(g,{key:r.value,attrs:{small:"",value:r.value}},[e._v(" "+e._s(r.text)+" ")])}),1)],1)],1),t(v,{staticClass:"col-12 col-sm-12 col-md-4"},[e.toggleChart==="filament_usage"?t(QS):e.toggleChart==="printtime_avg"?t(tw):e._e(),t("div",{staticClass:"text-center mt-3"},[t(la,{attrs:{small:"",mandatory:""},model:{value:e.toggleChart,callback:function(r){e.toggleChart=r},expression:"toggleChart"}},[t(g,{attrs:{small:"",value:"filament_usage"}},[e._v(e._s(e.$t("History.FilamentUsage")))]),t(g,{attrs:{small:"",value:"printtime_avg"}},[e._v(e._s(e.$t("History.PrinttimeAvg")))])],1)],1)],1)],1)],1)],1)},LW=[];const e0={};var FW=E(ep,OW,LW,!1,AW,null,null,null);function AW(e){for(let s in e0)this[s]=e0[s]}const nw=function(){return FW.exports}();var kW=Object.defineProperty,RW=Object.getOwnPropertyDescriptor,HW=(e,s,t,r)=>{for(var i=r>1?void 0:r?RW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&kW(s,t,i),i};let tp=class extends M(O){};tp=HW([w({components:{HistoryListPanel:JS,HistoryStatisticsPanel:nw}})],tp);var jW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,[t(v,[t(nw)],1)],1),t(C,{staticClass:"mt-0"},[t(v,[t(JS)],1)],1)],1)},IW=[];const t0={};var NW=E(tp,jW,IW,!1,VW,null,null,null);function VW(e){for(let s in t0)this[s]=t0[s]}const UW=function(){return NW.exports}();var BW=Object.defineProperty,GW=Object.getOwnPropertyDescriptor,WW=(e,s,t,r)=>{for(var i=r>1?void 0:r?GW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&BW(s,t,i),i};let sp=class extends M(O){constructor(){super(...arguments),this.formatFilesize=Qe,this.sortFiles=eg,this.mdiFileVideo=m5,this.mdiCloseThick=pe,this.mdiFileDocumentMultipleOutline=Co,this.mdiMagnify=zu,this.mdiFolderPlus=kf,this.mdiRefresh=bi,this.mdiFolderUpload=Rf,this.mdiFolder=Af,this.mdiFolderZipOutline=_5,this.mdiFile=Ks,this.mdiCloudDownload=ya,this.mdiRenameBox=Xu,this.mdiDelete=Ge,this.search="",this.boolVideoDialog=!1,this.videoDialogFilename="",this.dialogCreateDirectory={show:!1,name:""},this.contextMenu={shown:!1,isDirectory:!1,touchTimer:void 0,x:0,y:0,item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogRenameFile={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogRenameDirectory={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogDeleteDirectory={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.deleteDialog=!1,this.deleteSelectedDialog=!1,this.isInvalidName=!0,this.nameInputRules=[e=>!!e||this.$t("Files.InvalidNameEmpty"),e=>!this.existsFilename(e)||this.$t("Files.InvalidNameAlreadyExists")],this.rootDirectory="timelapse"}existsFilename(e){return this.files.findIndex(s=>s.filename===e)>=0}get headers(){return[{text:"",value:"",align:"left",configable:!1,visible:!0,sortable:!1},{text:this.$t("Timelapse.Name"),value:"filename",align:"left",configable:!1,visible:!0},{text:this.$t("Timelapse.Filesize"),value:"size",align:"right",configable:!0,visible:!0},{text:this.$t("Timelapse.LastModified"),value:"modified",align:"right",configable:!0,visible:!0}]}get directory(){return this.$store.getters["files/getDirectory"](this.currentPath)}get disk_usage(){var e,s;return(s=(e=this.directory)==null?void 0:e.disk_usage)!=null?s:{used:0,free:0,total:0}}get directoryPermissions(){var e,s;return(s=(e=this.directory)==null?void 0:e.permissions)!=null?s:"r"}get files(){var e,s;return[...(s=(e=this.directory)==null?void 0:e.childrens)!=null?s:[]]}get sortBy(){var e;return(e=this.$store.state.gui.view.gcodefiles.sortBy)!=null?e:"modified"}set sortBy(e){e===void 0&&(e="modified"),this.$store.dispatch("gui/saveSetting",{name:"view.timelapse.sortBy",value:e})}get sortDesc(){var e;return(e=this.$store.state.gui.view.gcodefiles.sortDesc)!=null?e:!0}set sortDesc(e){e===void 0&&(e=!1),this.$store.dispatch("gui/saveSetting",{name:"view.timelapse.sortDesc",value:e})}get countPerPage(){var e,s;return(s=(e=this.$store.state.gui.view.timelapse)==null?void 0:e.countPerPage)!=null?s:10}set countPerPage(e){this.$store.dispatch("gui/saveSetting",{name:"view.timelapse.countPerPage",value:e})}get displayFiles(){var e,s;return(s=(e=this.files)==null?void 0:e.filter(t=>t.isDirectory?!0:t.filename.endsWith("mp4")||t.filename.endsWith("zip")))!=null?s:[]}get currentPath(){return this.$store.state.gui.view.timelapse.currentPath}get currentPathForNavigation(){return this.currentPath===this.rootDirectory?"":this.currentPath.substring(this.rootDirectory.length)}set currentPath(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.timelapse.currentPath",value:e})}get selectedFiles(){var e;return(e=this.$store.state.gui.view.timelapse.selectedFiles)!=null?e:[]}set selectedFiles(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.timelapse.selectedFiles",value:e})}createDirectory(){this.dialogCreateDirectory.name="",this.dialogCreateDirectory.show=!0,setTimeout(()=>{var e;(e=this.$refs.inputFieldCreateDirectory)==null||e.focus()},200)}createDirectoryAction(){this.dialogCreateDirectory.show=!1,this.$socket.emit("server.files.post_directory",{path:this.currentPath+"/"+this.dialogCreateDirectory.name},{action:"files/getCreateDir"})}refreshFileList(){this.$socket.emit("server.files.get_directory",{path:this.currentPath},{action:"files/getDirectory"})}advancedSearch(e,s){return e!=null&&s!=null&&typeof e=="string"&&e.toString().toLowerCase().indexOf(s.toLowerCase())!==-1}getThumbnail(e){var r;const s=e.filename.slice(0,e.filename.lastIndexOf(".")),t=(r=this.files)==null?void 0:r.find(i=>i.filename===s+".jpg");return t?"".concat(this.apiUrl,"/server/files/").concat(Ie(this.currentPath),"/").concat(Ie(t.filename),"?timestamp=").concat(t.modified.getTime()):""}clickRow(e,s=!1){(!this.contextMenu.shown||s)&&(s&&(this.contextMenu.shown=!1),e.isDirectory?this.currentPath+="/"+e.filename:e.filename.endsWith("zip")?this.downloadFile(e.filename):e.filename.endsWith("mp4")&&(this.videoDialogFilename=Ie("".concat(this.currentPath,"/").concat(e.filename)),this.boolVideoDialog=!0))}clickRowGoBack(){this.currentPath=this.currentPath.slice(0,this.currentPath.lastIndexOf("/"))}clickPathNavGoToDirectory(e){this.currentPath="".concat(this.rootDirectory).concat(e.location)}showContextMenu(e,s){this.contextMenu.shown||(e==null||e.preventDefault(),this.contextMenu.shown=!0,this.contextMenu.x=(e==null?void 0:e.clientX)||(e==null?void 0:e.pageX)||window.screenX/2,this.contextMenu.y=(e==null?void 0:e.clientY)||(e==null?void 0:e.pageY)||window.screenY/2,this.contextMenu.item=s,this.$nextTick(()=>{this.contextMenu.shown=!0}))}existsFramesZip(e){const s=e.filename.lastIndexOf("."),t=e.filename.slice(0,s)+".zip";return this.files.findIndex(r=>r.filename===t)!==-1}downloadFile(e){const s=this.currentPath+"/"+e,t=this.apiUrl+"/server/files/"+Ie(s);window.open(t)}async downloadSelectedFiles(){let e=[];const s=async(i,n)=>{for(const a of n){const o="".concat(i,"/").concat(a.filename);if(a.isDirectory&&a.childrens){await s(o,a.childrens);continue}if(e.push(o),a.filename.endsWith(".mp4")){const l=a.filename.lastIndexOf("."),c=a.filename.slice(0,l),u="".concat(c,".jpg");this.files.indexOf(d=>d.filename===u)!==-1&&e.push("".concat(i,"/").concat(u))}}};await s(this.currentPath,this.selectedFiles);const t=new Date,r="".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate(),"-").concat(t.getHours()).concat(t.getMinutes()).concat(t.getSeconds());this.$socket.emit("server.files.zip",{items:e,dest:"timelapse/timelapse-".concat(r,".zip")},{action:"files/downloadZip",loading:"timelapseDownloadZip"}),this.selectedFiles=[]}renameFile(e){const s=e.filename.lastIndexOf(".");this.dialogRenameFile.newName=e.filename.slice(0,s),this.dialogRenameFile.item=e,this.dialogRenameFile.show=!0,setTimeout(()=>{var t;(t=this.$refs.inputFieldRenameFile)==null||t.focus()},200)}renameFileAction(){const e=this.dialogRenameFile.item.filename.lastIndexOf("."),s=this.dialogRenameFile.item.filename.slice(0,e),t=this.dialogRenameFile.item.filename.split(".").pop();if(this.dialogRenameFile.show=!1,this.$socket.emit("server.files.move",{source:"".concat(this.currentPath,"/").concat(this.dialogRenameFile.item.filename),dest:"".concat(this.currentPath,"/").concat(this.dialogRenameFile.newName,".").concat(t)},{action:"files/getMove"}),t!=="mp4")return;this.files.find(i=>i.filename==="".concat(s,".jpg"))&&this.$socket.emit("server.files.move",{source:"".concat(this.currentPath,"/").concat(s,".jpg"),dest:"".concat(this.currentPath,"/").concat(this.dialogRenameFile.newName,".jpg")})}renameDirectory(e){this.dialogRenameDirectory.item=e,this.dialogRenameDirectory.newName=e.filename,this.dialogRenameDirectory.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputFieldRenameDirectory)==null||s.focus()},200)}renameDirectoryAction(){this.dialogRenameDirectory.show=!1,this.$socket.emit("server.files.move",{source:this.currentPath+"/"+this.dialogRenameDirectory.item.filename,dest:this.currentPath+"/"+this.dialogRenameDirectory.newName},{action:"files/getMove"})}removeFile(){const e=this.contextMenu.item.filename.slice(0,this.contextMenu.item.filename.lastIndexOf(".")),s=this.contextMenu.item.filename.split(".").pop();if(this.$socket.emit("server.files.delete_file",{path:this.currentPath+"/"+this.contextMenu.item.filename},{action:"files/getDeleteFile"}),s!=="mp4")return;const t=e+".jpg";this.files.findIndex(i=>i.filename===t)!==-1&&this.$socket.emit("server.files.delete_file",{path:this.currentPath+"/"+t},{action:"files/getDeleteFile"}),this.deleteDialog=!1}deleteDirectory(e){this.dialogDeleteDirectory.item=e,this.dialogDeleteDirectory.show=!0}deleteDirectoryAction(){this.dialogDeleteDirectory.show=!1,this.$socket.emit("server.files.delete_directory",{path:this.currentPath+"/"+this.contextMenu.item.filename,force:!0},{action:"files/getDeleteDir"})}deleteSelectedFiles(){this.selectedFiles.forEach(e=>{if(e.isDirectory)this.$socket.emit("server.files.delete_directory",{path:this.currentPath+"/"+e.filename,force:!0},{action:"files/getDeleteDir"});else{const s=e.filename.slice(0,e.filename.lastIndexOf(".")),t=e.filename.split(".").pop();if(this.$socket.emit("server.files.delete_file",{path:this.currentPath+"/"+e.filename},{action:"files/getDeleteFile"}),t!=="mp4")return;const r=s+".jpg";this.files.findIndex(n=>n.filename===r)!==-1&&this.$socket.emit("server.files.delete_file",{path:this.currentPath+"/"+r},{action:"files/getDeleteFile"})}}),this.selectedFiles=[],this.deleteSelectedDialog=!1}};sp=WW([w({components:{Panel:B,PathNavigation:An}})],sp);var zW=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(B,{attrs:{title:e.$t("Timelapse.TimelapseFiles"),icon:e.mdiFileDocumentMultipleOutline,"card-class":"timelapse-files-panel"}},[t(Z,[t(C,[t(v,{staticClass:"col-12 d-flex align-center"},[t(re,{staticStyle:{"max-width":"300px"},attrs:{"append-icon":e.mdiMagnify,label:e.$t("Timelapse.Search"),"single-line":"",outlined:"",clearable:"","hide-details":"",dense:""},model:{value:e.search,callback:function(r){e.search=r},expression:"search"}}),t(ie),e.selectedFiles.length?t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Timelapse.Download"),color:"primary",loading:e.loadings.includes("timelapseDownloadZip")},on:{click:e.downloadSelectedFiles}},[t(_,[e._v(e._s(e.mdiCloudDownload))])],1):e._e(),e.selectedFiles.length?t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Timelapse.Delete"),color:"error"},on:{click:function(r){e.deleteSelectedDialog=!0}}},[t(_,[e._v(e._s(e.mdiDelete))])],1):e._e(),e.directoryPermissions.includes("w")?t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Timelapse.CreateNewDirectory")},on:{click:e.createDirectory}},[t(_,[e._v(e._s(e.mdiFolderPlus))])],1):e._e(),t(g,{staticClass:"px-2 minwidth-0 ml-3",attrs:{title:e.$t("Timelapse.RefreshCurrentDirectory")},on:{click:e.refreshFileList}},[t(_,[e._v(e._s(e.mdiRefresh))])],1)],1)],1)],1),t(Z,[t(C,[t(v,{staticClass:"col-12 py-2 d-flex align-center"},[t("span",[t("b",{staticClass:"mr-1"},[e._v(e._s(e.$t("Timelapse.CurrentPath"))+":")]),t(An,{attrs:{path:e.currentPathForNavigation,"base-directory-label":"/".concat(e.rootDirectory),"on-segment-click":e.clickPathNavGoToDirectory}})],1),t(ie),e.disk_usage!==null?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[t("b",[e._v(e._s(e.$t("Timelapse.FreeDisk"))+":")]),e._v(" "+e._s(e.formatFilesize(e.disk_usage.free))+" ")])]}}],null,!1,2240604619)},[t("span",[e._v(" "+e._s(e.$t("Timelapse.Used"))+": "+e._s(e.formatFilesize(e.disk_usage.used))+" "),t("br"),e._v(" "+e._s(e.$t("Timelapse.Free"))+": "+e._s(e.formatFilesize(e.disk_usage.free))+" "),t("br"),e._v(" "+e._s(e.$t("Timelapse.Total"))+": "+e._s(e.formatFilesize(e.disk_usage.total))+" ")])])]:e._e()],2)],1)],1),t(H,{staticClass:"mb-3"}),t(Mr,{staticClass:"files-table",attrs:{items:e.displayFiles,headers:e.headers,"custom-sort":e.sortFiles,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"items-per-page":e.countPerPage,"footer-props":{itemsPerPageText:e.$t("Timelapse.Files"),itemsPerPageAllText:e.$t("Timelapse.AllFiles"),itemsPerPageOptions:[10,25,50,100,-1]},"item-key":"filename",search:e.search,"custom-filter":e.advancedSearch,"mobile-breakpoint":"0","show-select":""},on:{"update:sortBy":function(r){e.sortBy=r},"update:sort-by":function(r){e.sortBy=r},"update:sortDesc":function(r){e.sortDesc=r},"update:sort-desc":function(r){e.sortDesc=r},"update:itemsPerPage":function(r){e.countPerPage=r},"update:items-per-page":function(r){e.countPerPage=r}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"text-center font-italic"},[e._v(e._s(e.$t("Timelapse.Empty")))])]},proxy:!0},{key:"item",fn:function(r){var i=r.index,n=r.item,a=r.isSelected,o=r.select;return[t("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(l){return e.showContextMenu(l,n)},expression:"(e) => showContextMenu(e, item)",arg:"600"}],key:"".concat(i," ").concat(n.filename),staticClass:"file-list-cursor user-select-none",on:{contextmenu:function(l){return e.showContextMenu(l,n)},click:function(l){return e.clickRow(n)}}},[t("td",{staticClass:"file-list__select-td pr-0"},[t(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{value:a},on:{click:function(l){return l.stopPropagation(),o(!a)}}})],1),t("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[n.isDirectory?[t(_,{attrs:{width:"32"}},[e._v(e._s(e.mdiFolder))])]:n.filename.endsWith("zip")?[t(_,{attrs:{width:"32"}},[e._v(e._s(e.mdiFolderZipOutline))])]:e.getThumbnail(n)?[!n.isDirectory&&e.getThumbnail(n)?t(ue,{attrs:{top:"","content-class":"tooltip__content-opacity1"},scopedSlots:e._u([{key:"activator",fn:function(l){var c=l.on,u=l.attrs;return[t("vue-load-image",[t("img",e._g(e._b({attrs:{slot:"image",src:e.getThumbnail(n),alt:n.filename,width:"32"},slot:"image"},"img",u,!1),c)),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{slot:"preloader",indeterminate:"",color:"primary"},slot:"preloader"})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])]}}],null,!0)},[t("span",[t("img",{attrs:{src:e.getThumbnail(n),alt:n.filename,width:"250"}})])]):e._e()]:[t(_,[e._v(e._s(e.mdiFile))])]],2),t("td",{staticClass:""},[e._v(e._s(n.filename))]),e.headers.find(function(l){return l.value==="size"}).visible?t("td",{staticClass:"text-no-wrap text-right"},[e._v(" "+e._s(n.isDirectory?"--":e.formatFilesize(n.size))+" ")]):e._e(),e.headers.find(function(l){return l.value==="modified"}).visible?t("td",{staticClass:"text-right"},[e._v(" "+e._s(e.formatDateTime(n.modified))+" ")]):e._e()])]}}]),model:{value:e.selectedFiles,callback:function(r){e.selectedFiles=r},expression:"selectedFiles"}},[t("template",{slot:"items"},e._l(e.headers,function(r){return t("td",{key:r.value},[e._v(e._s(r.text))])}),0),e.currentPath!==e.rootDirectory?t("template",{slot:"body.prepend"},[t("tr",{staticClass:"file-list-cursor",on:{click:e.clickRowGoBack}},[t("td",{staticClass:"pr-0 text-center",staticStyle:{width:"32px"}},[t(_,[e._v(e._s(e.mdiFolderUpload))])],1),t("td",{staticClass:"",attrs:{colspan:e.headers.length}},[e._v("..")])])]):e._e()],2)],1),t(ye,{attrs:{"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,absolute:"","offset-y":""},model:{value:e.contextMenu.shown,callback:function(r){e.$set(e.contextMenu,"shown",r)},expression:"contextMenu.shown"}},[t(Ee,[e.contextMenu.item.isDirectory?e._e():t(Y,{on:{click:function(r){return e.downloadFile(e.contextMenu.item.filename)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiCloudDownload))]),e._v(" "+e._s(e.$t("Timelapse.Download"))+" ")],1),e.contextMenu.item.isDirectory&&e.contextMenu.item.permissions.includes("w")?t(Y,{on:{click:function(r){return e.renameDirectory(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiRenameBox))]),e._v(" "+e._s(e.$t("Timelapse.Rename"))+" ")],1):e._e(),!e.contextMenu.item.isDirectory&&e.contextMenu.item.permissions.includes("w")?t(Y,{on:{click:function(r){return e.renameFile(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1"},[e._v(e._s(e.mdiRenameBox))]),e._v(" "+e._s(e.$t("Timelapse.Rename"))+" ")],1):e._e(),!e.contextMenu.item.isDirectory&&e.contextMenu.item.permissions.includes("w")?t(Y,{staticClass:"red--text",on:{click:function(r){e.deleteDialog=!0}}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("Timelapse.Delete"))+" ")],1):e._e(),e.contextMenu.item.isDirectory&&e.contextMenu.item.permissions.includes("w")?t(Y,{staticClass:"red--text",on:{click:function(r){return e.deleteDirectory(e.contextMenu.item)}}},[t(_,{staticClass:"mr-1",attrs:{color:"error"}},[e._v(e._s(e.mdiDelete))]),e._v(" "+e._s(e.$t("Timelapse.Delete"))+" ")],1):e._e()],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogRenameFile.show,callback:function(r){e.$set(e.dialogRenameFile,"show",r)},expression:"dialogRenameFile.show"}},[t(B,{attrs:{title:e.$t("Timelapse.RenameFile"),"card-class":"gcode-files-rename-file-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogRenameFile.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldRenameFile",attrs:{label:e.$t("Timelapse.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.renameFileAction.apply(null,arguments)}},model:{value:e.dialogRenameFile.newName,callback:function(r){e.$set(e.dialogRenameFile,"newName",r)},expression:"dialogRenameFile.newName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogRenameFile.show=!1}}},[e._v(e._s(e.$t("Timelapse.Cancel")))]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.renameFileAction}},[e._v(" "+e._s(e.$t("Timelapse.Rename"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogCreateDirectory.show,callback:function(r){e.$set(e.dialogCreateDirectory,"show",r)},expression:"dialogCreateDirectory.show"}},[t(B,{attrs:{title:e.$t("Timelapse.NewDirectory"),"card-class":"gcode-files-new-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogCreateDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldCreateDirectory",attrs:{label:e.$t("Timelapse.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keypress:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.createDirectoryAction.apply(null,arguments)}},model:{value:e.dialogCreateDirectory.name,callback:function(r){e.$set(e.dialogCreateDirectory,"name",r)},expression:"dialogCreateDirectory.name"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogCreateDirectory.show=!1}}},[e._v(" "+e._s(e.$t("Timelapse.Cancel"))+" ")]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.createDirectoryAction}},[e._v(" "+e._s(e.$t("Timelapse.Create"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogRenameDirectory.show,callback:function(r){e.$set(e.dialogRenameDirectory,"show",r)},expression:"dialogRenameDirectory.show"}},[t(B,{attrs:{title:e.$t("Timelapse.RenameDirectory"),"card-class":"gcode-files-rename-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogRenameDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(re,{ref:"inputFieldRenameDirectory",attrs:{label:e.$t("Timelapse.Name"),required:"",rules:e.nameInputRules},on:{"update:error":function(r){return e.isInvalidName=r},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.renameDirectoryAction.apply(null,arguments)}},model:{value:e.dialogRenameDirectory.newName,callback:function(r){e.$set(e.dialogRenameDirectory,"newName",r)},expression:"dialogRenameDirectory.newName"}})],1),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogRenameDirectory.show=!1}}},[e._v(" "+e._s(e.$t("Timelapse.Cancel"))+" ")]),t(g,{attrs:{disabled:e.isInvalidName,color:"primary",text:""},on:{click:e.renameDirectoryAction}},[e._v(" "+e._s(e.$t("Timelapse.Rename"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.dialogDeleteDirectory.show,callback:function(r){e.$set(e.dialogDeleteDirectory,"show",r)},expression:"dialogDeleteDirectory.show"}},[t(B,{attrs:{title:e.$t("Timelapse.DeleteDirectory"),"card-class":"gcode-files-delete-directory-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogDeleteDirectory.show=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Timelapse.DeleteDirectoryQuestion",{name:e.dialogDeleteDirectory.item.filename}))+" ")])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.dialogDeleteDirectory.show=!1}}},[e._v(" "+e._s(e.$t("Timelapse.Cancel"))+" ")]),t(g,{attrs:{color:"error",text:""},on:{click:e.deleteDirectoryAction}},[e._v(e._s(e.$t("Timelapse.Delete")))])],1)],1)],1),t(oe,{attrs:{"max-width":700},model:{value:e.boolVideoDialog,callback:function(r){e.boolVideoDialog=r},expression:"boolVideoDialog"}},[t(B,{attrs:{title:e.$t("Timelapse.Video"),icon:e.mdiFileVideo,"card-class":"timelapse-video-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.boolVideoDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{},[t(C,[t(v,{staticClass:"pb-0"},[t("video",{staticStyle:{width:"100%"},attrs:{src:e.apiUrl+"/server/files/"+e.videoDialogFilename,controls:""}},[e._v(" Sorry, your browser doesn't support embedded videos, but don't worry, you can "),t("a",{attrs:{href:e.apiUrl+"/server/files/"+e.videoDialogFilename}},[e._v("download it")]),e._v(" and watch it with your favorite video player! ")])])],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{text:"",color:"primary",href:e.apiUrl+"/server/files/"+e.videoDialogFilename,target:"_blank"}},[e._v(" "+e._s(e.$t("Timelapse.Download"))+" ")])],1)],1)],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(r){e.deleteDialog=r},expression:"deleteDialog"}},[t(B,{attrs:{title:e.$t("Timelapse.Delete"),"card-class":"timelapse-delete-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.deleteDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Timelapse.DeleteSingleFileQuestion",{name:e.contextMenu.item.filename}))+" ")])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.deleteDialog=!1}}},[e._v(" "+e._s(e.$t("Timelapse.Cancel"))+" ")]),t(g,{attrs:{color:"error",text:""},on:{click:e.removeFile}},[e._v(" "+e._s(e.$t("Timelapse.Delete"))+" ")])],1)],1)],1),t(oe,{attrs:{"max-width":"400"},model:{value:e.deleteSelectedDialog,callback:function(r){e.deleteSelectedDialog=r},expression:"deleteSelectedDialog"}},[t(B,{attrs:{title:e.$t("Timelapse.Delete"),"card-class":"timelapse-delete-selected-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.deleteSelectedDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e.selectedFiles.length===1?t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Timelapse.DeleteSingleFileQuestion",{name:e.selectedFiles[0].filename}))+" ")]):t("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.$t("Timelapse.DeleteSelectedQuestion",{count:e.selectedFiles.length}))+" ")])]),t(ae,[t(ie),t(g,{attrs:{color:"",text:""},on:{click:function(r){e.deleteSelectedDialog=!1}}},[e._v(e._s(e.$t("Timelapse.Cancel")))]),t(g,{attrs:{color:"error",text:""},on:{click:e.deleteSelectedFiles}},[e._v(e._s(e.$t("Timelapse.Delete")))])],1)],1)],1)],1)},qW=[];const s0={};var ZW=E(sp,zW,qW,!1,YW,"44906a44",null,null);function YW(e){for(let s in s0)this[s]=s0[s]}const aw=function(){return ZW.exports}();var XW=Object.defineProperty,JW=Object.getOwnPropertyDescriptor,KW=(e,s,t,r)=>{for(var i=r>1?void 0:r?JW(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&XW(s,t,i),i};let jc=class extends y{get variable_fps(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.variable_fps)!=null?t:!1}set variable_fps(e){this.$store.dispatch("server/timelapse/saveSetting",{variable_fps:e})}get variable_fps_min(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.variable_fps_min)!=null?t:5}set variable_fps_min(e){this.$store.dispatch("server/timelapse/saveSetting",{variable_fps_min:e})}get variable_fps_max(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.variable_fps_max)!=null?t:60}set variable_fps_max(e){this.$store.dispatch("server/timelapse/saveSetting",{variable_fps_max:e})}get targetlength(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.targetlength)!=null?t:10}set targetlength(e){this.$store.dispatch("server/timelapse/saveSetting",{targetlength:e})}get output_framerate(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.output_framerate)!=null?t:30}set output_framerate(e){this.$store.dispatch("server/timelapse/saveSetting",{output_framerate:e})}get duplicatelastframe(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.duplicatelastframe)!=null?t:0}set duplicatelastframe(e){this.$store.dispatch("server/timelapse/saveSetting",{duplicatelastframe:e})}get framesCount(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.lastFrame)==null?void 0:s.count)!=null?t:0}get estimatedVideoLength(){let e=Math.round((this.framesCount+this.duplicatelastframe)/this.output_framerate);return this.variable_fps&&(e=Math.round((this.framesCount+this.duplicatelastframe)/this.variableTargetFps),e<this.targetlength&&(e=this.targetlength)),e>60?Math.floor(e/60)+"m "+(e-Math.floor(e/60)*60)+"s":e+"s"}get variableTargetFps(){let e=Math.floor(this.framesCount/this.targetlength);return e=Math.max(e,this.variable_fps_min),e=Math.min(e,this.variable_fps_max),e}};jc=KW([w],jc);var QW=Object.defineProperty,ez=Object.getOwnPropertyDescriptor,ow=(e,s,t,r)=>{for(var i=r>1?void 0:r?ez(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&QW(s,t,i),i};let Ic=class extends M(O,jc){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiTextBoxSearchOutline=o$}get framerateTypeOptions(){return[{value:!1,text:this.$t("Timelapse.Fixed")},{value:!0,text:this.$t("Timelapse.Variable")}]}startRender(){this.$socket.emit("machine.timelapse.render",{}),this.close()}close(){this.$emit("close")}};ow([x({type:Boolean,default:!1})],Ic.prototype,"show",2);Ic=ow([w({components:{Panel:B,SettingsRow:U}})],Ic);var tz=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,"max-width":700,"max-height":500}},[t(B,{attrs:{title:e.$t("Timelapse.RenderSettings"),icon:e.mdiTextBoxSearchOutline,"card-class":"timelapse-rendersettings-dialog-panel","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{},[t(C,[t(v,{staticClass:"col-4"},[t(we,{attrs:{label:e.$t("Timelapse.Type"),items:e.framerateTypeOptions,outlined:"",dense:"","hide-details":""},model:{value:e.variable_fps,callback:function(r){e.variable_fps=r},expression:"variable_fps"}})],1),t(v,{staticClass:"col-4"},[e.variable_fps?[t(re,{attrs:{label:e.$t("Timelapse.MinFramerate"),type:"number",outlined:"",dense:"","hide-details":"","hide-spin-buttons":""},model:{value:e.variable_fps_min,callback:function(r){e.variable_fps_min=r},expression:"variable_fps_min"}}),t(re,{staticClass:"mt-3",attrs:{label:e.$t("Timelapse.MaxFramerate"),type:"number",outlined:"",dense:"","hide-details":"","hide-spin-buttons":""},model:{value:e.variable_fps_max,callback:function(r){e.variable_fps_max=r},expression:"variable_fps_max"}}),t(re,{staticClass:"mt-3",attrs:{label:e.$t("Timelapse.Targetlength"),type:"number",outlined:"",dense:"","hide-details":"","hide-spin-buttons":""},model:{value:e.targetlength,callback:function(r){e.targetlength=r},expression:"targetlength"}})]:t(re,{attrs:{label:e.$t("Timelapse.Framerate"),type:"number",outlined:"",dense:"","hide-details":"","hide-spin-buttons":""},model:{value:e.output_framerate,callback:function(r){e.output_framerate=r},expression:"output_framerate"}}),t(re,{staticClass:"mt-3",attrs:{label:e.$t("Timelapse.DuplicateLastframe"),type:"number",outlined:"",dense:"","hide-details":"","hide-spin-buttons":""},model:{value:e.duplicatelastframe,callback:function(r){e.duplicatelastframe=r},expression:"duplicatelastframe"}})],2),t(v,{staticClass:"col-4"},[e.variable_fps?t(re,{staticClass:"mb-3",attrs:{label:e.$t("Timelapse.TargetFps"),type:"number",outlined:"",dense:"","hide-details":"",readonly:""},model:{value:e.variableTargetFps,callback:function(r){e.variableTargetFps=r},expression:"variableTargetFps"}}):e._e(),t(re,{attrs:{label:e.$t("Timelapse.EstimatedLength"),outlined:"",dense:"","hide-details":"",readonly:""},model:{value:e.estimatedVideoLength,callback:function(r){e.estimatedVideoLength=r},expression:"estimatedVideoLength"}})],1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.close}},[e._v(e._s(e.$t("Timelapse.Cancel")))]),t(g,{attrs:{text:"",color:"primary"},on:{click:e.startRender}},[e._v(e._s(e.$t("Timelapse.StartRender")))])],1)],1)],1)},sz=[];const r0={};var rz=E(Ic,tz,sz,!1,iz,null,null,null);function iz(e){for(let s in r0)this[s]=r0[s]}const lw=function(){return rz.exports}();var nz=Object.defineProperty,az=Object.getOwnPropertyDescriptor,cw=(e,s,t,r)=>{for(var i=r>1?void 0:r?az(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&nz(s,t,i),i};let Nc=class extends M(O,jc,Pr){constructor(){super(...arguments),this.mdiInformation=It,this.mdiFile=Ks,this.mdiCloseThick=pe,this.boolDialogRendersettings=!1,this.scale=1}get frameUrl(){var s,t,r;const e=(r=(t=(s=this.$store.state.server.timelapse)==null?void 0:s.lastFrame)==null?void 0:t.file)!=null?r:null;return e?this.apiUrl+"/server/files/timelapse_frames/"+e:null}get enabled(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.enabled)!=null?t:!1}set enabled(e){this.$socket.emit("machine.timelapse.post_settings",{enabled:e},{action:"server/timelapse/initSettings"})}get autorender(){var e,s,t;return(t=(s=(e=this.$store.state.server.timelapse)==null?void 0:e.settings)==null?void 0:s.autorender)!=null?t:!1}set autorender(e){this.$socket.emit("machine.timelapse.post_settings",{autorender:e},{action:"server/timelapse/initSettings"})}get disableRenderButton(){var e,s;return((s=(e=this.$store.state.server.timelapse)==null?void 0:e.rendering.status)!=null?s:"")==="running"}get existsSnapshoturlInMoonrakerConfig(){return"snapshoturl"in this.$store.state.server.config.orig.timelapse}get moonrakerTimelapseConfig(){var e;return(e=this.$store.state.server.config.config.timelapse)!=null?e:{}}get camId(){var e;return(e=this.$store.state.server.timelapse.settings.camera)!=null?e:""}get camSettings(){return this.$store.getters["gui/webcams/getWebcam"](this.camId)}get webcamStyle(){var e,s,t,r,i;return this.existsSnapshoturlInMoonrakerConfig?{transform:this.generateTransform((e=this.moonrakerTimelapseConfig.flip_x)!=null?e:!1,(s=this.moonrakerTimelapseConfig.flip_y)!=null?s:!1,0)}:this.camSettings?{transform:this.generateTransform((t=this.camSettings.flip_horizontal)!=null?t:!1,(r=this.camSettings.flip_vertical)!=null?r:!1,(i=this.camSettings.rotation)!=null?i:0)}:{}}saveFrames(){this.$socket.emit("machine.timelapse.saveframes",{},{loading:"timelapse_saveframes"})}calcRatio(){this.scale=this.timelapsePreview.naturalHeight/this.timelapsePreview.naturalWidth,this.scale>1&&(this.scale=this.timelapsePreview.naturalWidth/this.timelapsePreview.naturalHeight)}};cw([Fs("timelapsePreview")],Nc.prototype,"timelapsePreview",2);Nc=cw([w({components:{TimelapseRenderingsettingsDialog:lw,Panel:B,SettingsRow:U}})],Nc);var oz=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{attrs:{title:e.$t("Timelapse.Status"),icon:e.mdiInformation,"card-class":"timelapse-status-panel"}},[e.framesCount?t(Z,[e.frameUrl?t(C,[t(v,{staticClass:"pb-0"},[t("vue-load-image",{staticClass:"d-flex align-center justify-center"},[t("img",{ref:"timelapsePreview",staticClass:"w-100",style:e.webcamStyle,attrs:{slot:"image",src:e.frameUrl,alt:e.$t("Timelapse.Preview").toString()},on:{load:e.calcRatio},slot:"image"}),t("div",{attrs:{slot:"preloader"},slot:"preloader"},[t(dt,{attrs:{indeterminate:"",color:"primary"}})],1),t("div",{attrs:{slot:"error"},slot:"error"},[t(_,[e._v(e._s(e.mdiFile))])],1)])],1)],1):e._e(),t(C,[t(v,{staticClass:"text--secondary"},[t(U,{attrs:{title:e.$t("Timelapse.Frames"),"dynamic-slot-width":!0}},[e._v(" "+e._s(e.framesCount)+" ")]),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Timelapse.EstimatedLength"),"dynamic-slot-width":!0}},[e._v(" "+e._s(e.estimatedVideoLength)+" ")]),["printing","paused"].includes(e.printer_state)?e._e():[t(H,{staticClass:"mt-2 mb-4"}),t(C,[t(v,{staticClass:"text-center py-1"},[t(g,{attrs:{text:"",color:"primary",disabled:e.disableRenderButton},on:{click:function(r){e.boolDialogRendersettings=!0}}},[e._v(" "+e._s(e.$t("Timelapse.Render"))+" ")]),t(g,{attrs:{text:"",color:"primary",loading:e.loadings.includes("timelapse_saveframes")},on:{click:e.saveFrames}},[e._v(" "+e._s(e.$t("Timelapse.SaveFrames"))+" ")])],1)],1)]],2)],1)],1):t(Z,{},[t("p",{staticClass:"text-center my-0 font-italic"},[e._v(e._s(e.$t("Timelapse.NoActiveTimelapse")))])]),["printing","paused"].includes(e.printer_state)?t(Z,{staticClass:"pt-0"},[t(H,{staticClass:"mt-0 mb-2"}),t(U,{attrs:{title:e.$t("Timelapse.Enabled"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.enabled,callback:function(r){e.enabled=r},expression:"enabled"}})],1),e.enabled?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Timelapse.Autorender"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.autorender,callback:function(r){e.autorender=r},expression:"autorender"}})],1)]:e._e()],2):e._e(),t(lw,{attrs:{show:e.boolDialogRendersettings},on:{close:function(r){e.boolDialogRendersettings=!1}}})],1)},lz=[];const i0={};var cz=E(Nc,oz,lz,!1,uz,null,null,null);function uz(e){for(let s in i0)this[s]=i0[s]}const uw=function(){return cz.exports}();var dz=Object.defineProperty,hz=Object.getOwnPropertyDescriptor,mz=(e,s,t,r)=>{for(var i=r>1?void 0:r?hz(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&dz(s,t,i),i};let rp=class extends M(O){};rp=mz([w({components:{TimelapseStatusPanel:uw,TimelapseFilesPanel:aw}})],rp);var pz=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,{staticClass:"col-12 col-md-8 pt-0 pt-md-3",attrs:{order:e.$vuetify.breakpoint.mdAndUp?"":"2"}},[t(aw)],1),t(v,{staticClass:"col-12 col-md-4",attrs:{order:e.$vuetify.breakpoint.mdAndUp?"":"1"}},[t(uw)],1)],1)},fz=[];const n0={};var gz=E(rp,pz,fz,!1,_z,null,null,null);function _z(e){for(let s in n0)this[s]=n0[s]}const vz=function(){return gz.exports}();var ip={exports:{}};const bz="2.0.0",dw=256,yz=Number.MAX_SAFE_INTEGER||9007199254740991,Cz=16,$z=dw-6,xz=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Hd={MAX_LENGTH:dw,MAX_SAFE_COMPONENT_LENGTH:Cz,MAX_SAFE_BUILD_LENGTH:$z,MAX_SAFE_INTEGER:yz,RELEASE_TYPES:xz,SEMVER_SPEC_VERSION:bz,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Sz=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var jd=Sz;(function(e,s){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Hd,n=jd;s=e.exports={};const a=s.re=[],o=s.safeRe=[],l=s.src=[],c=s.t={};let u=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[d,r]],m=f=>{for(const[b,$]of h)f=f.split("".concat(b,"*")).join("".concat(b,"{0,").concat($,"}")).split("".concat(b,"+")).join("".concat(b,"{1,").concat($,"}"));return f},p=(f,b,$)=>{const P=m(b),D=u++;n(f,D,b),c[f]=D,l[D]=b,a[D]=new RegExp(b,$?"g":void 0),o[D]=new RegExp(P,$?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(d,"*")),p("MAINVERSION","(".concat(l[c.NUMERICIDENTIFIER],")\\.")+"(".concat(l[c.NUMERICIDENTIFIER],")\\.")+"(".concat(l[c.NUMERICIDENTIFIER],")")),p("MAINVERSIONLOOSE","(".concat(l[c.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(l[c.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(l[c.NUMERICIDENTIFIERLOOSE],")")),p("PRERELEASEIDENTIFIER","(?:".concat(l[c.NUMERICIDENTIFIER],"|").concat(l[c.NONNUMERICIDENTIFIER],")")),p("PRERELEASEIDENTIFIERLOOSE","(?:".concat(l[c.NUMERICIDENTIFIERLOOSE],"|").concat(l[c.NONNUMERICIDENTIFIER],")")),p("PRERELEASE","(?:-(".concat(l[c.PRERELEASEIDENTIFIER],"(?:\\.").concat(l[c.PRERELEASEIDENTIFIER],")*))")),p("PRERELEASELOOSE","(?:-?(".concat(l[c.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(l[c.PRERELEASEIDENTIFIERLOOSE],")*))")),p("BUILDIDENTIFIER","".concat(d,"+")),p("BUILD","(?:\\+(".concat(l[c.BUILDIDENTIFIER],"(?:\\.").concat(l[c.BUILDIDENTIFIER],")*))")),p("FULLPLAIN","v?".concat(l[c.MAINVERSION]).concat(l[c.PRERELEASE],"?").concat(l[c.BUILD],"?")),p("FULL","^".concat(l[c.FULLPLAIN],"$")),p("LOOSEPLAIN","[v=\\s]*".concat(l[c.MAINVERSIONLOOSE]).concat(l[c.PRERELEASELOOSE],"?").concat(l[c.BUILD],"?")),p("LOOSE","^".concat(l[c.LOOSEPLAIN],"$")),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE","".concat(l[c.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),p("XRANGEIDENTIFIER","".concat(l[c.NUMERICIDENTIFIER],"|x|X|\\*")),p("XRANGEPLAIN","[v=\\s]*(".concat(l[c.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(l[c.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(l[c.XRANGEIDENTIFIER],")")+"(?:".concat(l[c.PRERELEASE],")?").concat(l[c.BUILD],"?")+")?)?"),p("XRANGEPLAINLOOSE","[v=\\s]*(".concat(l[c.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(l[c.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(l[c.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(l[c.PRERELEASELOOSE],")?").concat(l[c.BUILD],"?")+")?)?"),p("XRANGE","^".concat(l[c.GTLT],"\\s*").concat(l[c.XRANGEPLAIN],"$")),p("XRANGELOOSE","^".concat(l[c.GTLT],"\\s*").concat(l[c.XRANGEPLAINLOOSE],"$")),p("COERCE","(^|[^\\d])(\\d{1,".concat(t,"})")+"(?:\\.(\\d{1,".concat(t,"}))?")+"(?:\\.(\\d{1,".concat(t,"}))?")+"(?:$|[^\\d])"),p("COERCERTL",l[c.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM","(\\s*)".concat(l[c.LONETILDE],"\\s+"),!0),s.tildeTrimReplace="$1~",p("TILDE","^".concat(l[c.LONETILDE]).concat(l[c.XRANGEPLAIN],"$")),p("TILDELOOSE","^".concat(l[c.LONETILDE]).concat(l[c.XRANGEPLAINLOOSE],"$")),p("LONECARET","(?:\\^)"),p("CARETTRIM","(\\s*)".concat(l[c.LONECARET],"\\s+"),!0),s.caretTrimReplace="$1^",p("CARET","^".concat(l[c.LONECARET]).concat(l[c.XRANGEPLAIN],"$")),p("CARETLOOSE","^".concat(l[c.LONECARET]).concat(l[c.XRANGEPLAINLOOSE],"$")),p("COMPARATORLOOSE","^".concat(l[c.GTLT],"\\s*(").concat(l[c.LOOSEPLAIN],")$|^$")),p("COMPARATOR","^".concat(l[c.GTLT],"\\s*(").concat(l[c.FULLPLAIN],")$|^$")),p("COMPARATORTRIM","(\\s*)".concat(l[c.GTLT],"\\s*(").concat(l[c.LOOSEPLAIN],"|").concat(l[c.XRANGEPLAIN],")"),!0),s.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE","^\\s*(".concat(l[c.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(l[c.XRANGEPLAIN],")")+"\\s*$"),p("HYPHENRANGELOOSE","^\\s*(".concat(l[c.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(l[c.XRANGEPLAINLOOSE],")")+"\\s*$"),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ip,ip.exports);var Vo=ip.exports;const wz=Object.freeze({loose:!0}),Pz=Object.freeze({}),Tz=e=>e?typeof e!="object"?wz:e:Pz;var Ug=Tz;const a0=/^[0-9]+$/,hw=(e,s)=>{const t=a0.test(e),r=a0.test(s);return t&&r&&(e=+e,s=+s),e===s?0:t&&!r?-1:r&&!t?1:e<s?-1:1},Dz=(e,s)=>hw(s,e);var mw={compareIdentifiers:hw,rcompareIdentifiers:Dz};const il=jd,{MAX_LENGTH:o0,MAX_SAFE_INTEGER:nl}=Hd,{safeRe:l0,t:c0}=Vo,Mz=Ug,{compareIdentifiers:Li}=mw;let Ez=class Ts{constructor(s,t){if(t=Mz(t),s instanceof Ts){if(s.loose===!!t.loose&&s.includePrerelease===!!t.includePrerelease)return s;s=s.version}else if(typeof s!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof s,'".'));if(s.length>o0)throw new TypeError("version is longer than ".concat(o0," characters"));il("SemVer",s,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=s.trim().match(t.loose?l0[c0.LOOSE]:l0[c0.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(s));if(this.raw=s,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>nl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>nl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>nl||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const n=+i;if(n>=0&&n<nl)return n}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(s){if(il("SemVer.compare",this.version,this.options,s),!(s instanceof Ts)){if(typeof s=="string"&&s===this.version)return 0;s=new Ts(s,this.options)}return s.version===this.version?0:this.compareMain(s)||this.comparePre(s)}compareMain(s){return s instanceof Ts||(s=new Ts(s,this.options)),Li(this.major,s.major)||Li(this.minor,s.minor)||Li(this.patch,s.patch)}comparePre(s){if(s instanceof Ts||(s=new Ts(s,this.options)),this.prerelease.length&&!s.prerelease.length)return-1;if(!this.prerelease.length&&s.prerelease.length)return 1;if(!this.prerelease.length&&!s.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=s.prerelease[t];if(il("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Li(r,i)}while(++t)}compareBuild(s){s instanceof Ts||(s=new Ts(s,this.options));let t=0;do{const r=this.build[t],i=s.build[t];if(il("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Li(r,i)}while(++t)}inc(s,t,r){switch(s){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);if(n===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let n=[t,i];r===!1&&(n=[t]),Li(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error("invalid increment argument: ".concat(s))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};var Tt=Ez;const u0=Tt,Oz=(e,s,t=!1)=>{if(e instanceof u0)return e;try{return new u0(e,s)}catch(r){if(!t)return null;throw r}};var Rn=Oz;const Lz=Rn,Fz=(e,s)=>{const t=Lz(e,s);return t?t.version:null};var Az=Fz;const kz=Rn,Rz=(e,s)=>{const t=kz(e.trim().replace(/^[=v]+/,""),s);return t?t.version:null};var Hz=Rz;const d0=Tt,jz=(e,s,t,r,i)=>{typeof t=="string"&&(i=r,r=t,t=void 0);try{return new d0(e instanceof d0?e.version:e,t).inc(s,r,i).version}catch{return null}};var Iz=jz;const h0=Rn,Nz=(e,s)=>{const t=h0(e,null,!0),r=h0(s,null,!0),i=t.compare(r);if(i===0)return null;const n=i>0,a=n?t:r,o=n?r:t,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":a.patch?"patch":a.minor?"minor":"major";const u=l?"pre":"";return t.major!==r.major?u+"major":t.minor!==r.minor?u+"minor":t.patch!==r.patch?u+"patch":"prerelease"};var Vz=Nz;const Uz=Tt,Bz=(e,s)=>new Uz(e,s).major;var Gz=Bz;const Wz=Tt,zz=(e,s)=>new Wz(e,s).minor;var qz=zz;const Zz=Tt,Yz=(e,s)=>new Zz(e,s).patch;var Xz=Yz;const Jz=Rn,Kz=(e,s)=>{const t=Jz(e,s);return t&&t.prerelease.length?t.prerelease:null};var Qz=Kz;const m0=Tt,eq=(e,s,t)=>new m0(e,t).compare(new m0(s,t));var Cs=eq;const tq=Cs,sq=(e,s,t)=>tq(s,e,t);var rq=sq;const iq=Cs,nq=(e,s)=>iq(e,s,!0);var aq=nq;const p0=Tt,oq=(e,s,t)=>{const r=new p0(e,t),i=new p0(s,t);return r.compare(i)||r.compareBuild(i)};var Bg=oq;const lq=Bg,cq=(e,s)=>e.sort((t,r)=>lq(t,r,s));var uq=cq;const dq=Bg,hq=(e,s)=>e.sort((t,r)=>dq(r,t,s));var mq=hq;const pq=Cs,fq=(e,s,t)=>pq(e,s,t)>0;var Id=fq;const gq=Cs,_q=(e,s,t)=>gq(e,s,t)<0;var Gg=_q;const vq=Cs,bq=(e,s,t)=>vq(e,s,t)===0;var pw=bq;const yq=Cs,Cq=(e,s,t)=>yq(e,s,t)!==0;var fw=Cq;const $q=Cs,xq=(e,s,t)=>$q(e,s,t)>=0;var Wg=xq;const Sq=Cs,wq=(e,s,t)=>Sq(e,s,t)<=0;var zg=wq;const Pq=pw,Tq=fw,Dq=Id,Mq=Wg,Eq=Gg,Oq=zg,Lq=(e,s,t,r)=>{switch(s){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return Pq(e,t,r);case"!=":return Tq(e,t,r);case">":return Dq(e,t,r);case">=":return Mq(e,t,r);case"<":return Eq(e,t,r);case"<=":return Oq(e,t,r);default:throw new TypeError("Invalid operator: ".concat(s))}};var gw=Lq;const Fq=Tt,Aq=Rn,{safeRe:al,t:ol}=Vo,kq=(e,s)=>{if(e instanceof Fq)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;s=s||{};let t=null;if(!s.rtl)t=e.match(al[ol.COERCE]);else{let r;for(;(r=al[ol.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||r.index+r[0].length!==t.index+t[0].length)&&(t=r),al[ol.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;al[ol.COERCERTL].lastIndex=-1}return t===null?null:Aq("".concat(t[2],".").concat(t[3]||"0",".").concat(t[4]||"0"),s)};var Rq=kq,Lh,f0;function Hq(){return f0||(f0=1,Lh=function(e){e.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}),Lh}var jq=Fe;Fe.Node=fi;Fe.create=Fe;function Fe(e){var s=this;if(s instanceof Fe||(s=new Fe),s.tail=null,s.head=null,s.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){s.push(i)});else if(arguments.length>0)for(var t=0,r=arguments.length;t<r;t++)s.push(arguments[t]);return s}Fe.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var s=e.next,t=e.prev;return s&&(s.prev=t),t&&(t.next=s),e===this.head&&(this.head=s),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,s};Fe.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var s=this.head;e.list=this,e.next=s,s&&(s.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Fe.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var s=this.tail;e.list=this,e.prev=s,s&&(s.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Fe.prototype.push=function(){for(var e=0,s=arguments.length;e<s;e++)Nq(this,arguments[e]);return this.length};Fe.prototype.unshift=function(){for(var e=0,s=arguments.length;e<s;e++)Vq(this,arguments[e]);return this.length};Fe.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Fe.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Fe.prototype.forEach=function(e,s){s=s||this;for(var t=this.head,r=0;t!==null;r++)e.call(s,t.value,r,this),t=t.next};Fe.prototype.forEachReverse=function(e,s){s=s||this;for(var t=this.tail,r=this.length-1;t!==null;r--)e.call(s,t.value,r,this),t=t.prev};Fe.prototype.get=function(e){for(var s=0,t=this.head;t!==null&&s<e;s++)t=t.next;if(s===e&&t!==null)return t.value};Fe.prototype.getReverse=function(e){for(var s=0,t=this.tail;t!==null&&s<e;s++)t=t.prev;if(s===e&&t!==null)return t.value};Fe.prototype.map=function(e,s){s=s||this;for(var t=new Fe,r=this.head;r!==null;)t.push(e.call(s,r.value,this)),r=r.next;return t};Fe.prototype.mapReverse=function(e,s){s=s||this;for(var t=new Fe,r=this.tail;r!==null;)t.push(e.call(s,r.value,this)),r=r.prev;return t};Fe.prototype.reduce=function(e,s){var t,r=this.head;if(arguments.length>1)t=s;else if(this.head)r=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)t=e(t,r.value,i),r=r.next;return t};Fe.prototype.reduceReverse=function(e,s){var t,r=this.tail;if(arguments.length>1)t=s;else if(this.tail)r=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)t=e(t,r.value,i),r=r.prev;return t};Fe.prototype.toArray=function(){for(var e=new Array(this.length),s=0,t=this.head;t!==null;s++)e[s]=t.value,t=t.next;return e};Fe.prototype.toArrayReverse=function(){for(var e=new Array(this.length),s=0,t=this.tail;t!==null;s++)e[s]=t.value,t=t.prev;return e};Fe.prototype.slice=function(e,s){s=s||this.length,s<0&&(s+=this.length),e=e||0,e<0&&(e+=this.length);var t=new Fe;if(s<e||s<0)return t;e<0&&(e=0),s>this.length&&(s=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<s;r++,i=i.next)t.push(i.value);return t};Fe.prototype.sliceReverse=function(e,s){s=s||this.length,s<0&&(s+=this.length),e=e||0,e<0&&(e+=this.length);var t=new Fe;if(s<e||s<0)return t;e<0&&(e=0),s>this.length&&(s=this.length);for(var r=this.length,i=this.tail;i!==null&&r>s;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)t.push(i.value);return t};Fe.prototype.splice=function(e,s,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var n=[],r=0;i&&r<s;r++)n.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<t.length;r++)i=Iq(this,i,t[r]);return n};Fe.prototype.reverse=function(){for(var e=this.head,s=this.tail,t=e;t!==null;t=t.prev){var r=t.prev;t.prev=t.next,t.next=r}return this.head=s,this.tail=e,this};function Iq(e,s,t){var r=s===e.head?new fi(t,null,s,e):new fi(t,s,s.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function Nq(e,s){e.tail=new fi(s,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Vq(e,s){e.head=new fi(s,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function fi(e,s,t,r){if(!(this instanceof fi))return new fi(e,s,t,r);this.list=r,this.value=e,s?(s.next=this,this.prev=s):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Hq()(Fe)}catch{}const Uq=jq,Br=Symbol("max"),Is=Symbol("length"),Fi=Symbol("lengthCalculator"),pa=Symbol("allowStale"),Yr=Symbol("maxAge"),Hs=Symbol("dispose"),g0=Symbol("noDisposeOnSet"),ct=Symbol("lruList"),us=Symbol("cache"),_w=Symbol("updateAgeOnGet"),Fh=()=>1;class Bq{constructor(s){if(typeof s=="number"&&(s={max:s}),s||(s={}),s.max&&(typeof s.max!="number"||s.max<0))throw new TypeError("max must be a non-negative number");this[Br]=s.max||1/0;const t=s.length||Fh;if(this[Fi]=typeof t!="function"?Fh:t,this[pa]=s.stale||!1,s.maxAge&&typeof s.maxAge!="number")throw new TypeError("maxAge must be a number");this[Yr]=s.maxAge||0,this[Hs]=s.dispose,this[g0]=s.noDisposeOnSet||!1,this[_w]=s.updateAgeOnGet||!1,this.reset()}set max(s){if(typeof s!="number"||s<0)throw new TypeError("max must be a non-negative number");this[Br]=s||1/0,qn(this)}get max(){return this[Br]}set allowStale(s){this[pa]=!!s}get allowStale(){return this[pa]}set maxAge(s){if(typeof s!="number")throw new TypeError("maxAge must be a non-negative number");this[Yr]=s,qn(this)}get maxAge(){return this[Yr]}set lengthCalculator(s){typeof s!="function"&&(s=Fh),s!==this[Fi]&&(this[Fi]=s,this[Is]=0,this[ct].forEach(t=>{t.length=this[Fi](t.value,t.key),this[Is]+=t.length})),qn(this)}get lengthCalculator(){return this[Fi]}get length(){return this[Is]}get itemCount(){return this[ct].length}rforEach(s,t){t=t||this;for(let r=this[ct].tail;r!==null;){const i=r.prev;_0(this,s,r,t),r=i}}forEach(s,t){t=t||this;for(let r=this[ct].head;r!==null;){const i=r.next;_0(this,s,r,t),r=i}}keys(){return this[ct].toArray().map(s=>s.key)}values(){return this[ct].toArray().map(s=>s.value)}reset(){this[Hs]&&this[ct]&&this[ct].length&&this[ct].forEach(s=>this[Hs](s.key,s.value)),this[us]=new Map,this[ct]=new Uq,this[Is]=0}dump(){return this[ct].map(s=>Vc(this,s)?!1:{k:s.key,v:s.value,e:s.now+(s.maxAge||0)}).toArray().filter(s=>s)}dumpLru(){return this[ct]}set(s,t,r){if(r=r||this[Yr],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,n=this[Fi](t,s);if(this[us].has(s)){if(n>this[Br])return Gi(this,this[us].get(s)),!1;const l=this[us].get(s).value;return this[Hs]&&(this[g0]||this[Hs](s,l.value)),l.now=i,l.maxAge=r,l.value=t,this[Is]+=n-l.length,l.length=n,this.get(s),qn(this),!0}const a=new Gq(s,t,n,i,r);return a.length>this[Br]?(this[Hs]&&this[Hs](s,t),!1):(this[Is]+=a.length,this[ct].unshift(a),this[us].set(s,this[ct].head),qn(this),!0)}has(s){if(!this[us].has(s))return!1;const t=this[us].get(s).value;return!Vc(this,t)}get(s){return Ah(this,s,!0)}peek(s){return Ah(this,s,!1)}pop(){const s=this[ct].tail;return s?(Gi(this,s),s.value):null}del(s){Gi(this,this[us].get(s))}load(s){this.reset();const t=Date.now();for(let r=s.length-1;r>=0;r--){const i=s[r],n=i.e||0;if(n===0)this.set(i.k,i.v);else{const a=n-t;a>0&&this.set(i.k,i.v,a)}}}prune(){this[us].forEach((s,t)=>Ah(this,t,!1))}}const Ah=(e,s,t)=>{const r=e[us].get(s);if(r){const i=r.value;if(Vc(e,i)){if(Gi(e,r),!e[pa])return}else t&&(e[_w]&&(r.value.now=Date.now()),e[ct].unshiftNode(r));return i.value}},Vc=(e,s)=>{if(!s||!s.maxAge&&!e[Yr])return!1;const t=Date.now()-s.now;return s.maxAge?t>s.maxAge:e[Yr]&&t>e[Yr]},qn=e=>{if(e[Is]>e[Br])for(let s=e[ct].tail;e[Is]>e[Br]&&s!==null;){const t=s.prev;Gi(e,s),s=t}},Gi=(e,s)=>{if(s){const t=s.value;e[Hs]&&e[Hs](t.key,t.value),e[Is]-=t.length,e[us].delete(t.key),e[ct].removeNode(s)}};class Gq{constructor(s,t,r,i,n){this.key=s,this.value=t,this.length=r,this.now=i,this.maxAge=n||0}}const _0=(e,s,t,r)=>{let i=t.value;Vc(e,i)&&(Gi(e,t),e[pa]||(i=void 0)),i&&s.call(r,i.value,i.key,e)};var Wq=Bq,kh,v0;function $s(){if(v0)return kh;v0=1;class e{constructor(W,X){if(X=r(X),W instanceof e)return W.loose===!!X.loose&&W.includePrerelease===!!X.includePrerelease?W:new e(W.raw,X);if(W instanceof i)return this.raw=W.value,this.set=[[W]],this.format(),this;if(this.options=X,this.loose=!!X.loose,this.includePrerelease=!!X.includePrerelease,this.raw=W.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(J=>this.parseRange(J.trim())).filter(J=>J.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){const J=this.set[0];if(this.set=this.set.filter(ee=>!p(ee[0])),this.set.length===0)this.set=[J];else if(this.set.length>1){for(const ee of this.set)if(ee.length===1&&f(ee[0])){this.set=[ee];break}}}this.format()}format(){return this.range=this.set.map(W=>W.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(W){const J=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+W,ee=t.get(J);if(ee)return ee;const te=this.options.loose,j=te?o[l.HYPHENRANGELOOSE]:o[l.HYPHENRANGE];W=W.replace(j,q(this.options.includePrerelease)),n("hyphen replace",W),W=W.replace(o[l.COMPARATORTRIM],c),n("comparator trim",W),W=W.replace(o[l.TILDETRIM],u),n("tilde trim",W),W=W.replace(o[l.CARETTRIM],d),n("caret trim",W);let z=W.split(" ").map(Q=>$(Q,this.options)).join(" ").split(/\s+/).map(Q=>G(Q,this.options));te&&(z=z.filter(Q=>(n("loose invalid filter",Q,this.options),!!Q.match(o[l.COMPARATORLOOSE])))),n("range list",z);const T=new Map,A=z.map(Q=>new i(Q,this.options));for(const Q of A){if(p(Q))return[Q];T.set(Q.value,Q)}T.size>1&&T.has("")&&T.delete("");const V=[...T.values()];return t.set(J,V),V}intersects(W,X){if(!(W instanceof e))throw new TypeError("a Range is required");return this.set.some(J=>b(J,X)&&W.set.some(ee=>b(ee,X)&&J.every(te=>ee.every(j=>te.intersects(j,X)))))}test(W){if(!W)return!1;if(typeof W=="string")try{W=new a(W,this.options)}catch{return!1}for(let X=0;X<this.set.length;X++)if(se(this.set[X],W,this.options))return!0;return!1}}kh=e;const s=Wq,t=new s({max:1e3}),r=Ug,i=Nd(),n=jd,a=Tt,{safeRe:o,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:d}=Vo,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=Hd,p=F=>F.value==="<0.0.0-0",f=F=>F.value==="",b=(F,W)=>{let X=!0;const J=F.slice();let ee=J.pop();for(;X&&J.length;)X=J.every(te=>ee.intersects(te,W)),ee=J.pop();return X},$=(F,W)=>(n("comp",F,W),F=k(F,W),n("caret",F),F=D(F,W),n("tildes",F),F=L(F,W),n("xrange",F),F=N(F,W),n("stars",F),F),P=F=>!F||F.toLowerCase()==="x"||F==="*",D=(F,W)=>F.trim().split(/\s+/).map(X=>R(X,W)).join(" "),R=(F,W)=>{const X=W.loose?o[l.TILDELOOSE]:o[l.TILDE];return F.replace(X,(J,ee,te,j,z)=>{n("tilde",F,J,ee,te,j,z);let T;return P(ee)?T="":P(te)?T=">=".concat(ee,".0.0 <").concat(+ee+1,".0.0-0"):P(j)?T=">=".concat(ee,".").concat(te,".0 <").concat(ee,".").concat(+te+1,".0-0"):z?(n("replaceTilde pr",z),T=">=".concat(ee,".").concat(te,".").concat(j,"-").concat(z," <").concat(ee,".").concat(+te+1,".0-0")):T=">=".concat(ee,".").concat(te,".").concat(j," <").concat(ee,".").concat(+te+1,".0-0"),n("tilde return",T),T})},k=(F,W)=>F.trim().split(/\s+/).map(X=>S(X,W)).join(" "),S=(F,W)=>{n("caret",F,W);const X=W.loose?o[l.CARETLOOSE]:o[l.CARET],J=W.includePrerelease?"-0":"";return F.replace(X,(ee,te,j,z,T)=>{n("caret",F,ee,te,j,z,T);let A;return P(te)?A="":P(j)?A=">=".concat(te,".0.0").concat(J," <").concat(+te+1,".0.0-0"):P(z)?te==="0"?A=">=".concat(te,".").concat(j,".0").concat(J," <").concat(te,".").concat(+j+1,".0-0"):A=">=".concat(te,".").concat(j,".0").concat(J," <").concat(+te+1,".0.0-0"):T?(n("replaceCaret pr",T),te==="0"?j==="0"?A=">=".concat(te,".").concat(j,".").concat(z,"-").concat(T," <").concat(te,".").concat(j,".").concat(+z+1,"-0"):A=">=".concat(te,".").concat(j,".").concat(z,"-").concat(T," <").concat(te,".").concat(+j+1,".0-0"):A=">=".concat(te,".").concat(j,".").concat(z,"-").concat(T," <").concat(+te+1,".0.0-0")):(n("no pr"),te==="0"?j==="0"?A=">=".concat(te,".").concat(j,".").concat(z).concat(J," <").concat(te,".").concat(j,".").concat(+z+1,"-0"):A=">=".concat(te,".").concat(j,".").concat(z).concat(J," <").concat(te,".").concat(+j+1,".0-0"):A=">=".concat(te,".").concat(j,".").concat(z," <").concat(+te+1,".0.0-0")),n("caret return",A),A})},L=(F,W)=>(n("replaceXRanges",F,W),F.split(/\s+/).map(X=>I(X,W)).join(" ")),I=(F,W)=>{F=F.trim();const X=W.loose?o[l.XRANGELOOSE]:o[l.XRANGE];return F.replace(X,(J,ee,te,j,z,T)=>{n("xRange",F,J,ee,te,j,z,T);const A=P(te),V=A||P(j),Q=V||P(z),le=Q;return ee==="="&&le&&(ee=""),T=W.includePrerelease?"-0":"",A?ee===">"||ee==="<"?J="<0.0.0-0":J="*":ee&&le?(V&&(j=0),z=0,ee===">"?(ee=">=",V?(te=+te+1,j=0,z=0):(j=+j+1,z=0)):ee==="<="&&(ee="<",V?te=+te+1:j=+j+1),ee==="<"&&(T="-0"),J="".concat(ee+te,".").concat(j,".").concat(z).concat(T)):V?J=">=".concat(te,".0.0").concat(T," <").concat(+te+1,".0.0-0"):Q&&(J=">=".concat(te,".").concat(j,".0").concat(T," <").concat(te,".").concat(+j+1,".0-0")),n("xRange return",J),J})},N=(F,W)=>(n("replaceStars",F,W),F.trim().replace(o[l.STAR],"")),G=(F,W)=>(n("replaceGTE0",F,W),F.trim().replace(o[W.includePrerelease?l.GTE0PRE:l.GTE0],"")),q=F=>(W,X,J,ee,te,j,z,T,A,V,Q,le,he)=>(P(J)?X="":P(ee)?X=">=".concat(J,".0.0").concat(F?"-0":""):P(te)?X=">=".concat(J,".").concat(ee,".0").concat(F?"-0":""):j?X=">=".concat(X):X=">=".concat(X).concat(F?"-0":""),P(A)?T="":P(V)?T="<".concat(+A+1,".0.0-0"):P(Q)?T="<".concat(A,".").concat(+V+1,".0-0"):le?T="<=".concat(A,".").concat(V,".").concat(Q,"-").concat(le):F?T="<".concat(A,".").concat(V,".").concat(+Q+1,"-0"):T="<=".concat(T),"".concat(X," ").concat(T).trim()),se=(F,W,X)=>{for(let J=0;J<F.length;J++)if(!F[J].test(W))return!1;if(W.prerelease.length&&!X.includePrerelease){for(let J=0;J<F.length;J++)if(n(F[J].semver),F[J].semver!==i.ANY&&F[J].semver.prerelease.length>0){const ee=F[J].semver;if(ee.major===W.major&&ee.minor===W.minor&&ee.patch===W.patch)return!0}return!1}return!0};return kh}var Rh,b0;function Nd(){if(b0)return Rh;b0=1;const e=Symbol("SemVer ANY");class s{static get ANY(){return e}constructor(u,d){if(d=t(d),u instanceof s){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=u.match(d);if(!h)throw new TypeError("Invalid comparator: ".concat(u));this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return n(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof s))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=t(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||n(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||n(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Rh=s;const t=Ug,{safeRe:r,t:i}=Vo,n=gw,a=jd,o=Tt,l=$s();return Rh}const zq=$s(),qq=(e,s,t)=>{try{s=new zq(s,t)}catch{return!1}return s.test(e)};var Vd=qq;const Zq=$s(),Yq=(e,s)=>new Zq(e,s).set.map(t=>t.map(r=>r.value).join(" ").trim().split(" "));var Xq=Yq;const Jq=Tt,Kq=$s(),Qq=(e,s,t)=>{let r=null,i=null,n=null;try{n=new Kq(s,t)}catch{return null}return e.forEach(a=>{n.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new Jq(r,t))}),r};var eZ=Qq;const tZ=Tt,sZ=$s(),rZ=(e,s,t)=>{let r=null,i=null,n=null;try{n=new sZ(s,t)}catch{return null}return e.forEach(a=>{n.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new tZ(r,t))}),r};var iZ=rZ;const Hh=Tt,nZ=$s(),y0=Id,aZ=(e,s)=>{e=new nZ(e,s);let t=new Hh("0.0.0");if(e.test(t)||(t=new Hh("0.0.0-0"),e.test(t)))return t;t=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let n=null;i.forEach(a=>{const o=new Hh(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!n||y0(o,n))&&(n=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(a.operator))}}),n&&(!t||y0(t,n))&&(t=n)}return t&&e.test(t)?t:null};var oZ=aZ;const lZ=$s(),cZ=(e,s)=>{try{return new lZ(e,s).range||"*"}catch{return null}};var uZ=cZ;const dZ=Tt,vw=Nd(),{ANY:hZ}=vw,mZ=$s(),pZ=Vd,C0=Id,$0=Gg,fZ=zg,gZ=Wg,_Z=(e,s,t,r)=>{e=new dZ(e,r),s=new mZ(s,r);let i,n,a,o,l;switch(t){case">":i=C0,n=fZ,a=$0,o=">",l=">=";break;case"<":i=$0,n=gZ,a=C0,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pZ(e,s,r))return!1;for(let c=0;c<s.set.length;++c){const u=s.set[c];let d=null,h=null;if(u.forEach(m=>{m.semver===hZ&&(m=new vw(">=0.0.0")),d=d||m,h=h||m,i(m.semver,d.semver,r)?d=m:a(m.semver,h.semver,r)&&(h=m)}),d.operator===o||d.operator===l||(!h.operator||h.operator===o)&&n(e,h.semver))return!1;if(h.operator===l&&a(e,h.semver))return!1}return!0};var qg=_Z;const vZ=qg,bZ=(e,s,t)=>vZ(e,s,">",t);var yZ=bZ;const CZ=qg,$Z=(e,s,t)=>CZ(e,s,"<",t);var xZ=$Z;const x0=$s(),SZ=(e,s,t)=>(e=new x0(e,t),s=new x0(s,t),e.intersects(s,t));var wZ=SZ;const PZ=Vd,TZ=Cs;var DZ=(e,s,t)=>{const r=[];let i=null,n=null;const a=e.sort((u,d)=>TZ(u,d,t));for(const u of a)PZ(u,s,t)?(n=u,i||(i=u)):(n&&r.push([i,n]),n=null,i=null);i&&r.push([i,null]);const o=[];for(const[u,d]of r)u===d?o.push(u):!d&&u===a[0]?o.push("*"):d?u===a[0]?o.push("<=".concat(d)):o.push("".concat(u," - ").concat(d)):o.push(">=".concat(u));const l=o.join(" || "),c=typeof s.raw=="string"?s.raw:String(s);return l.length<c.length?l:s};const S0=$s(),Zg=Nd(),{ANY:jh}=Zg,Zn=Vd,Yg=Cs,MZ=(e,s,t={})=>{if(e===s)return!0;e=new S0(e,t),s=new S0(s,t);let r=!1;e:for(const i of e.set){for(const n of s.set){const a=OZ(i,n,t);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},EZ=[new Zg(">=0.0.0-0")],w0=[new Zg(">=0.0.0")],OZ=(e,s,t)=>{if(e===s)return!0;if(e.length===1&&e[0].semver===jh){if(s.length===1&&s[0].semver===jh)return!0;t.includePrerelease?e=EZ:e=w0}if(s.length===1&&s[0].semver===jh){if(t.includePrerelease)return!0;s=w0}const r=new Set;let i,n;for(const m of e)m.operator===">"||m.operator===">="?i=P0(i,m,t):m.operator==="<"||m.operator==="<="?n=T0(n,m,t):r.add(m.semver);if(r.size>1)return null;let a;if(i&&n){if(a=Yg(i.semver,n.semver,t),a>0)return null;if(a===0&&(i.operator!==">="||n.operator!=="<="))return null}for(const m of r){if(i&&!Zn(m,String(i),t)||n&&!Zn(m,String(n),t))return null;for(const p of s)if(!Zn(m,String(p),t))return!1;return!0}let o,l,c,u,d=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1,h=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&n.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const m of s){if(u=u||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(o=P0(i,m,t),o===m&&o!==i)return!1}else if(i.operator===">="&&!Zn(i.semver,String(m),t))return!1}if(n){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(l=T0(n,m,t),l===m&&l!==n)return!1}else if(n.operator==="<="&&!Zn(n.semver,String(m),t))return!1}if(!m.operator&&(n||i)&&a!==0)return!1}return!(i&&c&&!n&&a!==0||n&&u&&!i&&a!==0||h||d)},P0=(e,s,t)=>{if(!e)return s;const r=Yg(e.semver,s.semver,t);return r>0?e:r<0||s.operator===">"&&e.operator===">="?s:e},T0=(e,s,t)=>{if(!e)return s;const r=Yg(e.semver,s.semver,t);return r<0?e:r>0||s.operator==="<"&&e.operator==="<="?s:e};var LZ=MZ;const Ih=Vo,D0=Hd,FZ=Tt,M0=mw,AZ=Rn,kZ=Az,RZ=Hz,HZ=Iz,jZ=Vz,IZ=Gz,NZ=qz,VZ=Xz,UZ=Qz,BZ=Cs,GZ=rq,WZ=aq,zZ=Bg,qZ=uq,ZZ=mq,YZ=Id,XZ=Gg,JZ=pw,KZ=fw,QZ=Wg,eY=zg,tY=gw,sY=Rq,rY=Nd(),iY=$s(),nY=Vd,aY=Xq,oY=eZ,lY=iZ,cY=oZ,uY=uZ,dY=qg,hY=yZ,mY=xZ,pY=wZ,fY=DZ,gY=LZ;var _Y={parse:AZ,valid:kZ,clean:RZ,inc:HZ,diff:jZ,major:IZ,minor:NZ,patch:VZ,prerelease:UZ,compare:BZ,rcompare:GZ,compareLoose:WZ,compareBuild:zZ,sort:qZ,rsort:ZZ,gt:YZ,lt:XZ,eq:JZ,neq:KZ,gte:QZ,lte:eY,cmp:tY,coerce:sY,Comparator:rY,Range:iY,satisfies:nY,toComparators:aY,maxSatisfying:oY,minSatisfying:lY,minVersion:cY,validRange:uY,outside:dY,gtr:hY,ltr:mY,intersects:pY,simplifyRange:fY,subset:gY,SemVer:FZ,re:Ih.re,src:Ih.src,tokens:Ih.t,SEMVER_SPEC_VERSION:D0.SEMVER_SPEC_VERSION,RELEASE_TYPES:D0.RELEASE_TYPES,compareIdentifiers:M0.compareIdentifiers,rcompareIdentifiers:M0.rcompareIdentifiers};const nt=Pn(_Y);var vY=Object.defineProperty,bY=Object.getOwnPropertyDescriptor,Xg=(e,s,t,r)=>{for(var i=r>1?void 0:r?bY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&vY(s,t,i),i};let qa=class extends M(O){constructor(){super(...arguments),this.mdiDotsHorizontal=i5,this.showDetails=!1}get title(){return this.commit.subject}get message(){return this.commit.message}get author(){return this.commit.author}get commitFormatDate(){const e=new Date(this.commit.date*1e3);e.setHours(0,0,0,0);const s=new Date;s.setHours(0,0,0,0);const t=Math.floor((s.getTime()-e.getTime())/(1e3*60*60*24));if(t===0){const r=Math.floor((new Date().getTime()-this.commit.date*1e3)/36e5);return this.$t("Machine.UpdatePanel.CommittedHoursAgo",{hours:r})}else return t===1?this.$t("Machine.UpdatePanel.CommittedYesterday"):t<29?this.$t("Machine.UpdatePanel.CommittedDaysAgo",{days:t}):this.$t("Machine.UpdatePanel.CommittedOnDate",{date:e.toLocaleDateString(this.browserLocale,{year:"numeric",month:"short",day:"numeric"})})}get repo_name(){var e,s;return(s=(e=this.repo.repo_name)!=null?e:this.repo.name)!=null?s:""}get commitHref(){return"https://github.com/".concat(this.repo.owner,"/").concat(this.repo_name,"/commit/").concat(this.commit.sha)}get commitShortSha(){return this.commit.sha.substring(0,6)}};Xg([x({required:!0})],qa.prototype,"commit",2);Xg([x({required:!0})],qa.prototype,"repo",2);qa=Xg([w({components:{Panel:B}})],qa);var yY=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"commit px-3 py-2"},[t(C,{staticClass:"flex-column flex-sm-row"},[t(v,[t("h4",{staticClass:"subtitle-2 text--white mb-0"},[e._v(" "+e._s(e.title)+" "),t(fs,{staticClass:"ml-2 px-2",attrs:{outlined:"",label:"","x-small":""},on:{click:function(r){e.showDetails=!e.showDetails}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDotsHorizontal))])],1)],1),e.showDetails?t("p",{staticClass:"caption text--secondary mb-2",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(e.message)}}):e._e(),t("p",{staticClass:"caption mb-0"},[t("span",{staticClass:"font-weight-bold text-decoration-none white--text"},[e._v(" "+e._s(e.author)+" ")]),t("span",[e._v(e._s(e.commitFormatDate))])])]),t(v,{staticClass:"col-auto pt-0 pt-sm-4"},[t(fs,{attrs:{outlined:"",label:"",small:"",href:e.commitHref,target:"_blank"}},[e._v(" "+e._s(e.commitShortSha)+" ")])],1)],1)],1)},CY=[];const E0={};var $Y=E(qa,yY,CY,!1,xY,"f0d97490",null,null);function xY(e){for(let s in E0)this[s]=E0[s]}const bw=function(){return $Y.exports}();var SY=Object.defineProperty,wY=Object.getOwnPropertyDescriptor,Jg=(e,s,t,r)=>{for(var i=r>1?void 0:r?wY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&SY(s,t,i),i};let Za=class extends M(O){get groupedCommitsDate(){return new Date(this.groupedCommits.date).toLocaleDateString(this.browserLocale,{year:"numeric",month:"short",day:"numeric"})}};Jg([x({required:!0})],Za.prototype,"groupedCommits",2);Jg([x({required:!0})],Za.prototype,"repo",2);Za=Jg([w({components:{Panel:B,GitCommitsListDayCommit:bw}})],Za);var PY=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(ga,{staticClass:"git-commit-list-day",attrs:{small:""}},[t(C,{staticClass:"pt-0"},[t(v,{staticClass:"pr-12"},[t("h3",{staticClass:"caption"},[e._v(" "+e._s(e.$t("Machine.UpdatePanel.CommitsOnDate",{date:e.groupedCommitsDate}))+" ")]),t("ul",{staticClass:"commits mt-3 pl-0"},e._l(e.groupedCommits.commits,function(r){return t(bw,{key:r.sha,attrs:{commit:r,repo:e.repo}})}),1)])],1)],1)],1)},TY=[];const O0={};var DY=E(Za,PY,TY,!1,MY,"0afc8caa",null,null);function MY(e){for(let s in O0)this[s]=O0[s]}const Uo=function(){return DY.exports}();var EY=Object.defineProperty,OY=Object.getOwnPropertyDescriptor,Kg=(e,s,t,r)=>{for(var i=r>1?void 0:r?OY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&EY(s,t,i),i};let Ya=class extends M(O){constructor(){super(...arguments),this.mdiUpdate=So,this.mdiCloseThick=pe}get commitsBehind(){var e,s;return(s=(e=this.repo)==null?void 0:e.commits_behind)!=null?s:[]}get groupedCommits(){let e=[],s=null;return this.commitsBehind.forEach(t=>{var n;const r=new Date(((n=s==null?void 0:s.date)!=null?n:0)*1e3),i=new Date(t.date*1e3);(i.getFullYear()!==r.getFullYear()||i.getMonth()!==r.getMonth()||i.getDate()!==r.getDate())&&e.push({date:i,commits:[]}),e[e.length-1].commits.push(t),s=t}),e}get displayFullHistoryWaring(){return this.commitsBehind.length>=30}get lastCommit(){return this.commitsBehind.slice(-1)[0]}get linkToGithub(){var e,s,t,r;return"https://github.com/".concat((e=this.repo)==null?void 0:e.owner,"/").concat((s=this.repo)==null?void 0:s.repo_name,"/commits/").concat((t=this.repo)==null?void 0:t.branch,"/?after=").concat((r=this.lastCommit)==null?void 0:r.sha,"+0")}get overlayScrollbarsStyle(){return this.isMobile?{height:"calc(100vh - 48px)"}:{height:"400px"}}get timelineClassName(){return this.isMobile?["groupedCommits","mobile"]:["groupedCommits"]}closeDialog(){this.$emit("close-dialog")}};Kg([x({required:!0})],Ya.prototype,"boolShowDialog",2);Kg([x({required:!0})],Ya.prototype,"repo",2);Ya=Kg([w({components:{GitCommitsListDay:Uo,Panel:B}})],Ya);var LY=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"","max-width":800,fullscreen:e.isMobile},model:{value:e.boolShowDialog,callback:function(r){e.boolShowDialog=r},expression:"boolShowDialog"}},[t(B,{attrs:{title:e.$t("Machine.UpdatePanel.Commits"),icon:e.mdiUpdate,"margin-bottom":!1,"card-class":"machine-update-commits-dialog"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"py-0 px-0"},[t("overlay-scrollbars",{style:e.overlayScrollbarsStyle,attrs:{options:{overflowBehavior:{x:"hidden"}}}},[t(pC,{class:e.timelineClassName,staticStyle:{"min-height":"100%"},attrs:{"align-top":"",dense:""}},[e._l(e.groupedCommits,function(r){return t(Uo,{key:r.date.getTime(),attrs:{repo:e.repo,"grouped-commits":r}})}),e.displayFullHistoryWaring?t(ga,{staticClass:"git-commit-list-day git-commit-list-warning",attrs:{small:""}},[t(C,{staticClass:"pt-0"},[t(v,{staticClass:"pr-12"},[t(et,{attrs:{dense:"",text:"",type:"info"}},[t("p",[e._v(e._s(e.$t("Machine.UpdatePanel.MoreCommitsInfo")))]),t("div",{staticClass:"text-center mb-3"},[t(g,{attrs:{href:e.linkToGithub,target:"_blank"}},[e._v(" "+e._s(e.$t("Machine.UpdatePanel.LinkToGithub"))+" ")])],1)])],1)],1)],1):e._e()],2)],1)],1)],1)],1)},FY=[];const L0={};var AY=E(Ya,LY,FY,!1,kY,"d25d379c",null,null);function kY(e){for(let s in L0)this[s]=L0[s]}const Qg=function(){return AY.exports}();var RY=Object.defineProperty,HY=Object.getOwnPropertyDescriptor,e1=(e,s,t,r)=>{for(var i=r>1?void 0:r?HY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&RY(s,t,i),i};let Xa=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiAlertCircle=PC,this.mdiEye=o5,this.mdiOpenInNew=QC}get name(){var e,s;return(s=(e=this.repo)==null?void 0:e.name)!=null?s:"UNKNOWN"}get formatName(){return $r(this.name)}get configured_type(){var e,s;return(s=(e=this.repo)==null?void 0:e.configured_type)!=null?s:"UNKNOWN"}get description1(){return this.name==="klipper"?this.$t("Machine.UpdatePanel.KlipperUpdateQuestionFirmware"):this.name==="moonraker"?this.$t("Machine.UpdatePanel.MoonrakerUpdateQuestion"):this.configured_type==="web"?this.$t("Machine.UpdatePanel.WebClientUpdateQuestion"):this.$t("Machine.UpdatePanel.GenericUpdateQuestion")}get description2(){return this.name==="klipper"?this.$t("Machine.UpdatePanel.KlipperUpdateQuestionConfig"):null}get repo_name(){var e,s;return(s=(e=this.repo.repo_name)!=null?e:this.repo.name)!=null?s:""}get externalLink(){var e;return this.name==="klipper"?"//www.klipper3d.org/Config_Changes.html":this.name==="moonraker"?"//moonraker.readthedocs.io/en/latest/changelog/":((e=this.repo)==null?void 0:e.configured_type)==="web"?"//github.com/".concat(this.repo.owner,"/").concat(this.repo_name,"/releases/tag/").concat(this.repo.remote_version):"//github.com/".concat(this.repo.owner,"/").concat(this.repo_name)}get externalLinkText(){return["klipper","moonraker"].includes(this.name)?this.$t("Machine.UpdatePanel.ConfigChanges"):this.$t("Machine.UpdatePanel.GitHubPage")}openCommitHistory(){this.$emit("open-commit-history")}};e1([x({required:!0})],Xa.prototype,"repo",2);e1([x({required:!1,default:!1})],Xa.prototype,"boolTitle",2);Xa=e1([w({components:{GitCommitsListDay:Uo,Panel:B}})],Xa);var jY=function(){var e,s=this,t=s.$createElement,r=s._self._c||t;return r(et,{attrs:{text:"",dense:"",border:"left",color:"orange",icon:s.mdiAlertCircle}},[s.boolTitle?[r("strong",[s._v(s._s(s.$t("Machine.UpdatePanel.UpdateWarning",{name:s.formatName})))]),r("br")]:s._e(),s.description1?r("p",[s._v(s._s(s.description1))]):s._e(),s.description2?r("p",[s._v(s._s(s.description2))]):s._e(),r("div",{staticClass:"text-center"},[s.configured_type==="git_repo"&&(e=s.repo.commits_behind)!==null&&e!==void 0&&e.length?r(g,{staticClass:"mx-2 mt-3 mt-sm-0",on:{click:s.openCommitHistory}},[r(_,{attrs:{left:"",small:""}},[s._v(s._s(s.mdiEye))]),s._v(" "+s._s(s.$t("Machine.UpdatePanel.CommitHistory"))+" ")],1):s._e(),s.externalLink?r(g,{staticClass:"mx-2 mt-3 mt-sm-0",attrs:{href:s.externalLink,target:"_blank"}},[r(_,{attrs:{left:"",small:""}},[s._v(s._s(s.mdiOpenInNew))]),s._v(" "+s._s(s.externalLinkText)+" ")],1):s._e()],1)],2)},IY=[];const F0={};var NY=E(Xa,jY,IY,!1,VY,null,null,null);function VY(e){for(let s in F0)this[s]=F0[s]}const Ud=function(){return NY.exports}();var UY=Object.defineProperty,BY=Object.getOwnPropertyDescriptor,t1=(e,s,t,r)=>{for(var i=r>1?void 0:r?BY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&UY(s,t,i),i};let Ja=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiProgressQuestion=s$,this.checkboxUpdateQuestion=!1}doUpdate(){this.$emit("do-update")}openCommitHistory(){this.$emit("open-commit-history")}closeDialog(){this.$emit("close-dialog")}};t1([x({required:!0})],Ja.prototype,"boolShowDialog",2);t1([x({required:!0})],Ja.prototype,"repo",2);Ja=t1([w({components:{GitCommitsListDay:Uo,Panel:B,UpdateHintAlert:Ud}})],Ja);var GY=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"","max-width":"600"},model:{value:e.boolShowDialog,callback:function(r){e.boolShowDialog=r},expression:"boolShowDialog"}},[t(B,{attrs:{title:e.$t("Machine.UpdatePanel.AreYouSure"),icon:e.mdiProgressQuestion,"margin-bottom":!1,"card-class":"machine-update-hint-dialog"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t(Ud,{attrs:{repo:e.repo},on:{"open-commit-history":e.openCommitHistory}}),t("div",[t(fe,{attrs:{label:e.$t("Machine.UpdatePanel.IUnderstandTheRisks"),"hide-details":""},model:{value:e.checkboxUpdateQuestion,callback:function(r){e.checkboxUpdateQuestion=r},expression:"checkboxUpdateQuestion"}})],1)],1)],1)],1),t(H),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("Machine.UpdatePanel.Abort")))]),t(g,{attrs:{text:"",color:"primary",disabled:!e.checkboxUpdateQuestion},on:{click:e.doUpdate}},[e._v(" "+e._s(e.$t("Machine.UpdatePanel.StartUpdate"))+" ")])],1)],1)],1)},WY=[];const A0={};var zY=E(Ja,GY,WY,!1,qY,null,null,null);function qY(e){for(let s in A0)this[s]=A0[s]}const yw=function(){return zY.exports}();var ZY=Object.defineProperty,YY=Object.getOwnPropertyDescriptor,Cw=(e,s,t,r)=>{for(var i=r>1?void 0:r?YY(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ZY(s,t,i),i};let Uc=class extends M(O){constructor(){super(...arguments),this.mdiInformation=It,this.mdiMenuDown=Lr,this.mdiReload=B5,this.mdiCloseCircle=Rl,this.mdiUpdate=So,this.mdiInformationOutline=If,this.boolShowCommitList=!1,this.boolShowUpdateHint=!1,this.toggleAnomalies=!1}get name(){var r,i;const t=((r=this.repo.info_tags)!=null?r:[]).find(n=>n.startsWith("desc="));return t&&t.trim()!=="desc="?t.replace("desc=","").trim():(i=this.repo.name)!=null?i:"UNKNOWN"}get type(){return this.repo.configured_type}get localVersion(){var t;const s=(t=this.repo.version)!=null?t:"?";return nt.valid(s)?s:null}get remoteVersion(){var t;const s=(t=this.repo.remote_version)!=null?t:"?";return nt.valid(s)?s:null}get branch(){var s;return(s=this.repo.branch)!=null?s:"master"}get remoteAlias(){var s;return(s=this.repo.remote_alias)!=null?s:"origin"}get branchOutput(){return this.remoteAlias!=="origin"?"".concat(this.remoteAlias,"/").concat(this.branch):["master","main"].includes(this.branch)?null:this.branch}get commitsBehind(){var s;return(s=this.repo.commits_behind)!=null?s:[]}get fullVersionString(){var s;return(s=this.repo.full_version_string)!=null?s:null}get versionOutput(){let s=this.branchOutput?"".concat(this.branchOutput,": "):"";if(this.localVersion&&this.remoteVersion&&nt.gt(this.remoteVersion,this.localVersion))return"".concat(s).concat(this.localVersion," > ").concat(this.remoteVersion);if(this.commitsBehind.length){const t=this.$tc("Machine.UpdatePanel.CommitsAvailable",this.commitsBehind.length,{count:this.commitsBehind.length}).toString();return this.localVersion?"".concat(s).concat(this.localVersion," > ").concat(t):"".concat(s).concat(t)}return this.fullVersionString?this.fullVersionString:this.localVersion?this.localVersion:"UNKNOWN"}get configuredType(){var s;return(s=this.repo.configured_type)!=null?s:"git_repo"}get isValid(){var s;return(s=this.repo.is_valid)!=null?s:!0}get isDirty(){var s;return(s=this.repo.is_dirty)!=null?s:!1}get isCorrupt(){var s;return(s=this.repo.corrupt)!=null?s:!1}get debugEnabled(){var s;return(s=this.repo.debug_enabled)!=null?s:!1}get isDetached(){var s;return this.configuredType!=="git_repo"?!1:!this.debugEnabled&&((s=this.repo.detached)!=null?s:!1)}get existsRecoveryUrl(){var t;return((t=this.repo.recovery_url)!=null?t:"?")!=="?"}get btnDisabled(){return["printing","paused"].includes(this.printer_state)?!0:!this.isValid||this.isCorrupt||this.isDirty||this.commitsBehind.length?!1:["python","web"].includes(this.type)?!this.semverUpdatable:this.commitsBehind.length===0}get btnIcon(){if(this.isDetached||!this.isValid||this.isCorrupt||this.isDirty)return Rl;if(["python","web"].includes(this.type)){if(this.semverUpdatable)return Hl;if(this.localVersion===null||this.remoteVersion===null)return UC}return this.type==="git_repo"&&this.commitsBehind.length?Hl:xf}get btnColor(){return this.isCorrupt||this.isDetached||this.isDirty||!this.isValid?"orange":["python","web"].includes(this.type)&&this.semverUpdatable||this.type==="git_repo"&&this.commitsBehind.length?"primary":"green"}get btnText(){if(this.isCorrupt)return this.$t("Machine.UpdatePanel.Corrupt");if(this.isDetached)return this.$t("Machine.UpdatePanel.Detached");if(this.isDirty)return this.$t("Machine.UpdatePanel.Dirty");if(!this.isValid)return this.$t("Machine.UpdatePanel.Invalid");if(["python","web"].includes(this.type)){if(this.semverUpdatable)return this.$t("Machine.UpdatePanel.Update");if(this.localVersion===null||this.remoteVersion===null)return this.$t("Machine.UpdatePanel.Unknown")}return this.type==="git_repo"&&this.commitsBehind.length?this.$t("Machine.UpdatePanel.Update"):this.$t("Machine.UpdatePanel.UpToDate")}get anomalies(){var s;return(s=this.repo.anomalies)!=null?s:[]}get warnings(){var s;return(s=this.repo.warnings)!=null?s:[]}get semverUpdatable(){return!this.localVersion||!this.remoteVersion?!1:nt.gt(this.remoteVersion,this.localVersion)}get repo_name(){var s,t;return(t=(s=this.repo.repo_name)!=null?s:this.repo.name)!=null?t:""}get githubRepoUrl(){return"https://github.com/".concat(this.repo.owner,"/").concat(this.repo_name)}get webLinkRelease(){return"".concat(this.githubRepoUrl,"/releases/tag/").concat(this.repo.remote_version)}get pythonChangelog(){return this.repo.channel==="dev"?"".concat(this.githubRepoUrl,"/compare/").concat(this.repo.current_hash,"..").concat(this.repo.remote_hash):this.repo.changelog_url?this.repo.changelog_url:this.webLinkRelease}get hideUpdateWarning(){var s;return(s=this.$store.state.gui.uiSettings.hideUpdateWarnings)!=null?s:!1}clickUpdate(){if(this.hideUpdateWarning){this.doUpdate();return}this.boolShowUpdateHint=!0}doUpdate(){if(["klipper","moonraker"].includes(this.repo.name)){this.$socket.emit("machine.update."+this.repo.name,{});return}this.$socket.emit("machine.update.client",{name:this.repo.name})}doRecovery(s){this.$socket.emit("machine.update.recover",{name:this.repo.name,hard:s})}closeCommitList(){this.boolShowCommitList=!1}closeShowUpdateHint(){this.boolShowUpdateHint=!1}};Cw([x({required:!0})],Uc.prototype,"repo",2);Uc=Cw([w({components:{GitCommitsList:Qg,UpdateHint:yw}})],Uc);var XY=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{staticClass:"py-2"},[t(v,{staticClass:"pl-6"},[t("strong",[e._v(e._s(e.name))]),t("br"),e.type==="git_repo"&&e.commitsBehind.length?[t("a",{staticClass:"info--text cursor--pointer",on:{click:function(r){e.boolShowCommitList=!0}}},[t(_,{staticClass:"mr-1",attrs:{small:"",color:"info"}},[e._v(e._s(e.mdiUpdate))]),e._v(" "+e._s(e.versionOutput)+" ")],1)]:e.type==="web"&&e.semverUpdatable?[t("a",{staticClass:"info--text text-decoration-none",attrs:{href:e.webLinkRelease,target:"_blank"}},[t(_,{staticClass:"mr-1",attrs:{small:"",color:"info"}},[e._v(e._s(e.mdiUpdate))]),e._v(" "+e._s(e.versionOutput)+" ")],1)]:e.type==="python"&&e.semverUpdatable?[t("a",{staticClass:"info--text text-decoration-none",attrs:{href:e.pythonChangelog,target:"_blank"}},[t(_,{staticClass:"mr-1",attrs:{small:"",color:"info"}},[e._v(e._s(e.mdiUpdate))]),e._v(" "+e._s(e.versionOutput)+" ")],1)]:t("span",[e._v(e._s(e.versionOutput))])],2),t(v,{staticClass:"col-auto pr-6 text-right",attrs:{"align-self":"center"}},[e.anomalies.length>0?t(fs,{staticClass:"minwidth-0 px-1 mr-2",attrs:{small:"",label:"",outlined:!e.toggleAnomalies,color:"grey"},on:{click:function(r){e.toggleAnomalies=!e.toggleAnomalies}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.toggleAnomalies?e.mdiInformationOutline:e.mdiInformation))])],1):e._e(),e.isValid?t(fs,{staticClass:"minwidth-0 px-2 text-uppercase",attrs:{small:"",label:"",outlined:"",color:e.btnColor,disabled:e.btnDisabled},on:{click:e.clickUpdate}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.btnIcon))]),e._v(" "+e._s(e.btnText)+" ")],1):[t(ye,{attrs:{"offset-y":!0},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(fs,e._g(e._b({staticClass:"minwidth-0 px-2 text-uppercase",attrs:{small:"",label:"",outlined:"",color:e.btnColor,disabled:e.btnDisabled}},"v-chip",n,!1),i),[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.btnIcon))]),e._v(" "+e._s(e.btnText)+" "),t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMenuDown))])],1)]}}],null,!1,56479232)},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},[e.isCorrupt?e._e():t(Y,{on:{click:function(r){return e.doRecovery(!1)}}},[t(Ws,{staticClass:"mr-0 pt-1"},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiReload))])],1),t(ot,[t(Ne,[e._v(e._s(e.$t("Machine.UpdatePanel.SoftRecovery")))])],1)],1),t(Y,{attrs:{disabled:!e.existsRecoveryUrl},on:{click:function(r){return e.doRecovery(!0)}}},[t(Ws,{staticClass:"mr-0 pt-1"},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiReload))])],1),t(ot,[t(Ne,[e._v(e._s(e.$t("Machine.UpdatePanel.HardRecovery")))])],1)],1)],1)],1)]],2)],1),e.warnings.length?t(C,{staticClass:"mt-0"},[t(v,{staticClass:"px-6 pt-0"},e._l(e.warnings,function(r,i){return t(et,{key:"warnings_"+i,attrs:{dense:"",text:"",color:"orange",border:"left",icon:e.mdiCloseCircle}},[t("p",{staticClass:"text--disabled mb-0"},[e._v(e._s(r))])])}),1)],1):e._e(),t(C,{directives:[{name:"show",rawName:"v-show",value:e.toggleAnomalies,expression:"toggleAnomalies"}],staticClass:"mt-0"},[t(v,{staticClass:"px-6 pt-0"},e._l(e.anomalies,function(r,i){return t(et,{key:"anomalies_"+i,attrs:{dense:"",text:"",color:"grey",border:"left",icon:e.mdiInformation}},[e._v(" "+e._s(r)+" ")])}),1)],1),e.type==="git_repo"?t(Qg,{attrs:{"bool-show-dialog":e.boolShowCommitList,repo:e.repo},on:{"close-dialog":e.closeCommitList}}):e._e(),t(yw,{attrs:{"bool-show-dialog":e.boolShowUpdateHint,repo:e.repo},on:{"open-commit-history":function(r){e.boolShowCommitList=!0},"do-update":e.doUpdate,"close-dialog":e.closeShowUpdateHint}})],1)},JY=[];const k0={};var KY=E(Uc,XY,JY,!1,QY,null,null,null);function QY(e){for(let s in k0)this[s]=k0[s]}const eX=function(){return KY.exports}();var tX=Object.defineProperty,sX=Object.getOwnPropertyDescriptor,rX=(e,s,t,r)=>{for(var i=r>1?void 0:r?sX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&tX(s,t,i),i};let np=class extends M(O){constructor(){super(...arguments),this.mdiInformation=It,this.boolShowPackageList=!1}get package_count(){var s,t,r;return(r=(t=(s=this.$store.state.server.updateManager)==null?void 0:s.system)==null?void 0:t.package_count)!=null?r:0}get package_list(){var s,t,r;return(r=(t=(s=this.$store.state.server.updateManager)==null?void 0:s.system)==null?void 0:t.package_list)!=null?r:[]}get btnDisabled(){return["printing","paused"].includes(this.printer_state)?!0:this.package_count===0}get btnIcon(){return this.package_count?Hl:xf}get btnColor(){return this.package_count?"primary":"green"}get btnText(){return this.package_count?this.$t("Machine.UpdatePanel.Upgrade"):this.$t("Machine.UpdatePanel.UpToDate")}doUpdate(){this.$socket.emit("machine.update.system",{})}closePackagesList(){this.boolShowPackageList=!1}};np=rX([w],np);var iX=Object.defineProperty,nX=Object.getOwnPropertyDescriptor,s1=(e,s,t,r)=>{for(var i=r>1?void 0:r?nX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&iX(s,t,i),i};let Ka=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiPackageVariantClosed=k5}closeDialog(){this.$emit("close-dialog")}};s1([x({required:!0})],Ka.prototype,"boolShowDialog",2);s1([x({required:!0})],Ka.prototype,"packagesList",2);Ka=s1([w({components:{Panel:B}})],Ka);var aX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"","max-width":"800"},model:{value:e.boolShowDialog,callback:function(r){e.boolShowDialog=r},expression:"boolShowDialog"}},[t(B,{attrs:{title:e.$t("Machine.UpdatePanel.UpgradeableSystemPackages"),icon:e.mdiPackageVariantClosed,"margin-bottom":!1,"card-class":"machine-update-system-packages-list-dialog"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",[e._v(e._s(e.$t("Machine.UpdatePanel.ThesePackagesCanBeUpgrade")))]),t("p",{staticClass:"system-packages-list"},[e._v(e._s(e.packagesList.join(", ")))])])],1)],1),t(ae,[t(ie),t(g,{attrs:{text:"",color:"primary"},on:{click:e.closeDialog}},[e._v(e._s(e.$t("Machine.UpdatePanel.Close")))])],1)],1)],1)},oX=[];const R0={};var lX=E(Ka,aX,oX,!1,cX,"61fb1dc8",null,null);function cX(e){for(let s in R0)this[s]=R0[s]}const uX=function(){return lX.exports}();var dX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{staticClass:"py-2"},[t(v,{staticClass:"pl-6"},[t("strong",[e._v(e._s(e.$t("Machine.UpdatePanel.System")))]),t("br"),e.package_count?[t("a",{staticClass:"info--text cursor--pointer",on:{click:function(r){e.boolShowPackageList=!0}}},[t(_,{staticClass:"mr-1",attrs:{small:"",color:"info"}},[e._v(e._s(e.mdiInformation))]),e._v(" "+e._s(e.$t("Machine.UpdatePanel.CountPackagesCanBeUpgraded",{count:e.package_count}))+" ")],1)]:t("span",[e._v(e._s(e.$t("Machine.UpdatePanel.OSPackages")))])],2),t(v,{staticClass:"col-auto pr-6 text-right",attrs:{"align-self":"center"}},[t(fs,{staticClass:"minwidth-0 px-2 text-uppercase",attrs:{small:"",label:"",outlined:"",color:e.btnColor,disabled:e.btnDisabled},on:{click:e.doUpdate}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.btnIcon))]),e._v(" "+e._s(e.btnText)+" ")],1)],1)],1),t(uX,{attrs:{"bool-show-dialog":e.boolShowPackageList,"packages-list":e.package_list},on:{"close-dialog":e.closePackagesList}})],1)},hX=[];const H0={};var mX=E(np,dX,hX,!1,pX,null,null,null);function pX(e){for(let s in H0)this[s]=H0[s]}const fX=function(){return mX.exports}();var gX=Object.defineProperty,_X=Object.getOwnPropertyDescriptor,$w=(e,s,t,r)=>{for(var i=r>1?void 0:r?_X(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&gX(s,t,i),i};let Bc=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiProgressQuestion=s$,this.checkboxUpdateQuestion=!1,this.boolShowCommitHistory=!1,this.showCommitsRepo=null}get modules(){var e;return(e=this.$store.getters["server/updateManager/getUpdateManagerList"])!=null?e:[]}get filteredModules(){return this.modules.filter(e=>{var s,t,r,i,n,a;return!!(e.type==="git"&&((t=(s=e.data)==null?void 0:s.commits_behind)!=null&&t.length)||e.type==="web"&&nt.valid((r=e.data)==null?void 0:r.remote_version)&&nt.valid((i=e.data)==null?void 0:i.version)&&nt.gt((n=e.data)==null?void 0:n.remote_version,(a=e.data)==null?void 0:a.version))})}openCommitHistory(e){this.showCommitsRepo=e,this.boolShowCommitHistory=!0}closeDialog(){this.$emit("close-dialog")}updateAll(){this.$emit("update-all")}};$w([x({required:!0})],Bc.prototype,"boolShowDialog",2);Bc=$w([w({components:{GitCommitsListDay:Uo,Panel:B,UpdateHintAlert:Ud}})],Bc);var vX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"","max-width":"600"},model:{value:e.boolShowDialog,callback:function(r){e.boolShowDialog=r},expression:"boolShowDialog"}},[t(B,{attrs:{title:e.$t("Machine.UpdatePanel.AreYouSure"),icon:e.mdiProgressQuestion,"margin-bottom":!1,"card-class":"machine-update-hint-dialog"},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[e._l(e.filteredModules,function(r){return t(Ud,{key:r.name,attrs:{repo:r.data,"bool-title":!0},on:{"open-commit-history":function(i){return e.openCommitHistory(r.data)}}})}),t("div",[t(fe,{attrs:{label:e.$t("Machine.UpdatePanel.IUnderstandTheRisks"),"hide-details":""},model:{value:e.checkboxUpdateQuestion,callback:function(r){e.checkboxUpdateQuestion=r},expression:"checkboxUpdateQuestion"}})],1)],2)],1)],1),t(H),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(e._s(e.$t("Machine.UpdatePanel.Abort")))]),t(g,{attrs:{text:"",color:"primary",disabled:!e.checkboxUpdateQuestion},on:{click:e.updateAll}},[e._v(" "+e._s(e.$t("Machine.UpdatePanel.StartUpdate"))+" ")])],1)],1),t(Qg,{attrs:{"bool-show-dialog":e.boolShowCommitHistory,repo:e.showCommitsRepo},on:{"close-dialog":function(r){e.boolShowCommitHistory=!1}}})],1)},bX=[];const j0={};var yX=E(Bc,vX,bX,!1,CX,null,null,null);function CX(e){for(let s in j0)this[s]=j0[s]}const xw=function(){return yX.exports}();var $X=Object.defineProperty,xX=Object.getOwnPropertyDescriptor,SX=(e,s,t,r)=>{for(var i=r>1?void 0:r?xX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$X(s,t,i),i};let ap=class extends M(O){constructor(){super(...arguments),this.mdiProgressUpload=Hl,this.boolShowDialog=!1}get hideUpdateWarning(){var s;return(s=this.$store.state.gui.uiSettings.hideUpdateWarnings)!=null?s:!1}clickUpdate(){if(this.hideUpdateWarning){this.updateAll();return}this.boolShowDialog=!0}updateAll(){this.$socket.emit("machine.update.full",{})}};ap=SX([w({components:{UpdateHintAll:xw}})],ap);var wX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{staticClass:"pt-3"},[t(v,{staticClass:"text-center"},[t(g,{attrs:{text:"",color:"primary",small:"",disabled:["printing","paused"].includes(e.printer_state)},on:{click:e.clickUpdate}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiProgressUpload))]),e._v(" "+e._s(e.$t("Machine.UpdatePanel.UpdateAll"))+" ")],1)],1)],1),t(xw,{attrs:{"bool-show-dialog":e.boolShowDialog},on:{"close-dialog":function(r){e.boolShowDialog=!1},"update-all":e.updateAll}})],1)},PX=[];const I0={};var TX=E(ap,wX,PX,!1,DX,null,null,null);function DX(e){for(let s in I0)this[s]=I0[s]}const MX=function(){return TX.exports}();var EX=Object.defineProperty,OX=Object.getOwnPropertyDescriptor,LX=(e,s,t,r)=>{for(var i=r>1?void 0:r?OX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&EX(s,t,i),i};let op=class extends M(O){constructor(){super(...arguments),this.mdiRefresh=bi,this.mdiInformation=It,this.mdiCloseThick=pe,this.mdiUpdate=So}get enableUpdateManager(){return this.$store.state.server.components.includes("update_manager")}get modules(){var e;return(e=this.$store.getters["server/updateManager/getUpdateManagerList"])!=null?e:[]}get existsSystemModul(){return"system"in this.$store.state.server.updateManager}get systemPackagesCount(){var e,s,t;return(t=(s=(e=this.$store.state.server.updateManager)==null?void 0:e.system)==null?void 0:s.package_count)!=null?t:0}get checkInitState(){return this.modules.filter(s=>s.data.remote_version!=="?").length>0}get showUpdateAll(){let e=0;return this.modules.forEach(s=>{var t,r,i,n,a,o;if(s.type==="git"&&((r=(t=s.data)==null?void 0:t.commits_behind)!=null&&r.length)){e++;return}if(s.type==="web"&&nt.valid((i=s.data)==null?void 0:i.remote_version)&&nt.valid((n=s.data)==null?void 0:n.version)&&nt.gt((a=s.data)==null?void 0:a.remote_version,(o=s.data)==null?void 0:o.version)){e++;return}}),this.systemPackagesCount>0&&e++,e>1}btnSync(){this.$socket.emit("machine.update.status",{refresh:!0},{action:"server/updateManager/onUpdateStatus",loading:"loadingBtnSyncUpdateManager"})}};op=LX([w({components:{Panel:B,UpdatePanelEntry:eX,UpdatePanelEntrySystem:fX,UpdatePanelEntryAll:MX}})],op);var FX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.enableUpdateManager?t(B,{attrs:{title:e.$t("Machine.UpdatePanel.UpdateManager"),icon:e.mdiUpdate,"card-class":"machine-update-panel",collapsible:!0},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:"",color:"primary",ripple:!0,loading:e.loadings.includes("loadingBtnSyncUpdateManager"),disabled:["printing","paused"].includes(e.printer_state)},on:{click:e.btnSync}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiRefresh))])],1)]}}],null,!1,3363156462)},[t("span",[e._v(e._s(e.$t("Machine.UpdatePanel.CheckForUpdates")))])])]},proxy:!0}],null,!1,150962712)},[t(Z,{staticClass:"px-0 py-0 update-manager-list"},[e.checkInitState?[e._l(e.modules,function(r,i){return[i?t(H,{key:"divider_"+r.name,staticClass:"my-0"}):e._e(),t("update-panel-entry",{key:r.name,attrs:{repo:r.data}})]}),e.existsSystemModul?[e.modules.length?t(H,{staticClass:"my-0"}):e._e(),t("update-panel-entry-system")]:e._e(),e.showUpdateAll?[t(H,{staticClass:"mb-0 mt-2 border-top-2"}),t("update-panel-entry-all")]:e._e()]:[t(C,{staticClass:"mt-0 mb-0"},[t(v,{staticClass:"px-6"},[t(et,{staticClass:"mb-0",attrs:{text:"",dense:"",type:"info",border:"left"}},[e._v(" "+e._s(e.$t("Machine.UpdatePanel.InitUpdateManager"))+" ")])],1)],1)]],2)],1):e._e()],1)},AX=[];const N0={};var kX=E(op,FX,AX,!1,RX,"8e04f428",null,null);function RX(e){for(let s in N0)this[s]=N0[s]}const Sw=function(){return kX.exports}();var HX=Object.defineProperty,jX=Object.getOwnPropertyDescriptor,ww=(e,s,t,r)=>{for(var i=r>1?void 0:r?jX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&HX(s,t,i),i};let Gc=class extends M(O){constructor(){super(...arguments),this.mdiDownload=Ef}get logfiles(){var s,t;return(t=(s=this.$store.getters["files/getDirectory"]("logs"))==null?void 0:s.childrens)!=null?t:[]}get filename(){return this.name+".log"}get exists(){return["klippy","moonraker"].includes(this.name)?!0:this.logfiles.findIndex(s=>s.filename===this.filename)!==-1}get href(){let s="/server/files/logs/";return["klippy","moonraker"].includes(this.name)&&(s="/server/files/"),this.apiUrl+s+this.filename}get classes(){const s=["col-12","pt-0"];return this.klipperState!=="ready"?(s.push("col-md-6"),s.push("mt-md-3")):s.push("col-md-12"),s}downloadLog(s){s.preventDefault();let t="";"href"in s.target.attributes&&(t=s.target.attributes.href.value),"href"in s.target.parentElement.attributes&&(t=s.target.parentElement.attributes.href.value),window.open(t)}};ww([x({type:String,required:!0})],Gc.prototype,"name",2);Gc=ww([w({components:{Panel:B}})],Gc);var IX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.exists?t(v,{class:e.classes},[t(g,{staticClass:"primary--text",attrs:{href:e.href,block:""},on:{click:e.downloadLog}},[t(_,{staticClass:"mr-2"},[e._v(e._s(e.mdiDownload))]),e._v(" "+e._s(e.name)+" ")],1)],1):e._e()},NX=[];const V0={};var VX=E(Gc,IX,NX,!1,UX,null,null,null);function UX(e){for(let s in V0)this[s]=V0[s]}const r1=function(){return VX.exports}();var BX=Object.defineProperty,GX=Object.getOwnPropertyDescriptor,WX=(e,s,t,r)=>{for(var i=r>1?void 0:r?GX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&BX(s,t,i),i};let lp=class extends M(O){constructor(){super(...arguments),this.mdiFileDocumentEdit=c5,this.mdiFileSyncOutline=NC,this.genericLogfiles=yM,this.showRolloverDialog=!1}};lp=WX([w({components:{LogfilesPanelGenericLog:r1,Panel:B}})],lp);var zX=Object.defineProperty,qX=Object.getOwnPropertyDescriptor,i1=(e,s,t,r)=>{for(var i=r>1?void 0:r?qX(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zX(s,t,i),i};let Qa=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiFileSyncOutline=NC,this.rolloverLogfiles=CM,this.capitalize=$r,this.selectedRolloverLogs=[]}get loadingRolloverLogs(){return this.loadings.filter(e=>e==null?void 0:e.startsWith("rolloverLog_")).length>0}loadingRolloverLogsChanged(e){e&&this.closeDialog()}btnRolloverLogs(){this.selectedRolloverLogs.length!==0&&(this.selectedRolloverLogs.forEach(e=>{this.$socket.emit("server.logs.rollover",{application:e},{loading:"rolloverLog_"+e,action:"files/rolloverLog"})}),this.selectedRolloverLogs=[])}closeDialog(){this.$emit("close-dialog")}};i1([x({type:Boolean,default:!1})],Qa.prototype,"show",2);i1([ce("loadingRolloverLogs")],Qa.prototype,"loadingRolloverLogsChanged",1);Qa=i1([w({components:{LogfilesPanelGenericLog:r1,Panel:B}})],Qa);var ZX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.show,persistent:"",width:"400",fullscreen:e.isMobile}},[t(B,{attrs:{title:e.$t("Machine.LogfilesPanel.Rollover"),"card-class":"machine_rollover_logfiles-dialog",icon:e.mdiFileSyncOutline,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Machine.LogfilesPanel.RolloverDescription")))])])],1),t(C,{staticClass:"mt-0"},[t(v,e._l(e.rolloverLogfiles,function(r){return t(fe,{key:r,staticClass:"mt-0",attrs:{label:e.capitalize(r),value:r,"hide-details":""},model:{value:e.selectedRolloverLogs,callback:function(i){e.selectedRolloverLogs=i},expression:"selectedRolloverLogs"}})}),1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closeDialog}},[e._v(" "+e._s(e.$t("Machine.LogfilesPanel.Cancel"))+" ")]),t(g,{attrs:{color:"primary",text:""},on:{click:e.btnRolloverLogs}},[e._v(" "+e._s(e.$t("Machine.LogfilesPanel.Accept"))+" ")])],1)],1)],1)},YX=[];const U0={};var XX=E(Qa,ZX,YX,!1,JX,null,null,null);function JX(e){for(let s in U0)this[s]=U0[s]}const KX=function(){return XX.exports}();var QX=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(B,{attrs:{title:e.$t("Machine.LogfilesPanel.Logfiles"),icon:e.mdiFileDocumentEdit,"card-class":"machine-logfiles-panel",collapsible:!0},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:"",color:"primary",ripple:!0,loading:e.loadings.includes("loadingBtnRolloverLogs"),disabled:["printing","paused"].includes(e.printer_state)},on:{click:function(a){e.showRolloverDialog=!0}}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiFileSyncOutline))])],1)]}}])},[t("span",[e._v(e._s(e.$t("Machine.LogfilesPanel.Rollover")))])])]},proxy:!0}])},[t(Z,{class:"text-center text-lg-left"},[t(C,{staticClass:"pt-3"},e._l(e.genericLogfiles,function(r){return t(r1,{key:r,attrs:{name:r}})}),1)],1)],1),t(KX,{attrs:{show:e.showRolloverDialog},on:{"close-dialog":function(r){e.showRolloverDialog=!1}}})],1)},eJ=[];const B0={};var tJ=E(lp,QX,eJ,!1,sJ,null,null,null);function sJ(e){for(let s in B0)this[s]=B0[s]}const Pw=function(){return tJ.exports}();var rJ=Object.defineProperty,iJ=Object.getOwnPropertyDescriptor,nJ=(e,s,t,r)=>{for(var i=r>1?void 0:r?iJ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&rJ(s,t,i),i};let cp=class extends M(O){constructor(){super(...arguments),this.mdiArrowExpandVertical=EM,this.mdiSync=qf,this.sortEndstops={}}get endstops(){var s;const e=(s=this.$store.state.printer.endstops)!=null?s:{};return Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{})}get existProbe(){return"probe"in this.$store.state.printer.configfile.settings}get probe(){return"probe"in this.$store.state.printer&&"last_query"in this.$store.state.printer.probe?this.$store.state.printer.probe.last_query:!1}syncEndstops(){this.$socket.emit("printer.query_endstops.status",{},{action:"printer/getEndstopStatus",loading:"queryEndstops"}),this.existProbe&&(this.$store.dispatch("server/addEvent",{message:"QUERY_PROBE",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"QUERY_PROBE"}))}};cp=nJ([w({components:{Panel:B}})],cp);var aJ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(B,{attrs:{title:e.$t("Machine.EndstopPanel.Endstops"),icon:e.mdiArrowExpandVertical,"card-class":"machine-endstop-panel",collapsible:!0}},[t(Z,{staticClass:"pb-0"},[t(Pe,{attrs:{"px-0":"","py-0":""}},[Object.keys(e.endstops).length?[e._l(Object.keys(e.endstops),function(r){return t(C,{key:r},[t(v,{staticClass:"py-1"},[t("label",{staticClass:"mt-1 d-inline-block"},[e._v(" "+e._s(e.$t("Machine.EndstopPanel.Endstop"))+" "),t("b",[e._v(e._s(r.toUpperCase()))])]),t(fs,{staticClass:"float-right",attrs:{small:"",label:"",color:e.endstops[r]==="open"?"green":"red","text-color":"white"}},[e.endstops[r]==="open"?[e._v(" "+e._s(e.$t("Machine.EndstopPanel.open"))+" ")]:[e._v(" "+e._s(e.$t("Machine.EndstopPanel.TRIGGERED"))+" ")]],2)],1)],1)}),e.existProbe?t(C,[t(v,{staticClass:"py-1"},[t("label",{staticClass:"mt-1 d-inline-block"},[e._v("Probe")]),t(fs,{staticClass:"float-right",attrs:{small:"",label:"",color:e.probe?"red":"green","text-color":"white"}},[e.probe?[e._v(" "+e._s(e.$t("Machine.EndstopPanel.TRIGGERED"))+" ")]:[e._v(" "+e._s(e.$t("Machine.EndstopPanel.open"))+" ")]],2)],1)],1):e._e()]:[t(C,[t(v,[t("p",[e._v(e._s(e.$t("Machine.EndstopPanel.EndstopInfo")))])])],1)]],2)],1),t(ae,{staticClass:"pt-3"},[t(ie),t(g,{attrs:{icon:"",loading:e.loadings.includes("queryEndstops")},on:{click:e.syncEndstops}},[t(_,[e._v(e._s(e.mdiSync))])],1)],1)],1)},oJ=[];const G0={};var lJ=E(cp,aJ,oJ,!1,cJ,null,null,null);function cJ(e){for(let s in G0)this[s]=G0[s]}const Tw=function(){return lJ.exports}();function Dw(e,s){return function(){return e.apply(s,arguments)}}const{toString:uJ}=Object.prototype,{getPrototypeOf:n1}=Object,Bd=(e=>s=>{const t=uJ.call(s);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),xs=e=>(e=e.toLowerCase(),s=>Bd(s)===e),Gd=e=>s=>typeof s===e,{isArray:Hn}=Array,eo=Gd("undefined");function dJ(e){return e!==null&&!eo(e)&&e.constructor!==null&&!eo(e.constructor)&&Zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mw=xs("ArrayBuffer");function hJ(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Mw(e.buffer),s}const mJ=Gd("string"),Zt=Gd("function"),Ew=Gd("number"),Wd=e=>e!==null&&typeof e=="object",pJ=e=>e===!0||e===!1,Cl=e=>{if(Bd(e)!=="object")return!1;const s=n1(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fJ=xs("Date"),gJ=xs("File"),_J=xs("Blob"),vJ=xs("FileList"),bJ=e=>Wd(e)&&Zt(e.pipe),yJ=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Zt(e.append)&&((s=Bd(e))==="formdata"||s==="object"&&Zt(e.toString)&&e.toString()==="[object FormData]"))},CJ=xs("URLSearchParams"),[$J,xJ,SJ,wJ]=["ReadableStream","Request","Response","Headers"].map(xs),PJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bo(e,s,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Hn(e))for(r=0,i=e.length;r<i;r++)s.call(null,e[r],r,e);else{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let o;for(r=0;r<a;r++)o=n[r],s.call(null,e[o],o,e)}}function Ow(e,s){s=s.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],s===i.toLowerCase())return i;return null}const Xr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lw=e=>!eo(e)&&e!==Xr;function up(){const{caseless:e}=Lw(this)&&this||{},s={},t=(r,i)=>{const n=e&&Ow(s,i)||i;Cl(s[n])&&Cl(r)?s[n]=up(s[n],r):Cl(r)?s[n]=up({},r):Hn(r)?s[n]=r.slice():s[n]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Bo(arguments[r],t);return s}const TJ=(e,s,t,{allOwnKeys:r}={})=>(Bo(s,(i,n)=>{t&&Zt(i)?e[n]=Dw(i,t):e[n]=i},{allOwnKeys:r}),e),DJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),MJ=(e,s,t,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),t&&Object.assign(e.prototype,t)},EJ=(e,s,t,r)=>{let i,n,a;const o={};if(s=s||{},e==null)return s;do{for(i=Object.getOwnPropertyNames(e),n=i.length;n-- >0;)a=i[n],(!r||r(a,e,s))&&!o[a]&&(s[a]=e[a],o[a]=!0);e=t!==!1&&n1(e)}while(e&&(!t||t(e,s))&&e!==Object.prototype);return s},OJ=(e,s,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=s.length;const r=e.indexOf(s,t);return r!==-1&&r===t},LJ=e=>{if(!e)return null;if(Hn(e))return e;let s=e.length;if(!Ew(s))return null;const t=new Array(s);for(;s-- >0;)t[s]=e[s];return t},FJ=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&n1(Uint8Array)),AJ=(e,s)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const n=i.value;s.call(e,n[0],n[1])}},kJ=(e,s)=>{let t;const r=[];for(;(t=e.exec(s))!==null;)r.push(t);return r},RJ=xs("HTMLFormElement"),HJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),W0=(({hasOwnProperty:e})=>(s,t)=>e.call(s,t))(Object.prototype),jJ=xs("RegExp"),Fw=(e,s)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Bo(t,(i,n)=>{let a;(a=s(i,n,e))!==!1&&(r[n]=a||i)}),Object.defineProperties(e,r)},IJ=e=>{Fw(e,(s,t)=>{if(Zt(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Zt(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NJ=(e,s)=>{const t={},r=i=>{i.forEach(n=>{t[n]=!0})};return Hn(e)?r(e):r(String(e).split(s)),t},VJ=()=>{},UJ=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s,Nh="abcdefghijklmnopqrstuvwxyz",z0="0123456789",Aw={DIGIT:z0,ALPHA:Nh,ALPHA_DIGIT:Nh+Nh.toUpperCase()+z0},BJ=(e=16,s=Aw.ALPHA_DIGIT)=>{let t="";const{length:r}=s;for(;e--;)t+=s[Math.random()*r|0];return t};function GJ(e){return!!(e&&Zt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const WJ=e=>{const s=new Array(10),t=(r,i)=>{if(Wd(r)){if(s.indexOf(r)>=0)return;if(!("toJSON"in r)){s[i]=r;const n=Hn(r)?[]:{};return Bo(r,(a,o)=>{const l=t(a,i+1);!eo(l)&&(n[o]=l)}),s[i]=void 0,n}}return r};return t(e,0)},zJ=xs("AsyncFunction"),qJ=e=>e&&(Wd(e)||Zt(e))&&Zt(e.then)&&Zt(e.catch),kw=((e,s)=>e?setImmediate:s?((t,r)=>(Xr.addEventListener("message",({source:i,data:n})=>{i===Xr&&n===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Xr.postMessage(t,"*")}))("axios@".concat(Math.random()),[]):t=>setTimeout(t))(typeof setImmediate=="function",Zt(Xr.postMessage)),ZJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Xr):typeof process<"u"&&process.nextTick||kw,K={isArray:Hn,isArrayBuffer:Mw,isBuffer:dJ,isFormData:yJ,isArrayBufferView:hJ,isString:mJ,isNumber:Ew,isBoolean:pJ,isObject:Wd,isPlainObject:Cl,isReadableStream:$J,isRequest:xJ,isResponse:SJ,isHeaders:wJ,isUndefined:eo,isDate:fJ,isFile:gJ,isBlob:_J,isRegExp:jJ,isFunction:Zt,isStream:bJ,isURLSearchParams:CJ,isTypedArray:FJ,isFileList:vJ,forEach:Bo,merge:up,extend:TJ,trim:PJ,stripBOM:DJ,inherits:MJ,toFlatObject:EJ,kindOf:Bd,kindOfTest:xs,endsWith:OJ,toArray:LJ,forEachEntry:AJ,matchAll:kJ,isHTMLForm:RJ,hasOwnProperty:W0,hasOwnProp:W0,reduceDescriptors:Fw,freezeMethods:IJ,toObjectSet:NJ,toCamelCase:HJ,noop:VJ,toFiniteNumber:UJ,findKey:Ow,global:Xr,isContextDefined:Lw,ALPHABET:Aw,generateString:BJ,isSpecCompliantForm:GJ,toJSONObject:WJ,isAsyncFn:zJ,isThenable:qJ,setImmediate:kw,asap:ZJ};function Se(e,s,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}K.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rw=Se.prototype,Hw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hw[e]={value:e}});Object.defineProperties(Se,Hw);Object.defineProperty(Rw,"isAxiosError",{value:!0});Se.from=(e,s,t,r,i,n)=>{const a=Object.create(Rw);return K.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Se.call(a,e.message,s,t,r,i),a.cause=e,a.name=e.name,n&&Object.assign(a,n),a};const YJ=null;function dp(e){return K.isPlainObject(e)||K.isArray(e)}function jw(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function q0(e,s,t){return e?e.concat(s).map(function(i,n){return i=jw(i),!t&&n?"["+i+"]":i}).join(t?".":""):s}function XJ(e){return K.isArray(e)&&!e.some(dp)}const JJ=K.toFlatObject(K,{},null,function(s){return/^is[A-Z]/.test(s)});function zd(e,s,t){if(!K.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,t=K.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!K.isUndefined(b[f])});const r=t.metaTokens,i=t.visitor||u,n=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(s);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(!l&&K.isBlob(p))throw new Se("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,f,b){let $=p;if(p&&!b&&typeof p=="object"){if(K.endsWith(f,"{}"))f=r?f:f.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&XJ(p)||(K.isFileList(p)||K.endsWith(f,"[]"))&&($=K.toArray(p)))return f=jw(f),$.forEach(function(D,R){!(K.isUndefined(D)||D===null)&&s.append(a===!0?q0([f],R,n):a===null?f:f+"[]",c(D))}),!1}return dp(p)?!0:(s.append(q0(b,f,n),c(p)),!1)}const d=[],h=Object.assign(JJ,{defaultVisitor:u,convertValue:c,isVisitable:dp});function m(p,f){if(!K.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(p),K.forEach(p,function($,P){(!(K.isUndefined($)||$===null)&&i.call(s,$,K.isString(P)?P.trim():P,f,h))===!0&&m($,f?f.concat(P):[P])}),d.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return m(e),s}function Z0(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function a1(e,s){this._pairs=[],e&&zd(e,this,s)}const Iw=a1.prototype;Iw.append=function(s,t){this._pairs.push([s,t])};Iw.toString=function(s){const t=s?function(r){return s.call(this,r,Z0)}:Z0;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function KJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nw(e,s,t){if(!s)return e;const r=t&&t.encode||KJ,i=t&&t.serialize;let n;if(i?n=i(s,t):n=K.isURLSearchParams(s)?s.toString():new a1(s,t).toString(r),n){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class QJ{constructor(){this.handlers=[]}use(s,t,r){return this.handlers.push({fulfilled:s,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){K.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Y0=QJ,Vw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eK=typeof URLSearchParams<"u"?URLSearchParams:a1,tK=typeof FormData<"u"?FormData:null,sK=typeof Blob<"u"?Blob:null,rK={isBrowser:!0,classes:{URLSearchParams:eK,FormData:tK,Blob:sK},protocols:["http","https","file","blob","url","data"]},o1=typeof window<"u"&&typeof document<"u",iK=(e=>o1&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),nK=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),aK=o1&&window.location.href||"http://localhost",oK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o1,hasStandardBrowserEnv:iK,hasStandardBrowserWebWorkerEnv:nK,origin:aK},Symbol.toStringTag,{value:"Module"})),gs={...oK,...rK};function lK(e,s){return zd(e,new gs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,n){return gs.isNode&&K.isBuffer(t)?(this.append(r,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},s))}function cK(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function uK(e){const s={},t=Object.keys(e);let r;const i=t.length;let n;for(r=0;r<i;r++)n=t[r],s[n]=e[n];return s}function Uw(e){function s(t,r,i,n){let a=t[n++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=n>=t.length;return a=!a&&K.isArray(i)?i.length:a,l?(K.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!K.isObject(i[a]))&&(i[a]=[]),s(t,r,i[a],n)&&K.isArray(i[a])&&(i[a]=uK(i[a])),!o)}if(K.isFormData(e)&&K.isFunction(e.entries)){const t={};return K.forEachEntry(e,(r,i)=>{s(cK(r),i,t,0)}),t}return null}function dK(e,s,t){if(K.isString(e))try{return(s||JSON.parse)(e),K.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const l1={transitional:Vw,adapter:["xhr","http","fetch"],transformRequest:[function(s,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,n=K.isObject(s);if(n&&K.isHTMLForm(s)&&(s=new FormData(s)),K.isFormData(s))return i?JSON.stringify(Uw(s)):s;if(K.isArrayBuffer(s)||K.isBuffer(s)||K.isStream(s)||K.isFile(s)||K.isBlob(s)||K.isReadableStream(s))return s;if(K.isArrayBufferView(s))return s.buffer;if(K.isURLSearchParams(s))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lK(s,this.formSerializer).toString();if((o=K.isFileList(s))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zd(o?{"files[]":s}:s,l&&new l,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),dK(s)):s}],transformResponse:[function(s){const t=this.transitional||l1.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(K.isResponse(s)||K.isReadableStream(s))return s;if(s&&K.isString(s)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(s)}catch(o){if(a)throw o.name==="SyntaxError"?Se.from(o,Se.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{l1.headers[e]={}});const c1=l1,hK=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mK=e=>{const s={};let t,r,i;return e&&e.split("\n").forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||s[t]&&hK[t])&&(t==="set-cookie"?s[t]?s[t].push(r):s[t]=[r]:s[t]=s[t]?s[t]+", "+r:r)}),s},X0=Symbol("internals");function Yn(e){return e&&String(e).trim().toLowerCase()}function $l(e){return e===!1||e==null?e:K.isArray(e)?e.map($l):String(e)}function pK(e){const s=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)s[r[1]]=r[2];return s}const fK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vh(e,s,t,r,i){if(K.isFunction(r))return r.call(this,s,t);if(i&&(s=t),!!K.isString(s)){if(K.isString(r))return s.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(s)}}function gK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,t,r)=>t.toUpperCase()+r)}function _K(e,s){const t=K.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,n,a){return this[r].call(this,s,i,n,a)},configurable:!0})})}class qd{constructor(s){s&&this.set(s)}set(s,t,r){const i=this;function n(o,l,c){const u=Yn(l);if(!u)throw new Error("header name must be a non-empty string");const d=K.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=$l(o))}const a=(o,l)=>K.forEach(o,(c,u)=>n(c,u,l));if(K.isPlainObject(s)||s instanceof this.constructor)a(s,t);else if(K.isString(s)&&(s=s.trim())&&!fK(s))a(mK(s),t);else if(K.isHeaders(s))for(const[o,l]of s.entries())n(l,o,r);else s!=null&&n(t,s,r);return this}get(s,t){if(s=Yn(s),s){const r=K.findKey(this,s);if(r){const i=this[r];if(!t)return i;if(t===!0)return pK(i);if(K.isFunction(t))return t.call(this,i,r);if(K.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,t){if(s=Yn(s),s){const r=K.findKey(this,s);return!!(r&&this[r]!==void 0&&(!t||Vh(this,this[r],r,t)))}return!1}delete(s,t){const r=this;let i=!1;function n(a){if(a=Yn(a),a){const o=K.findKey(r,a);o&&(!t||Vh(r,r[o],o,t))&&(delete r[o],i=!0)}}return K.isArray(s)?s.forEach(n):n(s),i}clear(s){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const n=t[r];(!s||Vh(this,this[n],n,s,!0))&&(delete this[n],i=!0)}return i}normalize(s){const t=this,r={};return K.forEach(this,(i,n)=>{const a=K.findKey(r,n);if(a){t[a]=$l(i),delete t[n];return}const o=s?gK(n):String(n).trim();o!==n&&delete t[n],t[o]=$l(i),r[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const t=Object.create(null);return K.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=s&&K.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,t])=>s+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...t){const r=new this(s);return t.forEach(i=>r.set(i)),r}static accessor(s){const r=(this[X0]=this[X0]={accessors:{}}).accessors,i=this.prototype;function n(a){const o=Yn(a);r[o]||(_K(i,a),r[o]=!0)}return K.isArray(s)?s.forEach(n):n(s),this}}qd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(qd.prototype,({value:e},s)=>{let t=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(r){this[t]=r}}});K.freezeMethods(qd);const _s=qd;function Uh(e,s){const t=this||c1,r=s||t,i=_s.from(r.headers);let n=r.data;return K.forEach(e,function(o){n=o.call(t,n,i.normalize(),s?s.status:void 0)}),i.normalize(),n}function Bw(e){return!!(e&&e.__CANCEL__)}function jn(e,s,t){Se.call(this,e==null?"canceled":e,Se.ERR_CANCELED,s,t),this.name="CanceledError"}K.inherits(jn,Se,{__CANCEL__:!0});function Gw(e,s,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):s(new Se("Request failed with status code "+t.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function vK(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function bK(e,s){e=e||10;const t=new Array(e),r=new Array(e);let i=0,n=0,a;return s=s!==void 0?s:1e3,function(l){const c=Date.now(),u=r[n];a||(a=c),t[i]=l,r[i]=c;let d=n,h=0;for(;d!==i;)h+=t[d++],d=d%e;if(i=(i+1)%e,i===n&&(n=(n+1)%e),c-a<s)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function yK(e,s){let t=0,r=1e3/s,i,n;const a=(c,u=Date.now())=>{t=u,i=null,n&&(clearTimeout(n),n=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-t;d>=r?a(c,u):(i=c,n||(n=setTimeout(()=>{n=null,a(i)},r-d)))},()=>i&&a(i)]}const Wc=(e,s,t=3)=>{let r=0;const i=bK(50,250);return yK(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,l=a-r,c=i(l),u=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:n,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(d)},t)},J0=(e,s)=>{const t=e!=null;return[r=>s[0]({lengthComputable:t,total:e,loaded:r}),s[1]]},K0=e=>(...s)=>K.asap(()=>e(...s)),CK=gs.hasStandardBrowserEnv?function(){const s=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(n){let a=n;return s&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(a){const o=K.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),$K=gs.hasStandardBrowserEnv?{write(e,s,t,r,i,n){const a=[e+"="+encodeURIComponent(s)];K.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),K.isString(r)&&a.push("path="+r),K.isString(i)&&a.push("domain="+i),n===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xK(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function SK(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Ww(e,s){return e&&!xK(s)?SK(e,s):s}const Q0=e=>e instanceof _s?{...e}:e;function gi(e,s){s=s||{};const t={};function r(c,u,d){return K.isPlainObject(c)&&K.isPlainObject(u)?K.merge.call({caseless:d},c,u):K.isPlainObject(u)?K.merge({},u):K.isArray(u)?u.slice():u}function i(c,u,d){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function n(c,u){if(!K.isUndefined(u))return r(void 0,u)}function a(c,u){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,d){if(d in s)return r(c,u);if(d in e)return r(void 0,c)}const l={url:n,method:n,data:n,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u)=>i(Q0(c),Q0(u),!0)};return K.forEach(Object.keys(Object.assign({},e,s)),function(u){const d=l[u]||i,h=d(e[u],s[u],u);K.isUndefined(h)&&d!==o||(t[u]=h)}),t}const zw=e=>{const s=gi({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:n,headers:a,auth:o}=s;s.headers=a=_s.from(a),s.url=Nw(Ww(s.baseURL,s.url),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(K.isFormData(t)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(gs.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(s)),r||r!==!1&&CK(s.url))){const c=i&&n&&$K.read(n);c&&a.set(i,c)}return s},wK=typeof XMLHttpRequest<"u",PK=wK&&function(e){return new Promise(function(t,r){const i=zw(e);let n=i.data;const a=_s.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,m,p;function f(){m&&m(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function $(){if(!b)return;const D=_s.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:D,config:e,request:b};Gw(function(L){t(L),f()},function(L){r(L),f()},k),b=null}"onloadend"in b?b.onloadend=$:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout($)},b.onabort=function(){b&&(r(new Se("Request aborted",Se.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Se("Network Error",Se.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||Vw;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new Se(R,k.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,b)),b=null},n===void 0&&a.setContentType(null),"setRequestHeader"in b&&K.forEach(a.toJSON(),function(R,k){b.setRequestHeader(k,R)}),K.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),c&&([h,p]=Wc(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([d,m]=Wc(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=D=>{b&&(r(!D||D.type?new jn(null,e,b):D),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const P=vK(i.url);if(P&&gs.protocols.indexOf(P)===-1){r(new Se("Unsupported protocol "+P+":",Se.ERR_BAD_REQUEST,e));return}b.send(n||null)})},TK=(e,s)=>{let t=new AbortController,r;const i=function(l){if(!r){r=!0,a();const c=l instanceof Error?l:this.reason;t.abort(c instanceof Se?c:new jn(c instanceof Error?c.message:c))}};let n=s&&setTimeout(()=>{i(new Se("timeout ".concat(s," of ms exceeded"),Se.ETIMEDOUT))},s);const a=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:o}=t;return o.unsubscribe=a,[o,()=>{n&&clearTimeout(n),n=null}]},DK=TK,MK=function*(e,s){let t=e.byteLength;if(!s||t<s){yield e;return}let r=0,i;for(;r<t;)i=r+s,yield e.slice(r,i),r=i},EK=async function*(e,s,t){for await(const r of e)yield*MK(ArrayBuffer.isView(r)?r:await t(String(r)),s)},ey=(e,s,t,r,i)=>{const n=EK(e,s,i);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await n.next();if(u){l(),c.close();return}let h=d.byteLength;if(t){let m=a+=h;t(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Zd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qw=Zd&&typeof ReadableStream=="function",hp=Zd&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zw=(e,...s)=>{try{return!!e(...s)}catch{return!1}},OK=qw&&Zw(()=>{let e=!1;const s=new Request(gs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),ty=64*1024,mp=qw&&Zw(()=>K.isReadableStream(new Response("").body)),zc={stream:mp&&(e=>e.body)};Zd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!zc[s]&&(zc[s]=K.isFunction(e[s])?t=>t[s]():(t,r)=>{throw new Se("Response type '".concat(s,"' is not supported"),Se.ERR_NOT_SUPPORT,r)})})})(new Response);const LK=async e=>{if(e==null)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(K.isArrayBufferView(e)||K.isArrayBuffer(e))return e.byteLength;if(K.isURLSearchParams(e)&&(e=e+""),K.isString(e))return(await hp(e)).byteLength},FK=async(e,s)=>{const t=K.toFiniteNumber(e.getContentLength());return t==null?LK(s):t},AK=Zd&&(async e=>{let{url:s,method:t,data:r,signal:i,cancelToken:n,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=zw(e);c=c?(c+"").toLowerCase():"text";let[m,p]=i||n||a?DK([i,n],a):[],f,b;const $=()=>{!f&&setTimeout(()=>{m&&m.unsubscribe()}),f=!0};let P;try{if(l&&OK&&t!=="get"&&t!=="head"&&(P=await FK(u,r))!==0){let S=new Request(s,{method:"POST",body:r,duplex:"half"}),L;if(K.isFormData(r)&&(L=S.headers.get("content-type"))&&u.setContentType(L),S.body){const[I,N]=J0(P,Wc(K0(l)));r=ey(S.body,ty,I,N,hp)}}K.isString(d)||(d=d?"include":"omit"),b=new Request(s,{...h,signal:m,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:d});let D=await fetch(b);const R=mp&&(c==="stream"||c==="response");if(mp&&(o||R)){const S={};["status","statusText","headers"].forEach(G=>{S[G]=D[G]});const L=K.toFiniteNumber(D.headers.get("content-length")),[I,N]=o&&J0(L,Wc(K0(o),!0))||[];D=new Response(ey(D.body,ty,I,()=>{N&&N(),R&&$()},hp),S)}c=c||"text";let k=await zc[K.findKey(zc,c)||"text"](D,e);return!R&&$(),p&&p(),await new Promise((S,L)=>{Gw(S,L,{data:k,headers:_s.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:b})})}catch(D){throw $(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,e,b),{cause:D.cause||D}):Se.from(D,D&&D.code,e,b)}}),pp={http:YJ,xhr:PK,fetch:AK};K.forEach(pp,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const sy=e=>"- ".concat(e),kK=e=>K.isFunction(e)||e===null||e===!1,Yw={getAdapter:e=>{e=K.isArray(e)?e:[e];const{length:s}=e;let t,r;const i={};for(let n=0;n<s;n++){t=e[n];let a;if(r=t,!kK(t)&&(r=pp[(a=String(t)).toLowerCase()],r===void 0))throw new Se("Unknown adapter '".concat(a,"'"));if(r)break;i[a||"#"+n]=r}if(!r){const n=Object.entries(i).map(([o,l])=>"adapter ".concat(o," ")+(l===!1?"is not supported by the environment":"is not available in the build"));let a=s?n.length>1?"since :\n"+n.map(sy).join("\n"):" "+sy(n[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:pp};function Bh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jn(null,e)}function ry(e){return Bh(e),e.headers=_s.from(e.headers),e.data=Uh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yw.getAdapter(e.adapter||c1.adapter)(e).then(function(r){return Bh(e),r.data=Uh.call(e,e.transformResponse,r),r.headers=_s.from(r.headers),r},function(r){return Bw(r)||(Bh(e),r&&r.response&&(r.response.data=Uh.call(e,e.transformResponse,r.response),r.response.headers=_s.from(r.response.headers))),Promise.reject(r)})}const Xw="1.7.4",u1={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{u1[e]=function(r){return typeof r===e||"a"+(s<1?"n ":" ")+e}});const iy={};u1.transitional=function(s,t,r){function i(n,a){return"[Axios v"+Xw+"] Transitional option '"+n+"'"+a+(r?". "+r:"")}return(n,a,o)=>{if(s===!1)throw new Se(i(a," has been removed"+(t?" in "+t:"")),Se.ERR_DEPRECATED);return t&&!iy[a]&&(iy[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),s?s(n,a,o):!0}};function RK(e,s,t){if(typeof e!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const n=r[i],a=s[n];if(a){const o=e[n],l=o===void 0||a(o,n,e);if(l!==!0)throw new Se("option "+n+" must be "+l,Se.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Se("Unknown option "+n,Se.ERR_BAD_OPTION)}}const fp={assertOptions:RK,validators:u1},nr=fp.validators;class qc{constructor(s){this.defaults=s,this.interceptors={request:new Y0,response:new Y0}}async request(s,t){try{return await this._request(s,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const n=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+n):r.stack=n}catch{}}throw r}}_request(s,t){typeof s=="string"?(t=t||{},t.url=s):t=s||{},t=gi(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:n}=t;r!==void 0&&fp.assertOptions(r,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),i!=null&&(K.isFunction(i)?t.paramsSerializer={serialize:i}:fp.assertOptions(i,{encode:nr.function,serialize:nr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&K.merge(n.common,n[t.method]);n&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete n[p]}),t.headers=_s.concat(a,n);const o=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,d=0,h;if(!l){const p=[ry.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),h=p.length,u=Promise.resolve(t);d<h;)u=u.then(p[d++],p[d++]);return u}h=o.length;let m=t;for(d=0;d<h;){const p=o[d++],f=o[d++];try{m=p(m)}catch(b){f.call(this,b);break}}try{u=ry.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(s){s=gi(this.defaults,s);const t=Ww(s.baseURL,s.url);return Nw(t,s.params,s.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(s){qc.prototype[s]=function(t,r){return this.request(gi(r||{},{method:s,url:t,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(s){function t(r){return function(n,a,o){return this.request(gi(o||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}qc.prototype[s]=t(),qc.prototype[s+"Form"]=t(!0)});const xl=qc;class d1{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const r=this;this.promise.then(i=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](i);r._listeners=null}),this.promise.then=i=>{let n;const a=new Promise(o=>{r.subscribe(o),n=o}).then(i);return a.cancel=function(){r.unsubscribe(n)},a},s(function(n,a,o){r.reason||(r.reason=new jn(n,a,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const t=this._listeners.indexOf(s);t!==-1&&this._listeners.splice(t,1)}static source(){let s;return{token:new d1(function(i){s=i}),cancel:s}}}const HK=d1;function jK(e){return function(t){return e.apply(null,t)}}function IK(e){return K.isObject(e)&&e.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gp).forEach(([e,s])=>{gp[s]=e});const NK=gp;function Jw(e){const s=new xl(e),t=Dw(xl.prototype.request,s);return K.extend(t,xl.prototype,s,{allOwnKeys:!0}),K.extend(t,s,null,{allOwnKeys:!0}),t.create=function(i){return Jw(gi(e,i))},t}const tt=Jw(c1);tt.Axios=xl;tt.CanceledError=jn;tt.CancelToken=HK;tt.isCancel=Bw;tt.VERSION=Xw;tt.toFormData=zd;tt.AxiosError=Se;tt.Cancel=tt.CanceledError;tt.all=function(s){return Promise.all(s)};tt.spread=jK;tt.isAxiosError=IK;tt.mergeConfig=gi;tt.AxiosHeaders=_s;tt.formToJSON=e=>Uw(K.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=Yw.getAdapter;tt.HttpStatusCode=NK;tt.default=tt;const Ns=tt;var VK=Object.defineProperty,UK=Object.getOwnPropertyDescriptor,BK=(e,s,t,r)=>{for(var i=r>1?void 0:r?UK(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&VK(s,t,i),i};let _p=class extends M(O,yt){constructor(){super(...arguments),this.mdiInformation=It,this.mdiClose=go,this.mdiCog=Yt,this.mdiFolder=Af,this.mdiFolderUpload=Rf,this.mdiFileDocumentEditOutline=yo,this.mdiFile=Ks,this.mdiCloudDownload=ya,this.mdiRenameBox=Xu,this.mdiDelete=Ge,this.mdiCloseThick=pe,this.mdiLockOutline=Wu,this.mdiContentCopy=Tf,this.sortFiles=eg,this.formatFilesize=Qe,this.currentPage=1,this.contextMenu={shown:!1,isDirectory:!1,touchTimer:null,x:0,y:0,item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogImage={show:!1,item:{name:null,url:null,svg:null}},this.dialogCreateFile={show:!1,name:""},this.dialogRenameFile={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogDuplicateFile={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogCreateDirectory={show:!1,name:""},this.dialogRenameDirectory={show:!1,newName:"",item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.dialogDeleteDirectory={show:!1,item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.uploadSnackbar={status:!1,filename:"",percent:0,speed:0,total:0,number:0,max:0,cancelTokenSource:{}},this.draggingFile={item:{isDirectory:!1,filename:"",permissions:"",modified:new Date}},this.deleteDialog=!1,this.deleteSelectedDialog=!1,this.isInvalidName=!0,this.nameInputRules=[e=>!!e||this.$t("Files.InvalidNameEmpty"),e=>!this.existsFilename(e)||this.$t("Files.InvalidNameAlreadyExists")]}existsFilename(e){return this.files.findIndex(s=>s.filename===e)>=0}get blockFileUpload(){var e;return(e=this.$store.state.gui.view.blockFileUpload)!=null?e:!1}set blockFileUpload(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.blockFileUpload",value:e})}get toolbarButtons(){return[{text:this.$t("Machine.ConfigFilesPanel.Download"),color:"primary",icon:ya,loadingName:"configDownloadZip",onlyWriteable:!1,condition:this.selectedFiles.length>0,click:()=>{this.downloadSelectedFiles()}},{text:this.$t("Machine.ConfigFilesPanel.Delete"),color:"error",icon:Ge,loadingName:null,onlyWriteable:!0,condition:this.selectedFiles.length>0,click:()=>{this.deleteSelectedDialog=!0}},{text:this.$t("Machine.ConfigFilesPanel.UploadFile"),color:this.machineButtonCol,icon:VC,loadingName:null,onlyWriteable:!0,condition:!0,click:this.uploadFileButton},{text:this.$t("Machine.ConfigFilesPanel.CreateFile"),color:this.machineButtonCol,icon:h5,loadingName:null,onlyWriteable:!0,condition:!0,click:this.createFile},{text:this.$t("Machine.ConfigFilesPanel.CreateDirectory"),color:this.machineButtonCol,icon:kf,loadingName:null,onlyWriteable:!0,condition:!0,click:this.createDirectory},{text:this.$t("Machine.ConfigFilesPanel.RefreshDirectory"),color:this.machineButtonCol,icon:bi,loadingName:null,onlyWriteable:!1,condition:!0,click:this.refreshFileList}].filter(e=>e.condition)}get filteredToolbarButtons(){return this.toolbarButtons.filter(e=>this.directoryPermissions.includes("w")&&e.onlyWriteable||!e.onlyWriteable)}get absolutePath(){let e="/"+this.root;return this.currentPath&&(e+=this.currentPath),e}get directory(){return this.$store.getters["files/getDirectory"](this.absolutePath)}get disk_usage(){var e,s;return(s=(e=this.directory)==null?void 0:e.disk_usage)!=null?s:{used:0,free:0,total:0}}get directoryPermissions(){var e,s;return(s=(e=this.directory)==null?void 0:e.permissions)!=null?s:"r"}get files(){var s,t;let e=[...(t=(s=this.directory)==null?void 0:s.childrens)!=null?t:[]];if(this.showHiddenFiles||(e=e.filter(r=>r.filename.slice(0,1)!==".")),this.hideBackupFiles){const r=/^printer-\d{8}_\d{6}\.cfg$/,i=/^crowsnest\.conf\.\d{4}-\d{2}-\d{2}-\d{4}$/;e=e.filter(n=>!n.filename.match(r)&&!n.filename.match(i)&&!n.filename.endsWith(".bkp"))}return e}get headers(){return[{text:"",value:"",sortable:!1},{text:this.$t("Machine.ConfigFilesPanel.Name"),value:"filename"},{text:this.$t("Machine.ConfigFilesPanel.Filesize"),value:"size",align:"right"},{text:this.$t("Machine.ConfigFilesPanel.LastModified"),value:"modified",align:"right"}]}get selectedFiles(){var e;return(e=this.$store.state.gui.view.configfiles.selectedFiles)!=null?e:[]}set selectedFiles(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.configfiles.selectedFiles",value:e})}get countPerPage(){return this.$store.state.gui.view.configfiles.countPerPage}set countPerPage(e){this.$store.dispatch("gui/saveSetting",{name:"view.configfiles.countPerPage",value:e})}get showHiddenFiles(){return this.$store.state.gui.view.configfiles.showHiddenFiles}set showHiddenFiles(e){this.$store.dispatch("gui/saveSetting",{name:"view.configfiles.showHiddenFiles",value:e})}get hideBackupFiles(){return this.$store.state.gui.view.configfiles.hideBackupFiles}set hideBackupFiles(e){this.$store.dispatch("gui/saveSetting",{name:"view.configfiles.hideBackupFiles",value:e})}get sortBy(){return this.$store.state.gui.view.configfiles.sortBy}set sortBy(e){e===void 0&&(e="filename"),this.$store.dispatch("gui/saveSetting",{name:"view.configfiles.sortBy",value:e})}get sortDesc(){return this.$store.state.gui.view.configfiles.sortDesc}set sortDesc(e){e===void 0&&(e=!1),this.$store.dispatch("gui/saveSetting",{name:"view.configfiles.sortDesc",value:e})}get registeredDirectories(){var e;return(e=this.$store.state.server.registered_directories)!=null?e:[]}get existConfigRoot(){return this.registeredDirectories.findIndex(e=>e==="config")!==-1}get showMissingConfigRootWarning(){return this.absolutePath.startsWith("/config")&&!this.absolutePath.startsWith("/config_example")&&!this.existConfigRoot}get registeredDirectoriesSelectItems(){const e=this.registeredDirectories.filter(s=>!vM.includes(s)).sort();return this.existConfigRoot||e.push("config"),e}get root(){return this.$store.state.gui.view.configfiles.rootPath}set root(e){this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.configfiles.rootPath",value:e})}get currentPath(){return this.$store.state.gui.view.configfiles.currentPath}set currentPath(e){this.selectedFiles=[],this.$store.dispatch("gui/saveSettingWithoutUpload",{name:"view.configfiles.currentPath",value:e})}refreshFileList(){this.$socket.emit("server.files.get_directory",{path:this.absolutePath.substring(1)},{action:"files/getDirectory"})}changeRoot(){this.currentPath=""}clickRow(e,s=!1){var t,r,i,n;if(!this.contextMenu.shown||s)if(s&&(this.contextMenu.shown=!1),e.isDirectory)this.currentPath+="/"+e.filename,this.currentPage=1;else if(["png","jpeg","jpg","gif","bmp","tif","svg"].includes((r=(t=e.filename.split(".").pop())==null?void 0:t.toLowerCase())!=null?r:"")){const a="".concat(this.apiUrl,"/server/files").concat(this.absolutePath,"/").concat(e.filename,"?t=").concat(Date.now());this.dialogImage.item.name=e.filename,["svg"].includes((n=(i=e.filename.split(".").pop())==null?void 0:i.toLowerCase())!=null?n:"")?fetch(a).then(o=>o.text()).then(o=>{this.dialogImage.show=!0,this.dialogImage.item.svg=o}):(this.dialogImage.show=!0,this.dialogImage.item.url=a)}else this.$store.dispatch("editor/openFile",{root:this.root,path:this.currentPath,filename:e.filename,size:e.size,permissions:e.permissions})}clickRowGoBack(){this.currentPath=this.currentPath.slice(0,this.currentPath.lastIndexOf("/"))}clickPathNavGoToDirectory(e){this.currentPath=e.location}showContextMenu(e,s){this.contextMenu.shown||(e==null||e.preventDefault(),this.contextMenu.shown=!0,this.contextMenu.x=(e==null?void 0:e.clientX)||(e==null?void 0:e.pageX)||window.screenX/2,this.contextMenu.y=(e==null?void 0:e.clientY)||(e==null?void 0:e.pageY)||window.screenY/2,this.contextMenu.item=s,this.$nextTick(()=>{this.contextMenu.shown=!0}))}downloadFile(){const e=this.absolutePath+"/"+this.contextMenu.item.filename,s="".concat(this.apiUrl,"/server/files").concat(Ie(e));window.open(s)}async downloadSelectedFiles(){let e=[];const s=async(c,u)=>{for(const d of u){const h="".concat(c,"/").concat(d.filename);if(d.isDirectory&&d.childrens){await s(h,d.childrens);continue}e.push(h)}};await s(this.absolutePath,this.selectedFiles);const t=new Date,r=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),n=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0"),l="".concat(t.getFullYear()).concat(r).concat(i,"-").concat(n).concat(a).concat(o);this.$socket.emit("server.files.zip",{items:e,dest:"config/".concat(this.root,"-").concat(l,".zip")},{action:"files/downloadZip",loading:"configDownloadZip"}),this.selectedFiles=[]}createDirectory(){this.dialogCreateDirectory.name="",this.dialogCreateDirectory.show=!0,setTimeout(()=>{var e;(e=this.$refs.inputDialogCreateDirectoryName)==null||e.focus()},200)}createDirectoryAction(){this.dialogCreateDirectory.show=!1,this.$socket.emit("server.files.post_directory",{path:this.absolutePath.substring(1)+"/"+this.dialogCreateDirectory.name},{action:"files/getCreateDir"})}renameDirectory(e){this.dialogRenameDirectory.item=e,this.dialogRenameDirectory.newName=e.filename,this.dialogRenameDirectory.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputDialogRenameDirectoryName)==null||s.focus()},200)}renameDirectoryAction(){this.dialogRenameDirectory.show=!1,this.$socket.emit("server.files.move",{source:(this.absolutePath+"/"+this.dialogRenameDirectory.item.filename).slice(1),dest:(this.absolutePath+"/"+this.dialogRenameDirectory.newName).slice(1)},{action:"files/getMove"})}deleteDirectory(e){this.dialogDeleteDirectory.item=e,this.dialogDeleteDirectory.show=!0}deleteDirectoryAction(){this.dialogDeleteDirectory.show=!1,this.$socket.emit("server.files.delete_directory",{path:this.absolutePath+"/"+this.dialogDeleteDirectory.item.filename,force:!0},{action:"files/getDeleteDir"})}createFile(){this.dialogCreateFile.name="",this.dialogCreateFile.show=!0,setTimeout(()=>{var e;(e=this.$refs.inputDialogCreateFileName)==null||e.focus()},200)}createFileAction(){const e=new File([""],this.dialogCreateFile.name);let s=new FormData;s.append("file",e),s.append("root",this.root),this.currentPath.length&&s.append("path",this.currentPath.slice(1)),Ns.post(this.apiUrl+"/server/files/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$toast.success(this.$t("Files.SuccessfullyCreated",{filename:this.dialogCreateFile.name}).toString()),this.dialogCreateFile.show=!1,this.dialogCreateFile.name=""}).catch(()=>{window.console.error("Error create file: "+this.dialogCreateFile.name)})}renameFile(e){this.dialogRenameFile.item=e,this.dialogRenameFile.newName=e.filename,this.dialogRenameFile.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputDialogRenameFileName)==null||s.focus()},200)}renameFileAction(){this.dialogRenameFile.show=!1,this.$socket.emit("server.files.move",{source:(this.absolutePath+"/"+this.dialogRenameFile.item.filename).slice(1),dest:(this.absolutePath+"/"+this.dialogRenameFile.newName).slice(1)},{action:"files/getMove"})}duplicateFile(e){this.dialogDuplicateFile.item=e,this.dialogDuplicateFile.newName=e.filename,this.dialogDuplicateFile.show=!0,setTimeout(()=>{var s;(s=this.$refs.inputDialogDuplicateFileName)==null||s.focus()},200)}duplicateFileAction(){this.dialogDuplicateFile.show=!1,this.$socket.emit("server.files.copy",{source:(this.absolutePath+"/"+this.dialogDuplicateFile.item.filename).slice(1),dest:(this.absolutePath+"/"+this.dialogDuplicateFile.newName).slice(1)})}removeFile(){this.$socket.emit("server.files.delete_file",{path:this.absolutePath+"/"+this.contextMenu.item.filename},{action:"files/getDeleteFile"}),this.deleteDialog=!1}deleteSelectedFiles(){this.selectedFiles.forEach(e=>{e.isDirectory?this.$socket.emit("server.files.delete_directory",{path:this.absolutePath+"/"+e.filename,force:!0},{action:"files/getDeleteDir"}):this.$socket.emit("server.files.delete_file",{path:this.absolutePath+"/"+e.filename},{action:"files/getDeleteFile"})}),this.selectedFiles=[],this.deleteSelectedDialog=!1}uploadFileButton(){this.$refs.fileUpload.click()}async uploadFile(){var e;if((e=this.$refs.fileUpload.files)!=null&&e.length){const s=[...this.$refs.fileUpload.files];this.$refs.fileUpload.value="",await this.$store.dispatch("socket/addLoading",{name:"configFileUpload"}),await this.$store.dispatch("files/uploadSetCurrentNumber",0),await this.$store.dispatch("files/uploadSetMaxNumber",this.$refs.fileUpload.files.length);for(const t of s){await this.$store.dispatch("files/uploadIncrementCurrentNumber");const r=this.currentPath.slice(0,1)==="/"?this.currentPath.slice(1):this.currentPath,i=await this.$store.dispatch("files/uploadFile",{file:t,path:r,root:"config"});i!==!1&&this.$toast.success(this.$t("Files.SuccessfullyUploaded",{filename:i}).toString())}await this.$store.dispatch("socket/removeLoading",{name:"configFileUpload"})}}cancelUpload(){this.uploadSnackbar.cancelTokenSource.cancel(),this.uploadSnackbar.status=!1}dragFile(e,s){e.preventDefault(),this.blockFileUpload=!0,this.draggingFile.item=s}dragendFile(e){e.preventDefault(),this.blockFileUpload=!1,this.draggingFile.item={isDirectory:!1,filename:"",permissions:"",modified:new Date}}dragOverFilelist(e,s){this.blockFileUpload&&(e.preventDefault(),s.isDirectory&&(e.target.parentElement.style.backgroundColor="#43A04720"))}dragLeaveFilelist(e){this.blockFileUpload&&(e.preventDefault(),e.stopPropagation(),e.target.parentElement.style.backgroundColor="transparent")}async dragDropFilelist(e,s){if(this.blockFileUpload){e.preventDefault(),e.target.parentElement.style.backgroundColor="transparent";let t;s.filename===".."?t=this.absolutePath.slice(1,this.absolutePath.lastIndexOf("/")+1)+this.draggingFile.item.filename:t=this.absolutePath+"/"+s.filename+"/"+this.draggingFile.item.filename,this.$socket.emit("server.files.move",{source:this.absolutePath.slice(1)+"/"+this.draggingFile.item.filename,dest:t},{action:"files/getMove"})}}};_p=BK([w({components:{Panel:B,PathNavigation:An}})],_p);var GK=function(){var e,s=this,t=s.$createElement,r=s._self._c||t;return r("div",[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.ConfigFiles"),"card-class":"machine-configfiles-panel",icon:s.mdiInformation,collapsible:!0}},[r(Z,[r(C,[r(v,{staticClass:"col-12 col-lg pr-lg-0"},[r(we,{staticClass:"machine-configfiles-panel__root-select",attrs:{items:s.registeredDirectoriesSelectItems,label:s.$t("Machine.ConfigFilesPanel.Root"),outlined:"","hide-details":"",dense:"",attach:".machine-configfiles-panel__root-select"},on:{change:s.changeRoot},model:{value:s.root,callback:function(i){s.root=i},expression:"root"}})],1),r(v,{staticClass:"col col-lg-auto pl-lg-0 text-right"},[r("input",{ref:"fileUpload",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:s.uploadFile}}),s._l(s.filteredToolbarButtons,function(i){return r(g,{key:i.loadingName,staticClass:"px-2 minwidth-0 ml-3",attrs:{color:i.color,loading:i.loadingName!==null&&s.loadings.includes(i.loadingName)},on:{click:i.click}},[r(ue,{attrs:{top:""},scopedSlots:s._u([{key:"activator",fn:function(n){var a=n.on,o=n.attrs;return[r(_,s._g(s._b({},"v-icon",o,!1),a),[s._v(s._s(i.icon))])]}}],null,!0)},[r("span",[s._v(s._s(i.text))])])],1)}),r(ye,{attrs:{"offset-y":"",left:"",title:s.$t("Machine.ConfigFilesPanel.SetupCurrentList")},scopedSlots:s._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[r(g,s._g(s._b({staticClass:"px-2 minwidth-0 ml-3"},"v-btn",a,!1),n),[r(_,{staticClass:"machine-configfiles-panel__settings-icon"},[s._v(s._s(s.mdiCog))])],1)]}}])},[r(Ee,[r(Y,{staticClass:"minHeight36"},[r(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:s.$t("Machine.ConfigFilesPanel.HiddenFiles")},model:{value:s.showHiddenFiles,callback:function(i){s.showHiddenFiles=i},expression:"showHiddenFiles"}})],1),r(Y,{staticClass:"minHeight36"},[r(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:s.$t("Machine.ConfigFilesPanel.HideBackupFiles")},model:{value:s.hideBackupFiles,callback:function(i){s.hideBackupFiles=i},expression:"hideBackupFiles"}})],1)],1)],1)],2)],1)],1),r(Z,[r(C,[r(v,{staticClass:"col-12 py-2 d-flex align-center"},[r("span",[r("b",{staticClass:"mr-1"},[s._v(s._s(s.$t("Machine.ConfigFilesPanel.CurrentPath"))+":")]),r(An,{attrs:{path:s.currentPath,"base-directory-label":"/".concat(s.root),"on-segment-click":s.clickPathNavGoToDirectory}})],1),r(ie),s.disk_usage!==null&&!s.showMissingConfigRootWarning?[r(ue,{attrs:{top:""},scopedSlots:s._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[r("span",s._g(s._b({},"span",a,!1),n),[r("b",[s._v(s._s(s.$t("Machine.ConfigFilesPanel.FreeDisk"))+":")]),s._v(" "+s._s(s.formatFilesize(s.disk_usage.free))+" ")])]}}],null,!1,3140322967)},[r("span",[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Used"))+": "+s._s(s.formatFilesize(s.disk_usage.used))+" "),r("br"),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Free"))+": "+s._s(s.formatFilesize(s.disk_usage.free))+" "),r("br"),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Total"))+": "+s._s(s.formatFilesize(s.disk_usage.total))+" ")])])]:s._e()],2)],1)],1),r(H),s.showMissingConfigRootWarning?r(Z,[r(C,[r(v,{staticClass:"col-12 col-lg pr-lg-0"},[r(et,{staticClass:"mx-auto mt-6",attrs:{dense:"",text:"",type:"warning",elevation:"2","max-width":"500",icon:s.mdiLockOutline}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.ConfigRootDirectoryDoesntExists"))+" ")])],1)],1)],1):r(Mr,{staticClass:"files-table",attrs:{items:s.files,headers:s.headers,page:s.currentPage,"custom-sort":s.sortFiles,"sort-by":s.sortBy,"sort-desc":s.sortDesc,"items-per-page":s.countPerPage,"footer-props":{itemsPerPageText:s.$t("Machine.ConfigFilesPanel.Files"),itemsPerPageAllText:s.$t("Machine.ConfigFilesPanel.AllFiles"),itemsPerPageOptions:[10,25,50,100,-1]},"mobile-breakpoint":"0","item-key":"filename","show-select":""},on:{"update:page":function(i){s.currentPage=i},"update:sortBy":function(i){s.sortBy=i},"update:sort-by":function(i){s.sortBy=i},"update:sortDesc":function(i){s.sortDesc=i},"update:sort-desc":function(i){s.sortDesc=i},"update:itemsPerPage":function(i){s.countPerPage=i},"update:items-per-page":function(i){s.countPerPage=i}},scopedSlots:s._u([{key:"no-data",fn:function(){return[r("div",{staticClass:"text-center"},[s._v(s._s(s.$t("Machine.ConfigFilesPanel.Empty")))])]},proxy:!0},{key:"item",fn:function(i){var n=i.index,a=i.item,o=i.isSelected,l=i.select;return[r("tr",{directives:[{name:"longpress",rawName:"v-longpress:600",value:function(c){return s.showContextMenu(c,a)},expression:"(e) => showContextMenu(e, item)",arg:"600"}],key:"".concat(n," ").concat(a.filename),staticClass:"file-list-cursor user-select-none",attrs:{"data-name":a.filename,draggable:"true"},on:{contextmenu:function(c){return s.showContextMenu(c,a)},click:function(c){return s.clickRow(a)},drag:function(c){return s.dragFile(c,a)},dragend:function(c){return s.dragendFile(c)},dragover:function(c){return s.dragOverFilelist(c,a)},dragleave:s.dragLeaveFilelist,drop:function(c){return c.preventDefault(),c.stopPropagation(),s.dragDropFilelist(c,a)}}},[r("td",{staticClass:"file-list__select-td pr-0"},[r(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{value:o},on:{click:function(c){return c.stopPropagation(),l(!o)}}})],1),r("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[a.isDirectory?r(_,[s._v(s._s(s.mdiFolder))]):s._e(),a.isDirectory?s._e():r(_,[s._v(s._s(s.mdiFile))])],1),r("td",{staticClass:""},[s._v(s._s(a.filename))]),r("td",{staticClass:"text-no-wrap text-right"},[s._v(" "+s._s(a.isDirectory?"--":s.formatFilesize(a.size))+" ")]),r("td",{staticClass:"text-right"},[s._v(s._s(s.formatDateTime(a.modified)))])])]}}],null,!1,1962952882),model:{value:s.selectedFiles,callback:function(i){s.selectedFiles=i},expression:"selectedFiles"}},[s.currentPath!==""?r("template",{slot:"body.prepend"},[r("tr",{staticClass:"file-list-cursor",on:{click:s.clickRowGoBack,dragover:function(i){return s.dragOverFilelist(i,{isDirectory:!0,filename:".."})},dragleave:s.dragLeaveFilelist,drop:function(i){return i.preventDefault(),i.stopPropagation(),s.dragDropFilelist(i,{isDirectory:!0,filename:".."})}}},[r("td",{staticClass:"file-list__select-td pr-0"},[r(ei,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"pa-0 mr-0",attrs:{disabled:""}})],1),r("td",{staticClass:"px-0 text-center",staticStyle:{width:"32px"}},[r(_,[s._v(s._s(s.mdiFolderUpload))])],1),r("td",{staticClass:"",attrs:{colspan:"4"}},[s._v("..")])])]):s._e()],2)],1),r(ye,{attrs:{"position-x":s.contextMenu.x,"position-y":s.contextMenu.y,absolute:"","offset-y":""},model:{value:s.contextMenu.shown,callback:function(i){s.$set(s.contextMenu,"shown",i)},expression:"contextMenu.shown"}},[r(Ee,[s.contextMenu.item.isDirectory?s._e():r(Y,{on:{click:function(i){return s.clickRow(s.contextMenu.item,!0)}}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiFileDocumentEditOutline))]),s._v(" "+s._s(s.contextMenu.item.permissions.includes("w")?s.$t("Machine.ConfigFilesPanel.EditFile"):s.$t("Machine.ConfigFilesPanel.ShowFile"))+" ")],1),s.contextMenu.item.isDirectory?s._e():r(Y,{on:{click:s.downloadFile}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiCloudDownload))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Download"))+" ")],1),!s.contextMenu.item.isDirectory&&s.contextMenu.item.permissions.includes("w")?r(Y,{on:{click:function(i){return s.renameFile(s.contextMenu.item)}}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiRenameBox))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Rename"))+" ")],1):s._e(),s.contextMenu.item.isDirectory?s._e():r(Y,{on:{click:function(i){return s.duplicateFile(s.contextMenu.item)}}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiContentCopy))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Duplicate"))+" ")],1),s.contextMenu.item.isDirectory&&s.contextMenu.item.permissions.includes("w")?r(Y,{on:{click:function(i){return s.renameDirectory(s.contextMenu.item)}}},[r(_,{staticClass:"mr-1"},[s._v(s._s(s.mdiRenameBox))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Rename"))+" ")],1):s._e(),!s.contextMenu.item.isDirectory&&s.contextMenu.item.permissions.includes("w")?r(Y,{staticClass:"red--text",on:{click:function(i){s.deleteDialog=!0}}},[r(_,{staticClass:"mr-1",attrs:{color:"error"}},[s._v(s._s(s.mdiDelete))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Delete"))+" ")],1):s._e(),s.contextMenu.item.isDirectory&&s.contextMenu.item.permissions.includes("w")?r(Y,{staticClass:"red--text",on:{click:function(i){return s.deleteDirectory(s.contextMenu.item)}}},[r(_,{staticClass:"mr-1",attrs:{color:"error"}},[s._v(s._s(s.mdiDelete))]),s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Delete"))+" ")],1):s._e()],1)],1),r(oe,{staticClass:"fill-height",attrs:{"hide-overlay":"",fullscreen:""},on:{keydown:function(i){if(!i.type.indexOf("key")&&s._k(i.keyCode,"esc",27,i.key,["Esc","Escape"]))return null;s.dialogImage.show=!1,s.dialogImage.item.url=null,s.dialogImage.item.svg=null}},model:{value:s.dialogImage.show,callback:function(i){s.$set(s.dialogImage,"show",i)},expression:"dialogImage.show"}},[r(B,{staticStyle:{position:"relative"},attrs:{title:(e=s.dialogImage.item.name)!==null&&e!==void 0?e:"","card-class":"maschine-configfiles-imageviewer-dialog"},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogImage.show=!1,s.dialogImage.item.url=null,s.dialogImage.item.svg=null}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r("div",{staticClass:"d-flex justify-center",staticStyle:{"max-height":"calc(var(--app-height) - 64px)",overflow:"auto"}},[s.dialogImage.item.url?r("img",{staticStyle:{"max-height":"100%",width:"auto","max-width":"100%","object-fit":"contain"},attrs:{src:s.dialogImage.item.url,alt:"image"}}):s.dialogImage.item.svg?r("div",{staticClass:"fill-width",domProps:{innerHTML:s._s(s.dialogImage.item.svg)}}):s._e()])])],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogCreateFile.show,callback:function(i){s.$set(s.dialogCreateFile,"show",i)},expression:"dialogCreateFile.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.CreateFile"),"card-class":"maschine-configfiles-create-file-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogCreateFile.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r(re,{ref:"inputDialogCreateFileName",attrs:{label:s.$t("Machine.ConfigFilesPanel.Name"),required:"",rules:s.nameInputRules},on:{"update:error":function(i){return s.isInvalidName=i},keyup:function(i){return!i.type.indexOf("key")&&s._k(i.keyCode,"enter",13,i.key,"Enter")?null:s.createFileAction.apply(null,arguments)}},model:{value:s.dialogCreateFile.name,callback:function(i){s.$set(s.dialogCreateFile,"name",i)},expression:"dialogCreateFile.name"}})],1),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogCreateFile.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{disabled:s.isInvalidName,color:"primary",text:""},on:{click:s.createFileAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Create"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogRenameFile.show,callback:function(i){s.$set(s.dialogRenameFile,"show",i)},expression:"dialogRenameFile.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.RenameFile"),"card-class":"maschine-configfiles-rename-file-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogRenameFile.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r(re,{ref:"inputDialogRenameFileName",attrs:{label:s.$t("Machine.ConfigFilesPanel.Name"),required:"",rules:s.nameInputRules},on:{"update:error":function(i){return s.isInvalidName=i},keyup:function(i){return!i.type.indexOf("key")&&s._k(i.keyCode,"enter",13,i.key,"Enter")?null:s.renameFileAction.apply(null,arguments)}},model:{value:s.dialogRenameFile.newName,callback:function(i){s.$set(s.dialogRenameFile,"newName",i)},expression:"dialogRenameFile.newName"}})],1),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogRenameFile.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{disabled:s.isInvalidName,color:"primary",text:""},on:{click:s.renameFileAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Rename"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogDuplicateFile.show,callback:function(i){s.$set(s.dialogDuplicateFile,"show",i)},expression:"dialogDuplicateFile.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.DuplicateFile"),"card-class":"maschine-configfiles-duplicate-file-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogDuplicateFile.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r(re,{ref:"inputDialoDuplicateFileName",attrs:{label:s.$t("Machine.ConfigFilesPanel.Name"),required:"",rules:s.nameInputRules},on:{"update:error":function(i){return s.isInvalidName=i},keyup:function(i){return!i.type.indexOf("key")&&s._k(i.keyCode,"enter",13,i.key,"Enter")?null:s.duplicateFileAction.apply(null,arguments)}},model:{value:s.dialogDuplicateFile.newName,callback:function(i){s.$set(s.dialogDuplicateFile,"newName",i)},expression:"dialogDuplicateFile.newName"}})],1),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogDuplicateFile.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{disabled:s.isInvalidName,color:"primary",text:""},on:{click:s.duplicateFileAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Duplicate"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogCreateDirectory.show,callback:function(i){s.$set(s.dialogCreateDirectory,"show",i)},expression:"dialogCreateDirectory.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.CreateDirectory"),"card-class":"maschine-configfiles-create-directory-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogCreateDirectory.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r(re,{ref:"inputDialogCreateDirectoryName",attrs:{label:s.$t("Machine.ConfigFilesPanel.Name"),required:"",rules:s.nameInputRules},on:{"update:error":function(i){return s.isInvalidName=i},keyup:function(i){return!i.type.indexOf("key")&&s._k(i.keyCode,"enter",13,i.key,"Enter")?null:s.createDirectoryAction.apply(null,arguments)}},model:{value:s.dialogCreateDirectory.name,callback:function(i){s.$set(s.dialogCreateDirectory,"name",i)},expression:"dialogCreateDirectory.name"}})],1),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogCreateDirectory.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{disabled:s.isInvalidName,color:"primary",text:""},on:{click:s.createDirectoryAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Create"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogRenameDirectory.show,callback:function(i){s.$set(s.dialogRenameDirectory,"show",i)},expression:"dialogRenameDirectory.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.RenameDirectory"),"card-class":"maschine-configfiles-rename-directory-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogRenameDirectory.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r(re,{ref:"inputDialogRenameDirectoryName",attrs:{label:s.$t("Machine.ConfigFilesPanel.Name"),required:"",rules:s.nameInputRules},on:{"update:error":function(i){return s.isInvalidName=i},keyup:function(i){return!i.type.indexOf("key")&&s._k(i.keyCode,"enter",13,i.key,"Enter")?null:s.renameDirectoryAction.apply(null,arguments)}},model:{value:s.dialogRenameDirectory.newName,callback:function(i){s.$set(s.dialogRenameDirectory,"newName",i)},expression:"dialogRenameDirectory.newName"}})],1),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogRenameDirectory.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{disabled:s.isInvalidName,color:"primary",text:""},on:{click:s.renameDirectoryAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Rename"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.dialogDeleteDirectory.show,callback:function(i){s.$set(s.dialogDeleteDirectory,"show",i)},expression:"dialogDeleteDirectory.show"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.DeleteDirectory"),"card-class":"maschine-configfiles-delete-directory-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.dialogDeleteDirectory.show=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r("p",{staticClass:"mb-0"},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.DeleteDirectoryQuestion",{name:s.dialogDeleteDirectory.item.filename}))+" ")])]),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.dialogDeleteDirectory.show=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{color:"error",text:""},on:{click:s.deleteDirectoryAction}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Delete"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.deleteDialog,callback:function(i){s.deleteDialog=i},expression:"deleteDialog"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.Delete"),"card-class":"maschine-configfiles-delete-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.deleteDialog=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[r("p",{staticClass:"mb-0"},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.DeleteSingleFileQuestion",{name:s.contextMenu.item.filename}))+" ")])]),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.deleteDialog=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{color:"error",text:""},on:{click:s.removeFile}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Delete"))+" ")])],1)],1)],1),r(oe,{attrs:{"max-width":"400"},model:{value:s.deleteSelectedDialog,callback:function(i){s.deleteSelectedDialog=i},expression:"deleteSelectedDialog"}},[r(B,{attrs:{title:s.$t("Machine.ConfigFilesPanel.Delete"),"card-class":"maschine-configfiles-delete-selected-dialog","margin-bottom":!1},scopedSlots:s._u([{key:"buttons",fn:function(){return[r(g,{attrs:{icon:"",tile:""},on:{click:function(i){s.deleteSelectedDialog=!1}}},[r(_,[s._v(s._s(s.mdiCloseThick))])],1)]},proxy:!0}])},[r(Z,[s.selectedFiles.length===1?r("p",{staticClass:"mb-0"},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.DeleteSingleFileQuestion",{name:s.selectedFiles[0].filename}))+" ")]):r("p",{staticClass:"mb-0"},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.DeleteSelectedQuestion",{count:s.selectedFiles.length}))+" ")])]),r(ae,[r(ie),r(g,{attrs:{color:"",text:""},on:{click:function(i){s.deleteSelectedDialog=!1}}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Cancel"))+" ")]),r(g,{attrs:{color:"error",text:""},on:{click:s.deleteSelectedFiles}},[s._v(" "+s._s(s.$t("Machine.ConfigFilesPanel.Delete"))+" ")])],1)],1)],1),r(Wi,{attrs:{timeout:-1,value:!0,fixed:"",right:"",bottom:""},scopedSlots:s._u([{key:"action",fn:function(i){var n=i.attrs;return[r(g,s._b({staticStyle:{"min-width":"auto"},attrs:{color:"red",text:""},on:{click:s.cancelUpload}},"v-btn",n,!1),[r(_,{staticClass:"0"},[s._v(s._s(s.mdiClose))])],1)]}}]),model:{value:s.uploadSnackbar.status,callback:function(i){s.$set(s.uploadSnackbar,"status",i)},expression:"uploadSnackbar.status"}},[s.uploadSnackbar.max>1?r("span",{staticClass:"mr-1"},[s._v(" ("+s._s(s.uploadSnackbar.number)+"/"+s._s(s.uploadSnackbar.max)+") ")]):s._e(),r("strong",[s._v(s._s(s.$t("Machine.ConfigFilesPanel.Uploading"))+" "+s._s(s.uploadSnackbar.filename))]),r("br"),s._v(" "+s._s(Math.round(s.uploadSnackbar.percent))+" % @ "+s._s(s.formatFilesize(Math.round(s.uploadSnackbar.speed)))+"/s "),r("br"),r(Es,{staticClass:"mt-2",attrs:{value:s.uploadSnackbar.percent}})],1)],1)},WK=[];const ny={};var zK=E(_p,GK,WK,!1,qK,null,null,null);function qK(e){for(let s in ny)this[s]=ny[s]}const Kw=function(){return zK.exports}();var ZK=Object.defineProperty,YK=Object.getOwnPropertyDescriptor,XK=(e,s,t,r)=>{for(var i=r>1?void 0:r?YK(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ZK(s,t,i),i};let vp=class extends M(O){constructor(){super(...arguments),this.formatFilesize=Qe,this.mdiCloseThick=pe,this.mdiTextBoxSearchOutline=o$,this.hostDetailsDialog=!1}get hostStats(){var e;return(e=this.$store.getters["server/getHostStats"])!=null?e:null}get systemInfo(){var e,s;return(s=(e=this.$store.state.server)==null?void 0:e.system_info)!=null?s:{}}get releaseName(){var s,t,r,i;let e=(t=(s=this.hostStats.release_info)==null?void 0:s.name)!=null?t:"";return e.startsWith("#")?(i=(r=this.hostStats.release_info)==null?void 0:r.id)!=null?i:null:e.startsWith("0.")?null:e}get directory(){return this.$store.getters["files/getDirectory"]("gcodes")}get disk_usage(){var e,s;return(s=(e=this.directory)==null?void 0:e.disk_usage)!=null?s:{used:0,free:0,total:0}}get cpuUsage(){var e;return(e=this.$store.getters["server/getCpuUsage"])!=null?e:null}get cpuUsageColor(){let e="primary";return this.cpuUsage>95?e="error":this.cpuUsage>80&&(e="warning"),e}get networkInterfaces(){var e;return(e=this.$store.getters["server/getNetworkInterfaces"])!=null?e:null}getIpAddress(e){const s=e.find(r=>r.family==="ipv4");if(s)return" (".concat(s.address,")");const t=e.find(r=>r.family==="ipv6");return t?" (".concat(t.address,")"):null}get cpuDesc(){return this.hostStats.cpuDesc}get cpuName(){let e=this.hostStats.cpuName;return this.hostStats.bits&&(e+=", ".concat(this.hostStats.bits)),e}};vp=XK([w({components:{Panel:B}})],vp);var JK=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{staticClass:"py-0 pr-4"},[t(v,{staticClass:"pl-6"},[t("strong",{staticStyle:{cursor:"pointer"},on:{click:function(r){e.hostDetailsDialog=!0}}},[e._v("Host")]),t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[e.hostStats.cpuName?t("small",e._g(e._b({staticClass:"ml-2"},"small",n,!1),i),[e._v("("+e._s(e.cpuName)+")")]):e._e()]}}])},[t("span",[e._v(e._s(e.cpuDesc))])]),t("br"),t("div",{staticClass:"text-body-2"},[e.hostStats.version?t("div",[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Version",{version:e.hostStats.version}))+" ")]):e._e(),e.hostStats.os?t("div",[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Os",{os:e.hostStats.os}))+" ")]):e._e(),e.releaseName?t("div",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Distro",{name:e.releaseName,version_id:e.hostStats.release_info.version_id}))+" "),e.hostStats.release_info.codename?[e._v(" ("+e._s(e.hostStats.release_info.codename)+") ")]:e._e()],2):e._e(),t("div",[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Load",{load:e.hostStats.load}))+", ")]),e.hostStats.memoryFormat?t("span",{staticClass:"d-inline-block text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Memory",{memory:e.hostStats.memoryFormat}))+" ")]):e._e(),t("span",{staticClass:"text-no-wrap"},[e.hostStats.tempSensor?[e.hostStats.tempSensor.measured_min_temp!==null&&e.hostStats.tempSensor.measured_max_temp!==null?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[e._v(" , "+e._s(e.$t("Machine.SystemPanel.Values.Temp",{temp:e.hostStats.tempSensor.temperature}))+" ")])]}}],null,!1,2813579108)},[t("span",[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.TempMax",{temp:e.hostStats.tempSensor.measured_max_temp}))+" "),t("br"),e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.TempMin",{temp:e.hostStats.tempSensor.measured_min_temp}))+" ")])])]:t("span",[e._v(" , "+e._s(e.$t("Machine.SystemPanel.Values.Temp",{temp:e.hostStats.tempSensor.temperature}))+" ")])]:e._e()],2)]),e.networkInterfaces?e._l(e.networkInterfaces,function(r,i){return t("div",{key:i},[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(i)+" "),"details"in r?[e._v(" "+e._s(e.getIpAddress(r.details.ip_addresses))+" ")]:e._e(),e._v(" : ")],2),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Bandwidth",{bandwidth:e.formatFilesize(r.bandwidth)}))+" ")]),e._v(" , "),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Received",{received:e.formatFilesize(r.rx_bytes)}))+" ")]),e._v(" , "),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Transmitted",{transmitted:e.formatFilesize(r.tx_bytes)}))+" ")])])}):e._e()],2)],1),e.cpuUsage!==null?t(v,{staticClass:"px-2 col-auto d-flex flex-column justify-center align-center"},[t(dt,{attrs:{rotate:-90,size:55,width:7,value:e.cpuUsage,color:e.cpuUsageColor}},[e._v(" "+e._s(e.cpuUsage)+" ")]),t("span",{staticClass:"mt-2"},[e._v(e._s(e.$t("Machine.SystemPanel.Cpu")))])],1):t(v,{staticClass:"px-2 col-auto d-flex flex-column justify-center align-center"},[t(dt,{attrs:{rotate:-90,size:55,width:7,value:e.hostStats.loadPercent,color:e.hostStats.loadProgressColor}},[e._v(" "+e._s(e.hostStats.loadPercent)+" ")]),t("span",{staticClass:"mt-2"},[e._v(e._s(e.$t("Machine.SystemPanel.Load")))])],1),e.hostStats.memUsage!==null?t(v,{staticClass:"px-2 col-auto d-flex flex-column justify-center align-center"},[t(dt,{attrs:{rotate:-90,size:55,width:7,value:e.hostStats.memUsage,color:e.hostStats.memUsageColor}},[e._v(" "+e._s(e.hostStats.memUsage)+" ")]),t("span",{staticClass:"mt-2"},[e._v(e._s(e.$t("Machine.SystemPanel.Memory")))])],1):e._e()],1),t(oe,{attrs:{"max-width":600,"max-height":500,scrollable:""},model:{value:e.hostDetailsDialog,callback:function(r){e.hostDetailsDialog=r},expression:"hostDetailsDialog"}},[t(B,{attrs:{title:e.$t("Machine.SystemPanel.HostDetails"),icon:e.mdiTextBoxSearchOutline,"card-class":"machine-systemload-host-details-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.hostDetailsDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-5 px-0"},[t("overlay-scrollbars",{staticClass:"px-6",staticStyle:{height:"350px"}},[Object.keys(e.systemInfo).length?e._l(e.systemInfo,function(r,i,n){return t("div",{key:i},[i!=="available_services"?[t(C,{class:n?"mt-5":""},[t(v,[t("span",{staticClass:"headline"},[e._v(e._s(i))])])],1),e._l(r,function(a,o,l){return t("div",{key:o},[l?t(H,{staticClass:"my-3"}):e._e(),t(C,[t(v,[e._v(e._s(o))]),t(v,{staticClass:"text-right"},[e._v(e._s(a))])],1)],1)})]:e._e()],2)}):[t(C,{staticClass:"mt-5"},[t(v,[t("p",[e._v(e._s(e.$t("Machine.SystemPanel.NoMoreInfos")))])])],1)]],2)],1)],1)],1)],1)},KK=[];const ay={};var QK=E(vp,JK,KK,!1,eQ,"1e488c0d",null,null);function eQ(e){for(let s in ay)this[s]=ay[s]}const Qw=function(){return QK.exports}();var tQ=Object.defineProperty,sQ=Object.getOwnPropertyDescriptor,eP=(e,s,t,r)=>{for(var i=r>1?void 0:r?sQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&tQ(s,t,i),i};let Zc=class extends M(O){constructor(){super(...arguments),this.formatFilesize=Qe,this.mdiCloseThick=pe,this.mcuDetailsDialog=!1}};eP([x({required:!0})],Zc.prototype,"mcu",2);Zc=eP([w({components:{Panel:B}})],Zc);var rQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(C,{staticClass:"py-0 pr-4"},[t(v,{staticClass:"pl-6"},[t("strong",{staticStyle:{cursor:"pointer"},on:{click:function(r){e.mcuDetailsDialog=!0}}},[e._v(e._s(e.mcu.name))]),e.mcu.chip?t("small",{staticClass:"ml-2"},[e._v("("+e._s(e.mcu.chip)+")")]):e._e(),t("br"),t("div",{staticClass:"text-body-2"},[t("div",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Version",{version:e.mcu.version}))+" ")]),t("div",[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Load",{load:e.mcu.load}))+", ")]),t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Awake",{awake:e.mcu.awake}))+", ")]),e.mcu.freq!==null?t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Frequency",{frequency:e.mcu.freqFormat}))+", ")]):e._e(),e.mcu.tempSensor?[e.mcu.tempSensor.measured_min_temp!==null&&e.mcu.tempSensor.measured_max_temp!==null?[t(ue,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Temp",{temp:e.mcu.tempSensor.temperature}))+" ")])]}}],null,!1,1093946258)},[t("span",[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.TempMax",{temp:e.mcu.tempSensor.measured_max_temp}))+" "),t("br"),e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.TempMin",{temp:e.mcu.tempSensor.measured_min_temp}))+" ")])])]:t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$t("Machine.SystemPanel.Values.Temp",{temp:e.mcu.tempSensor.temperature}))+" ")])]:e._e()],2)])]),t(v,{staticClass:"px-2 col-auto d-flex justify-center align-center"},[t(dt,{attrs:{rotate:-90,size:55,width:7,value:e.mcu.loadPercent,color:e.mcu.loadProgressColor}},[e._v(" "+e._s(e.mcu.loadPercent)+" ")])],1)],1),t(oe,{attrs:{"max-width":400,"max-height":500,scrollable:""},model:{value:e.mcuDetailsDialog,callback:function(r){e.mcuDetailsDialog=r},expression:"mcuDetailsDialog"}},[t(B,{attrs:{title:e.mcu.name,icon:"mdi-text-box-search-outline","card-class":"machine-systemload-mcu-details-dialog","margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.mcuDetailsDialog=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-5 px-0"},[t("overlay-scrollbars",{staticClass:"px-6",staticStyle:{height:"350px"}},[e.mcu.mcu_constants?[t(C,[t(v,[t("span",{staticClass:"headline"},[e._v(e._s(e.$t("Machine.SystemPanel.Constants")))])])],1),e._l(e.mcu.mcu_constants,function(r,i,n){return t("div",{key:i},[n?t(H,{staticClass:"my-3"}):e._e(),t(C,[t(v,[e._v(e._s(i))]),t(v,{staticClass:"text-right"},[e._v(e._s(r))])],1)],1)})]:e._e(),e.mcu.last_stats?[t(C,{staticClass:"mt-5"},[t(v,[t("span",{staticClass:"headline"},[e._v(e._s(e.$t("Machine.SystemPanel.LastStats")))])])],1),e._l(e.mcu.last_stats,function(r,i,n){return t("div",{key:i},[n?t(H,{staticClass:"my-3"}):e._e(),t(C,[t(v,[e._v(e._s(i))]),t(v,{staticClass:"text-right"},[e._v(e._s(r))])],1)],1)})]:e._e()],2)],1)],1)],1)],1)},iQ=[];const oy={};var nQ=E(Zc,rQ,iQ,!1,aQ,null,null,null);function aQ(e){for(let s in oy)this[s]=oy[s]}const tP=function(){return nQ.exports}();var oQ=Object.defineProperty,lQ=Object.getOwnPropertyDescriptor,cQ=(e,s,t,r)=>{for(var i=r>1?void 0:r?lQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&oQ(s,t,i),i};let bp=class extends M(O){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiMemory=ZC,this.mdiUsb=Yf,this.dialogDevices=!1}get mcus(){var s;if(!this.klipperReadyForGui)return[];const e=(s=this.$store.getters["printer/getMcus"])!=null?s:[];return Rt(e,"name")}get hostStats(){var e;return(e=this.$store.getters["server/getHostStats"])!=null?e:null}get showPanel(){return this.mcus.length>0||this.hostStats}};bp=cQ([w({components:{SystemPanelMcu:tP,SystemPanelHost:Qw,Panel:B}})],bp);var uQ=Object.defineProperty,dQ=Object.getOwnPropertyDescriptor,sP=(e,s,t,r)=>{for(var i=r>1?void 0:r?dQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&uQ(s,t,i),i};let Yc=class extends M(O){constructor(){super(...arguments),this.mdiCog=Yt,this.mdiUsb=Yf,this.mdiCloseThick=pe,this.tab="serial",this.hideSystemEntries=!0}get tabs(){const e=[{tab:"serial",title:"Serial"},{tab:"usb",title:"USB"},{tab:"video",title:"Video"}];return this.canInterfaces.forEach(s=>{e.push({tab:s,title:s.toUpperCase()})}),e.sort((s,t)=>s.title.localeCompare(t.title))}get canInterfaces(){var e,s;return Object.keys((s=(e=this.$store.state.server.system_info)==null?void 0:e.canbus)!=null?s:{})}closePrompt(){this.$emit("close")}};sP([x({type:Boolean,default:!1})],Yc.prototype,"showDialog",2);Yc=sP([w({components:{Panel:B}})],Yc);var hQ=Object.defineProperty,mQ=Object.getOwnPropertyDescriptor,rP=(e,s,t,r)=>{for(var i=r>1?void 0:r?mQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&hQ(s,t,i),i};let Xc=class extends M(O){constructor(){super(...arguments),this.v4l2Devices=[],this.libcameraDevices=[],this.loading=!1,this.loaded=!1}get filteredLibcameraDevices(){return this.hideSystemEntries?this.libcameraDevices.filter(e=>!e.libcamera_id.includes("usb@")):this.libcameraDevices}get filteredV4l2Devices(){return this.v4l2Devices.filter(e=>this.hideSystemEntries?this.libcameraDevices.length===0&&e.hardware_bus.endsWith("csi")?!0:!e.hardware_bus.startsWith("platform:"):!0)}async refresh(){var s,t;this.loading=!0;const e=await fetch(this.apiUrl+"/machine/peripherals/video").then(r=>r.json()).then(r=>{var i;return(i=r.result)!=null?i:{}});this.v4l2Devices=(s=e.v4l2_devices)!=null?s:[],this.libcameraDevices=(t=e.libcamera_devices)!=null?t:[],this.loading=!1,this.loaded=!0}};rP([x({type:Boolean,default:!1})],Xc.prototype,"hideSystemEntries",2);Xc=rP([w],Xc);let ll;const pQ=new Uint8Array(16);function fQ(){if(!ll&&(ll=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ll))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ll(pQ)}const mt=[];for(let e=0;e<256;++e)mt.push((e+256).toString(16).slice(1));function gQ(e,s=0){return mt[e[s+0]]+mt[e[s+1]]+mt[e[s+2]]+mt[e[s+3]]+"-"+mt[e[s+4]]+mt[e[s+5]]+"-"+mt[e[s+6]]+mt[e[s+7]]+"-"+mt[e[s+8]]+mt[e[s+9]]+"-"+mt[e[s+10]]+mt[e[s+11]]+mt[e[s+12]]+mt[e[s+13]]+mt[e[s+14]]+mt[e[s+15]]}const _Q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ly={randomUUID:_Q};function vs(e,s,t){if(ly.randomUUID&&!s&&!e)return ly.randomUUID();e=e||{};const r=e.random||(e.rng||fQ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,s){t=t||0;for(let i=0;i<16;++i)s[t+i]=r[i];return s}return gQ(r)}var vQ=Object.defineProperty,bQ=Object.getOwnPropertyDescriptor,h1=(e,s,t,r)=>{for(var i=r>1?void 0:r?bQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&vQ(s,t,i),i};let to=class extends M(O){constructor(){super(...arguments),this.mdiContentCopy=Tf,this.isShowTooltip=!1,this.cssClassName=""}mounted(){this.cssClassName="textfield-with-copy-".concat(vs())}copy(){p6(this.value),this.isShowTooltip=!0,setTimeout(()=>this.isShowTooltip=!1,2e3)}};h1([x({type:String,required:!0})],to.prototype,"label",2);h1([x({type:String,required:!0})],to.prototype,"value",2);to=h1([w],to);var yQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(re,{class:e.cssClassName,attrs:{readonly:"",dense:"",outlined:"","hide-details":"",label:e.label,value:e.value},scopedSlots:e._u([{key:"append",fn:function(){return[t(_,{on:{click:e.copy}},[e._v(e._s(e.mdiContentCopy))]),t(ue,{attrs:{"open-on-click":"","open-on-hover":!1,attach:"."+e.cssClassName,"position-x":50,"position-y":0},model:{value:e.isShowTooltip,callback:function(r){e.isShowTooltip=r},expression:"isShowTooltip"}},[t("span",[e._v(e._s(e.$t("App.TextfieldWithCopy.Copied")))])])]},proxy:!0}])})},CQ=[];const cy={};var $Q=E(to,yQ,CQ,!1,xQ,"da2acfb4",null,null);function xQ(e){for(let s in cy)this[s]=cy[s]}const ts=function(){return $Q.exports}();var SQ=Object.defineProperty,wQ=Object.getOwnPropertyDescriptor,iP=(e,s,t,r)=>{for(var i=r>1?void 0:r?wQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&SQ(s,t,i),i};let Jc=class extends M(O){get identicalResolutions(){const e=this.device.modes.map(s=>s.resolutions.sort(D$).join(","));return e.every(s=>s===e[0])}get resolutions(){var e,s,t;return(t=(s=(e=this.device.modes[0])==null?void 0:e.resolutions)==null?void 0:s.join(", "))!=null?t:""}get formats(){return this.device.modes.map(e=>"".concat(e.description," (").concat(e.format,")")).join(", ")}get show_alt_name(){return this.device.alt_name===null?!1:this.device.alt_name!==this.device.camera_name}};iP([x({type:Object,required:!0})],Jc.prototype,"device",2);Jc=iP([w({components:{TextfieldWithCopy:ts}})],Jc);var PQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"mt-3 w-100",attrs:{outlined:""}},[t(Y,{attrs:{"three-line":""}},[t(ot,[t("div",{staticClass:"text-overline mb-2 d-flex flex-row"},[e._v("V4L2")]),t(Ne,{staticClass:"text-h5 mb-0"},[e._v(e._s(e.device.camera_name))]),e.show_alt_name?t(zs,[e._v(e._s(e.device.alt_name))]):e._e()],1)],1),t(Z,[t(C,[t(v,[t(ts,{attrs:{label:e.$t("DevicesDialog.DevicePath"),value:e.device.device_path}})],1)],1),e.device.path_by_id?t(C,[t(v,[t(ts,{attrs:{label:e.$t("DevicesDialog.PathById"),value:e.device.path_by_id}})],1)],1):e._e(),e.device.path_by_hardware?t(C,[t(v,[t(ts,{attrs:{label:e.$t("DevicesDialog.PathByHardware"),value:e.device.path_by_hardware}})],1)],1):e._e(),e.device.modes.length?[e.identicalResolutions?[t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(e._s(e.$t("DevicesDialog.Formats")))]),t(v,{staticClass:"py-2"},[e._v(e._s(e.formats))])],1),t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(e._s(e.$t("DevicesDialog.Resolutions")))]),t(v,{staticClass:"py-2"},[e._v(e._s(e.resolutions))])],1)]:e._l(e.device.modes,function(r){return t(C,{key:r.format,staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(" "+e._s(r.description)+" "),t("br"),t("small",[e._v(e._s(r.format))])]),t(v,{staticClass:"py-2"},[e._v(e._s(r.resolutions.join(", ")))])],1)})]:e._e()],2)],1)},TQ=[];const uy={};var DQ=E(Jc,PQ,TQ,!1,MQ,null,null,null);function MQ(e){for(let s in uy)this[s]=uy[s]}const EQ=function(){return DQ.exports}();var OQ=Object.defineProperty,LQ=Object.getOwnPropertyDescriptor,nP=(e,s,t,r)=>{for(var i=r>1?void 0:r?LQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&OQ(s,t,i),i};let Kc=class extends M(O){get identicalResolutions(){const e=this.device.modes.map(s=>s.resolutions.sort(D$).join(","));return e.every(s=>s===e[0])}get resolutions(){return this.device.modes[0].resolutions.join(", ")}get formats(){return this.device.modes.map(e=>e.format).join(", ")}};nP([x({type:Object,required:!0})],Kc.prototype,"device",2);Kc=nP([w({components:{TextfieldWithCopy:ts}})],Kc);var FQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"mt-3 w-100",attrs:{outlined:""}},[t(Y,{attrs:{"three-line":""}},[t(ot,[t("div",{staticClass:"text-overline mb-2 d-flex flex-row"},[e._v("Libcamera")]),t(Ne,{staticClass:"text-h5 mb-0"},[e._v(e._s(e.device.model))])],1)],1),t(Z,[t(C,{staticClass:"mb-1"},[t(v,[t(ts,{attrs:{label:e.$t("DevicesDialog.LibcameraId"),value:e.device.libcamera_id}})],1)],1),e.identicalResolutions?[t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(e._s(e.$t("DevicesDialog.Formats")))]),t(v,{staticClass:"py-2"},[e._v(e._s(e.formats))])],1),t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(e._s(e.$t("DevicesDialog.Resolutions")))]),t(v,{staticClass:"py-2"},[e._v(e._s(e.resolutions))])],1)]:e._l(e.device.modes,function(r){return t(C,{key:r.format,staticClass:"mt-0"},[t(v,{staticClass:"py-2",attrs:{cols:"4"}},[e._v(e._s(r.format))]),t(v,{staticClass:"py-2"},[e._v(e._s(r.resolutions.join(", ")))])],1)})],2)],1)},AQ=[];const dy={};var kQ=E(Kc,FQ,AQ,!1,RQ,null,null,null);function RQ(e){for(let s in dy)this[s]=dy[s]}const HQ=function(){return kQ.exports}();var jQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,[t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{loading:e.loading,color:"primary"},on:{click:e.refresh}},[e._v(e._s(e.$t("DevicesDialog.Refresh")))])],1)],1),e.libcameraDevices.length||e.filteredV4l2Devices.length?t(C,{staticClass:"mt-0"},[t(v,[e._l(e.filteredLibcameraDevices,function(r,i){return t(HQ,{key:"libcamera_".concat(r.libcamera_id,"_").concat(i),attrs:{device:r}})}),e._l(e.filteredV4l2Devices,function(r,i){return t(EQ,{key:"v4l2_".concat(r.hardware_bus,"_").concat(i),attrs:{device:r}})})],2)],1):e.loaded?t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.NoDeviceFound")))])])],1):t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.ClickRefresh")))])])],1)],1)},IQ=[];const hy={};var NQ=E(Xc,jQ,IQ,!1,VQ,null,null,null);function VQ(e){for(let s in hy)this[s]=hy[s]}const UQ=function(){return NQ.exports}();var BQ=Object.defineProperty,GQ=Object.getOwnPropertyDescriptor,aP=(e,s,t,r)=>{for(var i=r>1?void 0:r?GQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&BQ(s,t,i),i};let Qc=class extends M(O){constructor(){super(...arguments),this.devices=[],this.loading=!1,this.loaded=!1}get filteredDevices(){return this.hideSystemEntries?this.devices.filter(e=>e.class!=="Hub"):this.devices}async refresh(){this.loading=!0,this.devices=await fetch(this.apiUrl+"/machine/peripherals/usb").then(e=>e.json()).then(e=>{var s,t;return(t=(s=e.result)==null?void 0:s.usb_devices)!=null?t:[]}),this.loading=!1,this.loaded=!0}};aP([x({type:Boolean,default:!1})],Qc.prototype,"hideSystemEntries",2);Qc=aP([w],Qc);var WQ=Object.defineProperty,zQ=Object.getOwnPropertyDescriptor,oP=(e,s,t,r)=>{for(var i=r>1?void 0:r?zQ(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&WQ(s,t,i),i};let eu=class extends M(O){get details(){const e=["protocol","class","serial","usb_location"],s=[];return Object.keys(this.device).forEach(t=>{var i;let r=(i=this.device[t])!=null?i:null;!e.includes(t)||r===null||(t==="class"&&this.device.subclass&&(r+=", ".concat(this.device.subclass)),s.push({key:t,value:r}))}),s}};oP([x({type:Object,required:!0})],eu.prototype,"device",2);eu=oP([w],eu);var qQ=function(){var e,s,t=this,r=t.$createElement,i=t._self._c||r;return i(Te,{staticClass:"mt-3",attrs:{outlined:""}},[i(Y,{attrs:{"three-line":""}},[i(ot,[i("div",{staticClass:"text-overline mb-2 d-flex flex-row"},[i("span",[t._v(t._s((e=t.device.manufacturer)!==null&&e!==void 0?e:"Unknown"))]),i(ie),i("span",[t._v(t._s(t.device.vendor_id)+":"+t._s(t.device.product_id))])],1),i(Ne,{staticClass:"text-h5 mb-1"},[t._v(t._s((s=t.device.product)!==null&&s!==void 0?s:"Unknown"))]),t.device.description?i(zs,[t._v(t._s(t.device.description))]):t._e()],1)],1),i(Z,{staticClass:"pt-0"},t._l(t.details,function(n){return i(C,{key:n.key,staticClass:"mt-0"},[i(v,{staticClass:"py-2",attrs:{cols:"3"}},[t._v(t._s(n.key))]),i(v,{staticClass:"py-2"},[t._v(t._s(n.value))])],1)}),1)],1)},ZQ=[];const my={};var YQ=E(eu,qQ,ZQ,!1,XQ,null,null,null);function XQ(e){for(let s in my)this[s]=my[s]}const JQ=function(){return YQ.exports}();var KQ=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,[t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{loading:e.loading,color:"primary"},on:{click:e.refresh}},[e._v(e._s(e.$t("DevicesDialog.Refresh")))])],1)],1),e.filteredDevices.length?t(C,{staticClass:"mt-0"},[t(v,e._l(e.filteredDevices,function(r){return t(JQ,{key:r.usb_location,attrs:{device:r}})}),1)],1):e.loaded?t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.NoDeviceFound")))])])],1):t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.ClickRefresh")))])])],1)],1)},QQ=[];const py={};var eee=E(Qc,KQ,QQ,!1,tee,null,null,null);function tee(e){for(let s in py)this[s]=py[s]}const see=function(){return eee.exports}();var ree=Object.defineProperty,iee=Object.getOwnPropertyDescriptor,lP=(e,s,t,r)=>{for(var i=r>1?void 0:r?iee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ree(s,t,i),i};let tu=class extends M(O){constructor(){super(...arguments),this.devices=[],this.loading=!1,this.loaded=!1}get filteredDevices(){return this.hideSystemEntries?this.devices.filter(e=>e.device_type!=="hardware_uart"):this.devices}async refresh(){this.loading=!0,this.devices=await fetch(this.apiUrl+"/machine/peripherals/serial").then(e=>e.json()).then(e=>{var s,t;return(t=(s=e.result)==null?void 0:s.serial_devices)!=null?t:[]}),this.loading=!1,this.loaded=!0}};lP([x({type:Boolean,default:!1})],tu.prototype,"hideSystemEntries",2);tu=lP([w],tu);var nee=Object.defineProperty,aee=Object.getOwnPropertyDescriptor,cP=(e,s,t,r)=>{for(var i=r>1?void 0:r?aee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&nee(s,t,i),i};let su=class extends M(O){};cP([x({type:Object,required:!0})],su.prototype,"device",2);su=cP([w({components:{TextfieldWithCopy:ts}})],su);var oee=function(){var e,s,t=this,r=t.$createElement,i=t._self._c||r;return i(Te,{staticClass:"mt-3 w-100",attrs:{outlined:""}},[i(Y,{attrs:{"three-line":""}},[i(ot,[i("div",{staticClass:"text-overline mb-2 d-flex flex-row"},[i("span",[t._v(t._s(t.device.device_type.toUpperCase().replaceAll("_"," ")))]),i(ie),i("span",[t._v(t._s(t.device.driver_name))])],1),i(Ne,{staticClass:"text-h5 mb-0"},[t._v(t._s(t.device.device_name))])],1)],1),i(Z,[i(C,[i(v,[i(ts,{attrs:{label:t.$t("DevicesDialog.DevicePath"),value:t.device.device_path}})],1)],1),(e=t.device.path_by_id)!==null&&e!==void 0&&e?i(C,[i(v,[i(ts,{attrs:{label:t.$t("DevicesDialog.PathById"),value:t.device.path_by_id}})],1)],1):t._e(),(s=t.device.path_by_hardware)!==null&&s!==void 0&&s?i(C,[i(v,[i(ts,{attrs:{label:t.$t("DevicesDialog.PathByHardware"),value:t.device.path_by_hardware}})],1)],1):t._e()],1)],1)},lee=[];const fy={};var cee=E(su,oee,lee,!1,uee,null,null,null);function uee(e){for(let s in fy)this[s]=fy[s]}const dee=function(){return cee.exports}();var hee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,[t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{loading:e.loading,color:"primary"},on:{click:e.refresh}},[e._v(e._s(e.$t("DevicesDialog.Refresh")))])],1)],1),e.filteredDevices.length?t(C,{staticClass:"mt-0"},[t(v,[t(qD,{attrs:{accordion:""}},e._l(e.filteredDevices,function(r){var i;return t(dee,{key:(i=r.path_by_hardware)!==null&&i!==void 0?i:r.device_path,attrs:{device:r}})}),1)],1)],1):e.loaded?t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.NoDeviceFound")))])])],1):t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.ClickRefresh")))])])],1)],1)},mee=[];const gy={};var pee=E(tu,hee,mee,!1,fee,null,null,null);function fee(e){for(let s in gy)this[s]=gy[s]}const gee=function(){return pee.exports}();var _ee=Object.defineProperty,vee=Object.getOwnPropertyDescriptor,uP=(e,s,t,r)=>{for(var i=r>1?void 0:r?vee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_ee(s,t,i),i};let ru=class extends M(O){};uP([x({type:Object,required:!0})],ru.prototype,"device",2);ru=uP([w({components:{TextfieldWithCopy:ts}})],ru);var bee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"mt-3 w-100",attrs:{outlined:""}},[t(Z,[t(C,[t(v,[t("div",{staticClass:"text-overline mb-2 d-flex flex-row"},[t("span",[e._v(e._s(e.device.application))])])])],1),t(C,{staticClass:"mt-0"},[t(v,[t(ts,{attrs:{label:"UUID",value:e.device.uuid}})],1)],1)],1)],1)},yee=[];const _y={};var Cee=E(ru,bee,yee,!1,$ee,null,null,null);function $ee(e){for(let s in _y)this[s]=_y[s]}const dP=function(){return Cee.exports}();var xee=Object.defineProperty,See=Object.getOwnPropertyDescriptor,m1=(e,s,t,r)=>{for(var i=r>1?void 0:r?See(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xee(s,t,i),i};let so=class extends M(O){constructor(){super(...arguments),this.mdiInformationVariantCircle=C5,this.devices=[],this.loading=!1,this.loaded=!1}async refresh(){this.loading=!0,this.devices=await fetch("".concat(this.apiUrl,"/machine/peripherals/canbus?interface=").concat(this.name)).then(e=>e.json()).then(e=>{var s;return(s=e.result.can_uuids)!=null?s:[]}),this.loading=!1,this.loaded=!0}};m1([x({type:String,required:!0})],so.prototype,"name",2);m1([x({type:Boolean,default:!1})],so.prototype,"hideSystemEntries",2);so=m1([w({components:{DevicesDialogCanDevice:dP}})],so);var wee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("overlay-scrollbars",{staticStyle:{"max-height":"400px","overflow-x":"hidden"}},[t(Z,[t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{loading:e.loading,color:"primary"},on:{click:e.refresh}},[e._v(e._s(e.$t("DevicesDialog.Refresh")))])],1)],1),e.devices.length?t(C,{staticClass:"mt-0"},[t(v,e._l(e.devices,function(r){return t(dP,{key:r.uuid,attrs:{device:r}})}),1)],1):e.loaded?t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.NoDeviceFound")))])])],1):t(C,{staticClass:"mt-0"},[t(v,{staticClass:"col-8 mx-auto"},[t("p",{staticClass:"text-center text--disabled mb-0"},[e._v(e._s(e.$t("DevicesDialog.ClickRefresh")))])])],1),e.devices.length===0?t(C,[t(v,[t(et,{attrs:{dense:"",outlined:"",type:"info",icon:e.mdiInformationVariantCircle}},[e._v(" "+e._s(e.$t("DevicesDialog.CanBusInfo"))+" "),t(C,{staticClass:"my-0"},[t(v,{staticClass:"text-center"},[t(g,{attrs:{href:"https://docs.mainsail.xyz/overview/features/query-devices#can-devices",color:"info",outlined:"",text:"",small:""}},[e._v(" open guide ")])],1)],1)],1)],1)],1):e._e()],1)],1)},Pee=[];const vy={};var Tee=E(so,wee,Pee,!1,Dee,null,null,null);function Dee(e){for(let s in vy)this[s]=vy[s]}const Mee=function(){return Tee.exports}();var Eee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"500",persistent:"",fullscreen:e.isMobile}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{id:"devices-dialog",title:e.$t("DevicesDialog.Headline"),icon:e.mdiUsb,"card-class":"devices-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(ye,{attrs:{left:!0,"offset-y":!0,"close-on-content-click":!1,attach:"#devices-dialog"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiCog))])],1)]}}])},[t(Ee,[t(Y,{staticClass:"minHeight36"},[t(fe,{staticClass:"mt-0",attrs:{"hide-details":"",label:e.$t("DevicesDialog.HideSystemEntries")},model:{value:e.hideSystemEntries,callback:function(r){e.hideSystemEntries=r},expression:"hideSystemEntries"}})],1)],1)],1),t(g,{attrs:{icon:"",tile:""},on:{click:e.closePrompt}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Ll,{attrs:{"fixed-tabs":""},model:{value:e.tab,callback:function(r){e.tab=r},expression:"tab"}},e._l(e.tabs,function(r){return t(Gr,{key:r.tab},[e._v(e._s(r.title))])}),1),t("overlay-scrollbars",{staticStyle:{"max-height":"400px","overflow-x":"hidden"}},[t(mC,{model:{value:e.tab,callback:function(r){e.tab=r},expression:"tab"}},[e._l(e.canInterfaces,function(r){return t(lr,{key:r},[t(Mee,{attrs:{"hide-system-entries":e.hideSystemEntries,name:r}})],1)}),t(lr,{key:"serial"},[t(gee,{attrs:{"hide-system-entries":e.hideSystemEntries}})],1),t(lr,{key:"usb"},[t(see,{attrs:{"hide-system-entries":e.hideSystemEntries}})],1),t(lr,{key:"video"},[t(UQ,{attrs:{"hide-system-entries":e.hideSystemEntries}})],1)],2)],1)],1)],1)},Oee=[];const by={};var Lee=E(Yc,Eee,Oee,!1,Fee,null,null,null);function Fee(e){for(let s in by)this[s]=by[s]}const p1=function(){return Lee.exports}();var Aee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showPanel?t(B,{attrs:{title:e.$t("Machine.SystemPanel.SystemLoad"),icon:e.mdiMemory,"card-class":"machine-systemload-panel",collapsible:!0},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{staticClass:"d-none d-md-flex",attrs:{text:"",tile:""},on:{click:function(r){e.dialogDevices=!0}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiUsb))]),e._v(" "+e._s(e.$t("Editor.DeviceDialog"))+" ")],1)]},proxy:!0}],null,!1,3386324002)},[t(Z,{staticClass:"px-0 py-2"},[e._l(e.mcus,function(r,i){return t("div",{key:r.name},[i?t(H,{staticClass:"my-2"}):e._e(),t(tP,{attrs:{mcu:r}})],1)}),e.hostStats?t("div",[e.mcus.length?t(H,{staticClass:"my-2"}):e._e(),t(Qw)],1):e._e()],2),t(p1,{attrs:{"show-dialog":e.dialogDevices},on:{close:function(r){e.dialogDevices=!1}}})],1):e._e()},kee=[];const yy={};var Ree=E(bp,Aee,kee,!1,Hee,"159d0fc0",null,null);function Hee(e){for(let s in yy)this[s]=yy[s]}const hP=function(){return Ree.exports}();var jee=Object.defineProperty,Iee=Object.getOwnPropertyDescriptor,Nee=(e,s,t,r)=>{for(var i=r>1?void 0:r?Iee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&jee(s,t,i),i};let yp=class extends M(O){};yp=Nee([w({components:{SystemPanel:hP,ConfigFilesPanel:Kw,EndstopPanel:Tw,LogfilesPanel:Pw,UpdatePanel:Sw,KlippyStatePanel:wo}})],yp);var Vee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Pe,{attrs:{fluid:"","py-0":"","px-0":""}},[t(C,[t(v,{staticClass:"col-12 col-md-6 pb-0 pb-md-3"},[t(Kw)],1),t(v,{staticClass:"col-12 col-md-6 pt-0 pt-md-3"},[t(wo),t(hP),t(Sw),t(C,[e.klipperState==="ready"?t(v,{staticClass:"col-12 col-sm-6 pb-0 pb-md-3"},[t(Tw)],1):e._e(),t(v,{class:e.klipperState!=="ready"?"col-12":"col-12 col-sm-6 pt-0 pt-sm-3"},[t(Pw)],1)],1)],1)],1)],1)},Uee=[];const Cy={};var Bee=E(yp,Vee,Uee,!1,Gee,null,null,null);function Gee(e){for(let s in Cy)this[s]=Cy[s]}const Wee=function(){return Bee.exports}(),mP=[{name:"dashboard",title:"Dashboard",path:"/",icon:Uf,component:sV,alwaysShow:!0,showInNavi:!0,position:10},{name:"farm",title:"Printers",path:"/allPrinters",component:SV,alwaysShow:!1,showInNavi:!1},{name:"webcam",title:"Webcam",path:"/cam",icon:Mn,component:uV,alwaysShow:!0,showInNavi:!0,position:20,fullscreen:!0},{name:"console",title:"Console",path:"/console",icon:_o,component:OV,alwaysShow:!0,showInNavi:!0,klipperIsConnected:!0,position:30},{name:"heightmap",title:"Heightmap",path:"/heightmap",icon:Bu,component:()=>ge(()=>import("./Heightmap-9e4bf6f4.js"),["assets/Heightmap-9e4bf6f4.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/echarts-ff51454d.js","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/Heightmap-acf3d6b7.css"]),alwaysShow:!1,showInNavi:!0,klipperComponent:"bed_mesh",position:40},{name:"gcodefiles",title:"G-Code Files",path:"/files",icon:Co,component:WU,alwaysShow:!0,showInNavi:!0,registeredDirectory:"gcodes",position:50,fullscreen:!0},{name:"gcodeviewer",title:"G-Code Viewer",path:"/viewer",icon:Ku,component:()=>ge(()=>import("./Viewer-7a325594.js").then(e=>e.i),["assets/Viewer-7a325594.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/codemirror-0a1db0c7.js","assets/Viewer-0d86fca9.css"]),alwaysShow:!0,showInNavi:!0,position:60,fullscreen:!0},{name:"history",title:"History",path:"/history",icon:BC,component:UW,alwaysShow:!0,showInNavi:!0,moonrakerComponent:"history",position:70},{name:"timelapse",title:"Timelapse",path:"/timelapse",icon:u$,component:vz,alwaysShow:!0,showInNavi:!0,moonrakerComponent:"timelapse",position:80},{name:"machine",title:"Machine",path:"/config",icon:oE,component:Wee,alwaysShow:!0,showInNavi:!0,position:90},{title:null,component:null,alwaysShow:!1,showInNavi:!1,path:"/settings/machine",redirect:"/config"}];var zee=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,pP=(e,s,t,r)=>{for(var i=r>1?void 0:r?qee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zee(s,t,i),i};let bn=class extends M(O){constructor(){super(...arguments),this.customNaviLinks=[]}get countPrinters(){return this.$store.getters["farm/countPrinters"]}get routesNaviPoints(){const e=[];return this.countPrinters&&e.push({title:this.$t("App.Printers"),icon:nE,to:"/allPrinters",position:0,visible:!0}),mP.filter(s=>s.showInNavi&&this.showInNavi(s)).forEach(s=>{var i,n;const[t,r]=this.getUiSettings({type:"route",title:(i=s.title)!=null?i:"unknown",visible:!0,position:(n=s.position)!=null?n:999});e.push({type:"route",title:this.$t("Router.".concat(s.title)),orgTitle:s.title,icon:s.icon,to:s.path,position:t,visible:r})}),this.customNaviLinks.length&&this.customNaviLinks.forEach(s=>{var i,n,a;const[t,r]=this.getUiSettings({type:"link",title:(i=s.title)!=null?i:"unknown",visible:(n=s.visible)!=null?n:!0,position:(a=s.position)!=null?a:999});e.push({type:"link",title:s.title,icon:s.icon,href:s.href,target:s.target,position:t,visible:r})}),e}get naviPoints(){return this.routesNaviPoints.sort((e,s)=>e.position-s.position)}get visibleNaviPoints(){return this.naviPoints.filter(e=>e.visible)}get uiSettings(){return this.$store.state.gui.navigation.entries}get klippy_state(){return this.$store.state.server.klippy_state}get boolNaviWebcam(){return this.$store.state.gui.uiSettings.boolWebcamNavi}get moonrakerComponents(){return this.$store.state.server.components}get registeredDirectories(){return this.$store.state.server.registered_directories}get klipperConfigfileSettings(){var e,s;return(s=(e=this.$store.state.printer.configfile)==null?void 0:e.settings)!=null?s:{}}get sidebarNaviFile(){return this.$store.getters["files/getCustomNaviPoints"]}get webcamCount(){return this.$store.getters["gui/webcams/getWebcams"].length}async sidebarNaviFileChanged(e){if(this.customNaviLinks=[],!e)return;(await fetch(e).then(t=>t.json()).catch(t=>{throw window.console.error("Unable to parse .theme/navi.json."),t})).forEach(t=>{var r,i,n,a,o;this.customNaviLinks.push({title:(r=t.title)!=null?r:"Unknown",icon:(i=t.icon)!=null?i:zC,href:(n=t.href)!=null?n:"#",target:(a=t.target)!=null?a:void 0,position:(o=t.position)!=null?o:999})})}showInNavi(e){return["shutdown","error","disconnected"].includes(this.klippy_state)&&!e.alwaysShow||e.title==="Webcam"&&this.webcamCount===0||e.moonrakerComponent&&!this.moonrakerComponents.includes(e.moonrakerComponent)||e.registeredDirectory&&!this.registeredDirectories.includes(e.registeredDirectory)||e.klipperComponent&&!(e.klipperComponent in this.klipperConfigfileSettings)?!1:!(e.klipperIsConnected&&!this.klippyIsConnected)}getUiSettings(e){const s=this.uiSettings.findIndex(t=>t.title===e.title&&t.type===e.type);return s===-1?[e.position,e.visible]:[this.uiSettings[s].position,this.uiSettings[s].visible]}};pP([ce("sidebarNaviFile",{immediate:!0})],bn.prototype,"sidebarNaviFileChanged",1);bn=pP([w],bn);var Zee=Object.defineProperty,Yee=Object.getOwnPropertyDescriptor,Xee=(e,s,t,r)=>{for(var i=r>1?void 0:r?Yee(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Zee(s,t,i),i};let Cp=class extends M(bn,O,yt){constructor(){super(...arguments),this.navigationWidth=fM,this.topbarHeight=ca}get naviDrawer(){return this.$store.state.naviDrawer}set naviDrawer(e){this.$store.dispatch("setNaviDrawer",e)}get navigationStyle(){return this.$store.state.gui.uiSettings.navigationStyle}get sidebarBackground(){var e;return(e=this.$store.getters["files/getCustomSidebarBackground"])!=null?e:this.sidebarBgImage}get currentPage(){return this.$route.fullPath}get boolNaviTemp(){return!this.isMobile&&this.$vuetify.breakpoint.mdAndDown}get sidebarCssVars(){return this.boolNaviTemp?{top:"".concat(ca,"px !important"),"padding-bottom":"".concat(ca,"px")}:{}}get sidebarLogo(){return this.$store.getters["files/getSidebarLogo"]}get logoColor(){return this.$store.state.gui.uiSettings.logo}get printerName(){return this.$store.state.gui.general.printername.length?this.$store.state.gui.general.printername:this.$store.state.printer.hostname}get logoCssVars(){return this.navigationStyle!=="iconsOnly"?{"margin-right":"16px"}:{}}get mobileLogoClass(){const e=["sidebar-logo","no-text-decoration","no-background","no-border"];return this.navigationStyle==="iconsOnly"&&(e.push("pa-0"),e.push("justify-center")),e}};Cp=Xee([w({components:{SidebarItem:v$,TheSelectPrinterDialog:Xf,AboutDialog:g$,MainsailLogo:En}})],Cp);var Jee=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ZD,{key:e.navigationStyle,style:e.sidebarCssVars,attrs:{"mini-variant":e.navigationStyle==="iconsOnly",width:e.navigationWidth,temporary:e.boolNaviTemp,clipped:"",app:""},scopedSlots:e._u([{key:"img",fn:function(){return[t(Hu,{attrs:{src:e.sidebarBackground,height:"100%"}})]},proxy:!0},{key:"append",fn:function(){return[t(Y,{staticClass:"small-list-item mb-2"},[t(Ws,{staticClass:"menu-item-icon"},[t(g$)],1)],1)]},proxy:!0}]),model:{value:e.naviDrawer,callback:function(r){e.naviDrawer=r},expression:"naviDrawer"}},[t("overlay-scrollbars",{staticClass:"nav-scrollbar"},[t(Ee,{staticClass:"pr-0 pt-0 ml-0"},[t(YD,{attrs:{"active-class":"active-nav-item"}},[e.isMobile?t(Y,{class:e.mobileLogoClass,style:"height: "+e.topbarHeight+"px",attrs:{router:"",to:"/",ripple:!1}},[e.sidebarLogo?[t("img",{staticClass:"nav-logo",style:e.logoCssVars,attrs:{src:e.sidebarLogo,alt:"Logo"}})]:[t(En,{staticClass:"nav-logo",style:e.logoCssVars,attrs:{color:e.logoColor,ripple:!1}})],e.navigationStyle!=="iconsOnly"?[t("span",{staticClass:"text-h6 font-weight-regular text-truncate"},[e._v(e._s(e.printerName))])]:e._e()],2):e._e(),e._l(e.visibleNaviPoints,function(r,i){return t(v$,{key:i,attrs:{item:r}})})],2)],1)],1)],1)},Kee=[];const $y={};var Qee=E(Cp,Jee,Kee,!1,ete,"1a6ff80c",null,null);function ete(e){for(let s in $y)this[s]=$y[s]}const fP=function(){return Qee.exports}();var tte=Object.defineProperty,ste=Object.getOwnPropertyDescriptor,rte=(e,s,t,r)=>{for(var i=r>1?void 0:r?ste(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&tte(s,t,i),i};let iu=class extends y{get hideOtherInstances(){var e;return(e=this.$store.state.gui.uiSettings.hideOtherInstances)!=null?e:!1}get instance_ids(){var e,s;return(s=(e=this.$store.state.server.system_info)==null?void 0:e.instance_ids)!=null?s:{}}get klipperInstance(){var e;return(e=this.instance_ids.klipper)!=null?e:""}get moonrakerInstance(){var e;return(e=this.instance_ids.moonraker)!=null?e:""}};iu=rte([w],iu);var ite=Object.defineProperty,nte=Object.getOwnPropertyDescriptor,gP=(e,s,t,r)=>{for(var i=r>1?void 0:r?nte(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ite(s,t,i),i};let nu=class extends M(O,iu){constructor(){super(...arguments),this.mdiPlay=Dn,this.mdiRestart=er,this.mdiStop=i$,this.showRestartDialog=!1,this.showStopDialog=!1}get name(){return this.hideOtherInstances&&this.service===this.klipperInstance?"Klipper":this.hideOtherInstances&&this.service===this.moonrakerInstance?"Moonraker":$r(this.service)}get service_states(){var e,s;return(s=(e=this.$store.state.server.system_info)==null?void 0:e.service_state)!=null?s:{}}get state(){return this.service in this.service_states?this.service_states[this.service].active_state:null}get subState(){return this.service in this.service_states?this.service_states[this.service].sub_state:null}get dialogRestartTitle(){return this.service===this.klipperInstance?this.$t("App.TopCornerMenu.ConfirmationDialog.Title.KlipperRestart"):this.$t("App.TopCornerMenu.ConfirmationDialog.Title.ServiceRestart")}get dialogStopTitle(){return this.$t("App.TopCornerMenu.ConfirmationDialog.Title.ServiceStop")}get dialogRestartDescription(){return this.service===this.klipperInstance?this.$t("App.TopCornerMenu.ConfirmationDialog.Description.KlipperRestart"):this.$t("App.TopCornerMenu.ConfirmationDialog.Description.ServiceRestart")}get dialogStopDescription(){return this.service===this.klipperInstance?this.$t("App.TopCornerMenu.ConfirmationDialog.Description.KlipperStop"):this.$t("App.TopCornerMenu.ConfirmationDialog.Description.ServiceStop")}get disableStopButton(){return this.state==="inactive"||this.service===this.moonrakerInstance}get styleStopButton(){return this.service===this.moonrakerInstance?"visibility: hidden;":""}clickStart(){this.$socket.emit("machine.services.start",{service:this.service}),this.closeMenu()}clickRestart(){if(this.printerIsPrinting){this.showRestartDialog=!0;return}this.serviceRestart()}clickStop(){if(this.printerIsPrinting){this.showStopDialog=!0;return}this.serviceStop()}serviceRestart(){this.showRestartDialog=!1,this.$socket.emit("machine.services.restart",{service:this.service}),this.closeMenu()}serviceStop(){this.showStopDialog=!1,this.$socket.emit("machine.services.stop",{service:this.service}),this.closeMenu()}closeMenu(){this.$emit("close-menu")}};gP([x({type:String,required:!0})],nu.prototype,"service",2);nu=gP([w({})],nu);var ate=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Y,{staticClass:"minHeight30 pr-2"},[t(Ne,[t(ue,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t("span",e._g(e._b({},"span",n,!1),i),[e._v(e._s(e.name))])]}}])},[t("span",[e._v(e._s(e.state)+" ("+e._s(e.subState)+")")])])],1),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[e.state==="inactive"?t(g,{attrs:{icon:"",small:""},on:{click:e.clickStart}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiPlay))])],1):t(g,{attrs:{icon:"",small:""},on:{click:e.clickRestart}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1),t(g,{style:e.styleStopButton,attrs:{icon:"",small:"",disabled:e.disableStopButton},on:{click:e.clickStop}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiStop))])],1)],1),t(wr,{attrs:{show:e.showRestartDialog,title:e.dialogRestartTitle,text:e.dialogRestartDescription,"action-button-text":e.$t("App.TopCornerMenu.Restart"),"cancel-button-text":e.$t("App.TopCornerMenu.Cancel")},on:{action:e.serviceRestart,close:function(r){e.showRestartDialog=!1}}}),t(wr,{attrs:{show:e.showStopDialog,title:e.dialogStopTitle,text:e.dialogStopDescription,"action-button-text":e.$t("App.TopCornerMenu.Stop"),"cancel-button-text":e.$t("App.TopCornerMenu.Cancel")},on:{action:e.serviceStop,close:function(r){e.showStopDialog=!1}}})],1)},ote=[];const xy={};var lte=E(nu,ate,ote,!1,cte,null,null,null);function cte(e){for(let s in xy)this[s]=xy[s]}const _P=function(){return lte.exports}();var ute=Object.defineProperty,dte=Object.getOwnPropertyDescriptor,hte=(e,s,t,r)=>{for(var i=r>1?void 0:r?dte(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ute(s,t,i),i};let $p=class extends M(O,iu){constructor(){super(...arguments),this.mdiCloseThick=pe,this.mdiPowerStandby=j5,this.mdiRestart=er,this.mdiPower=e$,this.mdiToggleSwitch=Zf,this.mdiToggleSwitchOff=tE,this.showMenu=!1,this.dialogPowerDeviceChange={show:!1,device:"",value:""},this.dialogConfirmation={show:!1,serviceName:null,executableFunction:null,title:"",description:"",actionButtonText:""}}get services(){var s,t,r;let e=(r=(t=(s=this.$store.state.server.system_info)==null?void 0:s.available_services)==null?void 0:t.filter(i=>i!=="klipper_mcu"))!=null?r:[];return this.hideOtherInstances&&this.klipperInstance!==""&&(e=e.filter(i=>!i.toLowerCase().startsWith("klipper-")&&i.toLowerCase()!=="klipper"||i===this.klipperInstance)),this.hideOtherInstances&&this.moonrakerInstance!==""&&(e=e.filter(i=>!i.toLowerCase().startsWith("moonraker-")&&i.toLowerCase()!=="moonraker"||i===this.moonrakerInstance)),e.sort()}get powerDevices(){var s;return((s=this.$store.getters["server/power/getDevices"])!=null?s:[]).filter(t=>!t.device.startsWith("_"))}checkDialog(e,s,t){if(!this.printerIsPrinting){e(s);return}this.dialogConfirmation.executableFunction=e,this.dialogConfirmation.serviceName=s;const r=t.trim().charAt(0).toUpperCase()+t.trim().slice(1);let i="App.TopCornerMenu.ConfirmationDialog.Title.Service"+r,n="App.TopCornerMenu.ConfirmationDialog.Description.Service"+r,a="App.TopCornerMenu."+r;s==="klipper"&&["stop","restart","firmwareRestart"].includes(t)?(i="App.TopCornerMenu.ConfirmationDialog.Title."+(t!=="stop"?"Klipper":"Service")+r,n="App.TopCornerMenu.ConfirmationDialog.Description.Klipper"+r,t==="firmwareRestart"&&(a="App.TopCornerMenu.KlipperFirmwareRestart")):s==="host"&&(i="App.TopCornerMenu.ConfirmationDialog.Title.Host"+r,n="App.TopCornerMenu.ConfirmationDialog.Description.Host"+r),this.dialogConfirmation.title=this.$t(i).toString(),this.dialogConfirmation.description=this.$t(n).toString(),this.dialogConfirmation.actionButtonText=this.$t(a).toString(),this.dialogConfirmation.show=!0}executeDialog(){this.dialogConfirmation.executableFunction(this.dialogConfirmation.serviceName),this.dialogConfirmation.show=!1}klipperRestart(){this.showMenu=!1,this.$store.dispatch("server/addEvent",{message:"RESTART",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"RESTART"})}klipperFirmwareRestart(){this.showMenu=!1,this.$store.dispatch("server/addEvent",{message:"FIRMWARE_RESTART",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"FIRMWARE_RESTART"})}changeSwitch(e,s){this.dialogPowerDeviceChange.device=e.device,this.dialogPowerDeviceChange.value=s,this.$store.state.gui.uiSettings.confirmOnPowerDeviceChange?this.dialogPowerDeviceChange.show=!0:this.powerDeviceToggle()}powerDeviceToggle(){this.dialogPowerDeviceChange.show=!1;const e=this.dialogPowerDeviceChange.value==="off"?"machine.device_power.on":"machine.device_power.off";this.$socket.emit(e,{[this.dialogPowerDeviceChange.device]:null},{action:"server/power/responseToggle"})}hostReboot(){this.showMenu=!1,this.$socket.emit("machine.reboot",{})}hostShutdown(){this.showMenu=!1,this.$socket.emit("machine.shutdown",{})}};$p=hte([w({components:{ConfirmationDialog:wr,TopCornerMenuService:_P,Panel:B}})],$p);var mte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(ye,{attrs:{bottom:"",left:"","offset-y":!0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.mdiPowerStandby))])],1)]}}]),model:{value:e.showMenu,callback:function(r){e.showMenu=r},expression:"showMenu"}},[t(Ee,{attrs:{dense:""}},[e.klipperState!=="disconnected"?[t(ms,{staticStyle:{height:"auto"}},[e._v(" "+e._s(e.$t("App.TopCornerMenu.KlipperControl"))+" ")]),t(Y,{staticClass:"minHeight30 pr-2",attrs:{link:""},on:{click:function(r){return e.checkDialog(e.klipperRestart,"klipper","restart")}}},[t(Ne,[e._v(e._s(e.$t("App.TopCornerMenu.KlipperRestart")))]),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1)],1),t(Y,{staticClass:"minHeight30 pr-2",attrs:{link:""},on:{click:function(r){return e.checkDialog(e.klipperFirmwareRestart,"klipper","firmwareRestart")}}},[t(Ne,[e._v(e._s(e.$t("App.TopCornerMenu.KlipperFirmwareRestart")))]),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1)],1)]:e._e(),e.services.length?[e.klipperState!=="disconnected"?t(H,{staticClass:"mt-0"}):e._e(),t(ms,{staticClass:"pt-2",staticStyle:{height:"auto"}},[e._v(" "+e._s(e.$t("App.TopCornerMenu.ServiceControl"))+" ")]),e._l(e.services,function(r){return t(_P,{key:r,attrs:{service:r},on:{"close-menu":function(i){e.showMenu=!1}}})})]:e._e(),e.powerDevices.length?[t(H,{staticClass:"mt-0"}),t(ms,{staticClass:"pt-2",staticStyle:{height:"auto"}},[e._v(" "+e._s(e.$t("App.TopCornerMenu.PowerDevices"))+" ")]),e._l(e.powerDevices,function(r,i){return t(Y,{key:i,staticClass:"minHeight30 pr-2",attrs:{disabled:r.status==="error"||r.locked_while_printing&&["printing","paused"].includes(e.printer_state)},on:{click:function(n){return e.changeSwitch(r,r.status)}}},[t(Ne,[e._v(e._s(r.device))]),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[t(_,{staticClass:"mr-2",attrs:{color:r.status==="on"?"":"grey darken-2"}},[e._v(" "+e._s(r.status==="on"?e.mdiToggleSwitch:e.mdiToggleSwitchOff)+" ")])],1)],1)})]:e._e(),t(H,{staticClass:"mt-0"}),t(ms,{staticClass:"pt-2",staticStyle:{height:"auto"}},[e._v(e._s(e.$t("App.TopCornerMenu.HostControl")))]),t(Y,{staticClass:"minHeight30 pr-2",attrs:{link:""},on:{click:function(r){return e.checkDialog(e.hostReboot,"host","reboot")}}},[t(Ne,[e._v(e._s(e.$t("App.TopCornerMenu.Reboot")))]),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiPower))])],1)],1),t(Y,{staticClass:"minHeight30 pr-2",attrs:{link:""},on:{click:function(r){return e.checkDialog(e.hostShutdown,"host","shutdown")}}},[t(Ne,[e._v(e._s(e.$t("App.TopCornerMenu.Shutdown")))]),t(Ri,{staticClass:"my-0 d-flex flex-row",staticStyle:{"min-width":"auto"}},[t(_,{staticClass:"mr-2",attrs:{small:""}},[e._v(e._s(e.mdiPower))])],1)],1)],2)],1),t(oe,{attrs:{width:"400",fullscreen:e.isMobile},model:{value:e.dialogPowerDeviceChange.show,callback:function(r){e.$set(e.dialogPowerDeviceChange,"show",r)},expression:"dialogPowerDeviceChange.show"}},[t(Te,[t(ft,{staticClass:"headline"},[e._v(" "+e._s(e.dialogPowerDeviceChange.value==="off"?e.$t("PowerDeviceChangeDialog.TurnDeviceOn",{device:e.dialogPowerDeviceChange.device}):e.$t("PowerDeviceChangeDialog.TurnDeviceOff",{device:e.dialogPowerDeviceChange.device}))+" ")]),t(Z,[e._v(e._s(e.$t("PowerDeviceChangeDialog.AreYouSure")))]),t(ae,[t(ie),t(g,{attrs:{color:"red darken-1",text:""},on:{click:function(r){e.dialogPowerDeviceChange.show=!1}}},[e._v(" "+e._s(e.$t("PowerDeviceChangeDialog.No"))+" ")]),t(g,{attrs:{color:"green darken-1",text:""},on:{click:e.powerDeviceToggle}},[e._v(" "+e._s(e.$t("PowerDeviceChangeDialog.Yes"))+" ")])],1)],1)],1),t(wr,{attrs:{show:e.dialogConfirmation.show,title:e.dialogConfirmation.title,text:e.dialogConfirmation.description,"action-button-text":e.dialogConfirmation.actionButtonText,"cancel-button-text":e.$t("App.TopCornerMenu.Cancel")},on:{action:e.executeDialog,close:function(r){e.dialogConfirmation.show=!1}}})],1)},pte=[];const Sy={};var fte=E($p,mte,pte,!1,gte,null,null,null);function gte(e){for(let s in Sy)this[s]=Sy[s]}const vP=function(){return fte.exports}();var _te=Object.defineProperty,vte=Object.getOwnPropertyDescriptor,f1=(e,s,t,r)=>{for(var i=r>1?void 0:r?vte(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&_te(s,t,i),i};let ro=class extends M(O){constructor(){super(...arguments),this.selectedCheckboxes=[],this.selectAllIndeterminate=!1,this.selectAllModel=Nr({get:this.getSelectAll,set:this.setSelectAll})}getSelectAll(){return this.selectAllIndeterminate=!1,0<this.selectedCheckboxes.length&&this.selectedCheckboxes.length<this.options.length?(this.selectAllIndeterminate=!0,!1):this.selectedCheckboxes.length==this.options.length}setSelectAll(s){if(s){this.selectedCheckboxes=this.options.map(t=>t.value);return}this.selectedCheckboxes=[]}};f1([x({required:!0})],ro.prototype,"options",2);f1([x({type:Boolean,required:!1,default:!1})],ro.prototype,"selectAll",2);ro=f1([w],ro);var bte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(v,{staticClass:"pl-6"},[e.selectAll?[t(fe,{staticClass:"mt-0",attrs:{label:e.$t("Settings.GeneralTab.Everything"),"hide-details":"",indeterminate:e.selectAllIndeterminate},on:{change:function(r){return e.$emit("update:selectedCheckboxes",e.selectedCheckboxes)}},model:{value:e.selectAllModel,callback:function(r){e.selectAllModel=r},expression:"selectAllModel"}}),t(H,{staticClass:"my-2"})]:e._e(),e._l(e.options,function(r){return[t(fe,{key:r.value,staticClass:"mt-0",attrs:{label:r.label,"hide-details":"",value:r.value},on:{change:function(i){return e.$emit("update:selectedCheckboxes",e.selectedCheckboxes)}},model:{value:e.selectedCheckboxes,callback:function(i){e.selectedCheckboxes=i},expression:"selectedCheckboxes"}})]})],2)},yte=[];const wy={};var Cte=E(ro,bte,yte,!1,$te,null,null,null);function $te(e){for(let s in wy)this[s]=wy[s]}const wi=function(){return Cte.exports}();var xte=Object.defineProperty,Ste=Object.getOwnPropertyDescriptor,wte=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ste(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xte(s,t,i),i};let yn=class extends O{get availableKeys(){return[{value:"general",label:this.$t("Settings.GeneralTab.General")},{value:"control",label:this.$t("Settings.ControlTab.Control")},{value:"dashboard",label:this.$t("Settings.DashboardTab.Dashboard")},{value:"editor",label:this.$t("Settings.EditorTab.Editor")},{value:"gcodeViewer",label:this.$t("Settings.GCodeViewerTab.GCodeViewer")},{value:"navigation",label:this.$t("Settings.GeneralTab.DbNavigation")},{value:"uiSettings",label:this.$t("Settings.UiSettingsTab.UiSettings")},{value:"view",label:this.$t("Settings.GeneralTab.DbView")},{value:"console",label:this.$t("Settings.ConsoleTab.Console")},{value:"gcodehistory",label:this.$t("Settings.GeneralTab.DbConsoleHistory")},{value:"macros",label:this.$t("Settings.MacrosTab.Macros")},{value:"notifications",label:this.$t("App.Notifications.Notifications")},{value:"presets",label:this.$t("Settings.PresetsTab.PreheatPresets")},{value:"remoteprinters",label:this.$t("Settings.RemotePrintersTab.RemotePrinters")},{value:"timelapse",label:this.$t("Settings.TimelapseTab.Timelapse")}]}async loadBackupableNamespaces(){let e=[];const s=this.$store.getters["socket/getUrl"]+"/server/database/list",t=await fetch(s).then(r=>r==null?void 0:r.json()).then(r=>{var i,n;return(n=(i=r==null?void 0:r.result)==null?void 0:i.namespaces)!=null?n:[]}).catch(()=>(window.console.error("Cannot load Moonraker DB namespaces"),[]));if(t.includes("mainsail")){const r=this.$store.getters["socket/getUrl"]+"/server/database/item?namespace=mainsail";e=await fetch(r).then(i=>i==null?void 0:i.json()).then(i=>{var n,a;return(a=(n=i==null?void 0:i.result)==null?void 0:n.value)!=null?a:{}}).then(i=>Object.keys(i)).then(i=>i.filter(n=>n!=="initVersion")).then(i=>i.map(n=>{const a=this.availableKeys.find(o=>o.value===n);return a||{value:n,label:n}})),e=e.sort(this.sortNamespaces)}return t.includes("maintenance")&&e.push({value:"maintenance",label:this.$t("Settings.GeneralTab.DbMaintenance")}),t.includes("timelapse")&&e.push({value:"timelapse",label:this.$t("Settings.GeneralTab.DbTimelapseSettings")}),t.includes("webcams")&&e.push({value:"webcams",label:this.$t("Settings.WebcamsTab.Webcams")}),e}sortNamespaces(e,s){if(e.value==="general")return-1;if(s.value==="general")return 1;const t=e.label.toString().toLowerCase(),r=s.label.toString().toLowerCase();return t<r?-1:t>r?1:0}};yn=wte([w],yn);var Pte=Object.defineProperty,Tte=Object.getOwnPropertyDescriptor,Dte=(e,s,t,r)=>{for(var i=r>1?void 0:r?Tte(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Pte(s,t,i),i};let xp=class extends M(O,yn){constructor(){super(...arguments),this.mdiHelpCircle=Gu,this.mdiCloseThick=pe,this.showDialog=!1,this.backupableNamespaces=[],this.backupCheckboxes=[]}async mounted(){this.backupableNamespaces=await this.loadBackupableNamespaces()}onSelectBackupCheckboxes(s){this.backupCheckboxes=s}async backupMainsail(){await this.$store.dispatch("socket/addLoading","backupMainsail"),await this.$store.dispatch("gui/backupMoonrakerDB",this.backupCheckboxes),await this.$store.dispatch("socket/removeLoading","backupMainsail"),this.closeDialog()}async openDialog(){this.backupableNamespaces=await this.loadBackupableNamespaces(),this.showDialog=!0}closeDialog(){this.showDialog=!1}};xp=Dte([w({components:{Panel:B,SettingsRow:U,CheckboxList:wi}})],xp);var Mte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(g,{attrs:{loading:e.loadings.includes("backupDbButton"),small:""},on:{click:e.openDialog}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.Backup"))+" ")]),t(oe,{attrs:{persistent:"",width:360},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Settings.GeneralTab.Backup"),"card-class":"mainsail-backup-dialog","margin-bottom":!1,icon:e.mdiHelpCircle},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Settings.GeneralTab.BackupDialog")))])])],1),t(C,[t(wi,{attrs:{options:e.backupableNamespaces,"select-all":""},on:{"update:selectedCheckboxes":e.onSelectBackupCheckboxes}})],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"red",loading:e.loadings.includes("backupMainsail")},on:{click:e.backupMainsail}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.Backup"))+" ")])],1)],1)],1)],1)],1)],1)},Ete=[];const Py={};var Ote=E(xp,Mte,Ete,!1,Lte,null,null,null);function Lte(e){for(let s in Py)this[s]=Py[s]}const bP=function(){return Ote.exports}();var Fte=Object.defineProperty,Ate=Object.getOwnPropertyDescriptor,kte=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ate(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Fte(s,t,i),i};let Sp=class extends M(O,yn){constructor(){super(...arguments),this.mdiHelpCircle=Gu,this.mdiCloseThick=pe,this.showDialog=!1,this.restoreableNamespaces=[],this.restoreCheckboxes=[],this.restoreObjects={}}onSelectRestoreCheckboxes(s){this.restoreCheckboxes=s}async restoreDb(){var s,t;(t=(s=this.$refs)==null?void 0:s.uploadBackupFile)==null||t.click()}uploadRestore(){var r,i,n,a;if(((i=(r=this.$refs.uploadBackupFile.files)==null?void 0:r.length)!=null?i:0)===0){window.console.error("No json uploaded");return}const s=(a=(n=this.$refs)==null?void 0:n.uploadBackupFile)==null?void 0:a.files[0],t=new FileReader;t.readAsText(s,"UTF-8"),t.onload=o=>{var l;this.restoreableNamespaces=[];try{this.restoreObjects=JSON.parse(((l=o==null?void 0:o.target)==null?void 0:l.result)+"");const c=Object.keys(this.restoreObjects);this.restoreableNamespaces=c.map(u=>{const d=this.availableKeys.find(h=>h.value===u);return d||{value:u,label:u}}),this.restoreableNamespaces=this.restoreableNamespaces.sort(this.sortNamespaces),this.openDialog()}catch{y.$toast.error(this.$t("Settings.GeneralTab.CannotReadJson").toString())}},t.onerror=o=>{window.console.error(o)},this.$refs.uploadBackupFile.value=""}openDialog(){this.showDialog=!0}closeDialog(){this.showDialog=!1}restoreDbAction(){this.$store.dispatch("socket/addLoading","restoreDbAction"),this.$store.dispatch("gui/restoreMoonrakerDB",{dbCheckboxes:this.restoreCheckboxes,restoreObjects:this.restoreObjects})}};Sp=kte([w({components:{SettingsGeneralTabBackupDatabase:bP,Panel:B,SettingsRow:U,CheckboxList:wi}})],Sp);var Rte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("input",{ref:"uploadBackupFile",staticClass:"d-none",attrs:{type:"file",accept:[".json"]},on:{change:e.uploadRestore}}),t(g,{staticClass:"ml-3",attrs:{small:"",loading:e.loadings.includes("restoreUploadButton")},on:{click:e.restoreDb}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.Restore"))+" ")]),t(oe,{attrs:{value:e.showDialog,persistent:"",width:360}},[t(B,{attrs:{title:e.$t("Settings.GeneralTab.Restore"),"card-class":"mainsail-restore-dialog","margin-bottom":!1,icon:e.mdiHelpCircle},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Settings.GeneralTab.RestoreDialog")))])])],1),t(C,[t(wi,{attrs:{options:e.restoreableNamespaces,"select-all":""},on:{"update:selectedCheckboxes":e.onSelectRestoreCheckboxes}})],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"red",loading:e.loadings.includes("restoreMainsail")},on:{click:e.restoreDbAction}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.Restore"))+" ")])],1)],1)],1)],1)],1)],1)},Hte=[];const Ty={};var jte=E(Sp,Rte,Hte,!1,Ite,null,null,null);function Ite(e){for(let s in Ty)this[s]=Ty[s]}const Nte=function(){return jte.exports}();var Vte=Object.defineProperty,Ute=Object.getOwnPropertyDescriptor,Bte=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ute(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Vte(s,t,i),i};let wp=class extends M(O,yn){constructor(){super(...arguments),this.mdiHelpCircle=Gu,this.mdiCloseThick=pe,this.showDialog=!1,this.resetableNamespaces=[],this.resetCheckboxes=[]}async mounted(){await this.loadResetableNamespaces()}onSelectResetCheckboxes(s){this.resetCheckboxes=s}resetMainsailAction(){this.$store.dispatch("socket/addLoading","resetMainsail"),this.$store.dispatch("gui/resetMoonrakerDB",this.resetCheckboxes)}async openDialog(){await this.loadResetableNamespaces(),this.showDialog=!0}async loadResetableNamespaces(){this.resetableNamespaces=await this.loadBackupableNamespaces(),this.moonrakerComponents.includes("history")&&(this.resetableNamespaces.push({value:"history_jobs",label:this.$t("Settings.GeneralTab.DbHistoryJobs")}),this.resetableNamespaces.push({value:"history_totals",label:this.$t("Settings.GeneralTab.DbHistoryTotals")}))}closeDialog(){this.showDialog=!1}};wp=Bte([w({components:{Panel:B,SettingsRow:U,CheckboxList:wi}})],wp);var Gte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(g,{attrs:{color:"error",small:""},on:{click:e.openDialog}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.FactoryReset"))+" ")]),t(oe,{attrs:{persistent:"",width:360},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("Settings.GeneralTab.FactoryReset"),"card-class":"mainsail-reset-dialog","margin-bottom":!1,icon:e.mdiHelpCircle},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closeDialog}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.$t("Settings.GeneralTab.FactoryDialog")))])])],1),t(C,[t(wi,{attrs:{options:e.resetableNamespaces,"select-all":""},on:{"update:selectedCheckboxes":e.onSelectResetCheckboxes}})],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"red",loading:e.loadings.includes("resetMainsail")},on:{click:e.resetMainsailAction}},[e._v(" "+e._s(e.$t("Settings.GeneralTab.Reset"))+" ")])],1)],1)],1)],1)],1)],1)},Wte=[];const Dy={};var zte=E(wp,Gte,Wte,!1,qte,null,null,null);function qte(e){for(let s in Dy)this[s]=Dy[s]}const Zte=function(){return zte.exports}();var Yte=Object.defineProperty,Xte=Object.getOwnPropertyDescriptor,Jte=(e,s,t,r)=>{for(var i=r>1?void 0:r?Xte(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Yte(s,t,i),i};let Pp=class extends M(O,yn){constructor(){super(...arguments),this.availableLanguages=[]}async created(){const s=Object.assign({"../../locales/cz.json":()=>ge(()=>import("./cz-285b76fb.js"),[]).then(r=>r.title),"../../locales/da.json":()=>ge(()=>import("./da-74f65808.js"),[]).then(r=>r.title),"../../locales/de.json":()=>ge(()=>import("./de-e0cc3b3c.js"),[]).then(r=>r.title),"../../locales/en.json":()=>ge(()=>Promise.resolve().then(()=>YS),void 0).then(r=>r.title),"../../locales/es.json":()=>ge(()=>import("./es-0b46eb75.js"),[]).then(r=>r.title),"../../locales/fr.json":()=>ge(()=>import("./fr-df0a45c6.js"),[]).then(r=>r.title),"../../locales/hu.json":()=>ge(()=>import("./hu-2e525d4f.js"),[]).then(r=>r.title),"../../locales/it.json":()=>ge(()=>import("./it-765db142.js"),[]).then(r=>r.title),"../../locales/ja.json":()=>ge(()=>import("./ja-a20a0276.js"),[]).then(r=>r.title),"../../locales/ko.json":()=>ge(()=>import("./ko-0b8d811b.js"),[]).then(r=>r.title),"../../locales/nl.json":()=>ge(()=>import("./nl-6cfe03e3.js"),[]).then(r=>r.title),"../../locales/pl.json":()=>ge(()=>import("./pl-9e04c340.js"),[]).then(r=>r.title),"../../locales/pt.json":()=>ge(()=>import("./pt-880f8881.js"),[]).then(r=>r.title),"../../locales/ru.json":()=>ge(()=>import("./ru-1afa0614.js"),[]).then(r=>r.title),"../../locales/se.json":()=>ge(()=>import("./se-e0d42c00.js"),[]).then(r=>r.title),"../../locales/tr.json":()=>ge(()=>import("./tr-93c7599c.js"),[]).then(r=>r.title),"../../locales/uk.json":()=>ge(()=>import("./uk-217f44de.js"),[]).then(r=>r.title),"../../locales/zh.json":()=>ge(()=>import("./zh-275c856c.js"),[]).then(r=>r.title),"../../locales/zh_TW.json":()=>ge(()=>import("./zh_TW-b93d3b6b.js"),[]).then(r=>r.title)}),t=[];for(const r in s){const i=r.slice(r.lastIndexOf("/")+1,r.lastIndexOf(".")),n=await s[r]();t.push({text:n,value:i})}this.availableLanguages=t}get printerName(){return this.$store.state.gui.general.printername}set printerName(s){this.$store.dispatch("gui/saveSetting",{name:"general.printername",value:s})}get currentLanguage(){return this.$store.state.gui.general.language}set currentLanguage(s){this.$store.dispatch("gui/saveSetting",{name:"general.language",value:s})}get dateFormat(){return this.$store.state.gui.general.dateFormat}set dateFormat(s){this.$store.dispatch("gui/saveSetting",{name:"general.dateFormat",value:s})}get dateFormatItems(){const s=new Date,t=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;return[{value:null,text:"Browser (".concat(s.toLocaleDateString(t,{dateStyle:"medium"}),")")},{value:"2-digits",text:s.toLocaleDateString(t,{day:"2-digit",month:"2-digit",year:"numeric"})},{value:"short",text:s.toLocaleDateString(t,{day:"2-digit",month:"short",year:"numeric"})}]}get timeFormat(){return this.$store.state.gui.general.timeFormat}set timeFormat(s){this.$store.dispatch("gui/saveSetting",{name:"general.timeFormat",value:s})}get timeFormatItems(){const s=new Date,t=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;return[{value:null,text:"Browser (".concat(s.toLocaleTimeString(t,{timeStyle:"short"}),")")},{value:"24hours",text:this.$t("Settings.GeneralTab.24hours",{time:s.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})})},{value:"12hours",text:this.$t("Settings.GeneralTab.12hours",{time:s.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit",hourCycle:"h12"})})}]}get calcPrintProgressItems(){return[{value:"file-relative",text:this.$t("Settings.GeneralTab.CalcPrintProgressItems.FileRelative")},{value:"file-absolute",text:this.$t("Settings.GeneralTab.CalcPrintProgressItems.FileAbsolute")},{value:"slicer",text:this.$t("Settings.GeneralTab.CalcPrintProgressItems.Slicer")},{value:"filament",text:this.$t("Settings.GeneralTab.CalcPrintProgressItems.Filament")}]}get calcPrintProgress(){var s;return(s=this.$store.state.gui.general.calcPrintProgress)!=null?s:"file-relative"}set calcPrintProgress(s){this.$store.dispatch("gui/saveSetting",{name:"general.calcPrintProgress",value:s})}get calcEstimateItems(){return[{value:"file",text:this.$t("Settings.GeneralTab.EstimateValues.File")},{value:"filament",text:this.$t("Settings.GeneralTab.EstimateValues.Filament")}]}get calcEstimateTime(){return this.$store.state.gui.general.calcEstimateTime}set calcEstimateTime(s){this.$store.dispatch("gui/saveSetting",{name:"general.calcEstimateTime",value:s})}get calcEtaTimeItems(){return[{value:"file",text:this.$t("Settings.GeneralTab.EstimateValues.File")},{value:"filament",text:this.$t("Settings.GeneralTab.EstimateValues.Filament")},{value:"slicer",text:this.$t("Settings.GeneralTab.EstimateValues.Slicer")}]}get calcEtaTime(){return this.$store.state.gui.general.calcEtaTime}set calcEtaTime(s){this.$store.dispatch("gui/saveSetting",{name:"general.calcEtaTime",value:s})}};Pp=Jte([w({components:{Panel:B,SettingsRow:U,CheckboxList:wi,SettingsGeneralTabBackupDatabase:bP,SettingsGeneralTabRestoreDatabase:Nte,SettingsGeneralTabResetDatabase:Zte}})],Pp);var Kte=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t(U,{attrs:{title:e.$t("Settings.GeneralTab.PrinterName")}},[t(re,{attrs:{"hide-details":"",outlined:"",dense:""},model:{value:e.printerName,callback:function(r){e.printerName=r},expression:"printerName"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.Language")}},[t(we,{attrs:{items:e.availableLanguages,"hide-details":"",outlined:"",dense:""},model:{value:e.currentLanguage,callback:function(r){e.currentLanguage=r},expression:"currentLanguage"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.DateFormat")}},[t(we,{attrs:{items:e.dateFormatItems,"hide-details":"",outlined:"",dense:""},model:{value:e.dateFormat,callback:function(r){e.dateFormat=r},expression:"dateFormat"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.TimeFormat")}},[t(we,{attrs:{items:e.timeFormatItems,"hide-details":"",outlined:"",dense:""},model:{value:e.timeFormat,callback:function(r){e.timeFormat=r},expression:"timeFormat"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.CalcPrintProgress"),"sub-title":e.$t("Settings.GeneralTab.CalcPrintProgressDescription")}},[t(we,{attrs:{items:e.calcPrintProgressItems,"hide-details":"",dense:"",outlined:""},model:{value:e.calcPrintProgress,callback:function(r){e.calcPrintProgress=r},expression:"calcPrintProgress"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.CalcEstimateTime"),"sub-title":e.$t("Settings.GeneralTab.CalcEstimateTimeDescription")}},[t(we,{attrs:{items:e.calcEstimateItems,multiple:"","hide-details":"",dense:"",outlined:""},model:{value:e.calcEstimateTime,callback:function(r){e.calcEstimateTime=r},expression:"calcEstimateTime"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.CalcEtaTime"),"sub-title":e.$t("Settings.GeneralTab.CalcEtaTimeDescription")}},[t(we,{attrs:{items:e.calcEtaTimeItems,multiple:"","hide-details":"",dense:"",outlined:""},model:{value:e.calcEtaTime,callback:function(r){e.calcEtaTime=r},expression:"calcEtaTime"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.MainsailSettingsMoonrakerDb"),"dynamic-slot-width":!0}},[t("settings-general-tab-backup-database"),t("settings-general-tab-restore-database")],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GeneralTab.FactoryReset"),"dynamic-slot-width":!0}},[t("settings-general-tab-reset-database")],1)],1)],1)],1)},Qte=[];const My={};var ese=E(Pp,Kte,Qte,!1,tse,null,null,null);function tse(e){for(let s in My)this[s]=My[s]}const sse=function(){return ese.exports}();var rse=Object.defineProperty,ise=Object.getOwnPropertyDescriptor,g1=(e,s,t,r)=>{for(var i=r>1?void 0:r?ise(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&rse(s,t,i),i};let io=class extends M(O,Pr){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.mdiMenuDown=Lr,this.selectIcon=!1,this.valid=!1,this.oldWebcamName="",this.rules={required:e=>e!==""||this.$t("Settings.WebcamsTab.Required"),unique:e=>!this.existsWebcamName(e)||this.$t("Settings.WebcamsTab.NameAlreadyExists")}}get webcams(){var e,s;return(s=(e=this.$store.state.gui.webcams)==null?void 0:e.webcams)!=null?s:[]}get title(){return this.type==="create"?this.$t("Settings.WebcamsTab.CreateWebcam"):this.$t("Settings.WebcamsTab.EditWebcam")}get actionButtonText(){return this.type==="create"?this.$t("Settings.WebcamsTab.SaveWebcam"):this.$t("Settings.WebcamsTab.UpdateWebcam")}get rotationItems(){const e=[0,90,180,270],s=[];return e.forEach(t=>{s.push({value:t,text:"".concat(t,"°")})}),s}get rulesStreamUrl(){let e=[];return this.webcam.service!=="mjpegstreamer-adaptive"&&e.push(this.rules.required),e}get rulesSnapshotUrl(){let e=[];return this.webcam.service==="mjpegstreamer-adaptive"&&e.push(this.rules.required),e}get serviceItems(){return[{value:"mjpegstreamer",text:this.$t("Settings.WebcamsTab.Mjpegstreamer")},{value:"mjpegstreamer-adaptive",text:this.$t("Settings.WebcamsTab.MjpegstreamerAdaptive")},{value:"uv4l-mjpeg",text:this.$t("Settings.WebcamsTab.Uv4lMjpeg")},{value:"ipstream",text:this.$t("Settings.WebcamsTab.Ipstream")},{value:"webrtc-camerastreamer",text:this.$t("Settings.WebcamsTab.WebrtcCameraStreamer")},{value:"webrtc-go2rtc",text:this.$t("Settings.WebcamsTab.WebrtcGo2rtc")},{value:"webrtc-mediamtx",text:this.$t("Settings.WebcamsTab.WebrtcMediaMTX")},{value:"hlsstream",text:this.$t("Settings.WebcamsTab.Hlsstream")},{value:"jmuxer-stream",text:this.$t("Settings.WebcamsTab.JMuxerStream")},{value:"webrtc-janus",text:this.$t("Settings.WebcamsTab.WebrtcJanus")}]}get iconItems(){return[{value:"mdiPrinter3d",text:this.$t("Settings.WebcamsTab.IconPrinter")},{value:"mdiPrinter3dNozzle",text:this.$t("Settings.WebcamsTab.IconNozzle")},{value:"mdiRadiatorDisabled",text:this.$t("Settings.WebcamsTab.IconBed")},{value:"mdiWebcam",text:this.$t("Settings.WebcamsTab.IconCam")},{value:"mdiAlbum",text:this.$t("Settings.WebcamsTab.IconFilament")},{value:"mdiDoor",text:this.$t("Settings.WebcamsTab.IconDoor")},{value:"mdiRaspberryPi",text:this.$t("Settings.WebcamsTab.IconMcu")},{value:"mdiCampfire",text:this.$t("Settings.WebcamsTab.IconHot")}]}get classIconButtonArrow(){let e=["_transition"];return this.selectIcon&&e.push("_rotate-180"),e}get hasFpsCounter(){return["mjpegstreamer","mjpegstreamer-adaptive"].includes(this.webcam.service)}get hasAudioOption(){return["webrtc-go2rtc"].includes(this.webcam.service)}get hideFps(){var e,s;return(s=(e=this.webcam.extra_data)==null?void 0:e.hideFps)!=null?s:!1}set hideFps(e){if(!("extra_data"in this.webcam)){this.webcam.extra_data={hideFps:e};return}this.webcam.extra_data.hideFps=e}get enableAudio(){var e,s;return(s=(e=this.webcam.extra_data)==null?void 0:e.enableAudio)!=null?s:!1}set enableAudio(e){if(!("extra_data"in this.webcam)){this.webcam.extra_data={enableAudio:e};return}this.webcam.extra_data.enableAudio=e}get nozzleCrosshairAvialable(){return["mjpegstreamer","mjpegstreamer-adaptive","webrtc-camerastreamer"].includes(this.webcam.service)}get nozzleCrosshair(){var e,s;return(s=(e=this.webcam.extra_data)==null?void 0:e.nozzleCrosshair)!=null?s:!1}set nozzleCrosshair(e){var t;const s={...(t=this.webcam.extra_data)!=null?t:{}};s.nozzleCrosshair=e,this.webcam.extra_data=s}get nozzleCrosshairColor(){var e,s;return(s=(e=this.webcam.extra_data)==null?void 0:e.nozzleCrosshairColor)!=null?s:"#ff0000"}set nozzleCrosshairColor(e){var t;const s={...(t=this.webcam.extra_data)!=null?t:{}};s.nozzleCrosshairColor=e,this.webcam.extra_data=s}updateLogoColor(e){if(typeof e=="object"){this.nozzleCrosshairColor=e.hex;return}this.nozzleCrosshairColor=e}get nozzleCrosshairSize(){var e,s;return(s=(e=this.webcam.extra_data)==null?void 0:e.nozzleCrosshairSize)!=null?s:.1}set nozzleCrosshairSize(e){var t;const s={...(t=this.webcam.extra_data)!=null?t:{}};s.nozzleCrosshairSize=e,this.webcam.extra_data=s}mounted(){this.oldWebcamName=this.webcam.name}existsWebcamName(e){var t,r;e=e.toLowerCase().trim();const s=(r=(t=this.webcams.find(i=>i.name.toLowerCase().trim()===e))==null?void 0:t.length)!=null?r:0;return this.type==="create"?s!==0:s>=1}submit(){if(this.type==="create"){this.save();return}this.update()}async save(){await this.$store.dispatch("gui/webcams/store",this.webcam),this.$emit("close")}async update(){await this.$store.dispatch("gui/webcams/update",{webcam:this.webcam,oldWebcamName:this.oldWebcamName}),this.$emit("close")}closeForm(){this.$emit("close")}};g1([x({type:Object,required:!0})],io.prototype,"webcam",2);g1([x({type:String,default:"create"})],io.prototype,"type",2);io=g1([w({components:{SettingsRow:U}})],io);var nse=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(yr,{ref:"webcamForm",on:{submit:function(r){return r.preventDefault(),e.submit.apply(null,arguments)}},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[t(ft,[e._v(e._s(e.title))]),t(Z,[t(C,[t(v,{staticClass:"col-12 col-sm-6"},[t(C,[t(v,{staticClass:"d-flex"},[t(qt,[t(ye,{attrs:{"offset-y":!0,title:"Icon"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"px-2 mr-2 _transition _menu-button",attrs:{color:"transparent",elevation:"0",ripple:!1}},"v-btn",n,!1),i),[t(_,[e._v(e._s(e.convertWebcamIcon(e.webcam.icon)))]),t(_,{staticClass:"pl-1 mr-n2",class:e.classIconButtonArrow},[e._v(" "+e._s(e.mdiMenuDown)+" ")])],1)]}}]),model:{value:e.selectIcon,callback:function(r){e.selectIcon=r},expression:"selectIcon"}},[t(Ee,{staticClass:"py-0",attrs:{dense:""}},e._l(e.iconItems,function(r){return t(Y,{key:r.value,attrs:{link:""},on:{click:function(i){e.webcam.icon=r.value}}},[t(Ws,{staticClass:"mr-2"},[t(_,{staticClass:"mt-1",attrs:{small:""}},[e._v(" "+e._s(e.convertWebcamIcon(r.value))+" ")])],1),t(ot,[t(Ne,{domProps:{textContent:e._s(r.text)}})],1)],1)}),1)],1)],1),t(re,{staticClass:"_webcam-settings-name-field",attrs:{label:e.$t("Settings.WebcamsTab.Name"),"hide-details":"auto",outlined:"",rules:[e.rules.required,e.rules.unique],dense:""},model:{value:e.webcam.name,callback:function(r){e.$set(e.webcam,"name",r)},expression:"webcam.name"}})],1)],1),t(C,[t(v,{staticClass:"py-2"},[t(re,{attrs:{label:e.$t("Settings.WebcamsTab.UrlStream"),"hide-details":"auto",outlined:"",dense:"",rules:e.rulesStreamUrl},model:{value:e.webcam.stream_url,callback:function(r){e.$set(e.webcam,"stream_url",r)},expression:"webcam.stream_url"}})],1)],1),t(C,[t(v,{staticClass:"py-2"},[t(re,{attrs:{label:e.$t("Settings.WebcamsTab.UrlSnapshot"),"hide-details":"auto",outlined:"",dense:"",rules:e.rulesSnapshotUrl},model:{value:e.webcam.snapshot_url,callback:function(r){e.$set(e.webcam,"snapshot_url",r)},expression:"webcam.snapshot_url"}})],1)],1),t(C,[t(v,{staticClass:"py-2"},[t(we,{attrs:{items:e.serviceItems,"hide-details":"",outlined:"",dense:"",label:e.$t("Settings.WebcamsTab.Service")},model:{value:e.webcam.service,callback:function(r){e.$set(e.webcam,"service",r)},expression:"webcam.service"}})],1)],1),["mjpegstreamer-adaptive","jmuxer-stream"].includes(e.webcam.service)?t(C,[t(v,{staticClass:"py-2 col-6"},[t(re,{attrs:{outlined:"",dense:"","hide-details":"",label:e.$t("Settings.WebcamsTab.TargetFPS")},model:{value:e.webcam.target_fps,callback:function(r){e.$set(e.webcam,"target_fps",r)},expression:"webcam.target_fps"}})],1),t(v,{staticClass:"py-2 col-6"},[t(we,{attrs:{items:e.rotationItems,outlined:"",dense:"","hide-details":"",label:e.$t("Settings.WebcamsTab.Rotate")},model:{value:e.webcam.rotation,callback:function(r){e.$set(e.webcam,"rotation",r)},expression:"webcam.rotation"}})],1)],1):e._e(),e.hasFpsCounter?t(C,[t(v,{staticClass:"pt-1 pb-3"},[t(fe,{staticClass:"mt-1",attrs:{"hide-details":"",label:e.$t("Settings.WebcamsTab.HideFps")},model:{value:e.hideFps,callback:function(r){e.hideFps=r},expression:"hideFps"}})],1)],1):e._e(),e.hasAudioOption?t(C,[t(v,{staticClass:"pt-1 pb-3"},[t(fe,{staticClass:"mt-1",attrs:{"hide-details":"",label:e.$t("Settings.WebcamsTab.EnableAudio")},model:{value:e.enableAudio,callback:function(r){e.enableAudio=r},expression:"enableAudio"}})],1)],1):e._e(),t(C,[t(v,{staticClass:"pt-1 pb-3"},[t("div",{staticClass:"v-label v-label--active theme--dark text-subtitle-1"},[e._v(" "+e._s(e.$t("Settings.WebcamsTab.FlipWebcam"))+" ")])])],1),t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-0"},[t(fe,{staticClass:"mt-1",attrs:{"hide-details":"",label:e.$t("Settings.WebcamsTab.Horizontally")},model:{value:e.webcam.flip_horizontal,callback:function(r){e.$set(e.webcam,"flip_horizontal",r)},expression:"webcam.flip_horizontal"}})],1),t(v,{staticClass:"py-0"},[t(fe,{staticClass:"mt-1",attrs:{"hide-details":"",label:e.$t("Settings.WebcamsTab.Vertically")},model:{value:e.webcam.flip_vertical,callback:function(r){e.$set(e.webcam,"flip_vertical",r)},expression:"webcam.flip_vertical"}})],1)],1),e.nozzleCrosshairAvialable?[t(C,[t(v,{staticClass:"pt-3 pb-3"},[t("div",{staticClass:"v-label v-label--active theme--dark text-subtitle-1"},[e._v(" "+e._s(e.$t("Settings.WebcamsTab.NozzleCrosshair"))+": ")])])],1),t(C,{staticClass:"mt-0"},[t(v,{staticClass:"py-0"},[t(fe,{staticClass:"mt-1",attrs:{"hide-details":"",label:e.$t("Settings.WebcamsTab.Enable")},model:{value:e.nozzleCrosshair,callback:function(r){e.nozzleCrosshair=r},expression:"nozzleCrosshair"}})],1),e.nozzleCrosshair?t(v,{staticClass:"py-0"},[t(ye,{attrs:{bottom:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.nozzleCrosshairColor,small:""}},"v-btn",n,!1),i))]}}],null,!1,3652875639)},[t(Wt,{attrs:{value:e.nozzleCrosshairColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":e.updateLogoColor}})],1),t("div",{staticClass:"v-label v-label--active theme--dark text-subtitle-1 d-inline-block ml-2 mt-2"},[e._v(" "+e._s(e.$t("Settings.WebcamsTab.Color"))+" ")])],1):e._e()],1),e.nozzleCrosshair?t(C,[t(v,[t(pr,{attrs:{max:1,min:.01,step:.01,"thumb-label":"","thumb-size":"24","hide-details":"",label:e.$t("Settings.WebcamsTab.Size")},model:{value:e.nozzleCrosshairSize,callback:function(r){e.nozzleCrosshairSize=r},expression:"nozzleCrosshairSize"}})],1)],1):e._e()]:e._e()],2),t(v,{staticClass:"col-12 col-sm-6 text-center",attrs:{"align-self":"center"}},[t(wd,{attrs:{webcam:e.webcam,page:"settings"}})],1)],1)],1),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:e.closeForm}},[e._v(e._s(e.$t("Settings.Cancel")))]),t(g,{attrs:{color:"primary",text:"",type:"submit",disabled:!e.valid}},[e._v(e._s(e.actionButtonText))])],1)],1)},ase=[];const Ey={};var ose=E(io,nse,ase,!1,lse,"11299b08",null,null);function lse(e){for(let s in Ey)this[s]=Ey[s]}const yP=function(){return ose.exports}();var cse=Object.defineProperty,use=Object.getOwnPropertyDescriptor,_1=(e,s,t,r)=>{for(var i=r>1?void 0:r?use(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&cse(s,t,i),i};let no=class extends M(O,Pr){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.mdiLightbulbOutline=Nf}get icon(){return this.convertWebcamIcon(this.webcam.icon)}get subtitle(){return this.webcam.service==="mjpegstreamer-adaptive"?"URL: ".concat(this.webcam.snapshot_url):"URL: ".concat(this.webcam.stream_url)}toogleStatus(){let e={...this.webcam};e.enabled=!e.enabled,this.$store.dispatch("gui/webcams/update",{webcam:e,oldWebcamName:e.name})}edit(){this.$emit("edit-webcam",this.webcam)}deleteWebcam(){this.$store.dispatch("gui/webcams/delete",this.webcam.name)}};_1([x({type:Object,default:()=>{}})],no.prototype,"webcam",2);_1([x({type:Boolean,default:!1})],no.prototype,"boolBorderTop",2);no=_1([w({components:{SettingsRow:U}})],no);var dse=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.boolBorderTop?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:e.webcam.name,icon:e.icon,"sub-title":e.subtitle}},[e.webcam.source==="database"?[t(g,{staticClass:"minwidth-0 px-2",attrs:{small:"",outlined:"",color:e.webcam.enabled?"":"secondary"},on:{click:e.toogleStatus}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiLightbulbOutline))])],1),t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:e.edit}},[t(_,{attrs:{small:"",left:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:e.deleteWebcam}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)]:e._e()],2)],1)},hse=[];const Oy={};var mse=E(no,dse,hse,!1,pse,null,null,null);function pse(e){for(let s in Oy)this[s]=Oy[s]}const CP=function(){return mse.exports}();var fse=Object.defineProperty,gse=Object.getOwnPropertyDescriptor,_se=(e,s,t,r)=>{for(var i=r>1?void 0:r?gse(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&fse(s,t,i),i};let Tp=class extends M(O,Pr){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.boolForm=!1,this.typeForm="create",this.formWebcam={}}get webcams(){var s;return(s=this.$store.state.gui.webcams.webcams)!=null?s:[]}get configfiles(){var s,t;return(t=(s=this.$store.getters["files/getDirectory"]("config"))==null?void 0:s.childrens)!=null?t:[]}get crowsnestConf(){return this.configfiles.find(s=>s.filename==="crowsnest.conf")}get existCrowsnestConf(){return this.configfiles.findIndex(s=>s.filename==="crowsnest.conf")!==-1}openCrowsnestConf(){var s,t,r;this.$store.dispatch("editor/openFile",{root:"config",path:"/",filename:(s=this.crowsnestConf)==null?void 0:s.filename,size:(t=this.crowsnestConf)==null?void 0:t.size,permissions:(r=this.crowsnestConf)==null?void 0:r.permissions})}createWebcam(){this.formWebcam={name:"",enabled:!0,icon:"mdiWebcam",service:"mjpegstreamer-adaptive",target_fps:15,target_fps_idle:15,stream_url:"/webcam/?action=stream",snapshot_url:"/webcam/?action=snapshot",rotation:0,flip_horizontal:!1,flip_vertical:!1,extra_data:{}},this.typeForm="create",this.boolForm=!0}closeForm(){this.boolForm=!1}editWebcam(s){this.formWebcam={...s},this.typeForm="edit",this.boolForm=!0}};Tp=_se([w({components:{SettingsRow:U,WebcamForm:yP,WebcamListEntry:CP}})],Tp);var vse=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.boolForm?t(Te,{attrs:{flat:""}},[t(yP,{attrs:{webcam:e.formWebcam,type:e.typeForm},on:{close:e.closeForm}})],1):t(Te,{attrs:{flat:""}},[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.WebcamsTab.Webcams")))]),e._l(e.webcams,function(r,i){return t(CP,{key:r.name,attrs:{webcam:r,"bool-border-top":i>0},on:{"edit-webcam":e.editWebcam}})})],2),t(ae,[e.existCrowsnestConf?t(g,{attrs:{text:"",color:"primary"},on:{click:e.openCrowsnestConf}},[e._v(" "+e._s(e.$t("Settings.WebcamsTab.EditCrowsnestConf"))+" ")]):e._e(),t(ie),t(g,{attrs:{text:"",color:"primary"},on:{click:e.createWebcam}},[e._v(e._s(e.$t("Settings.WebcamsTab.AddWebcam")))])],1)],1)],1)},bse=[];const Ly={};var yse=E(Tp,vse,bse,!1,Cse,null,null,null);function Cse(e){for(let s in Ly)this[s]=Ly[s]}const $se=function(){return yse.exports}();var xse=Object.defineProperty,Sse=Object.getOwnPropertyDescriptor,wse=(e,s,t,r)=>{for(var i=r>1?void 0:r?Sse(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xse(s,t,i),i};let Dp=class extends M(O){get macros(){var e;return(e=this.$store.getters["printer/getMacros"])!=null?e:[]}get hiddenMacros(){var e;return(e=this.$store.state.gui.macros.hiddenMacros)!=null?e:[]}getMacroStatus(e){return!this.hiddenMacros.includes(e.toUpperCase())}changeMacroStatus(e){const s=[...this.hiddenMacros];this.hiddenMacros.includes(e.toUpperCase())?s.splice(s.indexOf(e.toUpperCase()),1):s.push(e.toUpperCase()),this.$store.dispatch("gui/macros/saveSetting",{name:"hiddenMacros",value:s})}};Dp=wse([w({components:{SettingsRow:U}})],Dp);var Pse=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Z,[t("h3",{staticClass:"text-h5 mt-6 mb-3"},[e._v(e._s(e.$t("Settings.MacrosTab.Macros")))]),e.macros.length?e._l(e.macros,function(r,i){return t("div",{key:i},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:r.name,"sub-title":r.description,"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"input-value":e.getMacroStatus(r.name),"hide-details":""},on:{change:function(n){return e.changeMacroStatus(r.name)}}})],1)],1)}):[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(e._s(e.$t("Settings.MacrosTab.NOMacros")))])])],1)]],2)},Tse=[];const Fy={};var Dse=E(Dp,Pse,Tse,!1,Mse,null,null,null);function Mse(e){for(let s in Fy)this[s]=Fy[s]}const $P=function(){return Dse.exports}();var Ese=Object.defineProperty,Ose=Object.getOwnPropertyDescriptor,Yd=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ose(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ese(s,t,i),i};let Cn=class extends M(O,yt){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.mdiSleep=Y5,this.mdiPause=Bf,this.mdiPrinter3dNozzle=Qs,this.mdiPlus=Yu,this.mdiDragVertical=bo,this.mdiPalette=Zu,this.rules={required:e=>e!==""||"required",groupUnique:e=>!this.existsGroupName(e)||"Name already exists"},this.boolFormEdit=!1,this.editGroupId=""}get groupColors(){return[{text:this.$t("Settings.MacrosTab.Primary"),value:"primary"},{text:this.$t("Settings.MacrosTab.Secondary"),value:"secondary"},{text:this.$t("Settings.MacrosTab.Success"),value:"success"},{text:this.$t("Settings.MacrosTab.Warning"),value:"warning"},{text:this.$t("Settings.MacrosTab.Error"),value:"error"},{text:this.$t("Settings.MacrosTab.Custom"),value:"custom"}]}get macroColors(){const e=[...this.groupColors],s=e.findIndex(t=>t.value==="custom");return s!==-1&&e.splice(s,1),e.push({text:this.$t("Settings.MacrosTab.Group"),value:"group"}),e}get allMacros(){var e;return(e=this.$store.getters["printer/getMacros"])!=null?e:[]}get availableMacros(){return this.allMacros.filter(e=>!this.editGroupUsedMacros.includes(e.name))}get groups(){var e;return(e=this.$store.getters["gui/macros/getAllMacrogroups"])!=null?e:[]}get editGroupUsedMacros(){var e,s,t;return(t=(s=(e=this.editGroup)==null?void 0:e.macros)==null?void 0:s.map(r=>r.name))!=null?t:[]}get editGroup(){return this.$store.getters["gui/macros/getMacrogroup"](this.editGroupId)}get editGroupMacros(){var s,t;const e=(t=(s=this.editGroup)==null?void 0:s.macros)!=null?t:[];return e.sort((r,i)=>r.pos-i.pos),e}set editGroupMacros(e){}existsGroupName(e){return this.groups.findIndex(s=>s.name===e&&s.id!=this.editGroupId)>=0}clearColorObject(e){return typeof e=="object"&&"hex"in e&&(e=e.hex),e.length>7&&(e=e.substr(0,7)),e}updateShowGeneral(e){this.$emit("update:showGeneral",e)}async addGroup(){const e={name:"",color:"primary",colorCustom:"#fff",showInStandby:!0,showInPause:!0,showInPrinting:!0};this.editGroupId=await this.$store.dispatch("gui/macros/groupStore",{values:e}),this.boolFormEdit=!0}editMacrogroup(e){this.boolFormEdit=!0,this.editGroupId=e.id}deleteMacrogroup(e){this.$store.dispatch("gui/macros/groupDelete",e)}addMacroToGroup(e){this.$store.dispatch("gui/macros/addMacroToMacrogroup",{id:this.editGroupId,macro:e.name})}updateMacroFromGroup(e,s,t){this.$store.dispatch("gui/macros/updateMacroFromMacrogroup",{id:this.editGroupId,macro:e.name,option:s,value:t})}updateMacroOrder(e){var n,a;const s=(n=e.moved.oldIndex)!=null?n:0,t=(a=e.moved.newIndex)!=null?a:0,r=this.editGroupMacros[s].pos,i=this.editGroupMacros[t].pos;this.updateMacroFromGroup(this.editGroupMacros[s],"pos",i),this.updateMacroFromGroup(this.editGroupMacros[t],"pos",r)}changeColorMacroFromGroup(e){let s=this.macroColors.findIndex(i=>i.value===e.color)+1;const t=this.macroColors.length-1;s>t&&(s=0);const r=this.macroColors[s].value;this.updateMacroFromGroup(e,"color",r)}removeMacroFromGroup(e){this.$store.dispatch("gui/macros/removeMacroFromMacrogroup",{id:this.editGroupId,macro:e.name})}existsMacro(e){return this.allMacros.findIndex(s=>s.name.toLowerCase()===e.toLowerCase())!==-1}getMacroDescription(e){var t;const s=this.allMacros.find(r=>r.name.toLowerCase()===e.toLowerCase());return s?(t=s==null?void 0:s.description)!=null?t:null:this.$t("Settings.MacrosTab.DeletedMacro")}updateMacrogroupOption(e,s){const t={};t[e]=s,this.$store.dispatch("gui/macros/groupUpdate",{id:this.editGroupId,values:t})}updateGroupOptionName(e){this.updateMacrogroupOption("name",e)}updateGroupOptionColor(e){this.updateMacrogroupOption("color",e)}updateGroupOptionColorCustom(e){this.updateMacrogroupOption("colorCustom",this.clearColorObject(e))}updateGroupOptionShowInStandby(e){this.updateMacrogroupOption("showInStandby",e)}updateGroupOptionShowInPause(e){this.updateMacrogroupOption("showInPause",e)}updateGroupOptionShowInPrinting(e){this.updateMacrogroupOption("showInPrinting",e)}updatedBoolFormEdit(e){this.updateShowGeneral(!e)}cancelEditMacrogroup(){this.boolFormEdit=!1,this.$emit("scrollToTop")}};Yd([Ye(250)],Cn.prototype,"updateGroupOptionName",1);Yd([Ye(250)],Cn.prototype,"updateGroupOptionColorCustom",1);Yd([ce("boolFormEdit")],Cn.prototype,"updatedBoolFormEdit",1);Cn=Yd([w({components:{SettingsRow:U,draggable:Si}})],Cn);var Lse=function(){var e,s,t,r,i=this,n=i.$createElement,a=i._self._c||n;return a("div",[i.boolFormEdit===!1?[a(Z,[a("h3",{staticClass:"text-h5 mb-3"},[i._v(i._s(i.$t("Settings.MacrosTab.Macrogroups")))]),i.groups.length?i._l(i.groups,function(o,l){return a("div",{key:l},[l?a(H,{staticClass:"my-2"}):i._e(),a(U,{attrs:{title:o.name!==""?o.name:"<"+i.$t("Settings.MacrosTab.UnknownGroup")+">","sub-title":i.$tc("Settings.MacrosTab.CountMacros","macros"in o?o.macros.length:0,{count:"macros"in o?o.macros.length:0}),"dynamic-slot-width":!0}},[a(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(c){return i.editMacrogroup(o)}}},[a(_,{attrs:{left:"",small:""}},[i._v(i._s(i.mdiPencil))]),i._v(" "+i._s(i.$t("Settings.Edit"))+" ")],1),a(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:function(c){return i.deleteMacrogroup(o.id)}}},[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiDelete))])],1)],1)],1)}):[a(C,[a(v,[a("p",{staticClass:"mb-0 text-center font-italic"},[i._v(i._s(i.$t("Settings.MacrosTab.NoGroups")))])])],1)]],2),a(ae,{staticClass:"d-flex justify-end"},[a(g,{attrs:{text:"",color:"primary"},on:{click:i.addGroup}},[i._v(i._s(i.$t("Settings.MacrosTab.AddGroup")))])],1)]:i.boolFormEdit?[a(Z,[a("h3",{staticClass:"text-h5 mb-3"},[i._v(i._s(i.$t("Settings.MacrosTab.EditGroup")))]),a(U,{attrs:{title:i.$t("Settings.MacrosTab.Name")}},[a(re,{attrs:{"hide-details":"auto",rules:[i.rules.required,i.rules.groupUnique],dense:"",outlined:""},on:{change:i.updateGroupOptionName},model:{value:i.editGroup.name,callback:function(o){i.$set(i.editGroup,"name",o)},expression:"editGroup.name"}})],1),a(H,{staticClass:"my-2"}),a(U,{attrs:{title:i.$t("Settings.MacrosTab.Color")}},[a(we,{attrs:{items:i.groupColors,outlined:"",dense:"","hide-details":"",attach:""},on:{change:i.updateGroupOptionColor},model:{value:i.editGroup.color,callback:function(o){i.$set(i.editGroup,"color",o)},expression:"editGroup.color"}})],1),((e=i.editGroup)===null||e===void 0?void 0:e.color)==="custom"?[a(H,{staticClass:"my-2"}),a(U,{attrs:{title:i.$t("Settings.MacrosTab.CustomColor")}},[a(ye,{attrs:{bottom:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:i._u([{key:"activator",fn:function(o){var l=o.on,c=o.attrs;return[a(g,i._g(i._b({staticClass:"minwidth-0 px-5",attrs:{color:i.editGroup.colorCustom,small:""}},"v-btn",c,!1),l))]}}],null,!1,3888687373)},[a(Wt,{attrs:{value:i.editGroup.colorCustom,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":i.updateGroupOptionColorCustom}})],1)],1)]:i._e(),a(H,{staticClass:"my-2"}),a(U,{attrs:{title:i.$t("Settings.MacrosTab.Status")}},[a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(o){var l,c=o.on,u=o.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:(l=i.editGroup)!==null&&l!==void 0&&l.showInStandby?"":"secondary"},on:{click:function(d){var h;return i.updateGroupOptionShowInStandby(!((h=i.editGroup)!==null&&h!==void 0&&h.showInStandby))}}},"v-btn",u,!1),c),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiSleep))])],1)]}}])},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStateStandby")))])]),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(o){var l,c=o.on,u=o.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:(l=i.editGroup)!==null&&l!==void 0&&l.showInPause?"":"secondary"},on:{click:function(d){var h;return i.updateGroupOptionShowInPause(!((h=i.editGroup)!==null&&h!==void 0&&h.showInPause))}}},"v-btn",u,!1),c),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiPause))])],1)]}}])},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStatePaused")))])]),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(o){var l,c=o.on,u=o.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:(l=i.editGroup)!==null&&l!==void 0&&l.showInPrinting?"":"secondary"},on:{click:function(d){var h;return i.updateGroupOptionShowInPrinting(!((h=i.editGroup)!==null&&h!==void 0&&h.showInPrinting))}}},"v-btn",u,!1),c),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiPrinter3dNozzle))])],1)]}}])},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStatePrinting")))])])],1),a(H,{staticClass:"my-2"}),a("h3",{staticClass:"text-h5 mt-6 mb-3"},[i._v(i._s(i.$t("Settings.MacrosTab.GroupMacros")))]),(s=i.editGroup)!==null&&s!==void 0&&s.macros&&(t=i.editGroup)!==null&&t!==void 0&&(r=t.macros)!==null&&r!==void 0&&r.length?[a("draggable",{attrs:{handle:".handle","ghost-class":"ghost",group:"macros"},on:{change:i.updateMacroOrder},model:{value:i.editGroupMacros,callback:function(o){i.editGroupMacros=o},expression:"editGroupMacros"}},i._l(i.editGroupMacros,function(o,l){return a(C,{key:o.name,staticClass:"my-2 mx-0",style:i.draggableBgStyle},[a(v,{staticClass:"col-auto pr-0 d-flex py-2"},[a(_,{staticClass:"handle"},[i._v(i._s(i.mdiDragVertical))])],1),a(v,{staticClass:"py-2"},[a(U,{key:"groupMacro_macro_"+l,attrs:{title:o.name,"sub-title":i.getMacroDescription(o.name),"dynamic-slot-width":!0}},[i.existsMacro(o.name)?[a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(c){var u=c.on,d=c.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:o.color},on:{click:function(h){return i.changeColorMacroFromGroup(o)}}},"v-btn",d,!1),u),[a(_,{attrs:{small:"",left:""}},[i._v(i._s(i.mdiPalette))]),i._v(" "+i._s(o.color)+" ")],1)]}}],null,!0)},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ChangeMacroColor")))])]),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(c){var u=c.on,d=c.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:o.showInStandby?"":"secondary"},on:{click:function(h){return i.updateMacroFromGroup(o,"showInStandby",!o.showInStandby)}}},"v-btn",d,!1),u),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiSleep))])],1)]}}],null,!0)},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStateStandby")))])]),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(c){var u=c.on,d=c.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:o.showInPause?"":"secondary"},on:{click:function(h){return i.updateMacroFromGroup(o,"showInPause",!o.showInPause)}}},"v-btn",d,!1),u),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiPause))])],1)]}}],null,!0)},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStatePaused")))])]),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(c){var u=c.on,d=c.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:o.showInPrinting?"":"secondary"},on:{click:function(h){return i.updateMacroFromGroup(o,"showInPrinting",!o.showInPrinting)}}},"v-btn",d,!1),u),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiPrinter3dNozzle))])],1)]}}],null,!0)},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.ShowInStatePrinting")))])])]:i._e(),a(ue,{attrs:{top:""},scopedSlots:i._u([{key:"activator",fn:function(c){var u=c.on,d=c.attrs;return[a(g,i._g(i._b({staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:function(h){return i.removeMacroFromGroup(o)}}},"v-btn",d,!1),u),[a(_,{attrs:{small:""}},[i._v(i._s(i.mdiDelete))])],1)]}}],null,!0)},[a("span",[i._v(i._s(i.$t("Settings.MacrosTab.DeleteMacroFromGroup")))])])],2)],1)],1)}),1)]:[a(C,[a(v,[a("p",{staticClass:"mb-0 text-center font-italic"},[i._v(i._s(i.$t("Settings.MacrosTab.NoMacrosInGroup")))])])],1)],a("h3",{staticClass:"text-h5 mt-6 mb-3"},[i._v(i._s(i.$t("Settings.MacrosTab.AvailableMacros")))]),i.availableMacros.length?[i._l(i.availableMacros,function(o,l){return[l?a(H,{key:"availableMacro_deliver_"+l,staticClass:"my-2"}):i._e(),a(U,{key:"availableMacro_macro_"+l,attrs:{title:o.name,"sub-title":o.description,"dynamic-slot-width":!0}},[a(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(c){return i.addMacroToGroup(o)}}},[a(_,{attrs:{left:"",small:""}},[i._v(i._s(i.mdiPlus))]),i._v(" "+i._s(i.$t("Settings.MacrosTab.Add"))+" ")],1)],1)]})]:[a(C,[a(v,[a("p",{staticClass:"mb-0 text-center font-italic"},[i._v(i._s(i.$t("Settings.MacrosTab.NoAvailableMacros")))])])],1)]],2),a(ae,{staticClass:"d-flex justify-end"},[a(g,{attrs:{text:""},on:{click:i.cancelEditMacrogroup}},[i._v(i._s(i.$t("Settings.Close")))])],1)]:i._e()],2)},Fse=[];const Ay={};var Ase=E(Cn,Lse,Fse,!1,kse,null,null,null);function kse(e){for(let s in Ay)this[s]=Ay[s]}const xP=function(){return Ase.exports}();var Rse=Object.defineProperty,Hse=Object.getOwnPropertyDescriptor,jse=(e,s,t,r)=>{for(var i=r>1?void 0:r?Hse(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Rse(s,t,i),i};let Mp=class extends M(O){constructor(){super(...arguments),this.showGeneral=!0}get modes(){return[{text:this.$t("Settings.MacrosTab.Simple"),value:"simple"},{text:this.$t("Settings.MacrosTab.Expert"),value:"expert"}]}get mode(){var s,t,r;return(r=(t=(s=this.$store.state.gui)==null?void 0:s.macros)==null?void 0:t.mode)!=null?r:"simple"}set mode(s){this.$store.dispatch("gui/macros/saveSetting",{name:"mode",value:s})}updateShowGeneral(s){this.showGeneral=s}scrollToTop(){this.$emit("scrollToTop")}};Mp=jse([w({components:{SettingsMacrosTabExpert:xP,SettingsMacrosTabSimple:$P,SettingsRow:U}})],Mp);var Ise=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[e.showGeneral?t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MacrosTab.General")))]),t(U,{attrs:{title:e.$t("Settings.MacrosTab.Management")}},[t(we,{attrs:{items:e.modes,outlined:"",dense:"","hide-details":"",attach:""},model:{value:e.mode,callback:function(r){e.mode=r},expression:"mode"}})],1),t(H,{staticClass:"my-2"})],1):e._e(),e.mode==="expert"?[t(xP,{on:{"update:showGeneral":e.updateShowGeneral,scrollToTop:e.scrollToTop}})]:[t($P)]],2)},Nse=[];const ky={};var Vse=E(Mp,Ise,Nse,!1,Use,null,null,null);function Use(e){for(let s in ky)this[s]=ky[s]}const Bse=function(){return Vse.exports}();var Gse=Object.defineProperty,Wse=Object.getOwnPropertyDescriptor,zse=(e,s,t,r)=>{for(var i=r>1?void 0:r?Wse(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Gse(s,t,i),i};let Ep=class extends M(O,Xe,_c){constructor(){super(...arguments),this.mdiGamepad=Hf,this.mdiPrinter3dNozzle=Qs}get controlStyles(){return[{text:this.$t("Settings.ControlTab.Bars"),value:"bars"},{text:this.$t("Settings.ControlTab.Circle"),value:"circle"},{text:this.$t("Settings.ControlTab.Cross"),value:"cross"}]}get controlStyle(){var s;return(s=this.$store.state.gui.control.style)!=null?s:"bar"}set controlStyle(s){this.$store.dispatch("gui/saveSetting",{name:"control.style",value:s})}get hideDuringPrint(){var s;return(s=this.$store.state.gui.control.hideDuringPrint)!=null?s:!1}set hideDuringPrint(s){this.$store.dispatch("gui/saveSetting",{name:"control.hideDuringPrint",value:s})}get actionOptions(){let s=[{text:this.$t("Settings.ControlTab.MotorsOff",{isDefault:this.defaultActionButton==="m84"?this.$t("Settings.ControlTab.IsDefault"):""}),value:"m84"}];return this.existsQGL&&s.push({text:this.$t("Settings.ControlTab.QuadGantryLevel",{isDefault:this.defaultActionButton==="qgl"?this.$t("Settings.ControlTab.IsDefault"):""}),value:"qgl"}),this.existsZtilt&&s.push({text:this.$t("Settings.ControlTab.ZTiltAdjust",{isDefault:this.defaultActionButton==="ztilt"?this.$t("Settings.ControlTab.IsDefault"):""}),value:"ztilt"}),s}get actionButton(){var s;return(s=this.$store.state.gui.control.actionButton)!=null?s:this.defaultActionButton}set actionButton(s){this.$store.dispatch("gui/saveSetting",{name:"control.actionButton",value:s})}get defaultActionButton(){return this.$store.getters["gui/getDefaultControlActionButton"]}get enableXYHoming(){var s;return(s=this.$store.state.gui.control.enableXYHoming)!=null?s:!1}set enableXYHoming(s){this.$store.dispatch("gui/saveSetting",{name:"control.enableXYHoming",value:s})}get reverseX(){return this.$store.state.gui.control.reverseX}set reverseX(s){this.$store.dispatch("gui/saveSetting",{name:"control.reverseX",value:s})}get reverseY(){return this.$store.state.gui.control.reverseY}set reverseY(s){this.$store.dispatch("gui/saveSetting",{name:"control.reverseY",value:s})}get reverseZ(){return this.$store.state.gui.control.reverseZ}set reverseZ(s){this.$store.dispatch("gui/saveSetting",{name:"control.reverseZ",value:s})}get feedrateXY(){return this.$store.state.gui.control.feedrateXY}set feedrateXY(s){this.$store.dispatch("gui/saveSetting",{name:"control.feedrateXY",value:s})}get feedrateZ(){return this.$store.state.gui.control.feedrateZ}set feedrateZ(s){this.$store.dispatch("gui/saveSetting",{name:"control.feedrateZ",value:s})}get offsetsZ(){return this.$store.state.gui.control.offsetsZ.sort(function(t,r){return t-r})}set offsetsZ(s){const t=new Set;for(const r of s)t.add(Math.abs(r));this.$store.dispatch("gui/saveSetting",{name:"control.offsetsZ",value:Array.from(t)})}get stepsAll(){const s=this.$store.state.gui.control.stepsAll;return(s!=null?s:[]).sort(function(t,r){return r-t})}set stepsAll(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.stepsAll",value:r})}get stepsXY(){return this.$store.state.gui.control.stepsXY.sort(function(t,r){return r-t})}set stepsXY(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.stepsXY",value:r})}get stepsZ(){return this.$store.state.gui.control.stepsZ.sort(function(t,r){return r-t})}set stepsZ(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.stepsZ",value:r})}get stepsCircleXY(){return this.$store.state.gui.control.stepsCircleXY.sort(function(t,r){return r-t})}set stepsCircleXY(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.stepsCircleXY",value:r})}get stepsCircleZ(){return this.$store.state.gui.control.stepsCircleZ.sort(function(t,r){return r-t})}set stepsCircleZ(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.stepsCircleZ",value:r})}get feedamountsE(){return this.$store.state.gui.control.extruder.feedamounts.sort(function(t,r){return r-t})}set feedamountsE(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.extruder.feedamounts",value:r})}get feedratesE(){return this.$store.state.gui.control.extruder.feedrates.sort(function(t,r){return r-t})}set feedratesE(s){const t=[];for(const i of s)t.push(Math.abs(i));const r=t.filter(this.onlyUnique);this.$store.dispatch("gui/saveSetting",{name:"control.extruder.feedrates",value:r})}get showEstimatedExtrusionInfo(){return this.$store.state.gui.control.extruder.showEstimatedExtrusionInfo}set showEstimatedExtrusionInfo(s){this.$store.dispatch("gui/saveSetting",{name:"control.extruder.showEstimatedExtrusionInfo",value:s})}get offsetZSaveOption(){var s;return(s=this.$store.state.gui.control.offsetZSaveOption)!=null?s:null}set offsetZSaveOption(s){this.$store.dispatch("gui/saveSetting",{name:"control.offsetZSaveOption",value:s})}get offsetZSaveOptions(){const s=this.autoSaveZOffsetOption.replace(/Z_OFFSET_APPLY_/g,""),t=[{value:null,text:"Auto (".concat(s,")")}];return this.existZOffsetApplyEndstop&&t.push({value:"Z_OFFSET_APPLY_ENDSTOP",text:"ENDSTOP"}),this.existZOffsetApplyProbe&&t.push({value:"Z_OFFSET_APPLY_PROBE",text:"PROBE"}),t}blurFeedrateXY(){this.feedrateXY>0||(this.feedrateXY=100)}blurFeedrateZ(){this.feedrateZ>0||(this.feedrateZ=25)}onlyUnique(s,t,r){return r.indexOf(s)===t}mounted(){var s;(s=this.$refs.formControlExtruder)==null||s.validate()}};Ep=zse([w({components:{SettingsRow:U}})],Ep);var qse=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(yr,{ref:"formControlExtruder"},[t("div",{staticClass:"d-flex align-center"},[t(_,{staticStyle:{opacity:"0.7"}},[e._v(e._s(e.mdiGamepad))]),t(ft,{staticClass:"mx-n2"},[e._v(" "+e._s(e.$t("Panels.ToolheadControlPanel.Headline"))+" ")]),t(H,{staticClass:"ml-3"})],1),t(U,{attrs:{title:e.$t("Settings.ControlTab.Style")}},[t(we,{attrs:{items:e.controlStyles,outlined:"",dense:"","hide-details":"",attach:""},model:{value:e.controlStyle,callback:function(r){e.controlStyle=r},expression:"controlStyle"}})],1),t(H,{staticClass:"my-2"}),["circle","cross"].includes(e.controlStyle)&&e.actionOptions.length>1?[t(U,{attrs:{title:e.$t("Settings.ControlTab.OverwriteActionButton")}},[t(we,{attrs:{items:e.actionOptions,outlined:"",dense:"","hide-details":"",attach:""},model:{value:e.actionButton,callback:function(r){e.actionButton=r},expression:"actionButton"}})],1),t(H,{staticClass:"my-2"})]:e._e(),t(U,{attrs:{title:e.$t("Settings.ControlTab.HideDuringPrint"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideDuringPrint,callback:function(r){e.hideDuringPrint=r},expression:"hideDuringPrint"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.EnableXYHoming"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.enableXYHoming,callback:function(r){e.enableXYHoming=r},expression:"enableXYHoming"}})],1),t(H,{staticClass:"my-2"}),["circle","cross"].includes(e.controlStyle)?[t(U,{attrs:{title:e.$t("Settings.ControlTab.InvertXMovement"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reverseX,callback:function(r){e.reverseX=r},expression:"reverseX"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.InvertYMovement"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reverseY,callback:function(r){e.reverseY=r},expression:"reverseY"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.InvertZMovement"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.reverseZ,callback:function(r){e.reverseZ=r},expression:"reverseZ"}})],1),t(H,{staticClass:"my-2"})]:e._e(),t(U,{attrs:{title:e.$t("Settings.ControlTab.SpeedXY")}},[t(re,{attrs:{type:"number",suffix:"mm/s","hide-details":"auto",rules:[function(r){return r>0||e.$t("Settings.ControlTab.ValueGreaterThan",{value:"0"})}],outlined:"",dense:"","hide-spin-buttons":""},on:{blur:e.blurFeedrateXY},model:{value:e.feedrateXY,callback:function(r){e.feedrateXY=r},expression:"feedrateXY"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.SpeedZ")}},[t(re,{attrs:{type:"number",suffix:"mm/s","hide-details":"auto",rules:[function(r){return r>0||e.$t("Settings.ControlTab.ValueGreaterThan",{value:"0"})}],outlined:"",dense:"","hide-spin-buttons":""},on:{blur:e.blurFeedrateZ},model:{value:e.feedrateZ,callback:function(r){e.feedrateZ=r},expression:"feedrateZ"}})],1),t(H,{staticClass:"my-2"}),e.controlStyle==="cross"?[t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=9||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"9"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.stepsAll,callback:function(r){e.stepsAll=r},expression:"stepsAll"}})],1),t(H,{staticClass:"my-2"})]:e.controlStyle==="circle"?[t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesXYInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=4||e.$t("Settings.ControlTab.MaximumValues",{maximum:"4"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.stepsCircleXY,callback:function(r){e.stepsCircleXY=r},expression:"stepsCircleXY"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesZInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=4||e.$t("Settings.ControlTab.MaximumValues",{maximum:"4"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.stepsCircleZ,callback:function(r){e.stepsCircleZ=r},expression:"stepsCircleZ"}})],1),t(H,{staticClass:"my-2"})]:[t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesXYInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=3||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"3"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.stepsXY,callback:function(r){e.stepsXY=r},expression:"stepsXY"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesZInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=3||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"3"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.stepsZ,callback:function(r){e.stepsZ=r},expression:"stepsZ"}})],1),t(H,{staticClass:"my-2"})],e.klipperReadyForGui&&e.endstop_pin!==null?[t(U,{attrs:{title:e.$t("Settings.ControlTab.ZOffsetSaveOption"),"sub-title":e.$t("Settings.ControlTab.ZOffsetSaveOptionDescription")}},[t(we,{staticClass:"mt-0",attrs:{items:e.offsetZSaveOptions,"hide-details":"",outlined:"",dense:""},model:{value:e.offsetZSaveOption,callback:function(r){e.offsetZSaveOption=r},expression:"offsetZSaveOption"}})],1),t(H,{staticClass:"my-2"})]:e._e(),t(U,{attrs:{title:e.$t("Settings.ControlTab.ZOffsetIncrements"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=4||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"4"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.offsetsZ,callback:function(r){e.offsetsZ=r},expression:"offsetsZ"}})],1),t("div",{staticClass:"d-flex align-center"},[t(_,{staticStyle:{opacity:"0.7"}},[e._v(e._s(e.mdiPrinter3dNozzle))]),t(ft,{staticClass:"mx-n2"},[e._v(" "+e._s(e.$t("Panels.ExtruderControlPanel.Headline"))+" ")]),t(H,{staticClass:"ml-3"})],1),t(U,{attrs:{title:e.$t("Settings.ControlTab.MoveDistancesEInMm"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=5||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"5"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.feedamountsE,callback:function(r){e.feedamountsE=r},expression:"feedamountsE"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.SpeedEInMms"),"mobile-second-row":!0}},[t(ir,{attrs:{"hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","deletable-chips":!0,"append-icon":"",type:"number",rules:[function(r){return r.length>0||e.$t("Settings.ControlTab.MinimumValues",{minimum:"1"})},function(r){return r.length<=5||e.$t("Settings.ControlTab.MaximumValuesVisibility",{maximum:"5"})}],dense:"",outlined:"","hide-spin-buttons":""},model:{value:e.feedratesE,callback:function(r){e.feedratesE=r},expression:"feedratesE"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ControlTab.EstimatedExtrusionInfo"),"sub-title":e.$t("Settings.ControlTab.EstimatedExtrusionInfoDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.showEstimatedExtrusionInfo,callback:function(r){e.showEstimatedExtrusionInfo=r},expression:"showEstimatedExtrusionInfo"}})],1)],2)],1)],1)},Zse=[];const Ry={};var Yse=E(Ep,qse,Zse,!1,Xse,null,null,null);function Xse(e){for(let s in Ry)this[s]=Ry[s]}const Jse=function(){return Yse.exports}();var Kse=Object.defineProperty,Qse=Object.getOwnPropertyDescriptor,v1=(e,s,t,r)=>{for(var i=r>1?void 0:r?Qse(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Kse(s,t,i),i};let ao=class extends M(O){constructor(){super(...arguments),this.mdiFilter=p5,this.mdiFilterOff=f5,this.mdiPencil=Ct,this.mdiDelete=Ge,this.mdiConsoleLine=_o,this.form={bool:!1,valid:!1,name:"",regex:"",id:null},this.rules={required:s=>s!==""||"required",unique:s=>!this.existsPresetName(s)||"Name already exists"},this.consoleHeightTmp=300}mounted(){this.consoleHeightTmp=this.consoleHeight}get consoleFilters(){var s;return(s=this.$store.getters["gui/console/getConsolefilters"])!=null?s:[]}get availableDirections(){return[{text:this.$t("Settings.ConsoleTab.DirectionTable"),value:"table"},{text:this.$t("Settings.ConsoleTab.DirectionShell"),value:"shell"}]}get consoleDirection(){var s;return(s=this.$store.state.gui.console.direction)!=null?s:"table"}set consoleDirection(s){this.$store.dispatch("gui/console/saveSetting",{name:"direction",value:s})}get availableEntryStyles(){return[{text:this.$t("Settings.ConsoleTab.EntryStyleDefault"),value:"default"},{text:this.$t("Settings.ConsoleTab.EntryStyleCompact"),value:"compact"}]}get entryStyle(){var s;return(s=this.$store.state.gui.console.entryStyle)!=null?s:"default"}set entryStyle(s){this.$store.dispatch("gui/console/saveSetting",{name:"entryStyle",value:s})}get consoleHeight(){var s;return(s=this.$store.state.gui.console.height)!=null?s:300}set consoleHeight(s){this.$store.dispatch("gui/console/saveSetting",{name:"height",value:s})}consoleHeightChanged(s){this.consoleHeightTmp=s}updateConsoleHeight(s){this.consoleHeight=s}get hideWaitTemperatures(){return this.$store.state.gui.console.hideWaitTemperatures}set hideWaitTemperatures(s){this.$store.dispatch("gui/console/saveSetting",{name:"hideWaitTemperatures",value:s})}get hideTimelapse(){return this.$store.state.gui.console.hideTlCommands}set hideTimelapse(s){this.$store.dispatch("gui/console/saveSetting",{name:"hideTlCommands",value:s})}existsPresetName(s){return this.consoleFilters.findIndex(t=>t.name===s&&t.id!==this.form.id)>=0}clearForm(){this.form.bool=!1,this.form.id=null,this.form.name="",this.form.regex=""}toggleFilter(s){const t={name:s.name,bool:!s.bool,regex:s.regex};this.$store.dispatch("gui/console/filterUpdate",{id:s.id,values:t})}createFilter(){this.clearForm(),this.form.bool=!0}editFilter(s){this.form.name=s.name,this.form.id=s.id,this.form.regex=s.regex,this.form.bool=!0}saveFilter(){if(this.form.valid){const s={name:this.form.name,bool:this.form.bool,regex:this.form.regex};this.form.id?this.$store.dispatch("gui/console/filterUpdate",{id:this.form.id,values:s}):this.$store.dispatch("gui/console/filterStore",{values:s}),this.clearForm()}}deleteFilter(s){this.$store.dispatch("gui/console/filterDelete",s)}};v1([ce("consoleHeight")],ao.prototype,"consoleHeightChanged",1);v1([Ye(500)],ao.prototype,"updateConsoleHeight",1);ao=v1([w({components:{SettingsRow:U}})],ao);var ere=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.form.bool?t(Te,{attrs:{flat:""}},[t(yr,{on:{submit:function(r){return r.preventDefault(),e.saveFilter.apply(null,arguments)}},model:{value:e.form.valid,callback:function(r){e.$set(e.form,"valid",r)},expression:"form.valid"}},[t(ft,[e._v(" "+e._s(e.form.id===null?e.$t("Settings.ConsoleTab.CreateHeadline"):e.$t("Settings.ConsoleTab.EditHeadline"))+" ")]),t(Z,[t(U,{attrs:{title:e.$t("Settings.ConsoleTab.Name").toString()}},[t(re,{attrs:{"hide-details":"auto",rules:[e.rules.required,e.rules.unique],dense:"",outlined:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.Regex").toString()}},[t(Dr,{attrs:{outlined:"","hide-details":"auto"},model:{value:e.form.regex,callback:function(r){e.$set(e.form,"regex",r)},expression:"form.regex"}})],1)],1),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:function(r){e.form.bool=!1}}},[e._v(" "+e._s(e.$t("Settings.Cancel"))+" ")]),t(g,{attrs:{color:"primary",text:"",type:"submit"}},[e._v(" "+e._s(e.form.id===null?e.$t("Settings.ConsoleTab.StoreButton"):e.$t("Settings.ConsoleTab.UpdateButton"))+" ")])],1)],1)],1):t(Te,{attrs:{flat:""}},[t(Z,[t("div",{staticClass:"d-flex align-center"},[t(_,{staticStyle:{opacity:"0.7"}},[e._v(e._s(e.mdiConsoleLine))]),t(ft,{staticClass:"mx-n2"},[e._v(" "+e._s(e.$t("Settings.ConsoleTab.Console"))+" ")]),t(H,{staticClass:"ml-3"})],1),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.Direction").toString()}},[t(we,{attrs:{items:e.availableDirections,"hide-details":"",outlined:"",dense:"",attach:""},model:{value:e.consoleDirection,callback:function(r){e.consoleDirection=r},expression:"consoleDirection"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.EntryStyle").toString()}},[t(we,{attrs:{items:e.availableEntryStyles,"hide-details":"",outlined:"",dense:"",attach:""},model:{value:e.entryStyle,callback:function(r){e.entryStyle=r},expression:"entryStyle"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.Height").toString()}},[t(pr,{attrs:{"hide-details":"",min:200,max:900,step:10,label:e.consoleHeightTmp+"px"},on:{change:e.updateConsoleHeight},model:{value:e.consoleHeightTmp,callback:function(r){e.consoleHeightTmp=r},expression:"consoleHeightTmp"}})],1),t("div",{staticClass:"d-flex align-center"},[t(_,{staticStyle:{opacity:"0.7"}},[e._v(e._s(e.mdiFilter))]),t(ft,{staticClass:"mx-n2"},[e._v(" "+e._s(e.$t("Settings.ConsoleTab.Filters"))+" ")]),t(H,{staticClass:"ml-3"})],1),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.HideTemperatures").toString(),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideWaitTemperatures,callback:function(r){e.hideWaitTemperatures=r},expression:"hideWaitTemperatures"}})],1),e.moonrakerComponents.includes("timelapse")?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.ConsoleTab.HideTimelapse").toString(),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideTimelapse,callback:function(r){e.hideTimelapse=r},expression:"hideTimelapse"}})],1)]:e._e(),t(H,{staticClass:"my-2"}),e._l(e.consoleFilters,function(r,i){return t("div",{key:i},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:r.name}},[t(g,{staticClass:"minwidth-0 px-2",attrs:{small:"",outlined:"",color:r.bool?"white":"grey"},on:{click:function(n){return e.toggleFilter(r)}}},[t(_,{attrs:{small:""}},[e._v(e._s(r.bool?e.mdiFilter:e.mdiFilterOff))])],1),t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(n){return e.editFilter(r)}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:function(n){return e.deleteFilter(r.id)}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)],1)],1)})],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:"",color:"primary"},on:{click:e.createFilter}},[e._v(e._s(e.$t("Settings.ConsoleTab.AddFilter")))])],1)],1)],1)},tre=[];const Hy={};var sre=E(ao,ere,tre,!1,rre,null,null,null);function rre(e){for(let s in Hy)this[s]=Hy[s]}const ire=function(){return sre.exports}();var nre=Object.defineProperty,are=Object.getOwnPropertyDescriptor,SP=(e,s,t,r)=>{for(var i=r>1?void 0:r?are(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&nre(s,t,i),i};let au=class extends M(O){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge}get subTitle(){let e=[];return Object.keys(this.preset.values).forEach(s=>{const t=this.preset.values[s];if(t.bool){const r=s.indexOf(" ")?s.slice(s.indexOf(" ")+1):s;e.push(at(r)+": "+t.value+"°C")}}),this.preset.gcode&&e.push(this.$t("Settings.PresetsTab.CustomGCode").toString()),e.join(", ")}editPreset(){this.$emit("edit",this.preset)}deletePreset(){this.$store.dispatch("gui/presets/delete",this.preset.id)}};SP([x({required:!0})],au.prototype,"preset",2);au=SP([w({components:{SettingsRow:U}})],au);var ore=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(U,{attrs:{title:e.preset.name,"sub-title":e.subTitle}},[t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:e.editPreset}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:e.deletePreset}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)],1)},lre=[];const jy={};var cre=E(au,ore,lre,!1,ure,null,null,null);function ure(e){for(let s in jy)this[s]=jy[s]}const wP=function(){return cre.exports}();var dre=Object.defineProperty,hre=Object.getOwnPropertyDescriptor,mre=(e,s,t,r)=>{for(var i=r>1?void 0:r?hre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&dre(s,t,i),i};let Op=class extends M(O){constructor(){super(...arguments),this.mdiPencil=Ct}editCooldown(){this.$emit("edit")}};Op=mre([w({components:{SettingsRow:U}})],Op);var pre=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(U,{attrs:{title:e.$t("Settings.PresetsTab.Cooldown")}},[t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:e.editCooldown}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1)],1)},fre=[];const Iy={};var gre=E(Op,pre,fre,!1,_re,null,null,null);function _re(e){for(let s in Iy)this[s]=Iy[s]}const PP=function(){return gre.exports}();var vre=Object.defineProperty,bre=Object.getOwnPropertyDescriptor,TP=(e,s,t,r)=>{for(var i=r>1?void 0:r?bre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&vre(s,t,i),i};let ou=class extends M(O){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.valid=!1,this.boolInvalidMin=!1,this.rules={required:e=>e!==""||this.$t("Settings.PresetsTab.ErrorNameRequired"),unique:e=>!this.existsPresetName(e)||this.$t("Settings.PresetsTab.ErrorNameNotUnique"),invalid:e=>parseFloat(e)>=0||this.$t("Settings.PresetsTab.ErrorInvalidValue")}}get title(){return this.preset.id===null?this.$t("Settings.PresetsTab.CreateHeadline"):this.$t("Settings.PresetsTab.EditHeadline")}get storeButtonText(){return this.preset.id===null?this.$t("Settings.PresetsTab.StoreButton"):this.$t("Settings.PresetsTab.UpdateButton")}get presets(){var e;return(e=this.$store.getters["gui/presets/getPresets"])!=null?e:[]}get available_heaters(){var e,s,t;return((t=(s=(e=this.$store.state.printer)==null?void 0:e.heaters)==null?void 0:s.available_heaters)!=null?t:[]).sort()}get available_temperature_fans(){var e,s,t;return((t=(s=(e=this.$store.state.printer)==null?void 0:e.heaters)==null?void 0:s.available_sensors)!=null?t:[]).filter(r=>r.startsWith("temperature_fan ")).sort()}mounted(){const e=Object.keys(this.preset.values);this.available_heaters.filter(s=>!e.includes(s)).forEach(s=>{this.preset.values[s]={bool:!1,type:"heater",value:0}}),this.available_temperature_fans.filter(s=>!e.includes(s)).forEach(s=>{this.preset.values[s]={bool:!1,type:"temperature_fan",value:0}}),e.filter(s=>!this.available_heaters.includes(s)&&!this.available_temperature_fans.includes(s)).forEach(s=>{delete this.preset.values[s]})}existsPresetName(e){return this.presets.findIndex(s=>s.name===e&&s.id!==this.preset.id)!==-1}converNameObject(e){return at(e.replace("temperature_fan ",""))}closeForm(){this.$emit("close")}savePreset(){let e=0;for(const s of Object.keys(this.preset.values))this.preset.values[s].bool&&e++;if(this.preset.gcode.length&&e++,e===0){this.boolInvalidMin=!0;return}if(this.preset.id===null){this.$store.dispatch("gui/presets/store",{values:this.preset}),this.closeForm();return}this.$store.dispatch("gui/presets/update",{id:this.preset.id,values:this.preset}),this.closeForm()}};TP([x({required:!0})],ou.prototype,"preset",2);ou=TP([w({components:{SettingsRow:U}})],ou);var yre=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(yr,{on:{submit:function(r){return r.preventDefault(),e.savePreset.apply(null,arguments)}},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[t(ft,[e._v(e._s(e.title))]),t(Z,[e.boolInvalidMin?t(C,{staticClass:"mt-3"},[t(v,{staticClass:"py-0"},[t(et,{attrs:{dense:"",text:"",type:"error"}},[e._v(e._s(e.$t("Settings.PresetsTab.PresetInfo")))])],1)],1):e._e(),t(U,{attrs:{title:e.$t("Settings.PresetsTab.Name")}},[t(re,{attrs:{placeholder:e.$t("Settings.PresetsTab.PresetNamePlaceholder"),"hide-details":"auto",rules:[e.rules.required,e.rules.unique],dense:"",outlined:""},model:{value:e.preset.name,callback:function(r){e.$set(e.preset,"name",r)},expression:"preset.name"}})],1),e._l(e.preset.values,function(r,i){return t("div",{key:i},[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.converNameObject(i)}},[t(fe,{staticClass:"shrink mt-0",attrs:{"hide-details":""},model:{value:r.bool,callback:function(n){e.$set(r,"bool",n)},expression:"value.bool"}}),t(re,{attrs:{"hide-details":"auto",rules:[e.rules.invalid],type:"number",suffix:"°C",dense:"",outlined:"","hide-spin-buttons":""},on:{focus:function(n){return n.target.select()}},model:{value:r.value,callback:function(n){e.$set(r,"value",n)},expression:"value.value"}})],1)],1)}),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.PresetsTab.CustomGCode")}},[t(Dr,{attrs:{outlined:"","hide-details":""},model:{value:e.preset.gcode,callback:function(r){e.$set(e.preset,"gcode",r)},expression:"preset.gcode"}})],1)],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:e.closeForm}},[e._v(" "+e._s(e.$t("Settings.Cancel"))+" ")]),t(g,{attrs:{color:"primary",text:"",type:"submit",disabled:!e.valid}},[e._v(" "+e._s(e.storeButtonText)+" ")])],1)],1)],1)},Cre=[];const Ny={};var $re=E(ou,yre,Cre,!1,xre,null,null,null);function xre(e){for(let s in Ny)this[s]=Ny[s]}const DP=function(){return $re.exports}();var Sre=Object.defineProperty,wre=Object.getOwnPropertyDescriptor,Pre=(e,s,t,r)=>{for(var i=r>1?void 0:r?wre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Sre(s,t,i),i};let Lp=class extends M(O){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.boolForm=!1,this.boolFormCooldown=!1,this.formPreset={}}get presets(){var s;return(s=this.$store.getters["gui/presets/getPresets"])!=null?s:[]}get cooldownGcode(){return this.$store.getters["gui/presets/getCooldownGcode"]}createPreset(){this.formPreset.id=null,this.formPreset.name="",this.formPreset.values={},this.formPreset.gcode="",this.boolForm=!0}edit(s){this.formPreset={...s},this.boolForm=!0}};Lp=Pre([w({components:{PresetsForm:DP,PresetsEntryCooldown:PP,PresetsEntry:wP,SettingsRow:U}})],Lp);var Tre=Object.defineProperty,Dre=Object.getOwnPropertyDescriptor,MP=(e,s,t,r)=>{for(var i=r>1?void 0:r?Dre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Tre(s,t,i),i};let lu=class extends M(O){constructor(){super(...arguments),this.mdiPencil=Ct,this.mdiDelete=Ge,this.gcode=""}mounted(){this.gcode=this.inputGcode}closeForm(){this.$emit("close")}saveCooldown(){this.$store.dispatch("gui/presets/saveSetting",{name:"cooldownGcode",value:this.gcode}),this.closeForm()}};MP([x({required:!0})],lu.prototype,"inputGcode",2);lu=MP([w({components:{SettingsRow:U}})],lu);var Mre=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(yr,{on:{submit:function(r){return r.preventDefault(),e.saveCooldown.apply(null,arguments)}}},[t(ft,[e._v(e._s(e.$t("Settings.PresetsTab.EditCooldown")))]),t(Z,[t(U,{attrs:{title:e.$t("Settings.PresetsTab.CustomGCode")}},[t(Dr,{attrs:{outlined:"","hide-details":""},model:{value:e.gcode,callback:function(r){e.gcode=r},expression:"gcode"}})],1)],1),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:e.closeForm}},[e._v(" "+e._s(e.$t("Settings.Cancel"))+" ")]),t(g,{attrs:{color:"primary",text:"",type:"submit"}},[e._v(" "+e._s(e.$t("Settings.PresetsTab.UpdateCooldown"))+" ")])],1)],1)],1)},Ere=[];const Vy={};var Ore=E(lu,Mre,Ere,!1,Lre,null,null,null);function Lre(e){for(let s in Vy)this[s]=Vy[s]}const Fre=function(){return Ore.exports}();var Are=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.boolForm?t(DP,{attrs:{preset:e.formPreset},on:{close:function(r){e.boolForm=!1}}}):e.boolFormCooldown?t(Fre,{attrs:{"input-gcode":e.cooldownGcode},on:{close:function(r){e.boolFormCooldown=!1}}}):t(Te,{attrs:{flat:""}},[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.PresetsTab.PreheatPresets")))]),e._l(e.presets,function(r,i){return t("div",{key:r.index},[i?t(H,{staticClass:"my-2"}):e._e(),t(wP,{attrs:{preset:r},on:{edit:e.edit}})],1)}),e.presets.length?t(H,{staticClass:"my-2"}):e._e(),t(PP,{on:{edit:function(r){e.boolFormCooldown=!0}}})],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:"",color:"primary"},on:{click:e.createPreset}},[e._v(e._s(e.$t("Settings.PresetsTab.AddPreset")))])],1)],1)],1)},kre=[];const Uy={};var Rre=E(Lp,Are,kre,!1,Hre,null,null,null);function Hre(e){for(let s in Uy)this[s]=Uy[s]}const jre=function(){return Rre.exports}();var Ire=Object.defineProperty,Nre=Object.getOwnPropertyDescriptor,Vre=(e,s,t,r)=>{for(var i=r>1?void 0:r?Nre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ire(s,t,i),i};let Fp=class extends M(O){constructor(){super(...arguments),this.mdiCheckboxMarkedCircle=LC,this.mdiCancel=OC,this.mdiPencil=Ct,this.mdiDelete=Ge,this.mdiAlertOutline=ba,this.form={bool:!1,hostname:"",port:7125,path:"/",name:"",id:null,namespace:null}}get printers(){var s;return(s=this.$store.getters["gui/remoteprinters/getRemoteprinters"])!=null?s:[]}get canAddPrinters(){return this.$store.state.instancesDB!=="json"}get protocol(){var s;return(s=this.$store.state.socket.protocol)!=null?s:"ws"}formatPrinterName(s){var t;return s.hostname+(s.port!==80?":"+s.port:"")+((t=s.path)!=null?t:"")}createPrinter(){this.form.hostname="",this.form.port=7125,this.form.path="/",this.form.name="",this.form.id=null,this.form.namespace=null,this.form.bool=!0}storePrinter(){const s={hostname:this.form.hostname,port:this.form.port,name:this.form.name,path:this.form.path};this.$store.dispatch("gui/remoteprinters/store",{values:s}),this.form.hostname="",this.form.port=7125,this.form.name="",this.form.id=null,this.form.bool=!1}editPrinter(s){var t,r,i;this.form.id=(t=s.id)!=null?t:null,this.form.hostname=s.hostname,this.form.port=s.port,this.form.path=(r=s.path)!=null?r:"/",this.form.name=(i=s.name)!=null?i:"",this.form.bool=!0}updatePrinter(){const s={hostname:this.form.hostname,port:this.form.port,name:this.form.name,path:this.form.path};this.$store.dispatch("gui/remoteprinters/update",{id:this.form.id,values:s}),this.form.id=null,this.form.hostname="",this.form.port=7125,this.form.path="/",this.form.name="",this.form.bool=!1}delPrinter(s){this.$store.dispatch("gui/remoteprinters/delete",s)}};Fp=Vre([w({components:{SettingsRow:U}})],Fp);var Ure=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.form.bool?t(Te,{attrs:{flat:""}},[t(ft,[e._v(" "+e._s(e.form.id!==null?e.$t("Settings.RemotePrintersTab.EditPrinter"):e.$t("Settings.RemotePrintersTab.AddPrinter"))+" ")]),t(Z,[t(U,{attrs:{title:e.$t("Settings.RemotePrintersTab.Hostname")}},[t(re,{attrs:{rules:[function(r){return!!r||"Hostname is required"},function(r){return!r.startsWith("http:")||"invalid hostname/IP"},function(r){return!r.startsWith("https:")||"invalid hostname/IP"}],"hide-details":"auto",required:"",dense:"",outlined:""},model:{value:e.form.hostname,callback:function(r){e.$set(e.form,"hostname",r)},expression:"form.hostname"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.RemotePrintersTab.Port")}},[t(re,{attrs:{rules:[function(r){return!!r||"Port is required"}],"hide-details":"auto",required:"",dense:"",outlined:""},model:{value:e.form.port,callback:function(r){e.$set(e.form,"port",r)},expression:"form.port"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.RemotePrintersTab.Path")}},[t(re,{attrs:{rules:[function(r){return!r||r.startsWith("/")||"Path must start with /"}],"hide-details":"auto",outlined:"",dense:""},model:{value:e.form.path,callback:function(r){e.$set(e.form,"path",r)},expression:"form.path"}})],1),e.instancesDB!=="moonraker"?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.RemotePrintersTab.Name"),"sub-title":e.$t("Settings.RemotePrintersTab.NameDescription")}},[t(re,{attrs:{outlined:"","hide-details":"auto",dense:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1)]:e._e()],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:function(r){e.form.bool=!1}}},[e._v(e._s(e.$t("Settings.Cancel")))]),e.form.id===null?t(g,{attrs:{text:"",color:"primary"},on:{click:e.storePrinter}},[e._v(" "+e._s(e.$t("Settings.RemotePrintersTab.AddPrinter"))+" ")]):t(g,{attrs:{text:"",color:"primary"},on:{click:e.updatePrinter}},[e._v(" "+e._s(e.$t("Settings.RemotePrintersTab.UpdatePrinter"))+" ")])],1)],1):t(Te,{attrs:{flat:""}},[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.RemotePrintersTab.RemotePrinters")))]),e.canAddPrinters?e._e():t(et,{attrs:{icon:e.mdiAlertOutline,type:"warning",text:""}},[e._v(" "+e._s(e.$t("Settings.RemotePrintersTab.UseConfigJson"))+" ")]),e._l(e.printers,function(r,i){return t("div",{key:r.id},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:e.formatPrinterName(r),loading:r.socket.isConnecting,icon:r.socket.isConnected?e.mdiCheckboxMarkedCircle:e.mdiCancel}},[t(g,{attrs:{small:"",outlined:"",disabled:!e.canAddPrinters},on:{click:function(n){return e.editPrinter(r)}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error",disabled:!e.canAddPrinters},on:{click:function(n){return e.delPrinter(r.id)}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)],1)],1)})],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:"",color:"primary",disabled:!e.canAddPrinters},on:{click:e.createPrinter}},[e._v(" "+e._s(e.$t("Settings.RemotePrintersTab.AddPrinter"))+" ")])],1)],1)],1)},Bre=[];const By={};var Gre=E(Fp,Ure,Bre,!1,Wre,null,null,null);function Wre(e){for(let s in By)this[s]=By[s]}const zre=function(){return Gre.exports}();var qre=Object.defineProperty,Zre=Object.getOwnPropertyDescriptor,Go=(e,s,t,r)=>{for(var i=r>1?void 0:r?Zre(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&qre(s,t,i),i};let _i=class extends M(O,yt){constructor(){super(...arguments),this.mdiRestart=er,this.mdiTimerOutline=eE,this.defaultBigThumbnailBackground=kt}get mode(){return this.$store.state.gui.uiSettings.mode}set mode(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.mode",value:s})}get themeName(){return this.$store.getters["gui/theme"]}set themeName(s){var r,i;const t=Ui.find(n=>n.name===s);this.logoColor===this.defaultLogoColor&&(this.logoColor=(r=t==null?void 0:t.colorLogo)!=null?r:ti),this.primaryColor===this.defaultPrimaryColor&&(this.primaryColor=(i=t==null?void 0:t.colorPrimary)!=null?i:kl),this.$store.dispatch("gui/saveSetting",{name:"uiSettings.theme",value:s})}get modes(){return[{text:this.$t("Settings.UiSettingsTab.ThemeDark"),value:"dark"},{text:this.$t("Settings.UiSettingsTab.ThemeLight"),value:"light"}]}get themes(){return Ui.map(s=>({text:s.displayName,value:s.name}))}get logoColor(){return this.$store.state.gui.uiSettings.logo}set logoColor(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.logo",value:s})}get defaultLogoColor(){var s,t;return(t=(s=this.theme)==null?void 0:s.colorLogo)!=null?t:ti}get defaultPrimaryColor(){var s,t;return(t=(s=this.theme)==null?void 0:s.colorPrimary)!=null?t:kl}get primaryColor(){return this.$store.state.gui.uiSettings.primary}set primaryColor(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.primary",value:s})}get boolBigThumbnail(){return this.$store.state.gui.uiSettings.boolBigThumbnail}set boolBigThumbnail(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.boolBigThumbnail",value:s})}get bigThumbnailBackground(){return this.$store.state.gui.uiSettings.bigThumbnailBackground}set bigThumbnailBackground(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.bigThumbnailBackground",value:s})}get displayCancelPrint(){return this.$store.state.gui.uiSettings.displayCancelPrint}set displayCancelPrint(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.displayCancelPrint",value:s})}get progressAsFavicon(){return this.$store.state.gui.uiSettings.progressAsFavicon}set progressAsFavicon(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.progressAsFavicon",value:s})}get confirmOnEmergencyStop(){return this.$store.state.gui.uiSettings.confirmOnEmergencyStop}set confirmOnEmergencyStop(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.confirmOnEmergencyStop",value:s})}get confirmOnCoolDown(){return this.$store.state.gui.uiSettings.confirmOnCoolDown}set confirmOnCoolDown(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.confirmOnCoolDown",value:s})}get confirmOnPowerDeviceChange(){return this.$store.state.gui.uiSettings.confirmOnPowerDeviceChange}set confirmOnPowerDeviceChange(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.confirmOnPowerDeviceChange",value:s})}get confirmOnCancelJob(){return this.$store.state.gui.uiSettings.confirmOnCancelJob}set confirmOnCancelJob(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.confirmOnCancelJob",value:s})}get lockSliders(){return this.$store.state.gui.uiSettings.lockSlidersOnTouchDevices}set lockSliders(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.lockSlidersOnTouchDevices",value:s})}get lockSlidersDelay(){return this.$store.state.gui.uiSettings.lockSlidersDelay}set lockSlidersDelay(s){s>=0&&this.$store.dispatch("gui/saveSetting",{name:"uiSettings.lockSlidersDelay",value:s})}get boolWideNavDrawer(){var s;return(s=this.$store.state.gui.uiSettings.boolWideNavDrawer)!=null?s:!1}get navigationStyleSetting(){return this.$store.state.gui.uiSettings.navigationStyle}set navigationStyleSetting(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.navigationStyle",value:s})}get navigationStyles(){return[{text:this.$t("Settings.UiSettingsTab.NavigationStyleIconsOnly"),value:"iconsOnly"},{text:this.$t("Settings.UiSettingsTab.NavigationStyleIconsAndText"),value:"iconsAndText"}]}get defaultNavigationStateSetting(){return this.$store.state.gui.uiSettings.defaultNavigationStateSetting}set defaultNavigationStateSetting(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.defaultNavigationStateSetting",value:s})}get defaultNavigationStateSettings(){return[{text:this.$t("Settings.UiSettingsTab.DefaultNavigationStateAlwaysOpen"),value:"alwaysOpen"},{text:this.$t("Settings.UiSettingsTab.DefaultNavigationStateAlwaysClosed"),value:"alwaysClosed"},{text:this.$t("Settings.UiSettingsTab.DefaultNavigationStateLastState"),value:"lastState"}]}get boolHideUploadAndPrintButton(){var s;return(s=this.$store.state.gui.uiSettings.boolHideUploadAndPrintButton)!=null?s:!1}set boolHideUploadAndPrintButton(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.boolHideUploadAndPrintButton",value:s})}get powerDevices(){var s;return(s=this.$store.getters["server/power/getDevices"])!=null?s:[]}get autoPowerDevice(){var s,t;return(t=(s=this.powerDevices.find(r=>r.device.toLowerCase()==="printer"))==null?void 0:s.device)!=null?t:"--"}get powerDeviceName(){var s;return(s=this.$store.state.gui.uiSettings.powerDeviceName)!=null?s:null}set powerDeviceName(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.powerDeviceName",value:s})}get powerDeviceOptions(){const s=[{text:"Auto (".concat(this.autoPowerDevice,")"),value:null}];return this.powerDevices.forEach(t=>{s.push({text:"".concat(t.device," (").concat(t.type,")"),value:t.device.toString()})}),s}get hideSaveConfigForBedMash(){var s;return(s=this.$store.state.gui.uiSettings.hideSaveConfigForBedMash)!=null?s:!1}set hideSaveConfigForBedMash(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.hideSaveConfigForBedMash",value:s})}get disableFanAnimation(){var s;return(s=this.$store.state.gui.uiSettings.disableFanAnimation)!=null?s:!1}set disableFanAnimation(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.disableFanAnimation",value:s})}get boolManualProbeDialog(){var s;return(s=this.$store.state.gui.uiSettings.boolManualProbeDialog)!=null?s:!0}set boolManualProbeDialog(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.boolManualProbeDialog",value:s})}get boolBedScrewsDialog(){var s;return(s=this.$store.state.gui.uiSettings.boolBedScrewsDialog)!=null?s:!0}set boolBedScrewsDialog(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.boolBedScrewsDialog",value:s})}get boolScrewsTiltAdjustDialog(){var s;return(s=this.$store.state.gui.uiSettings.boolScrewsTiltAdjustDialog)!=null?s:!0}set boolScrewsTiltAdjustDialog(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.boolScrewsTiltAdjustDialog",value:s})}get printstatusThumbnailZoom(){var s;return(s=this.$store.state.gui.uiSettings.printstatusThumbnailZoom)!=null?s:!0}set printstatusThumbnailZoom(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.printstatusThumbnailZoom",value:s})}get tempchartHeight(){var s;return(s=this.$store.state.gui.uiSettings.tempchartHeight)!=null?s:250}set tempchartHeight(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.tempchartHeight",value:s})}get hideUpdateWarnings(){var s;return(s=this.$store.state.gui.uiSettings.hideUpdateWarnings)!=null?s:!1}set hideUpdateWarnings(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.hideUpdateWarnings",value:s})}get dashboardFilesLimit(){var s;return(s=this.$store.state.gui.uiSettings.dashboardFilesLimit)!=null?s:5}set dashboardFilesLimit(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.dashboardFilesLimit",value:s})}get dashboardFilesFilter(){var s;return(s=this.$store.state.gui.uiSettings.dashboardFilesFilter)!=null?s:[]}set dashboardFilesFilter(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.dashboardFilesFilter",value:s})}get dashboardFilesFilters(){return[{text:this.$t("Settings.UiSettingsTab.DashboardFilesFilterNew"),value:"new"},{text:this.$t("Settings.UiSettingsTab.DashboardFilesFilterFailed"),value:"failed"},{text:this.$t("Settings.UiSettingsTab.DashboardFilesFilterCompleted"),value:"completed"}]}get dashboardHistoryLimit(){var s;return(s=this.$store.state.gui.uiSettings.dashboardHistoryLimit)!=null?s:5}set dashboardHistoryLimit(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.dashboardHistoryLimit",value:s})}get hideOtherInstances(){var s;return(s=this.$store.state.gui.uiSettings.hideOtherInstances)!=null?s:!1}set hideOtherInstances(s){this.$store.dispatch("gui/saveSetting",{name:"uiSettings.hideOtherInstances",value:s})}clearColorObject(s){return typeof s=="object"&&"hex"in s&&(s=s.hex),s.length>7&&(s=s.substr(0,7)),s}updateLogoColor(s){this.logoColor=this.clearColorObject(s)}updatePrimaryColor(s){this.primaryColor=this.clearColorObject(s)}updateBigThumbnailBackground(s){this.bigThumbnailBackground=this.clearColorObject(s)}onThemeChanged(s){const t=Ui.find(r=>r.name===s);t&&t.colorLogo&&(this.logoColor=t.colorLogo)}};Go([Ye(500)],_i.prototype,"updateLogoColor",1);Go([Ye(500)],_i.prototype,"updatePrimaryColor",1);Go([Ye(500)],_i.prototype,"updateBigThumbnailBackground",1);Go([ce("theme")],_i.prototype,"onThemeChanged",1);_i=Go([w({components:{SettingsRow:U}})],_i);var Yre=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.Mode"),"sub-title":e.$t("Settings.UiSettingsTab.ModeDescription")}},[t(we,{staticClass:"mt-0",attrs:{items:e.modes,"hide-details":"",outlined:"",dense:""},model:{value:e.mode,callback:function(r){e.mode=r},expression:"mode"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.Theme"),"sub-title":e.$t("Settings.UiSettingsTab.ThemeDescription")}},[t(we,{staticClass:"mt-0",attrs:{items:e.themes,"hide-details":"",outlined:"",dense:""},model:{value:e.themeName,callback:function(r){e.themeName=r},expression:"themeName"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.Logo")}},[e.logoColor.toLowerCase()!==e.defaultLogoColor.toLowerCase()?t(g,{staticClass:"minwidth-0",attrs:{small:"",text:""},on:{click:function(r){e.logoColor=e.defaultLogoColor}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1):e._e(),t(ye,{attrs:{bottom:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.logoColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.logoColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":e.updateLogoColor}})],1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.Primary")}},[e.primaryColor.toLowerCase()!==e.defaultPrimaryColor.toLowerCase()?t(g,{staticClass:"minwidth-0",attrs:{small:"",text:""},on:{click:function(r){e.primaryColor=e.defaultPrimaryColor}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1):e._e(),t(ye,{attrs:{bottom:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.primaryColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.primaryColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":e.updatePrimaryColor}})],1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.GcodeThumbnails"),"sub-title":e.$t("Settings.UiSettingsTab.GcodeThumbnailsDescription"),"dynamic-slot-width":!0}},[t(g,{attrs:{outlined:"",small:"",color:"primary",href:"https://docs.mainsail.xyz/overview/features/thumbnails",target:"_blank"}},[e._v(" "+e._s(e.$t("Settings.UiSettingsTab.Guide"))+" ")])],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.BoolBigThumbnail"),"sub-title":e.$t("Settings.UiSettingsTab.BoolBigThumbnailDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.boolBigThumbnail,callback:function(r){e.boolBigThumbnail=r},expression:"boolBigThumbnail"}})],1),e.boolBigThumbnail?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.PrintstatusThumbnailZoom"),"sub-title":e.$t("Settings.UiSettingsTab.PrintstatusThumbnailZoomDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.printstatusThumbnailZoom,callback:function(r){e.printstatusThumbnailZoom=r},expression:"printstatusThumbnailZoom"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.BigThumbnailBackground")}},[e.bigThumbnailBackground.toLowerCase()!==e.defaultBigThumbnailBackground.toLowerCase()?t(g,{staticClass:"minwidth-0",attrs:{small:"",text:""},on:{click:function(r){e.bigThumbnailBackground=e.defaultBigThumbnailBackground}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiRestart))])],1):e._e(),t(ye,{attrs:{bottom:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.bigThumbnailBackground,small:""}},"v-btn",n,!1),i))]}}],null,!1,2319691296)},[t(Wt,{attrs:{value:e.bigThumbnailBackground,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":e.updateBigThumbnailBackground}})],1)],1)]:e._e(),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DisplayCANCEL_PRINT"),"sub-title":e.$t("Settings.UiSettingsTab.DisplayCANCEL_PRINTDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.displayCancelPrint,callback:function(r){e.displayCancelPrint=r},expression:"displayCancelPrint"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ProgressAsFavicon"),"sub-title":e.$t("Settings.UiSettingsTab.ProgressAsFaviconDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.progressAsFavicon,callback:function(r){e.progressAsFavicon=r},expression:"progressAsFavicon"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.LockSliders"),"sub-title":e.$t("Settings.UiSettingsTab.LockSlidersDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.lockSliders,callback:function(r){e.lockSliders=r},expression:"lockSliders"}})],1),t(H,{staticClass:"my-2"}),t(ku,[t(U,{directives:[{name:"show",rawName:"v-show",value:e.lockSliders,expression:"lockSliders"}],attrs:{title:e.$t("Settings.UiSettingsTab.LockSlidersDelay"),"sub-title":e.$t("Settings.UiSettingsTab.LockSlidersDelayDescription"),"dynamic-slot-width":!0}},[t(re,{staticClass:"mt-0",style:e.isMobile?{"max-width":"140px"}:{},attrs:{"prepend-icon":e.mdiTimerOutline,label:"Timeout",type:"number",rules:[function(r){return r>=0}],min:"0",step:"0.5",suffix:"s","hide-details":"",outlined:"",dense:"","hide-spin-buttons":""},model:{value:e.lockSlidersDelay,callback:function(r){e.lockSlidersDelay=r},expression:"lockSlidersDelay"}})],1)],1),t(H,{directives:[{name:"show",rawName:"v-show",value:e.lockSliders,expression:"lockSliders"}],staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ConfirmOnEmergencyStop"),"sub-title":e.$t("Settings.UiSettingsTab.ConfirmOnEmergencyStopDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.confirmOnEmergencyStop,callback:function(r){e.confirmOnEmergencyStop=r},expression:"confirmOnEmergencyStop"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ConfirmOnCoolDown"),"sub-title":e.$t("Settings.UiSettingsTab.ConfirmOnCoolDownDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.confirmOnCoolDown,callback:function(r){e.confirmOnCoolDown=r},expression:"confirmOnCoolDown"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ConfirmOnPowerDeviceChange"),"sub-title":e.$t("Settings.UiSettingsTab.ConfirmOnPowerDeviceChangeDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.confirmOnPowerDeviceChange,callback:function(r){e.confirmOnPowerDeviceChange=r},expression:"confirmOnPowerDeviceChange"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ConfirmOnCancelJob"),"sub-title":e.$t("Settings.UiSettingsTab.ConfirmOnCancelJobDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.confirmOnCancelJob,callback:function(r){e.confirmOnCancelJob=r},expression:"confirmOnCancelJob"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.NavigationStyle"),"sub-title":e.$t("Settings.UiSettingsTab.NavigationStyleDescription")}},[t(we,{staticClass:"mt-0",attrs:{items:e.navigationStyles,"hide-details":"",outlined:"",dense:""},model:{value:e.navigationStyleSetting,callback:function(r){e.navigationStyleSetting=r},expression:"navigationStyleSetting"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DefaultNavigationState"),"sub-title":e.$t("Settings.UiSettingsTab.DefaultNavigationStateDescription")}},[t(we,{staticClass:"mt-0",attrs:{items:e.defaultNavigationStateSettings,"hide-details":"",outlined:"",dense:""},model:{value:e.defaultNavigationStateSetting,callback:function(r){e.defaultNavigationStateSetting=r},expression:"defaultNavigationStateSetting"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.BoolHideUploadAndPrintButton"),"sub-title":e.$t("Settings.UiSettingsTab.BoolHideUploadAndPrintButtonDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.boolHideUploadAndPrintButton,callback:function(r){e.boolHideUploadAndPrintButton=r},expression:"boolHideUploadAndPrintButton"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.PowerDeviceName"),"sub-title":e.$t("Settings.UiSettingsTab.PowerDeviceNameDescription"),"dynamic-slot-width":!0}},[t(we,{staticClass:"mt-0",attrs:{items:e.powerDeviceOptions,"hide-details":"",outlined:"",dense:""},model:{value:e.powerDeviceName,callback:function(r){e.powerDeviceName=r},expression:"powerDeviceName"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.HideSaveConfigButtonForBedMesh"),"sub-title":e.$t("Settings.UiSettingsTab.HideSaveConfigButtonForBedMeshDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideSaveConfigForBedMash,callback:function(r){e.hideSaveConfigForBedMash=r},expression:"hideSaveConfigForBedMash"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DisableFanAnimation"),"sub-title":e.$t("Settings.UiSettingsTab.DisableFanAnimationDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.disableFanAnimation,callback:function(r){e.disableFanAnimation=r},expression:"disableFanAnimation"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ManualProbeDialog"),"sub-title":e.$t("Settings.UiSettingsTab.ManualProbeDialogDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.boolManualProbeDialog,callback:function(r){e.boolManualProbeDialog=r},expression:"boolManualProbeDialog"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.BedScrewsDialog"),"sub-title":e.$t("Settings.UiSettingsTab.BedScrewsDialogDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.boolBedScrewsDialog,callback:function(r){e.boolBedScrewsDialog=r},expression:"boolBedScrewsDialog"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.ScrewsTiltAdjustDialog"),"sub-title":e.$t("Settings.UiSettingsTab.ScrewsTiltAdjustDialogDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.boolScrewsTiltAdjustDialog,callback:function(r){e.boolScrewsTiltAdjustDialog=r},expression:"boolScrewsTiltAdjustDialog"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.TempchartHeight"),"sub-title":e.$t("Settings.UiSettingsTab.TempchartHeightDescription")}},[t(pr,{attrs:{"hide-details":"",min:100,max:500,step:1,label:e.tempchartHeight+"px"},model:{value:e.tempchartHeight,callback:function(r){e.tempchartHeight=r},expression:"tempchartHeight"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.HideUpdateWarnings"),"sub-title":e.$t("Settings.UiSettingsTab.HideUpdateWarningsDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideUpdateWarnings,callback:function(r){e.hideUpdateWarnings=r},expression:"hideUpdateWarnings"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DashboardFilesLimit"),"sub-title":e.$t("Settings.UiSettingsTab.DashboardFilesLimitDescription")}},[t(pr,{attrs:{"hide-details":"",min:0,max:10,step:1,label:e.$t("Settings.UiSettingsTab.DashboardFilesLimitLabel",{count:e.dashboardFilesLimit})},model:{value:e.dashboardFilesLimit,callback:function(r){e.dashboardFilesLimit=r},expression:"dashboardFilesLimit"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DashboardFilesFilter"),"sub-title":e.$t("Settings.UiSettingsTab.DashboardFilesFilterDescription")}},[t(we,{attrs:{items:e.dashboardFilesFilters,multiple:"","hide-details":"",dense:"",outlined:""},model:{value:e.dashboardFilesFilter,callback:function(r){e.dashboardFilesFilter=r},expression:"dashboardFilesFilter"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.DashboardHistoryLimit"),"sub-title":e.$t("Settings.UiSettingsTab.DashboardHistoryLimitDescription")}},[t(pr,{attrs:{"hide-details":"",min:0,max:10,step:1,label:e.$t("Settings.UiSettingsTab.DashboardHistoryLimitLabel",{count:e.dashboardHistoryLimit})},model:{value:e.dashboardHistoryLimit,callback:function(r){e.dashboardHistoryLimit=r},expression:"dashboardHistoryLimit"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.UiSettingsTab.HideOtherInstances"),"sub-title":e.$t("Settings.UiSettingsTab.HideOtherInstancesDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.hideOtherInstances,callback:function(r){e.hideOtherInstances=r},expression:"hideOtherInstances"}})],1)],2)],1)],1)},Xre=[];const Gy={};var Jre=E(_i,Yre,Xre,!1,Kre,null,null,null);function Kre(e){for(let s in Gy)this[s]=Gy[s]}const Qre=function(){return Jre.exports}();var eie=Object.defineProperty,tie=Object.getOwnPropertyDescriptor,b1=(e,s,t,r)=>{for(var i=r>1?void 0:r?tie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&eie(s,t,i),i};let oo=class extends M(Zs){constructor(){super(...arguments),this.mdiInformation=It,this.mdiDragVertical=bo}get panelname(){return this.getPanelName(this.name)}get icon(){return this.convertPanelnameToIcon(this.name)}get checkboxColor(){return this.visible?"primary":"grey lighten-1"}get checkboxIcon(){return this.visible?wf:Sf}};b1([x({type:String,required:!0})],oo.prototype,"name",2);b1([x({type:Boolean,required:!0})],oo.prototype,"visible",2);oo=b1([w({components:{draggable:Si}})],oo);var sie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Y,[t(C,[t(v,{staticClass:"col-auto px-0"},[t(_,{staticClass:"handle pr-2"},[e._v(e._s(e.mdiDragVertical))]),t(_,[e._v(e._s(e.icon))])],1),t(v,{staticClass:"pr-0 text-truncate"},[e._v(" "+e._s(e.panelname)+" ")]),t(v,{staticClass:"col-auto pl-2"},[t(_,{attrs:{color:e.checkboxColor},domProps:{innerHTML:e._s(e.checkboxIcon)},on:{click:function(r){return r.stopPropagation(),e.$emit("change-visible",e.name,!e.visible)}}})],1)],1)],1)},rie=[];const Wy={};var iie=E(oo,sie,rie,!1,nie,"bd581aaa",null,null);function nie(e){for(let s in Wy)this[s]=Wy[s]}const aie=function(){return iie.exports}();var oie=Object.defineProperty,lie=Object.getOwnPropertyDescriptor,y1=(e,s,t,r)=>{for(var i=r>1?void 0:r?lie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&oie(s,t,i),i};let lo=class extends M(Zs){constructor(){super(...arguments),this.mdiInformation=It,this.mdiLock=S5}get layoutname(){return this.column?"".concat(this.viewportName,"Layout").concat(this.column):"".concat(this.viewportName,"Layout")}get groupname(){return"".concat(this.viewportName,"Viewport")}get layout(){return this.$store.getters["gui/getPanels"](this.viewportName,this.column)}set layout(s){s=s.filter(t=>t!==void 0),this.$store.dispatch("gui/saveSetting",{name:"dashboard.".concat(this.layoutname),value:s})}changeVisible(s,t){const r=this.layout.findIndex(i=>i.name===s);r!==-1&&(this.layout[r].visible=t,this.$store.dispatch("gui/saveSetting",{name:"dashboard.".concat(this.layoutname),value:this.layout}))}};y1([x({type:String,required:!0})],lo.prototype,"viewportName",2);y1([x({type:Number,required:!1,default:1})],lo.prototype,"column",2);lo=y1([w({components:{SettingsDashboardSortableItem:aie,draggable:Si}})],lo);var cie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{staticClass:"mx-auto fill-height",attrs:{"max-width":"300",tile:""}},[t(Ee,{staticClass:"fill-height",attrs:{dense:""}},[e.column<2?t(Y,[t(C,[t(v,{staticClass:"col-auto pr-0 pl-8"},[t(_,[e._v(e._s(e.mdiInformation))])],1),t(v,{staticClass:"pr-0 text-truncate"},[e._v(" "+e._s(e.$t("Panels.StatusPanel.Headline"))+" ")]),t(v,{staticClass:"col-auto pl-0"},[t(_,{attrs:{color:"grey lighten-1"}},[e._v(e._s(e.mdiLock))])],1)],1)],1):e._e(),t("draggable",{staticClass:"v-list-item-group fill-height",attrs:{handle:".handle","ghost-class":"ghost",group:e.groupname},model:{value:e.layout,callback:function(r){e.layout=r},expression:"layout"}},[t("transition-group",e._l(e.layout,function(r){return t("settings-dashboard-sortable-item",{key:"item-".concat(r.name),attrs:{name:r.name,visible:r.visible},on:{"change-visible":e.changeVisible}})}),1)],1)],1)],1)},uie=[];const zy={};var die=E(lo,cie,uie,!1,hie,"021a8703",null,null);function hie(e){for(let s in zy)this[s]=zy[s]}const Xd=function(){return die.exports}();var mie=Object.defineProperty,pie=Object.getOwnPropertyDescriptor,fie=(e,s,t,r)=>{for(var i=r>1?void 0:r?pie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&mie(s,t,i),i};let Ap=class extends M(Zs){resetLayout(){this.$store.dispatch("gui/resetLayout","mobileLayout")}};Ap=fie([w({components:{SettingsDashboardSortable:Xd}})],Ap);var gie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(C,[t(v,[t("settings-dashboard-sortable",{attrs:{"viewport-name":"mobile",column:0}})],1)],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"error"},on:{click:e.resetLayout}},[e._v(e._s(e.$t("Settings.DashboardTab.ResetLayout")))])],1)],1)],1)],1)},_ie=[];const qy={};var vie=E(Ap,gie,_ie,!1,bie,null,null,null);function bie(e){for(let s in qy)this[s]=qy[s]}const yie=function(){return vie.exports}();var Cie=Object.defineProperty,$ie=Object.getOwnPropertyDescriptor,xie=(e,s,t,r)=>{for(var i=r>1?void 0:r?$ie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Cie(s,t,i),i};let kp=class extends M(Zs){resetLayout(){this.$store.dispatch("gui/resetLayout","tabletLayout1"),this.$store.dispatch("gui/resetLayout","tabletLayout2")}};kp=xie([w({components:{SettingsDashboardSortable:Xd}})],kp);var Sie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(C,[t(v,{staticClass:"col-12 col-md-6"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"tablet",column:1}})],1),t(v,{staticClass:"col-12 col-md-6"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"tablet",column:2}})],1)],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"error"},on:{click:e.resetLayout}},[e._v(e._s(e.$t("Settings.DashboardTab.ResetLayout")))])],1)],1)],1)],1)},wie=[];const Zy={};var Pie=E(kp,Sie,wie,!1,Tie,null,null,null);function Tie(e){for(let s in Zy)this[s]=Zy[s]}const Die=function(){return Pie.exports}();var Mie=Object.defineProperty,Eie=Object.getOwnPropertyDescriptor,Oie=(e,s,t,r)=>{for(var i=r>1?void 0:r?Eie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Mie(s,t,i),i};let Rp=class extends M(Zs){resetLayout(){this.$store.dispatch("gui/resetLayout","desktopLayout1"),this.$store.dispatch("gui/resetLayout","desktopLayout2")}};Rp=Oie([w({components:{SettingsDashboardSortable:Xd}})],Rp);var Lie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(C,[t(v,{staticClass:"col-12 col-md-6"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"desktop",column:1}})],1),t(v,{staticClass:"col-12 col-md-6"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"desktop",column:2}})],1)],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"error"},on:{click:e.resetLayout}},[e._v(e._s(e.$t("Settings.DashboardTab.ResetLayout")))])],1)],1)],1)],1)},Fie=[];const Yy={};var Aie=E(Rp,Lie,Fie,!1,kie,null,null,null);function kie(e){for(let s in Yy)this[s]=Yy[s]}const Rie=function(){return Aie.exports}();var Hie=Object.defineProperty,jie=Object.getOwnPropertyDescriptor,Iie=(e,s,t,r)=>{for(var i=r>1?void 0:r?jie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Hie(s,t,i),i};let Hp=class extends M(Zs){resetLayout(){this.$store.dispatch("gui/resetLayout","widescreenLayout1"),this.$store.dispatch("gui/resetLayout","widescreenLayout2"),this.$store.dispatch("gui/resetLayout","widescreenLayout3")}};Hp=Iie([w({components:{SettingsDashboardSortable:Xd}})],Hp);var Nie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(C,[t(v,{staticClass:"col-12 col-md-4"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"widescreen",column:1}})],1),t(v,{staticClass:"col-12 col-md-4"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"widescreen",column:2}})],1),t(v,{staticClass:"col-12 col-md-4"},[t("settings-dashboard-sortable",{attrs:{"viewport-name":"widescreen",column:3}})],1)],1),t(C,[t(v,{staticClass:"text-center"},[t(g,{attrs:{color:"error"},on:{click:e.resetLayout}},[e._v(e._s(e.$t("Settings.DashboardTab.ResetLayout")))])],1)],1)],1)],1)},Vie=[];const Xy={};var Uie=E(Hp,Nie,Vie,!1,Bie,null,null,null);function Bie(e){for(let s in Xy)this[s]=Xy[s]}const Gie=function(){return Uie.exports}();var Wie=Object.defineProperty,zie=Object.getOwnPropertyDescriptor,qie=(e,s,t,r)=>{for(var i=r>1?void 0:r?zie(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Wie(s,t,i),i};let jp=class extends M(O){constructor(){super(...arguments),this.mdiCellphone=jM,this.mdiTablet=K5,this.mdiMonitorDashboard=Uf,this.mdiMonitorScreenshot=E5,this.currentViewport="desktop"}mounted(){this.isMobile?this.currentViewport="mobile":this.isTablet?this.currentViewport="tablet":this.isDesktop?this.currentViewport="desktop":this.isWidescreen?this.currentViewport="widescreen":this.currentViewport="desktop"}get currentTab(){return"settings-dashboard-tab-"+this.currentViewport}};jp=qie([w({components:{SettingsDashboardTabMobile:yie,SettingsDashboardTabTablet:Die,SettingsDashboardTabDesktop:Rie,SettingsDashboardTabWidescreen:Gie}})],jp);var Zie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(Te,{attrs:{flat:""}},[t(Z,[t(C,[t(v,{staticClass:"text-center"},[t(la,{staticClass:"mx-auto",attrs:{mandatory:""},model:{value:e.currentViewport,callback:function(r){e.currentViewport=r},expression:"currentViewport"}},[t(g,{attrs:{value:"mobile"}},[t("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.$t("Settings.DashboardTab.Mobile")))]),t(_,{staticClass:"hidden-sm-and-down",attrs:{right:""}},[e._v(e._s(e.mdiCellphone))]),t(_,{staticClass:"hidden-md-and-up"},[e._v(e._s(e.mdiCellphone))])],1),t(g,{attrs:{value:"tablet"}},[t("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.$t("Settings.DashboardTab.Tablet")))]),t(_,{staticClass:"hidden-sm-and-down",attrs:{right:""}},[e._v(e._s(e.mdiTablet))]),t(_,{staticClass:"hidden-md-and-up"},[e._v(e._s(e.mdiTablet))])],1),t(g,{attrs:{value:"desktop"}},[t("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.$t("Settings.DashboardTab.Desktop")))]),t(_,{staticClass:"hidden-sm-and-down",attrs:{right:""}},[e._v(e._s(e.mdiMonitorDashboard))]),t(_,{staticClass:"hidden-md-and-up"},[e._v(e._s(e.mdiMonitorDashboard))])],1),t(g,{attrs:{value:"widescreen"}},[t("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.$t("Settings.DashboardTab.Widescreen")))]),t(_,{staticClass:"hidden-sm-and-down",attrs:{right:""}},[e._v(e._s(e.mdiMonitorScreenshot))]),t(_,{staticClass:"hidden-md-and-up"},[e._v(e._s(e.mdiMonitorScreenshot))])],1)],1)],1)],1),t(C,[t(v,{staticClass:"dashboard-rows-container"},[t(e.currentTab,{tag:"component"})],1)],1)],1)],1)},Yie=[];const Jy={};var Xie=E(jp,Zie,Yie,!1,Jie,"50943ad9",null,null);function Jie(e){for(let s in Jy)this[s]=Jy[s]}const Kie=function(){return Xie.exports}();var Qie=Object.defineProperty,ene=Object.getOwnPropertyDescriptor,C1=(e,s,t,r)=>{for(var i=r>1?void 0:r?ene(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Qie(s,t,i),i};let co=class extends M(O){get showAxes(){return this.$store.state.gui.gcodeViewer.showAxes}set showAxes(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.showAxes",value:s})}get extruderColors(){return this.$store.state.gui.gcodeViewer.extruderColors}colorsUpdated(s,t){let r=this.extruderColors;r[t]=s.hex,this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.extruderColors",value:r})}get backgroundColor(){return this.$store.state.gui.gcodeViewer.backgroundColor}set backgroundColor(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.backgroundColor",value:s})}get gridColor(){return this.$store.state.gui.gcodeViewer.gridColor}set gridColor(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.gridColor",value:s})}get progressColor(){return this.$store.state.gui.gcodeViewer.progressColor}set progressColor(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.progressColor",value:s})}updateColorValue(s,t){y.set(this,s,this.clearColorObject(t))}clearColorObject(s){return typeof s=="object"&&"hex"in s&&(s=s.hex),s.length>7&&(s=s.substr(0,7)),s}get minFeed(){return this.$store.state.gui.gcodeViewer.minFeed}set minFeed(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.minFeed",value:s})}get maxFeed(){return this.$store.state.gui.gcodeViewer.maxFeed}set maxFeed(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.maxFeed",value:s})}get minFeedColor(){return this.$store.state.gui.gcodeViewer.minFeedColor}set minFeedColor(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.minFeedColor",value:s})}get maxFeedColor(){return this.$store.state.gui.gcodeViewer.maxFeedColor}set maxFeedColor(s){this.$store.dispatch("gui/saveSetting",{name:"gcodeViewer.maxFeedColor",value:s})}feedBlur(){this.minFeed<1&&(this.minFeed=1),this.maxFeed<this.minFeed&&(this.maxFeed=this.minFeed+1)}};C1([Ye(500)],co.prototype,"colorsUpdated",1);C1([Ye(500)],co.prototype,"updateColorValue",1);co=C1([w({components:{SettingsRow:U}})],co);var tne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.ShowAxes")}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.showAxes,callback:function(r){e.showAxes=r},expression:"showAxes"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.BackgroundColor")}},[t(ye,{attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.backgroundColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.backgroundColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(r){return e.updateColorValue("backgroundColor",r)}}})],1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.GridColor")}},[t(ye,{attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.gridColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.gridColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(r){return e.updateColorValue("gridColor",r)}}})],1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.ProgressColor")}},[t(ye,{attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.progressColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.progressColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(r){return e.updateColorValue("progressColor",r)}}})],1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.ExtruderColor")}},[t(C,{attrs:{"no-gutters":""}},e._l(e.extruderColors,function(r,i){return t(ye,{key:i,attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,o=n.attrs;return[t(v,{staticClass:"mt-1",attrs:{align:"right",cols:"12"}},[t("span",{staticClass:"mr-2"},[e._v(e._s(i))]),t(g,e._g(e._b({staticClass:"minwidth-0 px-5",attrs:{color:e.extruderColors[i],small:""}},"v-btn",o,!1),a))],1)]}}],null,!0)},[t(Wt,{attrs:{value:e.extruderColors[i],"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(n){return e.colorsUpdated(n,i)}}})],1)}),1)],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.MinFeed")}},[t(ye,{attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5 mr-3",attrs:{color:e.minFeedColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.minFeedColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(r){return e.updateColorValue("minFeedColor",r)}}})],1),t(re,{attrs:{rules:[function(r){return r>0||"Minimum speed is 1"}],dense:"","hide-details":"auto",outlined:"",suffix:"mm/s",type:"number","hide-spin-buttons":""},on:{blur:e.feedBlur},model:{value:e.minFeed,callback:function(r){e.minFeed=r},expression:"minFeed"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.GCodeViewerTab.MaxFeed")}},[t(ye,{attrs:{"close-on-content-click":!1,bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0 px-5 mr-3",attrs:{color:e.maxFeedColor,small:""}},"v-btn",n,!1),i))]}}])},[t(Wt,{attrs:{value:e.maxFeedColor,"hide-mode-switch":"",mode:"rgba"},on:{"update:color":function(r){return e.updateColorValue("maxFeedColor",r)}}})],1),t(re,{attrs:{rules:[function(r){return r>0||"Minimum speed is 1"}],dense:"","hide-details":"auto",outlined:"",suffix:"mm/s",type:"number","hide-spin-buttons":""},on:{blur:e.feedBlur},model:{value:e.maxFeed,callback:function(r){e.maxFeed=r},expression:"maxFeed"}})],1)],1)],1)],1)},sne=[];const Ky={};var rne=E(co,tne,sne,!1,ine,null,null,null);function ine(e){for(let s in Ky)this[s]=Ky[s]}const nne=function(){return rne.exports}();var ane=Object.defineProperty,one=Object.getOwnPropertyDescriptor,lne=(e,s,t,r)=>{for(var i=r>1?void 0:r?one(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ane(s,t,i),i};let Ip=class extends M(O){constructor(){super(...arguments),this.klipperRestartMethods=[{text:"FIRMWARE_RESTART",value:"FIRMWARE_RESTART"},{text:"RESTART",value:"RESTART"}]}get tabSizes(){return[2,4,6,8].map(t=>({text:this.$t("Settings.EditorTab.Spaces",{count:t}),value:t}))}get escToClose(){return this.$store.state.gui.editor.escToClose}set escToClose(s){this.$store.dispatch("gui/saveSetting",{name:"editor.escToClose",value:s})}get confirmUnsavedChanges(){return this.$store.state.gui.editor.confirmUnsavedChanges}set confirmUnsavedChanges(s){this.$store.dispatch("gui/saveSetting",{name:"editor.confirmUnsavedChanges",value:s})}get tabSize(){return this.$store.state.gui.editor.tabSize||2}set tabSize(s){this.$store.dispatch("gui/saveSetting",{name:"editor.tabSize",value:s})}get klipperRestartMethod(){return this.$store.state.gui.editor.klipperRestartMethod}set klipperRestartMethod(s){this.$store.dispatch("gui/saveSetting",{name:"editor.klipperRestartMethod",value:s})}};Ip=lne([w({components:{SettingsRow:U}})],Ip);var cne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t(U,{attrs:{title:e.$t("Settings.EditorTab.UseEscToClose"),"sub-title":e.$t("Settings.EditorTab.UseEscToCloseDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.escToClose,callback:function(r){e.escToClose=r},expression:"escToClose"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.EditorTab.ConfirmUnsavedChanges"),"sub-title":e.$t("Settings.EditorTab.ConfirmUnsavedChangesDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:e.confirmUnsavedChanges,callback:function(r){e.confirmUnsavedChanges=r},expression:"confirmUnsavedChanges"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.EditorTab.TabSize"),"sub-title":e.$t("Settings.EditorTab.TabSizeDescription"),"dynamic-slot-width":!0}},[t(we,{attrs:{items:e.tabSizes,"hide-details":"",outlined:"",dense:"",attached:""},model:{value:e.tabSize,callback:function(r){e.tabSize=r},expression:"tabSize"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.EditorTab.KlipperRestartMethod"),"sub-title":e.$t("Settings.EditorTab.KlipperRestartMethodDescription")}},[t(we,{attrs:{items:e.klipperRestartMethods,"hide-details":"",outlined:"",dense:"",attached:""},model:{value:e.klipperRestartMethod,callback:function(r){e.klipperRestartMethod=r},expression:"klipperRestartMethod"}})],1)],1)],1)],1)},une=[];const Qy={};var dne=E(Ip,cne,une,!1,hne,null,null,null);function hne(e){for(let s in Qy)this[s]=Qy[s]}const mne=function(){return dne.exports}();var pne=Object.defineProperty,fne=Object.getOwnPropertyDescriptor,gne=(e,s,t,r)=>{for(var i=r>1?void 0:r?fne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&pne(s,t,i),i};let Np=class extends M(O){constructor(){super(...arguments),this.modeOptions=[{text:"layermacro",value:"layermacro"},{text:"hyperlapse",value:"hyperlapse"}],this.parkposOptions=[{text:"center",value:"center"},{text:"front_left",value:"front_left"},{text:"front_right",value:"front_right"},{text:"back_left",value:"back_left"},{text:"back_right",value:"back_right"},{text:"x_only",value:"x_only"},{text:"y_only",value:"y_only"},{text:"custom",value:"custom"}]}get availableSnapshotWebcams(){return this.$store.getters["gui/webcams/getWebcams"].filter(s=>s.snapshot_url!=="")}get cameraOptions(){let s=[];return this.availableSnapshotWebcams.length===0?[{value:null,text:this.$t("Settings.TimelapseTab.NoWebcamFound")}]:(this.availableSnapshotWebcams.forEach(t=>{s.push({text:t.name,value:t.name})}),s=Rt(s,"text"),this.camera===null&&s.unshift({value:null,text:this.$t("Settings.TimelapseTab.SelectWebcam")}),s)}get blockedsettings(){var s;return(s=this.$store.state.server.timelapse.settings.blockedsettings)!=null?s:[]}get enabled(){return this.$store.state.server.timelapse.settings.enabled}set enabled(s){this.$store.dispatch("server/timelapse/saveSetting",{enabled:s})}get mode(){return this.$store.state.server.timelapse.settings.mode}set mode(s){this.$store.dispatch("server/timelapse/saveSetting",{mode:s})}get hyperlapseCycle(){return this.$store.state.server.timelapse.settings.hyperlapse_cycle}set hyperlapseCycle(s){this.$store.dispatch("server/timelapse/saveSetting",{hyperlapse_cycle:s})}get autorender(){return this.$store.state.server.timelapse.settings.autorender}set autorender(s){this.$store.dispatch("server/timelapse/saveSetting",{autorender:s})}get saveframes(){return this.$store.state.server.timelapse.settings.saveframes}set saveframes(s){this.$store.dispatch("server/timelapse/saveSetting",{saveframes:s})}get stream_delay_compensation(){return this.$store.state.server.timelapse.settings.stream_delay_compensation}set stream_delay_compensation(s){s===""&&(s=0),this.$store.dispatch("server/timelapse/saveSetting",{stream_delay_compensation:s})}get previewimage(){return this.$store.state.server.timelapse.settings.previewimage}set previewimage(s){this.$store.dispatch("server/timelapse/saveSetting",{previewimage:s})}get gcode_verbose(){return this.$store.state.server.timelapse.settings.gcode_verbose}set gcode_verbose(s){this.$store.dispatch("server/timelapse/saveSetting",{gcode_verbose:s})}get parkhead(){return this.$store.state.server.timelapse.settings.parkhead}set parkhead(s){this.$store.dispatch("server/timelapse/saveSetting",{parkhead:s})}get parkpos(){return this.$store.state.server.timelapse.settings.parkpos}set parkpos(s){this.$store.dispatch("server/timelapse/saveSetting",{parkpos:s})}get park_custom_pos_x(){return this.$store.state.server.timelapse.settings.park_custom_pos_x}set park_custom_pos_x(s){s===""||s<this.stepperXmin||s>this.stepperXmax||this.$store.dispatch("server/timelapse/saveSetting",{park_custom_pos_x:s})}get stepperXmin(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t.stepper_x)==null?void 0:r.position_min)!=null?i:0}get stepperXmax(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t.stepper_x)==null?void 0:r.position_max)!=null?i:200}get park_custom_pos_y(){return this.$store.state.server.timelapse.settings.park_custom_pos_y}set park_custom_pos_y(s){s===""||s<this.stepperYmin||s>this.stepperYmax||this.$store.dispatch("server/timelapse/saveSetting",{park_custom_pos_y:s})}get stepperYmin(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t.stepper_y)==null?void 0:r.position_min)!=null?i:0}get stepperYmax(){var s,t,r,i;return(i=(r=(t=(s=this.$store.state.printer.configfile)==null?void 0:s.settings)==null?void 0:t.stepper_y)==null?void 0:r.position_max)!=null?i:200}get park_custom_pos_dz(){return this.$store.state.server.timelapse.settings.park_custom_pos_dz}set park_custom_pos_dz(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{park_custom_pos_dz:s})}get park_travel_speed(){return this.$store.state.server.timelapse.settings.park_travel_speed}set park_travel_speed(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{park_travel_speed:s})}get park_retract_speed(){return this.$store.state.server.timelapse.settings.park_retract_speed}set park_retract_speed(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{park_retract_speed:s})}get park_extrude_speed(){return this.$store.state.server.timelapse.settings.park_extrude_speed}set park_extrude_speed(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{park_extrude_speed:s})}get park_retract_distance(){return this.$store.state.server.timelapse.settings.park_retract_distance}set park_retract_distance(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{park_retract_distance:s})}get park_extrude_distance(){return this.$store.state.server.timelapse.settings.park_extrude_distance}set park_extrude_distance(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{park_extrude_distance:s})}get park_time(){return this.$store.state.server.timelapse.settings.park_time}set park_time(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{park_time:s})}get fw_retract(){return this.$store.state.server.timelapse.settings.fw_retract}set fw_retract(s){this.$store.dispatch("server/timelapse/saveSetting",{fw_retract:s})}get constant_rate_factor(){return this.$store.state.server.timelapse.settings.constant_rate_factor}set constant_rate_factor(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{constant_rate_factor:s})}get output_framerate(){return this.$store.state.server.timelapse.settings.output_framerate}set output_framerate(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{output_framerate:s})}get pixelformat(){return this.$store.state.server.timelapse.settings.pixelformat}set pixelformat(s){this.$store.dispatch("server/timelapse/saveSetting",{pixelformat:s})}get extraoutputparams(){return this.$store.state.server.timelapse.settings.extraoutputparams}set extraoutputparams(s){this.$store.dispatch("server/timelapse/saveSetting",{extraoutputparams:s})}get variable_fps(){return this.$store.state.server.timelapse.settings.variable_fps}set variable_fps(s){this.$store.dispatch("server/timelapse/saveSetting",{variable_fps:s})}get targetlength(){return this.$store.state.server.timelapse.settings.targetlength}set targetlength(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{targetlength:s})}get variable_fps_min(){return this.$store.state.server.timelapse.settings.variable_fps_min}set variable_fps_min(s){s===""||s<=0||this.$store.dispatch("server/timelapse/saveSetting",{variable_fps_min:s})}get variable_fps_max(){return this.$store.state.server.timelapse.settings.variable_fps_max}set variable_fps_max(s){s===""||s<=this.variable_fps_min||this.$store.dispatch("server/timelapse/saveSetting",{variable_fps_max:s})}get duplicatelastframe(){return this.$store.state.server.timelapse.settings.duplicatelastframe}set duplicatelastframe(s){s===""||s<0||this.$store.dispatch("server/timelapse/saveSetting",{duplicatelastframe:s})}get camera(){var t;const s=(t=this.$store.state.server.timelapse.settings.camera)!=null?t:null;return s===null||this.blockedsettings.includes("snapshoturl")||this.availableSnapshotWebcams.length===0||this.availableSnapshotWebcams.find(r=>r.name===s)===void 0?null:this.$store.state.server.timelapse.settings.camera}set camera(s){this.$store.dispatch("server/timelapse/saveSetting",{camera:s})}get time_format_code(){return this.$store.state.server.timelapse.settings.time_format_code}set time_format_code(s){this.$store.dispatch("server/timelapse/saveSetting",{time_format_code:s})}};Np=gne([w({components:{SettingsRow:U}})],Np);var _ne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.TimelapseTab.General")))]),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Enabled"),"sub-title":e.$t("Settings.TimelapseTab.EnabledDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("enabled")},model:{value:e.enabled,callback:function(r){e.enabled=r},expression:"enabled"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Autorender"),"sub-title":e.$t("Settings.TimelapseTab.AutorenderDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("autorender")},model:{value:e.autorender,callback:function(r){e.autorender=r},expression:"autorender"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Camera"),"sub-title":e.$t("Settings.TimelapseTab.CameraDescriptionWithSnapshotUrl")}},[e.blockedsettings.includes("snapshoturl")?t(et,{staticClass:"mb-0",attrs:{dense:"",text:"",type:"warning"}},[e._v(" "+e._s(e.$t("Settings.TimelapseTab.CameraWarningAlreadySet"))+" "),t("small",[e._v("("+e._s(e.$t("Settings.TimelapseTab.CameraWarningAlreadySetSmall"))+")")])]):t(we,{attrs:{items:e.cameraOptions,"hide-details":"",outlined:"",dense:"",disabled:e.blockedsettings.includes("camera")||e.availableSnapshotWebcams.length===0},model:{value:e.camera,callback:function(r){e.camera=r},expression:"camera"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Mode"),"sub-title":e.$t("Settings.TimelapseTab.ModeDescription")}},[t(we,{attrs:{items:e.modeOptions,"hide-details":"",outlined:"",dense:"",disabled:e.blockedsettings.includes("modeOptions")},model:{value:e.mode,callback:function(r){e.mode=r},expression:"mode"}})],1),e.mode==="hyperlapse"?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.HyperlapseCycle"),"sub-title":e.$t("Settings.TimelapseTab.HyperlapseCycleDescription")}},[t(re,{attrs:{type:"number",suffix:"s","hide-details":"auto",outlined:"",dense:"",disabled:e.blockedsettings.includes("hyperlapseCycle"),"hide-spin-buttons":""},model:{value:e.hyperlapseCycle,callback:function(r){e.hyperlapseCycle=r},expression:"hyperlapseCycle"}})],1)]:e._e(),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.PreviewImage"),"sub-title":e.$t("Settings.TimelapseTab.PreviewImageDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("previewimage")},model:{value:e.previewimage,callback:function(r){e.previewimage=r},expression:"previewimage"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.SaveFrames"),"sub-title":e.$t("Settings.TimelapseTab.SaveFramesDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("saveframes")},model:{value:e.saveframes,callback:function(r){e.saveframes=r},expression:"saveframes"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.StreamDelayCompensation"),"sub-title":e.$t("Settings.TimelapseTab.StreamDelayCompensationDescription")}},[t(re,{attrs:{type:"number",suffix:"s",step:"0.01","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("stream_delay_compensation")},model:{value:e.stream_delay_compensation,callback:function(r){e.stream_delay_compensation=r},expression:"stream_delay_compensation"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.GcodeVerbose"),"sub-title":e.$t("Settings.TimelapseTab.GcodeVerboseDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("gcode_verbose")},model:{value:e.gcode_verbose,callback:function(r){e.gcode_verbose=r},expression:"gcode_verbose"}})],1),t(H,{staticClass:"my-2"}),t("h3",{staticClass:"text-h5 mt-6 mb-3"},[e._v(e._s(e.$t("Settings.TimelapseTab.Parkhead")))]),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Parkhead"),"sub-title":e.$t("Settings.TimelapseTab.ParkheadDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("parkhead")},model:{value:e.parkhead,callback:function(r){e.parkhead=r},expression:"parkhead"}})],1),e.parkhead?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Parkpos"),"sub-title":e.$t("Settings.TimelapseTab.ParkposDescription")}},[t(we,{attrs:{items:e.parkposOptions,"hide-details":"",outlined:"",dense:"",disabled:e.blockedsettings.includes("parkposOptions")},model:{value:e.parkpos,callback:function(r){e.parkpos=r},expression:"parkpos"}})],1),["x_only","custom"].includes(e.parkpos)?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.PosX"),"sub-title":e.$t("Settings.TimelapseTab.PosXDescription")}},[t(re,{attrs:{type:"number",suffix:"mm","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=e.stepperXmin&&r<=e.stepperXmax||e.$t("Settings.TimelapseTab.RulesBetweenMinMax",{min:e.stepperXmin,max:e.stepperXmax})}],disabled:e.blockedsettings.includes("park_custom_pos_x"),"hide-spin-buttons":""},model:{value:e.park_custom_pos_x,callback:function(r){e.park_custom_pos_x=r},expression:"park_custom_pos_x"}})],1)]:e._e(),["y_only","custom"].includes(e.parkpos)?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.PosY"),"sub-title":e.$t("Settings.TimelapseTab.PosYDescription")}},[t(re,{attrs:{type:"number",suffix:"mm","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=e.stepperYmin&&r<=e.stepperYmax||e.$t("Settings.TimelapseTab.RulesBetweenMinMax",{min:e.stepperYmin,max:e.stepperYmax})}],disabled:e.blockedsettings.includes("park_custom_pos_y"),"hide-spin-buttons":""},model:{value:e.park_custom_pos_y,callback:function(r){e.park_custom_pos_y=r},expression:"park_custom_pos_y"}})],1)]:e._e(),["x_only","y_only","custom"].includes(e.parkpos)?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.PosDZ"),"sub-title":e.$t("Settings.TimelapseTab.PosDZDescription")}},[t(re,{attrs:{type:"number",suffix:"mm","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("park_custom_pos_dz"),"hide-spin-buttons":""},model:{value:e.park_custom_pos_dz,callback:function(r){e.park_custom_pos_dz=r},expression:"park_custom_pos_dz"}})],1)]:e._e(),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.TravelSpeed"),"sub-title":e.$t("Settings.TimelapseTab.TravelSpeedDescription")}},[t(re,{attrs:{type:"number",suffix:"mm/s","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("park_travel_speed"),"hide-spin-buttons":""},model:{value:e.park_travel_speed,callback:function(r){e.park_travel_speed=r},expression:"park_travel_speed"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.FwRetract"),"sub-title":e.$t("Settings.TimelapseTab.FwRetractDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("fw_retract")},model:{value:e.fw_retract,callback:function(r){e.fw_retract=r},expression:"fw_retract"}})],1),e.fw_retract?e._e():[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.RetractSpeed"),"sub-title":e.$t("Settings.TimelapseTab.RetractSpeedDescription")}},[t(re,{attrs:{type:"number",suffix:"mm/s","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("park_retract_speed"),"hide-spin-buttons":""},model:{value:e.park_retract_speed,callback:function(r){e.park_retract_speed=r},expression:"park_retract_speed"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.RetractDistance"),"sub-title":e.$t("Settings.TimelapseTab.RetractDistanceDescription")}},[t(re,{attrs:{type:"number",suffix:"mm","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("park_retract_distance"),"hide-spin-buttons":""},model:{value:e.park_retract_distance,callback:function(r){e.park_retract_distance=r},expression:"park_retract_distance"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.UnretractSpeed"),"sub-title":e.$t("Settings.TimelapseTab.UnretractSpeedDescription")}},[t(re,{attrs:{type:"number",suffix:"mm/s","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("park_extrude_speed"),"hide-spin-buttons":""},model:{value:e.park_extrude_speed,callback:function(r){e.park_extrude_speed=r},expression:"park_extrude_speed"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.UnretractDistance"),"sub-title":e.$t("Settings.TimelapseTab.UnretractDistanceDescription")}},[t(re,{attrs:{type:"number",suffix:"mm","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("park_extrude_distance"),"hide-spin-buttons":""},model:{value:e.park_extrude_distance,callback:function(r){e.park_extrude_distance=r},expression:"park_extrude_distance"}})],1)],t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.ParkTime"),"sub-title":e.$t("Settings.TimelapseTab.ParkTimeDescription")}},[t(re,{attrs:{type:"number",suffix:"s","hide-details":"auto",step:"0.1",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("park_time")},model:{value:e.park_time,callback:function(r){e.park_time=r},expression:"park_time"}})],1)]:e._e(),t(H,{staticClass:"my-2"}),t("h3",{staticClass:"text-h5 mt-6 mb-3"},[e._v(e._s(e.$t("Settings.TimelapseTab.RenderingOptions")))]),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.VariableFps"),"sub-title":e.$t("Settings.TimelapseTab.VariableFpsDescription"),"dynamic-slot-width":!0}},[t(Ce,{staticClass:"mt-0",attrs:{"hide-details":"",disabled:e.blockedsettings.includes("variable_fps")},model:{value:e.variable_fps,callback:function(r){e.variable_fps=r},expression:"variable_fps"}})],1),e.variable_fps?[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Targetlength"),"sub-title":e.$t("Settings.TimelapseTab.TargetlengthDescription")}},[t(re,{attrs:{type:"number",suffix:"s","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("targetlength"),"hide-spin-buttons":""},model:{value:e.targetlength,callback:function(r){e.targetlength=r},expression:"targetlength"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.VariableFpsMin"),"sub-title":e.$t("Settings.TimelapseTab.VariableFpsMinDescription")}},[t(re,{attrs:{type:"number",suffix:"frames","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("variable_fps_min"),"hide-spin-buttons":""},model:{value:e.variable_fps_min,callback:function(r){e.variable_fps_min=r},expression:"variable_fps_min"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.VariableFpsMax"),"sub-title":e.$t("Settings.TimelapseTab.VariableFpsMaxDescription")}},[t(re,{attrs:{type:"number",suffix:"frames","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>e.variable_fps_min||e.$t("Settings.TimelapseTab.RulesMin")}],disabled:e.blockedsettings.includes("variable_fps_max"),"hide-spin-buttons":""},model:{value:e.variable_fps_max,callback:function(r){e.variable_fps_max=r},expression:"variable_fps_max"}})],1)]:[t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.OutputFramerate"),"sub-title":e.$t("Settings.TimelapseTab.OutputFramerateDescription")}},[t(re,{attrs:{type:"number",suffix:"frames","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("output_framerate"),"hide-spin-buttons":""},model:{value:e.output_framerate,callback:function(r){e.output_framerate=r},expression:"output_framerate"}})],1)],t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.duplicatelastframe"),"sub-title":e.$t("Settings.TimelapseTab.duplicatelastframeDescription")}},[t(re,{attrs:{type:"number","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>=0||e.$t("Settings.TimelapseTab.RulesZeroAndPositive")}],disabled:e.blockedsettings.includes("duplicatelastframe"),"hide-spin-buttons":""},model:{value:e.duplicatelastframe,callback:function(r){e.duplicatelastframe=r},expression:"duplicatelastframe"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.ConstantRateFactor"),"sub-title":e.$t("Settings.TimelapseTab.ConstantRateFactorDescription")}},[t(re,{attrs:{type:"number","hide-details":"auto",outlined:"",dense:"",rules:[function(r){return!!r||e.$t("Settings.TimelapseTab.RulesRequired")},function(r){return r>0||e.$t("Settings.TimelapseTab.RulesPositive")}],disabled:e.blockedsettings.includes("constant_rate_factor"),"hide-spin-buttons":""},model:{value:e.constant_rate_factor,callback:function(r){e.constant_rate_factor=r},expression:"constant_rate_factor"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Pixelformat"),"sub-title":e.$t("Settings.TimelapseTab.PixelformatDescription")}},[t(re,{attrs:{type:"text","hide-details":"auto",outlined:"",dense:"",disabled:e.blockedsettings.includes("pixelformat")},model:{value:e.pixelformat,callback:function(r){e.pixelformat=r},expression:"pixelformat"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.TimeFormatCode"),"sub-title":e.$t("Settings.TimelapseTab.TimeFormatCodeDescription")}},[t(re,{attrs:{type:"text","hide-details":"auto",outlined:"",dense:"",disabled:e.blockedsettings.includes("time_format_code")},model:{value:e.time_format_code,callback:function(r){e.time_format_code=r},expression:"time_format_code"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.TimelapseTab.Extraoutputparams"),"sub-title":e.$t("Settings.TimelapseTab.ExtraoutputparamsDescription")}},[t(re,{attrs:{type:"text","hide-details":"auto",outlined:"",dense:"",disabled:e.blockedsettings.includes("extraoutputparams")},model:{value:e.extraoutputparams,callback:function(r){e.extraoutputparams=r},expression:"extraoutputparams"}})],1)],2)],1)],1)},vne=[];const e2={};var bne=E(Np,_ne,vne,!1,yne,null,null,null);function yne(e){for(let s in e2)this[s]=e2[s]}const Cne=function(){return bne.exports}();var $ne=Object.defineProperty,xne=Object.getOwnPropertyDescriptor,EP=(e,s,t,r)=>{for(var i=r>1?void 0:r?xne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&$ne(s,t,i),i};let cu=class extends M(bn,O,yt){constructor(){super(...arguments),this.mdiDragVertical=bo}get title(){return this.naviPoint.title}get subtitle(){var s;if(this.naviPoint.type==="link")return"URL: ".concat((s=this.naviPoint.href)!=null?s:"Unknown")}get checkboxColor(){return this.naviPoint.visible?"primary":"grey lighten-1"}get checkboxIcon(){return this.naviPoint.visible?wf:Sf}changeVisibility(){this.$store.dispatch("gui/navigation/changeVisibility",this.naviPoint)}};EP([x({type:Object,required:!0})],cu.prototype,"naviPoint",2);cu=EP([w({components:{SettingsRow:U,draggable:Si}})],cu);var Sne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,{staticClass:"my-2 mx-0",style:e.draggableBgStyle},[t(v,{staticClass:"col-auto pr-0 d-flex py-2"},[t(_,{staticClass:"handle"},[e._v(e._s(e.mdiDragVertical))])],1),t(v,{staticClass:"py-2"},[t(U,{attrs:{title:e.title,"sub-title":e.subtitle,"dynamic-slot-width":!0}},[t(_,{attrs:{color:e.checkboxColor},domProps:{innerHTML:e._s(e.checkboxIcon)},on:{click:e.changeVisibility}})],1)],1)],1)},wne=[];const t2={};var Pne=E(cu,Sne,wne,!1,Tne,null,null,null);function Tne(e){for(let s in t2)this[s]=t2[s]}const OP=function(){return Pne.exports}();var Dne=Object.defineProperty,Mne=Object.getOwnPropertyDescriptor,Ene=(e,s,t,r)=>{for(var i=r>1?void 0:r?Mne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Dne(s,t,i),i};let Vp=class extends M(bn,O,yt){get sortableNaviPoints(){return this.naviPoints.filter(s=>s.position>0)}set sortableNaviPoints(s){s.forEach((t,r)=>{var i;this.$store.dispatch("gui/navigation/updatePos",{type:t.type,title:(i=t.orgTitle)!=null?i:t.title,visible:t.visible,position:r+1})}),this.$store.dispatch("gui/navigation/upload")}};Vp=Ene([w({components:{SettingsNavigationTabItem:OP,SettingsRow:U,draggable:Si}})],Vp);var One=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.NavigationTab.Navigation")))]),t("draggable",{attrs:{handle:".handle","ghost-class":"ghost",group:"navigation-points"},model:{value:e.sortableNaviPoints,callback:function(r){e.sortableNaviPoints=r},expression:"sortableNaviPoints"}},e._l(e.sortableNaviPoints,function(r,i){return t(OP,{key:i,staticClass:"my-2 mx-0",style:e.draggableBgStyle,attrs:{"navi-point":r}})}),1)],1)],1)},Lne=[];const s2={};var Fne=E(Vp,One,Lne,!1,Ane,null,null,null);function Ane(e){for(let s in s2)this[s]=s2[s]}const kne=function(){return Fne.exports}();var Rne=Object.defineProperty,Hne=Object.getOwnPropertyDescriptor,LP=(e,s,t,r)=>{for(var i=r>1?void 0:r?Hne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Rne(s,t,i),i};let uu=class extends M(O){constructor(){super(...arguments),this.mdiDelete=Ge,this.mdiPalette=Zu,this.mdiPencil=Ct,this.convertName=at,this.boolForm=!1,this.form={id:null,name:"",start:1,end:1},this.rules={required:e=>e!==""||"required",groupUnique:e=>!this.existsGroupName(e)||"Name already exists",minStart:e=>e>0||"smaller than 1",minEnd:e=>e>=this.form.start||"smaller than start value",max:e=>{var s,t;return e<=((t=(s=this.light)==null?void 0:s.chainCount)!=null?t:1)||"higher than chain_count"}}}get entry(){var e,s;return this.$store.getters["gui/miscellaneous/getEntry"]({type:(e=this.light)==null?void 0:e.type,name:(s=this.light)==null?void 0:s.name})}get groups(){if(!this.entry)return[];const e=[];return Object.entries(this.entry.lightgroups).forEach(([s,t])=>{e.push({name:t.name,start:t.start,end:t.end,id:s})}),window.console.log("getEntryLightgroups",e),Rt(e,"name")}createGroup(){var e,s;this.form.id=null,this.form.name="",this.form.start=1,this.form.end=(s=(e=this.light)==null?void 0:e.chainCount)!=null?s:1,this.boolForm=!0}editGroup(e){var s;this.form.id=(s=e.id)!=null?s:null,this.form.name=e.name,this.form.start=e.start,this.form.end=e.end,this.boolForm=!0}closeForm(){this.boolForm=!1}storeGroup(){this.$store.dispatch("gui/miscellaneous/storeLightgroup",{entry:this.light,lightgroup:this.form}),this.boolForm=!1}updateGroup(){this.$store.dispatch("gui/miscellaneous/updateLightgroup",{entry:this.light,lightgroup:this.form}),this.boolForm=!1}deleteGroup(e){this.$store.dispatch("gui/miscellaneous/deleteLightgroup",{entry:this.light,lightgroupId:e})}existsGroupName(e){return this.groups.findIndex(s=>s.name===e&&s.id!=this.form.id)>=0}};LP([x({type:Object,default:null})],uu.prototype,"light",2);uu=LP([w({components:{SettingsRow:U}})],uu);var jne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.boolForm?[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.CreateGroup")))]),t(U,{attrs:{title:e.$t("Settings.MiscellaneousTab.Name").toString()}},[t(re,{attrs:{"hide-details":"auto",rules:[e.rules.required,e.rules.groupUnique],dense:"",outlined:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.MiscellaneousTab.Start").toString(),"sub-title":e.$t("Settings.MiscellaneousTab.StartDescription").toString()}},[t(re,{attrs:{"hide-details":"auto",type:"number",step:"1",rules:[e.rules.minStart,e.rules.max],dense:"",outlined:""},model:{value:e.form.start,callback:function(r){e.$set(e.form,"start",r)},expression:"form.start"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.MiscellaneousTab.End").toString(),"sub-title":e.$t("Settings.MiscellaneousTab.EndDescription").toString()}},[t(re,{attrs:{"hide-details":"auto",type:"number",step:"1",rules:[e.rules.minEnd,e.rules.max],dense:"",outlined:""},model:{value:e.form.end,callback:function(r){e.$set(e.form,"end",r)},expression:"form.end"}})],1)],1),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:e.closeForm}},[e._v(e._s(e.$t("Settings.Cancel")))]),e.form.id!==null?t(g,{attrs:{text:"",color:"primary"},on:{click:e.updateGroup}},[e._v(" "+e._s(e.$t("Settings.Update"))+" ")]):t(g,{attrs:{text:"",color:"primary"},on:{click:e.storeGroup}},[e._v(e._s(e.$t("Settings.Store")))])],1)]:[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.LightGroups",{name:e.light.name})))]),e.light?[e.groups.length?e._l(e.groups,function(r,i){return t("div",{key:r.id},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:r.name,"sub-title":e.$t("Settings.MiscellaneousTab.GroupSubTitle",{start:r.start,end:r.end}).toString(),"dynamic-slot-width":!0}},[t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(n){return e.editGroup(r)}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:function(n){return e.deleteGroup(r.id)}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)],1)],1)}):[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.NoGroupFound"))+" ")])])],1)]]:[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.UnableToLoadLight"))+" ")])])],1)]],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:function(r){return e.$emit("close")}}},[e._v(e._s(e.$t("Settings.Close")))]),t(g,{attrs:{text:"",color:"primary"},on:{click:e.createGroup}},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.AddGroup"))+" ")])],1)]],2)},Ine=[];const r2={};var Nne=E(uu,jne,Ine,!1,Vne,null,null,null);function Vne(e){for(let s in r2)this[s]=r2[s]}const FP=function(){return Nne.exports}();var Une=Object.defineProperty,Bne=Object.getOwnPropertyDescriptor,Jd=(e,s,t,r)=>{for(var i=r>1?void 0:r?Bne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Une(s,t,i),i};let $n=class extends M(O){constructor(){super(...arguments),this.mdiDelete=Ge,this.mdiPencil=Ct,this.convertName=at,this.boolForm=!1,this.form={id:null,name:"",red:null,green:null,blue:null,white:null},this.rules={required:e=>e!==""||"required",presetUnique:e=>!this.existsPresetName(e)||"Name already exists",min:e=>e>=0||"Must be minimum 0",max:e=>e<=255||"Must be smaller then 256"}}get entry(){var e,s;return this.$store.getters["gui/miscellaneous/getEntry"]({type:(e=this.light)==null?void 0:e.type,name:(s=this.light)==null?void 0:s.name})}get presets(){if(!this.entry)return[];const e=[];return Object.entries(this.entry.presets).forEach(([s,t])=>{e.push({...t,id:s})}),window.console.log("getEntryPresets",e),Rt(e,"name")}get existRed(){var e;return((e=this.light)==null?void 0:e.colorOrder.indexOf("R"))!==-1}get existGreen(){var e;return((e=this.light)==null?void 0:e.colorOrder.indexOf("G"))!==-1}get existBlue(){var e;return((e=this.light)==null?void 0:e.colorOrder.indexOf("B"))!==-1}get existWhite(){var e;return((e=this.light)==null?void 0:e.colorOrder.indexOf("W"))!==-1}get colorRGB(){var e,s,t;return"rgb(".concat(Math.round((e=this.form.red)!=null?e:0),", ").concat(Math.round((s=this.form.green)!=null?s:0),", ").concat(Math.round((t=this.form.blue)!=null?t:0),")")}get colorRGBW(){var e;return"rgba(255, 255, 255, ".concat(((e=this.form.white)!=null?e:0)/255,")")}get redInt(){var e;return Math.round((e=this.form.red)!=null?e:0)}get greenInt(){var e;return Math.round((e=this.form.green)!=null?e:0)}get blueInt(){var e;return Math.round((e=this.form.blue)!=null?e:0)}get whiteInt(){var e;return Math.round((e=this.form.white)!=null?e:0)}get colorPickerOptions(){let e={width:200,margin:15,layout:[]};return this.existRed&&(e==null||e.layout.push({component:zt.ui.Slider,options:{sliderType:"red"}})),this.existGreen&&(e==null||e.layout.push({component:zt.ui.Slider,options:{sliderType:"green"}})),this.existBlue&&(e==null||e.layout.push({component:zt.ui.Slider,options:{sliderType:"blue"}})),this.existRed&&this.existGreen&&this.existBlue&&(e.layout=[{component:zt.ui.Wheel},{component:zt.ui.Slider,options:{sliderType:"value"}}]),e}get colorPickerWhiteOptions(){return{width:200,margin:15,layout:[{component:zt.ui.Slider,options:{sliderType:"alpha"}}]}}entryDescriptionText(e){var t,r,i,n;let s=[];return(t=this.light)!=null&&t.colorOrder.includes("R")&&s.push("R: ".concat(e.red)),(r=this.light)!=null&&r.colorOrder.includes("G")&&s.push("G: ".concat(e.green)),(i=this.light)!=null&&i.colorOrder.includes("B")&&s.push("B: ".concat(e.blue)),(n=this.light)!=null&&n.colorOrder.includes("W")&&s.push("W: ".concat(e.white)),s.join(", ")}createPreset(){var e,s,t,r;this.form.id=null,this.form.name="",this.form.red=((e=this.light)==null?void 0:e.colorOrder.indexOf("R"))!=-1?0:null,this.form.green=((s=this.light)==null?void 0:s.colorOrder.indexOf("G"))!=-1?0:null,this.form.blue=((t=this.light)==null?void 0:t.colorOrder.indexOf("B"))!=-1?0:null,this.form.white=((r=this.light)==null?void 0:r.colorOrder.indexOf("W"))!=-1?0:null,this.boolForm=!0}editPreset(e){var s,t,r,i,n;this.form.id=(s=e.id)!=null?s:null,this.form.name=e.name,this.form.red=((t=this.light)==null?void 0:t.colorOrder.indexOf("R"))!=-1?e.red:null,this.form.green=((r=this.light)==null?void 0:r.colorOrder.indexOf("G"))!=-1?e.green:null,this.form.blue=((i=this.light)==null?void 0:i.colorOrder.indexOf("B"))!=-1?e.blue:null,this.form.white=((n=this.light)==null?void 0:n.colorOrder.indexOf("W"))!=-1?e.white:null,this.boolForm=!0}closeForm(){this.boolForm=!1}storePreset(){this.$store.dispatch("gui/miscellaneous/storePreset",{entry:this.light,preset:this.form}),this.boolForm=!1}updatePreset(){this.$store.dispatch("gui/miscellaneous/updatePreset",{entry:this.light,preset:this.form}),this.boolForm=!1}deletePreset(e){this.$store.dispatch("gui/miscellaneous/deletePreset",{entry:this.light,presetId:e})}existsPresetName(e){return this.presets.findIndex(s=>s.name===e&&s.id!=this.form.id)>=0}onColorRGBChanged(e){const s={red:e.red,green:e.green,blue:e.blue,white:this.form.white};this.colorChanged(s)}onColorWhiteChanged(e){const s={red:this.form.red,green:this.form.green,blue:this.form.blue,white:this.form.white};s.white=e.alpha*255,this.colorChanged(s)}onColorInput(e){const s={red:this.form.red,green:this.form.green,blue:this.form.blue,white:this.form.white};s[e.name]=e.value,this.colorChanged(s)}colorChanged(e){this.form.red=e.red,this.form.green=e.green,this.form.blue=e.blue,this.form.white=e.white}};Jd([x({type:Object,default:null})],$n.prototype,"light",2);Jd([Ye({time:250})],$n.prototype,"onColorRGBChanged",1);Jd([Ye({time:250})],$n.prototype,"onColorWhiteChanged",1);$n=Jd([w({components:{SettingsRow:U}})],$n);var Gne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.boolForm?[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.CreatePreset")))]),t(U,{attrs:{title:e.$t("Settings.MiscellaneousTab.Name").toString()}},[t(re,{attrs:{"hide-details":"auto",rules:[e.rules.required,e.rules.presetUnique],dense:"",outlined:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.MiscellaneousTab.Color").toString()}},[t(C,[t(v,{staticClass:"text-center"},[t(Pa,{attrs:{color:e.colorRGB,options:e.colorPickerOptions},on:{"update:color":e.onColorRGBChanged}}),e.existWhite?t(Pa,{staticClass:"mt-3",attrs:{color:e.colorRGBW,options:e.colorPickerWhiteOptions},on:{"update:color":e.onColorWhiteChanged}}):e._e()],1),t(v,[e.existRed?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Red"),param:"red",target:e.redInt,min:0,max:255,dec:1,step:1,"output-error-msg":!0,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existGreen?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Green"),param:"green",target:e.greenInt,min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existBlue?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.Blue"),param:"blue",target:e.blueInt,min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e(),e.existWhite?t(C,[t(v,[t(He,{attrs:{label:e.$t("Panels.MiscellaneousPanel.Light.White"),param:"white",target:e.whiteInt,min:0,max:255,dec:1,step:1,"has-spinner":!0},on:{submit:e.onColorInput}})],1)],1):e._e()],1)],1)],1)],1),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:e.closeForm}},[e._v(e._s(e.$t("Settings.Cancel")))]),e.form.id!==null?t(g,{attrs:{text:"",color:"primary"},on:{click:e.updatePreset}},[e._v(" "+e._s(e.$t("Settings.Update"))+" ")]):t(g,{attrs:{text:"",color:"primary"},on:{click:e.storePreset}},[e._v(e._s(e.$t("Settings.Store")))])],1)]:[t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.LightPresets",{name:e.light.name})))]),e.light?[e.presets.length?e._l(e.presets,function(r,i){return t("div",{key:r.id},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:r.name,"sub-title":e.entryDescriptionText(r),"dynamic-slot-width":!0}},[t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(n){return e.editPreset(r)}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.Edit"))+" ")],1),t(g,{staticClass:"ml-3 minwidth-0 px-2",attrs:{small:"",outlined:"",color:"error"},on:{click:function(n){return e.deletePreset(r.id)}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiDelete))])],1)],1)],1)}):[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.NoPresetFound"))+" ")])])],1)]]:[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.UnableToLoadPreset"))+" ")])])],1)]],2),t(ae,{staticClass:"d-flex justify-end"},[t(g,{attrs:{text:""},on:{click:function(r){return e.$emit("close")}}},[e._v(e._s(e.$t("Settings.Close")))]),t(g,{attrs:{text:"",color:"primary"},on:{click:e.createPreset}},[e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.AddPreset"))+" ")])],1)]],2)},Wne=[];const i2={};var zne=E($n,Gne,Wne,!1,qne,null,null,null);function qne(e){for(let s in i2)this[s]=i2[s]}const AP=function(){return zne.exports}();var Zne=Object.defineProperty,Yne=Object.getOwnPropertyDescriptor,Xne=(e,s,t,r)=>{for(var i=r>1?void 0:r?Yne(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Zne(s,t,i),i};let Up=class extends M(O){constructor(){super(...arguments),this.mdiDelete=Ge,this.mdiPalette=Zu,this.mdiPencil=Ct,this.convertName=at,this.editLightGroupObject=null,this.editLightPresetObject=null}get lights(){var s;return(s=this.$store.getters["printer/getLights"])!=null?s:[]}get filteredLights(){return this.lights.filter(s=>s.colorOrder.length>1)}};Up=Xne([w({components:{SettingsRow:U,SettingsMiscellaneousTabLightGroups:FP,SettingsMiscellaneousTabLightPresets:AP}})],Up);var Jne=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.editLightGroupObject?t(FP,{attrs:{light:e.editLightGroupObject},on:{close:function(r){e.editLightGroupObject=null}}}):e.editLightPresetObject?t(AP,{attrs:{light:e.editLightPresetObject},on:{close:function(r){e.editLightPresetObject=null}}}):t(Z,[t("h3",{staticClass:"text-h5 mb-3"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.Miscellaneous")))]),e.filteredLights.length?e._l(e.filteredLights,function(r,i){return t("div",{key:i},[i?t(H,{staticClass:"my-2"}):e._e(),t(U,{attrs:{title:e.convertName(r.name),"dynamic-slot-width":!0}},[r.chainCount>1?t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(n){e.editLightGroupObject=r}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPencil))]),e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.Groups"))+" ")],1):e._e(),t(g,{staticClass:"ml-3",attrs:{small:"",outlined:""},on:{click:function(n){e.editLightPresetObject=r}}},[t(_,{attrs:{left:"",small:""}},[e._v(e._s(e.mdiPalette))]),e._v(" "+e._s(e.$t("Settings.MiscellaneousTab.Presets"))+" ")],1)],1)],1)}):[t(C,[t(v,[t("p",{staticClass:"mb-0 text-center font-italic"},[e._v(e._s(e.$t("Settings.MiscellaneousTab.NoDevicesFound")))])])],1)]],2)],1)},Kne=[];const n2={};var Qne=E(Up,Jne,Kne,!1,eae,null,null,null);function eae(e){for(let s in n2)this[s]=n2[s]}const tae=function(){return Qne.exports}();var sae=Object.defineProperty,rae=Object.getOwnPropertyDescriptor,kP=(e,s,t,r)=>{for(var i=r>1?void 0:r?rae(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&sae(s,t,i),i};let du=class extends M(O){constructor(){super(...arguments),this.mdiGrid=Bu}get availableOrientations(){return[{text:this.$t("Settings.HeightmapTab.Orientations.RightFront"),value:"rightFront"},{text:this.$t("Settings.HeightmapTab.Orientations.LeftFront"),value:"leftFront"},{text:this.$t("Settings.HeightmapTab.Orientations.Front"),value:"front"},{text:this.$t("Settings.HeightmapTab.Orientations.Top"),value:"top"}]}get defaultOrientation(){return this.$store.state.gui.heightmap.defaultOrientation}set defaultOrientation(s){this.$store.dispatch("gui/heightmap/saveSetting",{name:"defaultOrientation",value:s})}get availableColorSchemes(){return[{text:this.$t("Settings.HeightmapTab.Schemes.Portland")+" "+this.$t("Settings.HeightmapTab.IsDefault"),value:"portland"},{text:this.$t("Settings.HeightmapTab.Schemes.Spring"),value:"spring"},{text:this.$t("Settings.HeightmapTab.Schemes.Hot"),value:"hot"},{text:this.$t("Settings.HeightmapTab.Schemes.Hsv"),value:"hsv"},{text:this.$t("Settings.HeightmapTab.Schemes.GrayScale"),value:"grayScale"}]}get colorScheme(){return this.$store.state.gui.heightmap.activecolorscheme}set colorScheme(s){this.$store.dispatch("gui/heightmap/saveSetting",{name:"activecolorscheme",value:s})}colorSchemeChanged(s){this.colorScheme=s}};kP([ce("colorScheme")],du.prototype,"colorSchemeChanged",1);du=kP([w({components:{Panel:B,SettingsRow:U}})],du);var iae=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Te,{attrs:{flat:""}},[t(Z,[t("div",{staticClass:"d-flex align-center"},[t(_,{staticStyle:{opacity:"0.7"}},[e._v(e._s(e.mdiGrid))]),t(ft,{staticClass:"mx-n2"},[e._v(" "+e._s(e.$t("Settings.HeightmapTab.Heightmap"))+" ")]),t(H,{staticClass:"ml-3"})],1),t(U,{attrs:{title:e.$t("Settings.HeightmapTab.DefaultOrientation"),"sub-title":e.$t("Settings.HeightmapTab.DefaultOrientationDescription")}},[t(we,{attrs:{items:e.availableOrientations,"hide-details":"",outlined:"",dense:""},model:{value:e.defaultOrientation,callback:function(r){e.defaultOrientation=r},expression:"defaultOrientation"}})],1),t(H,{staticClass:"my-2"}),t(U,{attrs:{title:e.$t("Settings.HeightmapTab.ColorSchemes")}},[t(we,{attrs:{items:e.availableColorSchemes,"hide-details":"",outlined:"",dense:""},model:{value:e.colorScheme,callback:function(r){e.colorScheme=r},expression:"colorScheme"}})],1)],1)],1)],1)},nae=[];const a2={};var aae=E(du,iae,nae,!1,oae,null,null,null);function oae(e){for(let s in a2)this[s]=a2[s]}const lae=function(){return aae.exports}();var cae=Object.defineProperty,uae=Object.getOwnPropertyDescriptor,RP=(e,s,t,r)=>{for(var i=r>1?void 0:r?uae(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&cae(s,t,i),i};let hu=class extends M(O){constructor(){super(...arguments),this.showSettings=!1,this.activeTab="general",this.mdiCloseThick=pe,this.mdiCogs=JM}get tabTitles(){const e=[{icon:Yt,name:"general",title:this.$t("Settings.GeneralTab.General")},{icon:Zu,name:"ui-settings",title:this.$t("Settings.UiSettingsTab.UiSettings")},{icon:Uf,name:"dashboard",title:this.$t("Settings.DashboardTab.Dashboard")},{icon:Mn,name:"webcams",title:this.$t("Settings.WebcamsTab.Webcams")},{icon:Ca,name:"macros",title:this.$t("Settings.MacrosTab.Macros")},{icon:rE,name:"control",title:this.$t("Settings.ControlTab.Control")},{icon:_o,name:"console",title:this.$t("Settings.ConsoleTab.Console")},{icon:Tn,name:"presets",title:this.$t("Settings.PresetsTab.PreheatPresets")},{icon:xo,name:"remote-printers",title:this.$t("Settings.RemotePrintersTab.RemotePrinters")},{icon:Ku,name:"g-code-viewer",title:this.$t("Settings.GCodeViewerTab.GCodeViewer")},{icon:yo,name:"editor",title:this.$t("Settings.EditorTab.Editor")},{icon:Mf,name:"miscellaneous",title:this.$t("Settings.MiscellaneousTab.Miscellaneous")},{icon:w5,name:"navigation",title:this.$t("Settings.NavigationTab.Navigation")},{icon:Bu,name:"heightmap",title:this.$t("Settings.HeightmapTab.Heightmap")}];return this.moonrakerComponents.includes("timelapse")&&e.push({icon:u$,name:"timelapse",title:this.$t("Settings.TimelapseTab.Timelapse")}),e.sort((s,t)=>{if(s.name==="general")return-1;if(t.name==="general")return 1;const r=s.title.toString().toLowerCase(),i=t.title.toString().toLowerCase();return r<i?-1:r>i?1:0})}activeTabWatch(){this.scrollToTop()}scrollToTop(){if(this.$refs.settingsScroll){const e=this.$refs.settingsScroll.osInstance();e==null||e.scroll({y:"0%"})}}};RP([ce("activeTab")],hu.prototype,"activeTabWatch",1);hu=RP([w({components:{Panel:B,SettingsUiSettingsTab:Qre,SettingsRemotePrintersTab:zre,SettingsPresetsTab:jre,SettingsConsoleTab:ire,SettingsControlTab:Jse,SettingsMacrosTab:Bse,SettingsWebcamsTab:$se,SettingsGeneralTab:sse,SettingsDashboardTab:Kie,SettingsGCodeViewerTab:nne,SettingsEditorTab:mne,SettingsTimelapseTab:Cne,SettingsMiscellaneousTab:tae,SettingsNavigationTab:kne,SettingsHeightmapTab:lae}})],hu);var dae=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.showSettings=!0}}},[t(_,[e._v(e._s(e.mdiCogs))])],1),t(oe,{attrs:{width:"900",persistent:"",fullscreen:e.isMobile,scrollable:""},on:{keydown:function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"]))return null;e.showSettings=!1}},model:{value:e.showSettings,callback:function(r){e.showSettings=r},expression:"showSettings"}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{title:e.$t("Settings.InterfaceSettings"),icon:e.mdiCogs,"card-class":"settings-menu-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.showSettings=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[e.isMobile?[t(Ll,{attrs:{"center-active":!0,"show-arrows":!0},model:{value:e.activeTab,callback:function(r){e.activeTab=r},expression:"activeTab"}},e._l(e.tabTitles,function(r,i){return t(Gr,{key:i,staticClass:"justify-start",attrs:{href:"#"+r.name}},[t(_,{attrs:{left:""},domProps:{innerHTML:e._s(r.icon)}}),e._v(" "+e._s(r.title)+" ")],1)}),1)]:e._e(),t(C,{staticClass:"flex-row flex-nowrap"},[e.isMobile?e._e():t(v,{staticClass:"col-auto pr-0"},[t("overlay-scrollbars",{ref:"settingsTabsScroll",staticClass:"settings-tabs-bar height500"},[t(Ll,{attrs:{vertical:!0},model:{value:e.activeTab,callback:function(r){e.activeTab=r},expression:"activeTab"}},e._l(e.tabTitles,function(r,i){return t(Gr,{key:i,staticClass:"justify-start",staticStyle:{width:"200px"},attrs:{href:"#"+r.name}},[t(_,{attrs:{left:""},domProps:{innerHTML:e._s(r.icon)}}),t("span",{staticClass:"text-truncate"},[e._v(e._s(r.title))])],1)}),1)],1)],1),t(v,{class:e.isMobile?"":"pl-0",style:e.isMobile?"":"min-width: 500px;"},[t("overlay-scrollbars",{ref:"settingsScroll",class:"settings-tabs "+(e.isMobile?"":"height500"),attrs:{options:{overflowBehavior:{x:"hidden"}}}},[t("settings-"+e.activeTab+"-tab",{tag:"component",on:{scrollToTop:e.scrollToTop}})],1)],1)],1)],2)],1)],1)},hae=[];const o2={};var mae=E(hu,dae,hae,!1,pae,"0df340c4",null,null);function pae(e){for(let s in o2)this[s]=o2[s]}const HP=function(){return mae.exports}();/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function hs(e,s){for(var t in s)e[t]=s[t];return e}var fae=/[!'()*]/g,gae=function(e){return"%"+e.charCodeAt(0).toString(16)},_ae=/%2C/g,Ai=function(e){return encodeURIComponent(e).replace(fae,gae).replace(_ae,",")};function Bp(e){try{return decodeURIComponent(e)}catch{}return e}function vae(e,s,t){s===void 0&&(s={});var r=t||bae,i;try{i=r(e||"")}catch{i={}}for(var n in s){var a=s[n];i[n]=Array.isArray(a)?a.map(l2):l2(a)}return i}var l2=function(e){return e==null||typeof e=="object"?e:String(e)};function bae(e){var s={};return e=e.trim().replace(/^(\?|#|&)/,""),e&&e.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),i=Bp(r.shift()),n=r.length>0?Bp(r.join("=")):null;s[i]===void 0?s[i]=n:Array.isArray(s[i])?s[i].push(n):s[i]=[s[i],n]}),s}function yae(e){var s=e?Object.keys(e).map(function(t){var r=e[t];if(r===void 0)return"";if(r===null)return Ai(t);if(Array.isArray(r)){var i=[];return r.forEach(function(n){n!==void 0&&(n===null?i.push(Ai(t)):i.push(Ai(t)+"="+Ai(n)))}),i.join("&")}return Ai(t)+"="+Ai(r)}).filter(function(t){return t.length>0}).join("&"):null;return s?"?"+s:""}var mu=/\/?$/;function pu(e,s,t,r){var i=r&&r.options.stringifyQuery,n=s.query||{};try{n=Gp(n)}catch{}var a={name:s.name||e&&e.name,meta:e&&e.meta||{},path:s.path||"/",hash:s.hash||"",query:n,params:s.params||{},fullPath:c2(s,i),matched:e?Cae(e):[]};return t&&(a.redirectedFrom=c2(t,i)),Object.freeze(a)}function Gp(e){if(Array.isArray(e))return e.map(Gp);if(e&&typeof e=="object"){var s={};for(var t in e)s[t]=Gp(e[t]);return s}else return e}var Rr=pu(null,{path:"/"});function Cae(e){for(var s=[];e;)s.unshift(e),e=e.parent;return s}function c2(e,s){var t=e.path,r=e.query;r===void 0&&(r={});var i=e.hash;i===void 0&&(i="");var n=s||yae;return(t||"/")+n(r)+i}function jP(e,s,t){return s===Rr?e===s:s?e.path&&s.path?e.path.replace(mu,"")===s.path.replace(mu,"")&&(t||e.hash===s.hash&&Sl(e.query,s.query)):e.name&&s.name?e.name===s.name&&(t||e.hash===s.hash&&Sl(e.query,s.query)&&Sl(e.params,s.params)):!1:!1}function Sl(e,s){if(e===void 0&&(e={}),s===void 0&&(s={}),!e||!s)return e===s;var t=Object.keys(e).sort(),r=Object.keys(s).sort();return t.length!==r.length?!1:t.every(function(i,n){var a=e[i],o=r[n];if(o!==i)return!1;var l=s[i];return a==null||l==null?a===l:typeof a=="object"&&typeof l=="object"?Sl(a,l):String(a)===String(l)})}function $ae(e,s){return e.path.replace(mu,"/").indexOf(s.path.replace(mu,"/"))===0&&(!s.hash||e.hash===s.hash)&&xae(e.query,s.query)}function xae(e,s){for(var t in s)if(!(t in e))return!1;return!0}function IP(e){for(var s=0;s<e.matched.length;s++){var t=e.matched[s];for(var r in t.instances){var i=t.instances[r],n=t.enteredCbs[r];if(!(!i||!n)){delete t.enteredCbs[r];for(var a=0;a<n.length;a++)i._isBeingDestroyed||n[a](i)}}}}var Sae={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(s,t){var r=t.props,i=t.children,n=t.parent,a=t.data;a.routerView=!0;for(var o=n.$createElement,l=r.name,c=n.$route,u=n._routerViewCache||(n._routerViewCache={}),d=0,h=!1;n&&n._routerRoot!==n;){var m=n.$vnode?n.$vnode.data:{};m.routerView&&d++,m.keepAlive&&n._directInactive&&n._inactive&&(h=!0),n=n.$parent}if(a.routerViewDepth=d,h){var p=u[l],f=p&&p.component;return f?(p.configProps&&u2(f,a,p.route,p.configProps),o(f,a,i)):o()}var b=c.matched[d],$=b&&b.components[l];if(!b||!$)return u[l]=null,o();u[l]={component:$},a.registerRouteInstance=function(D,R){var k=b.instances[l];(R&&k!==D||!R&&k===D)&&(b.instances[l]=R)},(a.hook||(a.hook={})).prepatch=function(D,R){b.instances[l]=R.componentInstance},a.hook.init=function(D){D.data.keepAlive&&D.componentInstance&&D.componentInstance!==b.instances[l]&&(b.instances[l]=D.componentInstance),IP(c)};var P=b.props&&b.props[l];return P&&(hs(u[l],{route:c,configProps:P}),u2($,a,c,P)),o($,a,i)}};function u2(e,s,t,r){var i=s.props=wae(t,r);if(i){i=s.props=hs({},i);var n=s.attrs=s.attrs||{};for(var a in i)(!e.props||!(a in e.props))&&(n[a]=i[a],delete i[a])}}function wae(e,s){switch(typeof s){case"undefined":return;case"object":return s;case"function":return s(e);case"boolean":return s?e.params:void 0}}function NP(e,s,t){var r=e.charAt(0);if(r==="/")return e;if(r==="?"||r==="#")return s+e;var i=s.split("/");(!t||!i[i.length-1])&&i.pop();for(var n=e.replace(/^\//,"").split("/"),a=0;a<n.length;a++){var o=n[a];o===".."?i.pop():o!=="."&&i.push(o)}return i[0]!==""&&i.unshift(""),i.join("/")}function Pae(e){var s="",t="",r=e.indexOf("#");r>=0&&(s=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{path:e,query:t,hash:s}}function gr(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var fu=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},In=BP,Tae=$1,Dae=Lae,Mae=VP,Eae=UP,Oae=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function $1(e,s){for(var t=[],r=0,i=0,n="",a=s&&s.delimiter||"/",o;(o=Oae.exec(e))!=null;){var l=o[0],c=o[1],u=o.index;if(n+=e.slice(i,u),i=u+l.length,c){n+=c[1];continue}var d=e[i],h=o[2],m=o[3],p=o[4],f=o[5],b=o[6],$=o[7];n&&(t.push(n),n="");var P=h!=null&&d!=null&&d!==h,D=b==="+"||b==="*",R=b==="?"||b==="*",k=o[2]||a,S=p||f;t.push({name:m||r++,prefix:h||"",delimiter:k,optional:R,repeat:D,partial:P,asterisk:!!$,pattern:S?kae(S):$?".*":"[^"+wl(k)+"]+?"})}return i<e.length&&(n+=e.substr(i)),n&&t.push(n),t}function Lae(e,s){return VP($1(e,s),s)}function Fae(e){return encodeURI(e).replace(/[\/?#]/g,function(s){return"%"+s.charCodeAt(0).toString(16).toUpperCase()})}function Aae(e){return encodeURI(e).replace(/[?#]/g,function(s){return"%"+s.charCodeAt(0).toString(16).toUpperCase()})}function VP(e,s){for(var t=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$",S1(s)));return function(i,n){for(var a="",o=i||{},l=n||{},c=l.pretty?Fae:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if(typeof d=="string"){a+=d;continue}var h=o[d.name],m;if(h==null)if(d.optional){d.partial&&(a+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(fu(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(m=c(h[p]),!t[u].test(m))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(m)+"`");a+=(p===0?d.prefix:d.delimiter)+m}continue}if(m=d.asterisk?Aae(h):c(h),!t[u].test(m))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+m+'"');a+=d.prefix+m}return a}}function wl(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function kae(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function x1(e,s){return e.keys=s,e}function S1(e){return e&&e.sensitive?"":"i"}function Rae(e,s){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)s.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return x1(e,s)}function Hae(e,s,t){for(var r=[],i=0;i<e.length;i++)r.push(BP(e[i],s,t).source);var n=new RegExp("(?:"+r.join("|")+")",S1(t));return x1(n,s)}function jae(e,s,t){return UP($1(e,t),s,t)}function UP(e,s,t){fu(s)||(t=s||t,s=[]),t=t||{};for(var r=t.strict,i=t.end!==!1,n="",a=0;a<e.length;a++){var o=e[a];if(typeof o=="string")n+=wl(o);else{var l=wl(o.prefix),c="(?:"+o.pattern+")";s.push(o),o.repeat&&(c+="(?:"+l+c+")*"),o.optional?o.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",n+=c}}var u=wl(t.delimiter||"/"),d=n.slice(-u.length)===u;return r||(n=(d?n.slice(0,-u.length):n)+"(?:"+u+"(?=$))?"),i?n+="$":n+=r&&d?"":"(?="+u+"|$)",x1(new RegExp("^"+n,S1(t)),s)}function BP(e,s,t){return fu(s)||(t=s||t,s=[]),t=t||{},e instanceof RegExp?Rae(e,s):fu(e)?Hae(e,s,t):jae(e,s,t)}In.parse=Tae;In.compile=Dae;In.tokensToFunction=Mae;In.tokensToRegExp=Eae;var d2=Object.create(null);function Pl(e,s,t){s=s||{};try{var r=d2[e]||(d2[e]=In.compile(e));return typeof s.pathMatch=="string"&&(s[0]=s.pathMatch),r(s,{pretty:!0})}catch{return""}finally{delete s[0]}}function w1(e,s,t,r){var i=typeof e=="string"?{path:e}:e;if(i._normalized)return i;if(i.name){i=hs({},e);var n=i.params;return n&&typeof n=="object"&&(i.params=hs({},n)),i}if(!i.path&&i.params&&s){i=hs({},i),i._normalized=!0;var a=hs(hs({},s.params),i.params);if(s.name)i.name=s.name,i.params=a;else if(s.matched.length){var o=s.matched[s.matched.length-1].path;i.path=Pl(o,a,"path "+s.path)}return i}var l=Pae(i.path||""),c=s&&s.path||"/",u=l.path?NP(l.path,c,t||i.append):c,d=vae(l.query,i.query,r&&r.options.parseQuery),h=i.hash||l.hash;return h&&h.charAt(0)!=="#"&&(h="#"+h),{_normalized:!0,path:u,query:d,hash:h}}var Iae=[String,Object],Nae=[String,Array],h2=function(){},Vae={name:"RouterLink",props:{to:{type:Iae,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:Nae,default:"click"}},render:function(s){var t=this,r=this.$router,i=this.$route,n=r.resolve(this.to,i,this.append),a=n.location,o=n.route,l=n.href,c={},u=r.options.linkActiveClass,d=r.options.linkExactActiveClass,h=u==null?"router-link-active":u,m=d==null?"router-link-exact-active":d,p=this.activeClass==null?h:this.activeClass,f=this.exactActiveClass==null?m:this.exactActiveClass,b=o.redirectedFrom?pu(null,w1(o.redirectedFrom),null,r):o;c[f]=jP(i,b,this.exactPath),c[p]=this.exact||this.exactPath?c[f]:$ae(i,b);var $=c[f]?this.ariaCurrentValue:null,P=function(se){m2(se)&&(t.replace?r.replace(a,h2):r.push(a,h2))},D={click:m2};Array.isArray(this.event)?this.event.forEach(function(se){D[se]=P}):D[this.event]=P;var R={class:c},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:P,isActive:c[p],isExactActive:c[f]});if(k){if(k.length===1)return k[0];if(k.length>1||!k.length)return k.length===0?s():s("span",{},k)}if(this.tag==="a")R.on=D,R.attrs={href:l,"aria-current":$};else{var S=GP(this.$slots.default);if(S){S.isStatic=!1;var L=S.data=hs({},S.data);L.on=L.on||{};for(var I in L.on){var N=L.on[I];I in D&&(L.on[I]=Array.isArray(N)?N:[N])}for(var G in D)G in L.on?L.on[G].push(D[G]):L.on[G]=P;var q=S.data.attrs=hs({},S.data.attrs);q.href=l,q["aria-current"]=$}else R.on=D}return s(this.tag,R,this.$slots.default)}};function m2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){var s=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return e.preventDefault&&e.preventDefault(),!0}}function GP(e){if(e){for(var s,t=0;t<e.length;t++)if(s=e[t],s.tag==="a"||s.children&&(s=GP(s.children)))return s}}var gu;function Wp(e){if(!(Wp.installed&&gu===e)){Wp.installed=!0,gu=e;var s=function(i){return i!==void 0},t=function(i,n){var a=i.$options._parentVnode;s(a)&&s(a=a.data)&&s(a=a.registerRouteInstance)&&a(i,n)};e.mixin({beforeCreate:function(){s(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,t(this,this)},destroyed:function(){t(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Sae),e.component("RouterLink",Vae);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var Wo=typeof window<"u";function cl(e,s,t,r,i){var n=s||[],a=t||Object.create(null),o=r||Object.create(null);e.forEach(function(u){zp(n,a,o,u,i)});for(var l=0,c=n.length;l<c;l++)n[l]==="*"&&(n.push(n.splice(l,1)[0]),c--,l--);return{pathList:n,pathMap:a,nameMap:o}}function zp(e,s,t,r,i,n){var a=r.path,o=r.name,l=r.pathToRegexpOptions||{},c=Bae(a,i,l.strict);typeof r.caseSensitive=="boolean"&&(l.sensitive=r.caseSensitive);var u={path:c,regex:Uae(c,l),components:r.components||{default:r.component},alias:r.alias?typeof r.alias=="string"?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:o,parent:i,matchAs:n,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:r.props==null?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(f){var b=n?gr(n+"/"+f.path):void 0;zp(e,s,t,f,u,b)}),s[u.path]||(e.push(u.path),s[u.path]=u),r.alias!==void 0)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<d.length;++h){var m=d[h],p={path:m,children:r.children};zp(e,s,t,p,i,u.path||"/")}o&&(t[o]||(t[o]=u))}function Uae(e,s){var t=In(e,[],s);return t}function Bae(e,s,t){return t||(e=e.replace(/\/$/,"")),e[0]==="/"||s==null?e:gr(s.path+"/"+e)}function Gae(e,s){var t=cl(e),r=t.pathList,i=t.pathMap,n=t.nameMap;function a(m){cl(m,r,i,n)}function o(m,p){var f=typeof m!="object"?n[m]:void 0;cl([p||m],r,i,n,f),f&&f.alias.length&&cl(f.alias.map(function(b){return{path:b,children:[p]}}),r,i,n,f)}function l(){return r.map(function(m){return i[m]})}function c(m,p,f){var b=w1(m,p,!1,s),$=b.name;if($){var P=n[$];if(!P)return h(null,b);var D=P.regex.keys.filter(function(I){return!I.optional}).map(function(I){return I.name});if(typeof b.params!="object"&&(b.params={}),p&&typeof p.params=="object")for(var R in p.params)!(R in b.params)&&D.indexOf(R)>-1&&(b.params[R]=p.params[R]);return b.path=Pl(P.path,b.params),h(P,b,f)}else if(b.path){b.params={};for(var k=0;k<r.length;k++){var S=r[k],L=i[S];if(Wae(L.regex,b.path,b.params))return h(L,b,f)}}return h(null,b)}function u(m,p){var f=m.redirect,b=typeof f=="function"?f(pu(m,p,null,s)):f;if(typeof b=="string"&&(b={path:b}),!b||typeof b!="object")return h(null,p);var $=b,P=$.name,D=$.path,R=p.query,k=p.hash,S=p.params;if(R=$.hasOwnProperty("query")?$.query:R,k=$.hasOwnProperty("hash")?$.hash:k,S=$.hasOwnProperty("params")?$.params:S,P)return n[P],c({_normalized:!0,name:P,query:R,hash:k,params:S},void 0,p);if(D){var L=zae(D,m),I=Pl(L,S);return c({_normalized:!0,path:I,query:R,hash:k},void 0,p)}else return h(null,p)}function d(m,p,f){var b=Pl(f,p.params),$=c({_normalized:!0,path:b});if($){var P=$.matched,D=P[P.length-1];return p.params=$.params,h(D,p)}return h(null,p)}function h(m,p,f){return m&&m.redirect?u(m,f||p):m&&m.matchAs?d(m,p,m.matchAs):pu(m,p,f,s)}return{match:c,addRoute:o,getRoutes:l,addRoutes:a}}function Wae(e,s,t){var r=s.match(e);if(r){if(!t)return!0}else return!1;for(var i=1,n=r.length;i<n;++i){var a=e.keys[i-1];a&&(t[a.name||"pathMatch"]=typeof r[i]=="string"?Bp(r[i]):r[i])}return!0}function zae(e,s){return NP(e,s.parent?s.parent.path:"/",!0)}var qae=Wo&&window.performance&&window.performance.now?window.performance:Date;function WP(){return qae.now().toFixed(3)}var zP=WP();function Kd(){return zP}function qP(e){return zP=e}var ZP=Object.create(null);function YP(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,s=window.location.href.replace(e,""),t=hs({},window.history.state);return t.key=Kd(),window.history.replaceState(t,"",s),window.addEventListener("popstate",p2),function(){window.removeEventListener("popstate",p2)}}function _r(e,s,t,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick(function(){var n=Zae(),a=i.call(e,s,t,r?n:null);a&&(typeof a.then=="function"?a.then(function(o){_2(o,n)}).catch(function(o){}):_2(a,n))})}}function XP(){var e=Kd();e&&(ZP[e]={x:window.pageXOffset,y:window.pageYOffset})}function p2(e){XP(),e.state&&e.state.key&&qP(e.state.key)}function Zae(){var e=Kd();if(e)return ZP[e]}function Yae(e,s){var t=document.documentElement,r=t.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-r.left-s.x,y:i.top-r.top-s.y}}function f2(e){return xn(e.x)||xn(e.y)}function g2(e){return{x:xn(e.x)?e.x:window.pageXOffset,y:xn(e.y)?e.y:window.pageYOffset}}function Xae(e){return{x:xn(e.x)?e.x:0,y:xn(e.y)?e.y:0}}function xn(e){return typeof e=="number"}var Jae=/^#\d/;function _2(e,s){var t=typeof e=="object";if(t&&typeof e.selector=="string"){var r=Jae.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var i=e.offset&&typeof e.offset=="object"?e.offset:{};i=Xae(i),s=Yae(r,i)}else f2(e)&&(s=g2(e))}else t&&f2(e)&&(s=g2(e));s&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:s.x,top:s.y,behavior:e.behavior}):window.scrollTo(s.x,s.y))}var vr=Wo&&function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function _u(e,s){XP();var t=window.history;try{if(s){var r=hs({},t.state);r.key=Kd(),t.replaceState(r,"",e)}else t.pushState({key:qP(WP())},"",e)}catch{window.location[s?"replace":"assign"](e)}}function qp(e){_u(e,!0)}var Pi={redirected:2,aborted:4,cancelled:8,duplicated:16};function Kae(e,s){return Qd(e,s,Pi.redirected,'Redirected when going from "'+e.fullPath+'" to "'+soe(s)+'" via a navigation guard.')}function Qae(e,s){var t=Qd(e,s,Pi.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return t.name="NavigationDuplicated",t}function v2(e,s){return Qd(e,s,Pi.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+s.fullPath+'" with a new navigation.')}function eoe(e,s){return Qd(e,s,Pi.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+s.fullPath+'" via a navigation guard.')}function Qd(e,s,t,r){var i=new Error(r);return i._isRouter=!0,i.from=e,i.to=s,i.type=t,i}var toe=["params","query","hash"];function soe(e){if(typeof e=="string")return e;if("path"in e)return e.path;var s={};return toe.forEach(function(t){t in e&&(s[t]=e[t])}),JSON.stringify(s,null,2)}function vu(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function eh(e,s){return vu(e)&&e._isRouter&&(s==null||e.type===s)}function b2(e,s,t){var r=function(i){i>=e.length?t():e[i]?s(e[i],function(){r(i+1)}):r(i+1)};r(0)}function roe(e){return function(s,t,r){var i=!1,n=0,a=null;JP(e,function(o,l,c,u){if(typeof o=="function"&&o.cid===void 0){i=!0,n++;var d=y2(function(f){noe(f)&&(f=f.default),o.resolved=typeof f=="function"?f:gu.extend(f),c.components[u]=f,n--,n<=0&&r()}),h=y2(function(f){var b="Failed to resolve async component "+u+": "+f;a||(a=vu(f)?f:new Error(b),r(a))}),m;try{m=o(d,h)}catch(f){h(f)}if(m)if(typeof m.then=="function")m.then(d,h);else{var p=m.component;p&&typeof p.then=="function"&&p.then(d,h)}}}),i||r()}}function JP(e,s){return KP(e.map(function(t){return Object.keys(t.components).map(function(r){return s(t.components[r],t.instances[r],t,r)})}))}function KP(e){return Array.prototype.concat.apply([],e)}var ioe=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function noe(e){return e.__esModule||ioe&&e[Symbol.toStringTag]==="Module"}function y2(e){var s=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!s)return s=!0,e.apply(this,t)}}var Ss=function(s,t){this.router=s,this.base=aoe(t),this.current=Rr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};Ss.prototype.listen=function(s){this.cb=s};Ss.prototype.onReady=function(s,t){this.ready?s():(this.readyCbs.push(s),t&&this.readyErrorCbs.push(t))};Ss.prototype.onError=function(s){this.errorCbs.push(s)};Ss.prototype.transitionTo=function(s,t,r){var i=this,n;try{n=this.router.match(s,this.current)}catch(o){throw this.errorCbs.forEach(function(l){l(o)}),o}var a=this.current;this.confirmTransition(n,function(){i.updateRoute(n),t&&t(n),i.ensureURL(),i.router.afterHooks.forEach(function(o){o&&o(n,a)}),i.ready||(i.ready=!0,i.readyCbs.forEach(function(o){o(n)}))},function(o){r&&r(o),o&&!i.ready&&(!eh(o,Pi.redirected)||a!==Rr)&&(i.ready=!0,i.readyErrorCbs.forEach(function(l){l(o)}))})};Ss.prototype.confirmTransition=function(s,t,r){var i=this,n=this.current;this.pending=s;var a=function(f){!eh(f)&&vu(f)&&(i.errorCbs.length?i.errorCbs.forEach(function(b){b(f)}):console.error(f)),r&&r(f)},o=s.matched.length-1,l=n.matched.length-1;if(jP(s,n)&&o===l&&s.matched[o]===n.matched[l])return this.ensureURL(),s.hash&&_r(this.router,n,s,!1),a(Qae(n,s));var c=ooe(this.current.matched,s.matched),u=c.updated,d=c.deactivated,h=c.activated,m=[].concat(coe(d),this.router.beforeHooks,uoe(u),h.map(function(f){return f.beforeEnter}),roe(h)),p=function(f,b){if(i.pending!==s)return a(v2(n,s));try{f(s,n,function($){$===!1?(i.ensureURL(!0),a(eoe(n,s))):vu($)?(i.ensureURL(!0),a($)):typeof $=="string"||typeof $=="object"&&(typeof $.path=="string"||typeof $.name=="string")?(a(Kae(n,s)),typeof $=="object"&&$.replace?i.replace($):i.push($)):b($)})}catch($){a($)}};b2(m,p,function(){var f=doe(h),b=f.concat(i.router.resolveHooks);b2(b,p,function(){if(i.pending!==s)return a(v2(n,s));i.pending=null,t(s),i.router.app&&i.router.app.$nextTick(function(){IP(s)})})})};Ss.prototype.updateRoute=function(s){this.current=s,this.cb&&this.cb(s)};Ss.prototype.setupListeners=function(){};Ss.prototype.teardown=function(){this.listeners.forEach(function(s){s()}),this.listeners=[],this.current=Rr,this.pending=null};function aoe(e){if(!e)if(Wo){var s=document.querySelector("base");e=s&&s.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return e.charAt(0)!=="/"&&(e="/"+e),e.replace(/\/$/,"")}function ooe(e,s){var t,r=Math.max(e.length,s.length);for(t=0;t<r&&e[t]===s[t];t++);return{updated:s.slice(0,t),activated:s.slice(t),deactivated:e.slice(t)}}function P1(e,s,t,r){var i=JP(e,function(n,a,o,l){var c=loe(n,s);if(c)return Array.isArray(c)?c.map(function(u){return t(u,a,o,l)}):t(c,a,o,l)});return KP(r?i.reverse():i)}function loe(e,s){return typeof e!="function"&&(e=gu.extend(e)),e.options[s]}function coe(e){return P1(e,"beforeRouteLeave",QP,!0)}function uoe(e){return P1(e,"beforeRouteUpdate",QP)}function QP(e,s){if(s)return function(){return e.apply(s,arguments)}}function doe(e){return P1(e,"beforeRouteEnter",function(s,t,r,i){return hoe(s,r,i)})}function hoe(e,s,t){return function(i,n,a){return e(i,n,function(o){typeof o=="function"&&(s.enteredCbs[t]||(s.enteredCbs[t]=[]),s.enteredCbs[t].push(o)),a(o)})}}var eT=function(e){function s(t,r){e.call(this,t,r),this._startLocation=oa(this.base)}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.setupListeners=function(){var r=this;if(!(this.listeners.length>0)){var i=this.router,n=i.options.scrollBehavior,a=vr&&n;a&&this.listeners.push(YP());var o=function(){var l=r.current,c=oa(r.base);r.current===Rr&&c===r._startLocation||r.transitionTo(c,function(u){a&&_r(i,u,l,!0)})};window.addEventListener("popstate",o),this.listeners.push(function(){window.removeEventListener("popstate",o)})}},s.prototype.go=function(r){window.history.go(r)},s.prototype.push=function(r,i,n){var a=this,o=this,l=o.current;this.transitionTo(r,function(c){_u(gr(a.base+c.fullPath)),_r(a.router,c,l,!1),i&&i(c)},n)},s.prototype.replace=function(r,i,n){var a=this,o=this,l=o.current;this.transitionTo(r,function(c){qp(gr(a.base+c.fullPath)),_r(a.router,c,l,!1),i&&i(c)},n)},s.prototype.ensureURL=function(r){if(oa(this.base)!==this.current.fullPath){var i=gr(this.base+this.current.fullPath);r?_u(i):qp(i)}},s.prototype.getCurrentLocation=function(){return oa(this.base)},s}(Ss);function oa(e){var s=window.location.pathname,t=s.toLowerCase(),r=e.toLowerCase();return e&&(t===r||t.indexOf(gr(r+"/"))===0)&&(s=s.slice(e.length)),(s||"/")+window.location.search+window.location.hash}var tT=function(e){function s(t,r,i){e.call(this,t,r),!(i&&moe(this.base))&&C2()}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.setupListeners=function(){var r=this;if(!(this.listeners.length>0)){var i=this.router,n=i.options.scrollBehavior,a=vr&&n;a&&this.listeners.push(YP());var o=function(){var c=r.current;C2()&&r.transitionTo(Tl(),function(u){a&&_r(r.router,u,c,!0),vr||Dl(u.fullPath)})},l=vr?"popstate":"hashchange";window.addEventListener(l,o),this.listeners.push(function(){window.removeEventListener(l,o)})}},s.prototype.push=function(r,i,n){var a=this,o=this,l=o.current;this.transitionTo(r,function(c){$2(c.fullPath),_r(a.router,c,l,!1),i&&i(c)},n)},s.prototype.replace=function(r,i,n){var a=this,o=this,l=o.current;this.transitionTo(r,function(c){Dl(c.fullPath),_r(a.router,c,l,!1),i&&i(c)},n)},s.prototype.go=function(r){window.history.go(r)},s.prototype.ensureURL=function(r){var i=this.current.fullPath;Tl()!==i&&(r?$2(i):Dl(i))},s.prototype.getCurrentLocation=function(){return Tl()},s}(Ss);function moe(e){var s=oa(e);if(!/^\/#/.test(s))return window.location.replace(gr(e+"/#"+s)),!0}function C2(){var e=Tl();return e.charAt(0)==="/"?!0:(Dl("/"+e),!1)}function Tl(){var e=window.location.href,s=e.indexOf("#");return s<0?"":(e=e.slice(s+1),e)}function Zp(e){var s=window.location.href,t=s.indexOf("#"),r=t>=0?s.slice(0,t):s;return r+"#"+e}function $2(e){vr?_u(Zp(e)):window.location.hash=e}function Dl(e){vr?qp(Zp(e)):window.location.replace(Zp(e))}var poe=function(e){function s(t,r){e.call(this,t,r),this.stack=[],this.index=-1}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.push=function(r,i,n){var a=this;this.transitionTo(r,function(o){a.stack=a.stack.slice(0,a.index+1).concat(o),a.index++,i&&i(o)},n)},s.prototype.replace=function(r,i,n){var a=this;this.transitionTo(r,function(o){a.stack=a.stack.slice(0,a.index).concat(o),i&&i(o)},n)},s.prototype.go=function(r){var i=this,n=this.index+r;if(!(n<0||n>=this.stack.length)){var a=this.stack[n];this.confirmTransition(a,function(){var o=i.current;i.index=n,i.updateRoute(a),i.router.afterHooks.forEach(function(l){l&&l(a,o)})},function(o){eh(o,Pi.duplicated)&&(i.index=n)})}},s.prototype.getCurrentLocation=function(){var r=this.stack[this.stack.length-1];return r?r.fullPath:"/"},s.prototype.ensureURL=function(){},s}(Ss),je=function(s){s===void 0&&(s={}),this.app=null,this.apps=[],this.options=s,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Gae(s.routes||[],this);var t=s.mode||"hash";switch(this.fallback=t==="history"&&!vr&&s.fallback!==!1,this.fallback&&(t="hash"),Wo||(t="abstract"),this.mode=t,t){case"history":this.history=new eT(this,s.base);break;case"hash":this.history=new tT(this,s.base,this.fallback);break;case"abstract":this.history=new poe(this,s.base);break}},sT={currentRoute:{configurable:!0}};je.prototype.match=function(s,t,r){return this.matcher.match(s,t,r)};sT.currentRoute.get=function(){return this.history&&this.history.current};je.prototype.init=function(s){var t=this;if(this.apps.push(s),s.$once("hook:destroyed",function(){var a=t.apps.indexOf(s);a>-1&&t.apps.splice(a,1),t.app===s&&(t.app=t.apps[0]||null),t.app||t.history.teardown()}),!this.app){this.app=s;var r=this.history;if(r instanceof eT||r instanceof tT){var i=function(a){var o=r.current,l=t.options.scrollBehavior,c=vr&&l;c&&"fullPath"in a&&_r(t,a,o,!1)},n=function(a){r.setupListeners(),i(a)};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(a){t.apps.forEach(function(o){o._route=a})})}};je.prototype.beforeEach=function(s){return T1(this.beforeHooks,s)};je.prototype.beforeResolve=function(s){return T1(this.resolveHooks,s)};je.prototype.afterEach=function(s){return T1(this.afterHooks,s)};je.prototype.onReady=function(s,t){this.history.onReady(s,t)};je.prototype.onError=function(s){this.history.onError(s)};je.prototype.push=function(s,t,r){var i=this;if(!t&&!r&&typeof Promise<"u")return new Promise(function(n,a){i.history.push(s,n,a)});this.history.push(s,t,r)};je.prototype.replace=function(s,t,r){var i=this;if(!t&&!r&&typeof Promise<"u")return new Promise(function(n,a){i.history.replace(s,n,a)});this.history.replace(s,t,r)};je.prototype.go=function(s){this.history.go(s)};je.prototype.back=function(){this.go(-1)};je.prototype.forward=function(){this.go(1)};je.prototype.getMatchedComponents=function(s){var t=s?s.matched?s:this.resolve(s).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(r){return Object.keys(r.components).map(function(i){return r.components[i]})})):[]};je.prototype.resolve=function(s,t,r){t=t||this.history.current;var i=w1(s,t,r,this),n=this.match(i,t),a=n.redirectedFrom||n.fullPath,o=this.history.base,l=foe(o,a,this.mode);return{location:i,route:n,href:l,normalizedTo:i,resolved:n}};je.prototype.getRoutes=function(){return this.matcher.getRoutes()};je.prototype.addRoute=function(s,t){this.matcher.addRoute(s,t),this.history.current!==Rr&&this.history.transitionTo(this.history.getCurrentLocation())};je.prototype.addRoutes=function(s){this.matcher.addRoutes(s),this.history.current!==Rr&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(je.prototype,sT);var rT=je;function T1(e,s){return e.push(s),function(){var t=e.indexOf(s);t>-1&&e.splice(t,1)}}function foe(e,s,t){var r=t==="hash"?"#"+s:s;return e?gr(e+"/"+r):r}je.install=Wp;je.version="3.6.5";je.isNavigationFailure=eh;je.NavigationFailureType=Pi;je.START_LOCATION=Rr;Wo&&window.Vue&&window.Vue.use(je);y.use(rT);const uo=new rT({base:"/",mode:"history",routes:mP});var goe=Object.defineProperty,_oe=Object.getOwnPropertyDescriptor,voe=(e,s,t,r)=>{for(var i=r>1?void 0:r?_oe(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&goe(s,t,i),i};let Yp=class extends M(O){constructor(){super(...arguments),this.mdiChevronDown=Or}get displayMenuPoint(){return this.instancesDB!=="moonraker"&&this.countPrinters>1||this.instancesDB==="moonraker"&&this.countPrinters}get printers(){return this.$store.getters["farm/getPrinters"]}get countPrinters(){return this.$store.getters["farm/countPrinters"]}get currentPage(){return this.$route.fullPath}switchToPrinters(){uo.push("/allPrinters")}getPrinterName(e){return this.$store.getters["farm/"+e+"/getPrinterName"]}getPrinterDescription(e){return this.$store.getters["farm/"+e._namespace+"/getStatus"]}changePrinter(e){e.socket.isConnected&&this.$store.dispatch("changePrinter",{printer:e._namespace})}};Yp=voe([w],Yp);var boe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{bottom:"","offset-x":!0},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(_,e._g(e._b({staticClass:"nav-arrow right"},"v-icon",n,!1),i),[e._v(e._s(e.mdiChevronDown))])]}}])},[t(Ee,{attrs:{dense:""}},e._l(e.printers,function(r){return t(Y,{key:r._namespace,attrs:{"two-line":"",disabled:!r.socket.isConnected,link:""},on:{click:function(i){return e.changePrinter(r)}}},[t(ot,[t(Ne,[e._v(e._s(e.getPrinterName(r._namespace)))]),t(zs,[e._v(e._s(e.getPrinterDescription(r)))])],1)],1)}),1)],1)},yoe=[];const x2={};var Coe=E(Yp,boe,yoe,!1,$oe,null,null,null);function $oe(e){for(let s in x2)this[s]=x2[s]}const iT=function(){return Coe.exports}();var xoe=Object.defineProperty,Soe=Object.getOwnPropertyDescriptor,th=(e,s,t,r)=>{for(var i=r>1?void 0:r?Soe(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&xoe(s,t,i),i};let Sn=class extends M(O){constructor(){super(...arguments),this.mdiClose=go,this.mdiLinkVariant=zC,this.mdiBellOffOutline=kM,this.expand=!1,this.showMaintenanceDetails=!1}get formatedText(){return this.entry.description.replace(/(\bhttps?:\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gim,'<a href="$1" target="_blank" class="'+this.alertColor+'--text">$1</a>')}get alertColor(){return this.entry.priority==="critical"?"error":this.entry.priority==="high"?"warning":"info"}get entryType(){const e=this.entry.id.indexOf("/");return e===-1?"":this.entry.id.slice(0,e)}get maintenanceEntry(){if(this.entryType!=="maintenance")return null;const e=this.entry.id.replace("maintenance/","");return this.$store.getters["gui/maintenance/getEntries"].find(t=>t.id===e)}get reminderTimes(){let e=[{text:this.$t("App.Notifications.NextReboot"),clickFunction:()=>this.dismiss("reboot",null)},{text:this.$t("App.Notifications.Never"),clickFunction:()=>this.close()}];return["announcement","maintenance"].includes(this.entryType)&&(e=[],e.push({text:this.$t("App.Notifications.OneHourShort"),clickFunction:()=>this.dismiss("time",60*60)}),e.push({text:this.$t("App.Notifications.OneDayShort"),clickFunction:()=>this.dismiss("time",60*60*24)}),e.push({text:this.$t("App.Notifications.OneWeekShort"),clickFunction:()=>this.dismiss("time",60*60*24*7)})),e}xButtonAction(){if(this.entryType==="announcement")return this.close();this.dismiss("reboot",null)}close(){this.$store.dispatch("gui/notifications/close",{id:this.entry.id})}dismiss(e,s){this.$store.dispatch("gui/notifications/dismiss",{id:this.entry.id,type:e,time:s})}parentStateUpdate(e){e||(this.expand=!1)}};th([x({required:!0})],Sn.prototype,"entry",2);th([x({default:!0})],Sn.prototype,"parentState",2);th([ce("parentState")],Sn.prototype,"parentStateUpdate",1);Sn=th([w({components:{}})],Sn);var woe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(et,{class:"notification-menu-entry--priority-".concat(e.entry.priority),attrs:{text:"",color:e.alertColor,border:"left"}},[t(C,{staticClass:"flex-nowrap",attrs:{align:"start"}},[t(v,{staticClass:"grow pb-2"},[t("div",{staticClass:"notification-menu-entry__headline mb-1 text-subtitle-1"},["url"in e.entry?t("a",{class:"text-decoration-none ".concat(e.alertColor,"--text "),attrs:{href:e.entry.url,target:"_blank"}},[t(_,{class:"".concat(e.alertColor,"--text pb-1"),attrs:{small:""}},[e._v(" "+e._s(e.mdiLinkVariant)+" ")]),e._v(" "+e._s(e.entry.title)+" ")],1):t("span",{class:"".concat(e.alertColor,"--text")},[e._v(e._s(e.entry.title))])]),t("p",{staticClass:"notification-menu-entry__description text-body-2 mb-0 text--disabled font-weight-light",domProps:{innerHTML:e._s(e.formatedText)}}),e.entryType==="maintenance"?t(g,{staticClass:"mt-3 mb-0 w-100",attrs:{outlined:"",small:"",color:e.alertColor},on:{click:function(r){e.showMaintenanceDetails=!0}}},[e._v(" "+e._s(e.$t("App.Notifications.ShowDetails"))+" ")]):e._e()],1),e.entry.priority!=="critical"?t(v,{staticClass:"shrink pl-0 pb-1 pt-1 pr-2 d-flex flex-column align-self-stretch justify-space-between"},[e.entryType!=="maintenance"?t(g,{staticClass:"mb-2",attrs:{icon:"",plain:"",color:e.alertColor},on:{click:e.xButtonAction}},[t(_,[e._v(e._s(e.mdiClose))])],1):e._e(),t(ie),t(g,{attrs:{icon:"",plain:"","retain-focus-on-click":"",color:e.alertColor},on:{click:function(r){e.expand=!e.expand}}},[t(_,[e._v(e._s(e.mdiBellOffOutline))])],1)],1):e._e()],1),e.entry.priority!=="critical"?t(C,[t(ku,[t("div",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"expand"}],staticClass:"pt-1 w-100"},[t(H,{staticClass:"pb-1 ml-2"}),t("div",{staticClass:"text-right py-1",staticStyle:{"font-size":"0.875rem"}},[t("span",{staticClass:"text--disabled text-caption font-weight-light"},[e._v(" "+e._s(e.$t("App.Notifications.Remind"))+" ")]),e._l(e.reminderTimes,function(r){return t(g,{key:r.text,staticClass:"mx-1",attrs:{color:e.alertColor,"x-small":"",plain:"",text:"",outlined:""},on:{click:r.clickFunction}},[e._v(" "+e._s(r.text)+" ")])})],2)],1)])],1):e._e(),e.entryType==="maintenance"?t(jg,{attrs:{show:e.showMaintenanceDetails,item:e.maintenanceEntry},on:{close:function(r){e.showMaintenanceDetails=!1}}}):e._e()],1)},Poe=[];const S2={};var Toe=E(Sn,woe,Poe,!1,Doe,"199aea20",null,null);function Doe(e){for(let s in S2)this[s]=S2[s]}const nT=function(){return Toe.exports}();var Moe=Object.defineProperty,Eoe=Object.getOwnPropertyDescriptor,Ooe=(e,s,t,r)=>{for(var i=r>1?void 0:r?Eoe(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Moe(s,t,i),i};let Xp=class extends M(O){constructor(){super(...arguments),this.mdiBell=AM,this.mdiBellOutline=RM,this.mdiCloseBoxMultipleOutline=ZM,this.boolMenu=!1}get notifications(){var e;return(e=this.$store.getters["gui/notifications/getNotifications"])!=null?e:[]}get existsCriticalAnnouncements(){return this.notifications.filter(e=>e.priority==="critical").length>0}get existsHighAnnouncements(){return this.notifications.filter(e=>e.priority==="high").length>0}get countNormalAnnouncements(){return this.notifications.filter(e=>e.priority==="normal").length}get colorBadge(){return this.existsCriticalAnnouncements?"error":this.existsHighAnnouncements?"warning":"primary"}dismissAll(){this.notifications.forEach(async e=>{e.id.startsWith("announcement")&&await this.$store.dispatch("gui/notifications/close",{id:e.id}),await this.$store.dispatch("gui/notifications/dismiss",{id:e.id,type:"reboot",time:null})})}};Xp=Ooe([w({components:{NotificationMenuEntry:nT}})],Xp);var Loe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(ye,{attrs:{bottom:"",left:!e.isMobile,"offset-y":"","close-on-click":!0,"close-on-content-click":!1,origin:"center center",transition:"slide-y-transition","min-width":e.isMobile?"100%":null},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,n=r.attrs;return[t(g,e._g(e._b({staticClass:"minwidth-0",attrs:{icon:"",tile:""}},"v-btn",n,!1),i),[t(hC,{attrs:{content:e.notifications.length<=9?e.notifications.length:"9+",value:e.notifications.length>0,color:e.colorBadge,overlap:""}},[t(_,[e._v(e._s(n["aria-expanded"]==="false"?e.mdiBellOutline:e.mdiBell))])],1)],1)]}}]),model:{value:e.boolMenu,callback:function(r){e.boolMenu=r},expression:"boolMenu"}},[t(Te,{attrs:{flat:"","min-width":300,"max-width":e.isMobile?null:400}},[e.notifications.length?[t("overlay-scrollbars",{staticClass:"announcement-menu__scrollbar"},[t(Z,[e._l(e.notifications,function(r,i){return[t(nT,{key:r.id,class:i<e.notifications.length-1?"":"mb-0",attrs:{entry:r,"parent-state":e.boolMenu}})]})],2)],1),e.notifications.length>1?[t(H),t(ae,[t(ie),t(g,{staticClass:"mr-2",attrs:{text:"",color:"primary"},on:{click:e.dismissAll}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiCloseBoxMultipleOutline))]),e._v(" "+e._s(e.$t("App.Notifications.DismissAll"))+" ")],1)],1)]:e._e()]:t(Z,{staticClass:"text-center"},[t("span",{staticClass:"text-disabled"},[e._v(e._s(e.$t("App.Notifications.NoNotification")))])])],2)],1)},Foe=[];const w2={};var Aoe=E(Xp,Loe,Foe,!1,koe,"1b8a7ab6",null,null);function koe(e){for(let s in w2)this[s]=w2[s]}const aT=function(){return Aoe.exports}();var Roe=Object.defineProperty,Hoe=Object.getOwnPropertyDescriptor,oT=(e,s,t,r)=>{for(var i=r>1?void 0:r?Hoe(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Roe(s,t,i),i};let bu=class extends M(O){constructor(){super(...arguments),this.mdiAlertOctagonOutline=TC,this.mdiCloseThick=pe}emergencyStop(){this.$socket.emit("printer.emergency_stop",{},{loading:"topbarEmergencyStop"}),this.closePrompt()}closePrompt(){this.$emit("close")}};oT([x({type:Boolean,default:!1})],bu.prototype,"showDialog",2);bu=oT([w({components:{Panel:B}})],bu);var joe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:""}},[t(B,{attrs:{title:e.$t("EmergencyStopDialog.EmergencyStop"),"toolbar-color":"error","card-class":"emergency-stop-dialog",icon:e.mdiAlertOctagonOutline,"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closePrompt}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e._v(e._s(e.$t("EmergencyStopDialog.AreYouSure")))]),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.closePrompt}},[e._v(e._s(e.$t("EmergencyStopDialog.No")))]),t(g,{attrs:{color:"primary",text:""},on:{click:e.emergencyStop}},[e._v(e._s(e.$t("EmergencyStopDialog.Yes")))])],1)],1)],1)},Ioe=[];const P2={};var Noe=E(bu,joe,Ioe,!1,Voe,null,null,null);function Voe(e){for(let s in P2)this[s]=P2[s]}const lT=function(){return Noe.exports}(),Xn={};function Uoe(e){return Object.keys(e).reduce((s,t)=>(e[t]!==!1&&e[t]!==null&&e[t]!==void 0&&(s[t]=e[t]),s),{})}const Boe={name:"InlineSvg",inheritAttrs:!1,render(e){return this.svgElSource?e("svg",{on:this.$listeners,attrs:Object.assign(this.getSvgAttrs(this.svgElSource),Uoe(this.$attrs)),domProps:{innerHTML:this.getSvgContent(this.svgElSource)}}):null},props:{src:{type:String,required:!0},title:{type:String},transformSource:{type:Function,default:e=>e},keepDuringLoading:{type:Boolean,default:!0}},data(){return{svgElSource:null}},watch:{src(e){this.getSource(e)}},mounted(){this.getSource(this.src)},methods:{getSvgAttrs(e){let s={};const t=e.attributes;if(!t)return s;for(let r=t.length-1;r>=0;r--)s[t[r].name]=t[r].value;return s},getSvgContent(e){return e=e.cloneNode(!0),e=this.transformSource(e),this.title&&Goe(e,this.title),e.innerHTML},getSource(e){Xn[e]||(Xn[e]=this.download(e)),this.svgElSource&&Xn[e].getIsPending()&&!this.keepDuringLoading&&(this.svgElSource=null,this.$emit("unloaded")),Xn[e].then(s=>{this.svgElSource=s,this.$nextTick(()=>{this.$emit("loaded",this.$el)})}).catch(s=>{this.svgElSource&&(this.svgElSource=null,this.$emit("unloaded")),delete Xn[e],this.$emit("error",s)})},download(e){return Woe(new Promise((s,t)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=()=>{if(r.status>=200&&r.status<400)try{let a=new DOMParser().parseFromString(r.responseText,"text/xml").getElementsByTagName("svg")[0];a?s(a):t(new Error('Loaded file is not valid SVG"'))}catch(i){t(i)}else t(new Error("Error loading SVG"))},r.onerror=t,r.send()}))}}};function Goe(e,s){const t=e.getElementsByTagName("title");if(t.length)t[0].textContent=s;else{const r=document.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=s,e.insertBefore(r,e.firstChild)}}function Woe(e){if(e.getIsPending)return e;let s=!0,t=e.then(r=>(s=!1,r),r=>{throw s=!1,r});return t.getIsPending=function(){return s},t}var zoe=Object.defineProperty,qoe=Object.getOwnPropertyDescriptor,Zoe=(e,s,t,r)=>{for(var i=r>1?void 0:r?qoe(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&zoe(s,t,i),i};let Jp=class extends M(O,yt){constructor(){super(...arguments),this.mdiAlertOctagonOutline=TC,this.mdiContentSave=Df,this.mdiFileUpload=VC,this.mdiClose=go,this.mdiCloseThick=pe,this.topbarHeight=ca,this.showEmergencyStopDialog=!1,this.uploadSnackbar={status:!1,filename:"",percent:0,speed:0,total:0,cancelTokenSource:null},this.formatFilesize=Qe}get gcodeInputFileAccept(){return this.isIOS?[]:Zi}get naviDrawer(){return this.$store.state.naviDrawer}set naviDrawer(e){this.$store.dispatch("setNaviDrawer",e)}get currentPage(){return this.$route.fullPath}get saveConfigPending(){var e,s;return(s=(e=this.$store.state.printer.configfile)==null?void 0:e.save_config_pending)!=null?s:!1}get hideSaveConfigForBedMash(){var e;return(e=this.$store.state.gui.uiSettings.hideSaveConfigForBedMash)!=null?e:!1}get showSaveConfigButton(){var s,t;if(!this.klipperReadyForGui)return!1;if(!this.hideSaveConfigForBedMash)return this.saveConfigPending;let e=Object.keys((t=(s=this.$store.state.printer.configfile)==null?void 0:s.save_config_pending_items)!=null?t:{});return e=e.filter(r=>!r.startsWith("bed_mesh ")),e.length>0}get printerName(){return this.$store.state.gui.general.printername.length?this.$store.state.gui.general.printername:this.$store.state.printer.hostname}get countPrinters(){return this.$store.getters["farm/countPrinters"]}get boolHideUploadAndPrintButton(){var e;return(e=this.$store.state.gui.uiSettings.boolHideUploadAndPrintButton)!=null?e:!1}get isSvgLogo(){return this.sidebarLogo.includes(".svg?timestamp=")||this.sidebarLogo.endsWith(".svg")}get logoColor(){return this.$store.state.gui.uiSettings.logo}get logoClasses(){return["nav-logo","ml-2","mr-1","d-none","d-sm-flex"]}get boolShowUploadAndPrint(){return this.klippyIsConnected&&this.existGcodesRootDirectory&&["standby","complete","cancelled"].includes(this.printer_state)&&!this.boolHideUploadAndPrintButton}get defaultNavigationStateSetting(){var e,s,t;return(t=(s=(e=this.$store.state.gui)==null?void 0:e.uiSettings)==null?void 0:s.defaultNavigationStateSetting)!=null?t:"alwaysOpen"}mounted(){var e;switch(this.defaultNavigationStateSetting){case"alwaysClosed":this.naviDrawer=!1;break;case"lastState":this.naviDrawer=((e=localStorage.getItem("naviDrawer"))!=null?e:"true")==="true";break;default:this.naviDrawer=this.$vuetify.breakpoint.lgAndUp}}btnEmergencyStop(){if(this.$store.state.gui.uiSettings.confirmOnEmergencyStop){this.showEmergencyStopDialog=!0;return}this.emergencyStop()}emergencyStop(){this.showEmergencyStopDialog=!1,this.$socket.emit("printer.emergency_stop",{},{loading:"topbarEmergencyStop"})}saveConfig(){this.$store.dispatch("server/addEvent",{message:"SAVE_CONFIG",type:"command"}),this.$socket.emit("printer.gcode.script",{script:"SAVE_CONFIG"},{loading:"topbarSaveConfig"})}btnUploadAndStart(){this.$refs.fileUploadAndStart.click()}async uploadAndStart(){var e,s;if((e=this.$refs.fileUploadAndStart)!=null&&e.files.length){await this.$store.dispatch("socket/addLoading",{name:"btnUploadAndStart"});let t=[];for(const r of((s=this.$refs.fileUploadAndStart)==null?void 0:s.files)||[]){const i=await this.doUploadAndStart(r);t.push(i)}await this.$store.dispatch("socket/removeLoading",{name:"btnUploadAndStart"});for(const r of t){const i=this.$t("App.TopBar.UploadOfFileSuccessful",{file:r}).toString();this.$toast.success(i)}this.$refs.fileUploadAndStart.value="",this.currentPage!=="/"&&await this.$router.push("/")}}doUploadAndStart(e){const s=new FormData,t=e.name;return this.uploadSnackbar.filename=t,this.uploadSnackbar.status=!0,this.uploadSnackbar.percent=0,this.uploadSnackbar.speed=0,s.append("file",e,t),s.append("print","true"),new Promise(r=>{this.uploadSnackbar.cancelTokenSource=Ns.CancelToken.source(),Ns.post(this.apiUrl+"/server/files/upload",s,{cancelToken:this.uploadSnackbar.cancelTokenSource.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i=>{var n,a,o;this.uploadSnackbar.percent=((n=i.progress)!=null?n:0)*100,this.uploadSnackbar.speed=(a=i.rate)!=null?a:0,this.uploadSnackbar.total=(o=i.total)!=null?o:0}}).then(i=>{this.uploadSnackbar.status=!1,r(i.data.result)}).catch(()=>{this.uploadSnackbar.status=!1,this.$store.dispatch("socket/removeLoading",{name:"btnUploadAndStart"});const i=this.$t("App.TopBar.CannotUploadTheFile").toString();this.$toast.error(i)})})}cancelUpload(){this.uploadSnackbar.cancelTokenSource.cancel(),this.uploadSnackbar.status=!1}};Jp=Zoe([w({components:{EmergencyStopDialog:lT,InlineSvg:Boe,Panel:B,TheSettingsMenu:HP,TheTopCornerMenu:vP,PrinterSelector:iT,MainsailLogo:En,TheNotificationMenu:aT}})],Jp);var Yoe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(XD,{staticClass:"topbar pa-0",attrs:{app:"","elevate-on-scroll":"",height:e.topbarHeight,"clipped-left":""}},[t(JD,{attrs:{tile:""},on:{click:function(r){r.stopPropagation(),e.naviDrawer=!e.naviDrawer}}}),t("router-link",{attrs:{to:"/"}},[e.sidebarLogo&&e.isSvgLogo?t("inline-svg",{class:e.logoClasses,attrs:{src:e.sidebarLogo}}):e.sidebarLogo?t("img",{class:e.logoClasses,attrs:{src:e.sidebarLogo,alt:"Logo"}}):t(En,{class:e.logoClasses,attrs:{color:e.logoColor,router:"",to:"/",ripple:!1}})],1),t(Au,{staticClass:"text-no-wrap ml-0 pl-2 mr-2"},[e._v(e._s(e.printerName))]),e.countPrinters?t(iT):e._e(),t(ie),t("input",{ref:"fileUploadAndStart",staticStyle:{display:"none"},attrs:{type:"file",accept:e.gcodeInputFileAccept.join(", ")},on:{change:e.uploadAndStart}}),e.showSaveConfigButton?t(g,{staticClass:"button-min-width-auto px-3 d-none d-sm-flex save-config-button",attrs:{tile:"",icon:e.$vuetify.breakpoint.smAndDown,text:e.$vuetify.breakpoint.mdAndUp,color:"primary",disabled:e.printerIsPrinting,loading:e.loadings.includes("topbarSaveConfig")},on:{click:e.saveConfig}},[t(_,{staticClass:"d-md-none"},[e._v(e._s(e.mdiContentSave))]),t("span",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.$t("App.TopBar.SAVE_CONFIG")))])],1):e._e(),e.boolShowUploadAndPrint?t(g,{staticClass:"button-min-width-auto px-3 d-none d-sm-flex upload-and-start-button",attrs:{tile:"",icon:e.$vuetify.breakpoint.smAndDown,text:e.$vuetify.breakpoint.mdAndUp,color:"primary",loading:e.loadings.includes("btnUploadAndStart")},on:{click:e.btnUploadAndStart}},[t(_,{staticClass:"mr-md-2"},[e._v(e._s(e.mdiFileUpload))]),t("span",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.$t("App.TopBar.UploadPrint")))])],1):e._e(),e.klippyIsConnected?t(g,{staticClass:"button-min-width-auto px-3 emergency-button",attrs:{tile:"",icon:e.$vuetify.breakpoint.smAndDown,text:e.$vuetify.breakpoint.mdAndUp,color:"error",loading:e.loadings.includes("topbarEmergencyStop")},on:{click:e.btnEmergencyStop}},[t(_,{staticClass:"mr-md-2"},[e._v(e._s(e.mdiAlertOctagonOutline))]),t("span",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.$t("App.TopBar.EmergencyStop")))])],1):e._e(),t(aT),t(HP),t(vP)],1),t(Wi,{attrs:{timeout:-1,fixed:"",right:"",bottom:""},scopedSlots:e._u([{key:"action",fn:function(r){var i=r.attrs;return[t(g,e._b({staticStyle:{"min-width":"auto"},attrs:{color:"red",text:""},on:{click:e.cancelUpload}},"v-btn",i,!1),[t(_,{staticClass:"0"},[e._v(e._s(e.mdiClose))])],1)]}}]),model:{value:e.uploadSnackbar.status,callback:function(r){e.$set(e.uploadSnackbar,"status",r)},expression:"uploadSnackbar.status"}},[t("strong",[e._v(e._s(e.$t("App.TopBar.Uploading"))+" "+e._s(e.uploadSnackbar.filename))]),t("br"),e._v(" "+e._s(Math.round(e.uploadSnackbar.percent))+" % @ "+e._s(e.formatFilesize(Math.round(e.uploadSnackbar.speed)))+"/s "),t("br"),t(Es,{staticClass:"mt-2",attrs:{value:e.uploadSnackbar.percent}})],1),t(lT,{attrs:{"show-dialog":e.showEmergencyStopDialog},on:{close:function(r){e.showEmergencyStopDialog=!1}}})],1)},Xoe=[];const T2={};var Joe=E(Jp,Yoe,Xoe,!1,Koe,"f14843f0",null,null);function Koe(e){for(let s in T2)this[s]=T2[s]}const cT=function(){return Joe.exports}();var Qoe=Object.defineProperty,ele=Object.getOwnPropertyDescriptor,uT=(e,s,t,r)=>{for(var i=r>1?void 0:r?ele(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Qoe(s,t,i),i};let yu=class extends M(O){constructor(){super(...arguments),this.mdiUpdate=So,this.headers=[{text:"Date",value:"date",width:"1%",dateType:"Date"},{text:"Message",sortable:!1,value:"message",width:"99%"}]}get application(){var e;return(e=this.$store.state.server.updateManager.updateResponse.application)!=null?e:""}get messages(){var e;return(e=this.$store.state.server.updateManager.updateResponse.messages)!=null?e:[]}get complete(){var e;return(e=this.$store.state.server.updateManager.updateResponse.complete)!=null?e:!0}customSort(e,s,t){return e.sort((r,i)=>{if(s[0]==="date")return t[0]?new Date(r[s]).getTime()-new Date(i[s]).getTime():new Date(i[s]).getTime()-new Date(r[s]).getTime();if(typeof r[s]<"u")return t[0]?i[s].toLowerCase().localeCompare(r[s].toLowerCase()):r[s].toLowerCase().localeCompare(i[s].toLowerCase())}),e}formatTime(e){const s=e.getHours()<10?"0"+e.getHours().toString():e.getHours(),t=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes(),r=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds();return s+":"+t+":"+r}close(){this.application!==null&&this.complete&&["client","mainsail","full"].includes(this.application.toLowerCase())?window.location.reload():(this.$store.commit("server/updateManager/resetUpdateResponse"),this.$socket.emit("machine.update.status",{refresh:!1},{action:"server/updateManager/onUpdateStatus"}))}messagesChanged(){setTimeout(()=>{this.$nextTick(()=>{if(this.$refs.updaterLogScroll){const e=this.$refs.updaterLogScroll.osInstance();e==null||e.scroll({y:"100%"})}})},50)}};uT([ce("messages")],yu.prototype,"messagesChanged",1);yu=uT([w({components:{}})],yu);var tle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{staticClass:"mx-0",attrs:{value:e.application!=="",persistent:"","max-width":"800"}},[t(Te,{attrs:{loading:!e.complete}},[t("template",{slot:"progress"},[t(Es,{attrs:{color:"primary",indeterminate:""}})],1),t(yf,{attrs:{flat:"",dense:""}},[t(Au,[t("span",{staticClass:"subheading"},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiUpdate))]),e.application.substr(0,8)==="recover_"&&!e.complete?[e._v(" "+e._s(e.$t("App.UpdateDialog.Recovering",{software:e.application.substr(8)}))+" ")]:e.application.substr(0,8)==="recover_"?[e._v(" "+e._s(e.$t("App.UpdateDialog.RecoveringDone",{software:e.application.substr(8)}))+" ")]:e.complete?[e._v(" "+e._s(e.$t("App.UpdateDialog.UpdatingDone",{software:e.application}))+" ")]:[e._v(" "+e._s(e.$t("App.UpdateDialog.Updating",{software:e.application}))+" ")]],2)])],1),t(Z,{staticClass:"px-3"},[t(C,[t(v,{staticClass:"py-6 px-0"},[t("overlay-scrollbars",{ref:"updaterLogScroll",staticClass:"updaterLogScroll"},[t(Mr,{ref:"updaterLog",staticClass:"updaterLog",attrs:{headers:e.headers,items:e.messages,"item-key":"date","hide-default-footer":"","hide-default-header":"","disable-pagination":"","custom-sort":e.customSort,"sort-by":"date","sort-desc":!0,color:"primary"},scopedSlots:e._u([{key:"no-data",fn:function(){return[t("div",{staticClass:"py-2"},[e._v(e._s(e.$t("App.UpdateDialog.Empty")))])]},proxy:!0},{key:"item",fn:function(r){var i=r.item;return[t("tr",[t("td",{staticClass:"log-cell title-cell py-2"},[e._v(" "+e._s(e.formatTime(i.date))+" ")]),t("td",{staticClass:"log-cell content-cell pl-0 py-2",staticStyle:{width:"100%"},attrs:{colspan:"2"}},[i.message?t("span",{staticClass:"message",domProps:{innerHTML:e._s(i.message)}}):e._e()])])]}}])})],1)],1)],1),t(C,[t(v,{staticClass:"text-center pt-5"},[t(g,{attrs:{text:"",disabled:!e.complete,color:"primary"},on:{click:e.close}},[e._v(" "+e._s(e.$t("App.UpdateDialog.Close"))+" ")])],1)],1)],1)],2)],1)},sle=[];const D2={};var rle=E(yu,tle,sle,!1,ile,"de6f962a",null,null);function ile(e){for(let s in D2)this[s]=D2[s]}const dT=function(){return rle.exports}();var nle=Object.defineProperty,ale=Object.getOwnPropertyDescriptor,ole=(e,s,t,r)=>{for(var i=r>1?void 0:r?ale(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&nle(s,t,i),i};let Kp=class extends M(O,yt){constructor(){super(...arguments),this.mdiConnection=Pf,this.mdiHelp=jf,this.counter=0}get hostname(){return this.$store.state.socket.hostname}get port(){return this.$store.state.socket.port}get path(){return this.$store.state.socket.path}get formatHostname(){return parseInt(this.port)!==80&&this.port!==""?this.hostname+":"+this.port+this.path:this.hostname+this.path}get isConnecting(){return this.$store.state.socket.isConnecting}get connectingFailed(){return this.$store.state.socket.connectingFailed}get showDialog(){return!0}get titleText(){return this.connectingFailed?this.$t("ConnectionDialog.Failed",{host:this.formatHostname}):this.isConnecting?this.$t("ConnectionDialog.Connecting",{host:this.formatHostname}):this.guiIsReady?this.formatHostname:this.$t("ConnectionDialog.Initializing")}get connectionFailedMessage(){var e;return(e=this.$store.state.socket.connectionFailedMessage)!=null?e:null}get helpButtonUrl(){var e;return this.$store.state.socket.connectionFailedMessage?"https://docs.mainsail.xyz/faq/mainsail_errors/connection-".concat((e=this.connectionFailedMessage)==null?void 0:e.toLowerCase()):null}reconnect(){this.counter++,this.$store.dispatch("socket/setData",{connectingFailed:!1}),this.$socket.connect()}};Kp=ole([w({components:{ConnectionStatus:td}})],Kp);var lle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{persistent:"",width:400},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.titleText,icon:e.mdiConnection,"card-class":"the-connection-dialog","margin-bottom":!1}},[e.connectingFailed?t(Z,{staticClass:"pt-5"},[t(td,{attrs:{moonraker:!1}}),t("p",{staticClass:"text-center mt-3 mb-0"},[e._v(" "+e._s(e.$t("ConnectionDialog.CannotConnectTo",{host:e.formatHostname}))+" ")]),e.connectionFailedMessage?t("p",{staticClass:"text-center mt-1 red--text"},[e._v(" "+e._s(e.$t("ConnectionDialog.ErrorMessage",{message:e.connectionFailedMessage}))+" ")]):e._e(),e.counter>2?[t(H,{staticClass:"my-3"}),t("p",[e._v(e._s(e.$t("ConnectionDialog.CheckMoonrakerLog")))]),t("ul",[t("li",[e._v("~/printer_data/logs/moonraker.log")])]),t(H,{staticClass:"mt-4 mb-5"})]:e._e(),t("div",{staticClass:"text-center mt-3"},[e.helpButtonUrl?t(g,{staticClass:"text--disabled mr-3",attrs:{href:e.helpButtonUrl,target:"_blank"}},[t(_,{attrs:{left:""}},[e._v(e._s(e.mdiHelp))]),e._v(" "+e._s(e.$t("ConnectionDialog.Help"))+" ")],1):e._e(),t(g,{staticClass:"primary--text",on:{click:e.reconnect}},[e._v(e._s(e.$t("ConnectionDialog.TryAgain")))])],1)],2):t(Z,{staticClass:"pt-5"},[t(Es,{attrs:{color:e.progressBarColor,indeterminate:""}})],1)],1)],1)},cle=[];const M2={};var ule=E(Kp,lle,cle,!1,dle,null,null,null);function dle(e){for(let s in M2)this[s]=M2[s]}const hT=function(){return ule.exports}(),hle=y.component("CodemirrorAsync",()=>ge(()=>import("./Codemirror-8e74afa2.js"),["assets/Codemirror-8e74afa2.js","assets/codemirror-0a1db0c7.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js"]));var mle=Object.defineProperty,ple=Object.getOwnPropertyDescriptor,D1=(e,s,t,r)=>{for(var i=r>1?void 0:r?ple(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&mle(s,t,i),i};let ho=class extends M(O){constructor(){super(...arguments),this.dialogConfirmChange=!1,this.dialogDevices=!1,this.treeviewItemKeyProp="line",this.structureActive=[],this.structureOpen=[],this.structureActiveChangedBySidebar=!1,this.formatFilesize=Qe,this.mdiCloseThick=pe,this.mdiHelp=jf,this.mdiContentSave=Df,this.mdiRestart=er,this.mdiClose=go,this.mdiHelpCircle=Gu,this.mdiFileDocumentEditOutline=yo,this.mdiFileDocumentOutline=u5,this.mdiUsb=Yf,this.mdiFormatListCheckbox=v5}get changed(){var e;return(e=this.$store.state.editor.changed)!=null?e:!1}get changedOutput(){return this.changed?"*":""}get show(){var e;return(e=this.$store.state.editor.bool)!=null?e:!1}get filepath(){var e;return(e=this.$store.state.editor.filepath)!=null?e:""}get filename(){var e;return(e=this.$store.state.editor.filename)!=null?e:""}get filenameWithoutExtension(){return this.filename.lastIndexOf(".")?this.filename.slice(0,this.filename.lastIndexOf(".")):this.filename}get fileExtension(){return this.filename.lastIndexOf(".")?this.filename.slice(this.filename.lastIndexOf(".")+1):""}get fileroot(){var e;return(e=this.$store.state.editor.fileroot)!=null?e:"gcodes"}get permissions(){var e;return(e=this.$store.state.editor.permissions)!=null?e:"r"}get isWriteable(){return this.permissions.includes("w")}get sourcecode(){var e;return(e=this.$store.state.editor.sourcecode)!=null?e:""}set sourcecode(e){this.$store.dispatch("editor/updateSourcecode",e)}get loaderBool(){var e;return(e=this.$store.state.editor.loaderBool)!=null?e:!1}get loaderProgress(){var e;return(e=this.$store.state.editor.loaderProgress)!=null?e:{}}get snackbarHeadline(){let e=this.$t("Editor.Downloading");return this.loaderProgress.direction&&(e=$r(this.loaderProgress.direction)),this.$t("Editor.".concat(e))}get availableServices(){var e,s;return(s=(e=this.$store.state.server.system_info)==null?void 0:e.available_services)!=null?s:[]}get restartAllowedOrPossible(){return!this.isWriteable||["printing","paused"].includes(this.printer_state)?null:!0}get restartServiceName(){return this.availableServices.includes(this.filenameWithoutExtension)&&this.fileExtension==="conf"?this.filenameWithoutExtension:this.filename.startsWith("webcam")&&["conf","txt"].includes(this.fileExtension)?"webcamd":this.filename.startsWith("mooncord")&&this.fileExtension==="json"?"mooncord":this.filename==="moonraker.conf"?"moonraker":this.fileExtension==="cfg"?"klipper":null}get restartServiceNameExists(){return!this.restartAllowedOrPossible||this.restartServiceName===null?!1:["klipper","moonraker"].includes(this.restartServiceName)?!0:this.availableServices.includes(this.restartServiceName)}get confirmUnsavedChanges(){var e;return(e=this.$store.state.gui.editor.confirmUnsavedChanges)!=null?e:!1}get escToClose(){var e;return(e=this.$store.state.gui.editor.escToClose)!=null?e:!1}get title(){const e=this.filepath?"".concat(this.filepath,"/").concat(this.filename):this.filename;return this.isWriteable?"".concat(e," ").concat(this.changedOutput):"".concat(e," (").concat(this.$t("Editor.FileReadOnly"),")")}get currentLanguage(){return this.$store.state.gui.general.language}get klipperConfigReference(){var r,i;const e=this.currentLanguage,s=(r=X1[this.klipperAppName])!=null?r:X1.Klipper;let t=s.url;return(i=s.docsLanguages)!=null&&i.includes(e)&&(t+="".concat(e,"/")),t+="Config_Reference.html",t}get fileStructureSidebar(){return this.$store.state.gui.editor.fileStructureSidebar}set fileStructureSidebar(e){this.$store.dispatch("gui/saveSetting",{name:"editor.fileStructureSidebar",value:e})}get configFileStructure(){if(!["conf","cfg"].includes(this.fileExtension))return[];const e=this.sourcecode.split(/\n/gi),s=/^[^#\S]*?(\[(?<section>.*?)]|(?<name>\w+)\s*?[:=])/gim,t=[];for(let r=0;r<e.length;r++){const n=[...e[r].matchAll(s)];if(n.length===0)continue;const a=n[0];if(a.groups.section){t.push({name:a.groups.section,type:"section",line:r+1,children:[]});continue}t.length&&a.groups.name&&t[t.length-1].children.push({name:a.groups.name,type:"item",line:r+1})}return t}get existsFileStructure(){return this.configFileStructure.length>0}toggleFileStructure(){this.fileStructureSidebar=!this.fileStructureSidebar}cancelDownload(){this.$store.dispatch("editor/cancelLoad")}escClose(){this.escToClose&&this.close()}close(){this.confirmUnsavedChanges?this.promptUnsavedChanges():this.$store.dispatch("editor/close")}discardChanges(){this.dialogConfirmChange=!1,this.$store.dispatch("editor/close")}promptUnsavedChanges(){!this.changed||!this.isWriteable?this.$store.dispatch("editor/close"):this.dialogConfirmChange=!0}save(e=null){this.dialogConfirmChange=!1,this.$store.dispatch("editor/saveFile",{content:this.sourcecode,restartServiceName:e})}activeChangesItemClick(){this.structureActiveChangedBySidebar=!0}activeChanges(e){var s;this.structureActiveChangedBySidebar&&(this.structureActiveChangedBySidebar=!1,e.length&&((s=this.editor)==null||s.gotoLine(e[0])))}lineChanges(e){var s;(s=this.configFileStructure)==null||s.map(t=>{var r;t.line==e?this.structureActive=[e]:(r=t.children)==null||r.map(i=>{i.line==e&&(this.structureActive=[e],this.structureOpen.includes(t.line)||this.structureOpen.push(t.line))})})}changedChanged(e){if(this.confirmUnsavedChanges){if(e){window.addEventListener("beforeunload",cm);return}window.removeEventListener("beforeunload",cm)}}};D1([Fs("editor")],ho.prototype,"editor",2);D1([ce("changed")],ho.prototype,"changedChanged",1);ho=D1([w({components:{DevicesDialog:p1,Panel:B,CodemirrorAsync:hle}})],ho);var fle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(oe,{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:!1},on:{close:e.close,keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:e.escClose.apply(null,arguments)},function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"s",void 0,r.key,void 0)||!r.ctrlKey||!r.shiftKey)return null;r.preventDefault(),e.restartServiceNameExists&&e.save(e.restartServiceName)},function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"s",void 0,r.key,void 0)||!r.metaKey||!r.shiftKey)return null;r.preventDefault(),e.restartServiceNameExists&&e.save(e.restartServiceName)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"s",void 0,r.key,void 0)||!r.ctrlKey?null:(r.preventDefault(),e.save(null))},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"s",void 0,r.key,void 0)||!r.metaKey?null:(r.preventDefault(),e.save(null))}]},model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[t(B,{attrs:{"card-class":"editor-dialog",icon:e.isWriteable?e.mdiFileDocumentEditOutline:e.mdiFileDocumentOutline,title:e.title},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{staticClass:"d-none d-md-flex",attrs:{text:"",tile:""},on:{click:function(r){e.dialogDevices=!0}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiUsb))]),e._v(" "+e._s(e.$t("Editor.DeviceDialog"))+" ")],1),e.restartServiceName==="klipper"?t(g,{staticClass:"d-none d-md-flex",attrs:{text:"",tile:"",href:e.klipperConfigReference,target:"_blank"}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiHelp))]),e._v(" "+e._s(e.$t("Editor.ConfigReference"))+" ")],1):e._e(),e.existsFileStructure?t(g,{staticClass:"d-none d-md-flex",attrs:{text:"",tile:""},on:{click:e.toggleFileStructure}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiFormatListCheckbox))]),e._v(" "+e._s(e.$t("Editor.FileStructure"))+" ")],1):e._e(),e.restartServiceNameExists?t(g,{staticClass:"d-none d-sm-flex",attrs:{color:"primary",text:"",tile:""},on:{click:function(r){return e.save(e.restartServiceName)}}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiRestart))]),e._v(" "+e._s(e.$t("Editor.SaveRestart"))+" ")],1):e._e(),e.isWriteable?t(g,{attrs:{icon:"",tile:""},on:{click:function(r){return e.save(null)}}},[t(_,[e._v(e._s(e.mdiContentSave))])],1):e._e(),t(g,{attrs:{icon:"",tile:""},on:{click:e.close}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pa-0 d-flex"},[e.show?t("codemirror-async",{ref:"editor",staticClass:"codemirror",class:{withSidebar:e.existsFileStructure&&e.fileStructureSidebar},attrs:{name:e.filename,"file-extension":e.fileExtension},on:{lineChange:e.lineChanges},model:{value:e.sourcecode,callback:function(r){e.sourcecode=r},expression:"sourcecode"}}):e._e(),e.existsFileStructure&&e.fileStructureSidebar?t("div",{staticClass:"d-none d-md-flex structure-sidebar"},[t(KD,{staticClass:"w-100",attrs:{activatable:"",dense:"",active:e.structureActive,open:e.structureOpen,"item-key":e.treeviewItemKeyProp,items:e.configFileStructure},on:{"update:active":e.activeChanges},scopedSlots:e._u([{key:"label",fn:function(r){var i=r.item;return[t("div",{staticClass:"cursor-pointer _structure-sidebar-item",class:i.type=="item"?"ͼp":"ͼt",on:{click:e.activeChangesItemClick}},[e._v(" "+e._s(i.name)+" ")])]}},e.restartServiceName==="klipper"?{key:"append",fn:function(r){var i=r.item;return[i.type=="section"?t(g,{attrs:{icon:"",small:"",plain:"",color:"grey darken-2",href:e.klipperConfigReference+"#"+i.name.split(" ")[0],target:"_blank"}},[t(_,{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(e.mdiHelpCircle))])],1):e._e()]}}:null],null,!0)})],1):e._e()],1)],1)],1),t(Wi,{attrs:{timeout:-1,fixed:"",right:"",bottom:""},scopedSlots:e._u([{key:"action",fn:function(r){var i=r.attrs;return[t(g,e._b({staticStyle:{"min-width":"auto"},attrs:{color:"red",text:"",tile:""},on:{click:e.cancelDownload}},"v-btn",i,!1),[t(_,{staticClass:"0"},[e._v(e._s(e.mdiClose))])],1)]}}]),model:{value:e.loaderBool,callback:function(r){e.loaderBool=r},expression:"loaderBool"}},[t("div",[e._v(" "+e._s(e.snackbarHeadline)+" "),t("br"),t("strong",[e._v(e._s(e.filename))])]),e.loaderProgress.total>0?[t("span",{staticClass:"mr-1"},[e._v(" ("+e._s(e.formatFilesize(e.loaderProgress.loaded))+"/"+e._s(e.formatFilesize(e.loaderProgress.total))+") ")]),e._v(" "+e._s(Math.round(100*e.loaderProgress.loaded/e.loaderProgress.total))+" % @ "+e._s(e.loaderProgress.speed)+"/s "),t("br"),t(Es,{staticClass:"mt-2",attrs:{value:100*e.loaderProgress.loaded/e.loaderProgress.total}})]:[t(Es,{staticClass:"mt-2",attrs:{indeterminate:""}})]],2),t(oe,{attrs:{persistent:"",width:600},model:{value:e.dialogConfirmChange,callback:function(r){e.dialogConfirmChange=r},expression:"dialogConfirmChange"}},[t(B,{attrs:{"card-class":"editor-confirm-change-dialog",icon:e.mdiHelpCircle,title:e.$t("Editor.UnsavedChanges"),"margin-bottom":!1},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:function(r){e.dialogConfirmChange=!1}}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,{staticClass:"pt-3"},[t(C,[t(v,[t("p",{staticClass:"body-1 mb-2"},[e._v(e._s(e.$t("Editor.UnsavedChangesMessage",{filename:e.filename})))]),t("p",{staticClass:"body-2"},[e._v(e._s(e.$t("Editor.UnsavedChangesSubMessage")))])])],1)],1),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.discardChanges}},[e._v(" "+e._s(e.$t("Editor.DontSave"))+" ")]),t(g,{attrs:{text:"",color:"primary"},on:{click:e.save}},[e._v(" "+e._s(e.$t("Editor.SaveClose"))+" ")]),e.restartServiceNameExists?[t(g,{attrs:{text:"",color:"primary"},on:{click:function(r){return e.save(e.restartServiceName)}}},[e._v(" "+e._s(e.$t("Editor.SaveRestart"))+" ")])]:e._e()],2)],1)],1),t(p1,{attrs:{"show-dialog":e.dialogDevices},on:{close:function(r){e.dialogDevices=!1}}})],1)},gle=[];const E2={};var _le=E(ho,fle,gle,!1,vle,"93d157a0",null,null);function vle(e){for(let s in E2)this[s]=E2[s]}const mT=function(){return _le.exports}();var ble=Object.defineProperty,yle=Object.getOwnPropertyDescriptor,Cle=(e,s,t,r)=>{for(var i=r>1?void 0:r?yle(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ble(s,t,i),i};let Qp=class extends M(O){get boolShowDialogRunning(){return this.status==="running"}get boolShowDialogSuccess(){return this.status==="success"}set boolShowDialogSuccess(e){e||this.$store.dispatch("server/timelapse/resetSnackbar")}get status(){var e;return(e=this.$store.state.server.timelapse.rendering.status)!=null?e:""}get progress(){var e;return(e=this.$store.state.server.timelapse.rendering.progress)!=null?e:""}get filename(){var e;return(e=this.$store.state.server.timelapse.rendering.filename)!=null?e:""}};Qp=Cle([w({components:{}})],Qp);var $le=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t(Wi,{attrs:{timeout:-1,value:!0,fixed:"",right:"",bottom:""},model:{value:e.boolShowDialogRunning,callback:function(r){e.boolShowDialogRunning=r},expression:"boolShowDialogRunning"}},[t("div",[e._v(e._s(e.$t("Timelapse.TimelapseRendering"))+"...")]),e.progress>0?t(Es,{staticClass:"mt-2",attrs:{value:e.progress,indeterminate:""}}):e._e(),e.progress===0?t(Es,{staticClass:"mt-2",attrs:{indeterminate:""}}):e._e()],1),t(Wi,{attrs:{timeout:5e3,value:!0,fixed:"",right:"",bottom:""},model:{value:e.boolShowDialogSuccess,callback:function(r){e.boolShowDialogSuccess=r},expression:"boolShowDialogSuccess"}},[t("div",[e._v(" "+e._s(e.$t("Timelapse.TimelapseRenderingSuccessful"))+" "),t("br"),t("strong",[e._v(e._s(e.filename))])])])],1)},xle=[];const O2={};var Sle=E(Qp,$le,xle,!1,wle,null,null,null);function wle(e){for(let s in O2)this[s]=O2[s]}const pT=function(){return Sle.exports}();var Ple=Object.defineProperty,Tle=Object.getOwnPropertyDescriptor,Dle=(e,s,t,r)=>{for(var i=r>1?void 0:r?Tle(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ple(s,t,i),i};let ef=class extends M(O){constructor(){super(...arguments),this.mdiTrayArrowDown=sE,this.visible=!1}get dropzoneClasses(){return{"fullscreen-upload__dragzone--visible":this.visible}}get currentRoute(){var e;return(e=this.$route.path)!=null?e:""}get currentPathGcodes(){var e;return(e=this.$store.state.gui.view.gcodefiles.currentPath)!=null?e:""}get currentPathConfig(){var e;return(e=this.$store.state.gui.view.configfiles.currentPath)!=null?e:""}mounted(){window.addEventListener("dragenter",this.onDragOverWindow),window.addEventListener("dragover",this.onDragOverWindow),window.addEventListener("dragleave",this.onDragLeaveWindow)}beforeDestroy(){window.removeEventListener("dragenter",this.onDragOverWindow),window.removeEventListener("dragover",this.onDragOverWindow),window.removeEventListener("dragleave",this.onDragLeaveWindow)}showDropZone(){this.visible=!0}hideDropZone(){this.visible=!1}onDragOverWindow(e){var t,r;((r=(t=e.dataTransfer)==null?void 0:t.types)!=null?r:[]).includes("Files")&&(e.preventDefault(),!this.visible&&this.showDropZone())}onDragLeaveWindow(e){e.preventDefault(),this.hideDropZone()}async onDrop(e){var s,t;if(e.preventDefault(),this.hideDropZone(),(t=(s=e.dataTransfer)==null?void 0:s.files)!=null&&t.length){const r=[...e.dataTransfer.files];await this.$store.dispatch("socket/addLoading",{name:"gcodeUpload"}),await this.$store.dispatch("files/uploadSetCurrentNumber",0),await this.$store.dispatch("files/uploadSetMaxNumber",r.length);for(const i of r){const n=i.name.lastIndexOf("."),a=i.name.slice(n),o=Zi.includes(a);let l="";this.currentRoute==="/files"&&o?l=this.currentPathGcodes:this.currentRoute==="/config"&&!o&&(l=this.currentPathConfig);const c=o?"gcodes":"config";await this.$store.dispatch("files/uploadIncrementCurrentNumber");const u=await this.$store.dispatch("files/uploadFile",{file:i,path:l,root:c});u!==!1&&this.$toast.success(this.$t("Files.SuccessfullyUploaded",{filename:u}).toString())}await this.$store.dispatch("socket/removeLoading",{name:"gcodeUpload"})}}};ef=Dle([w],ef);var Mle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"d-flex justify-center flex-column fullscreen-upload__dragzone",class:e.dropzoneClasses,on:{drop:e.onDrop}},[t(_,{staticClass:"fullscreen-upload__icon"},[e._v(e._s(e.mdiTrayArrowDown))]),t("div",{staticClass:"textnode"},[e._v(e._s(e.$t("FullscreenUpload.DropFilesToUploadFiles")))])],1)},Ele=[];const L2={};var Ole=E(ef,Mle,Ele,!1,Lle,null,null,null);function Lle(e){for(let s in L2)this[s]=L2[s]}const fT=function(){return Ole.exports}();var Fle=Object.defineProperty,Ale=Object.getOwnPropertyDescriptor,gT=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ale(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Fle(s,t,i),i};let Cu=class extends M(O){constructor(){super(...arguments),this.mdiClose=go,this.formatFilesize=Qe}get show(){var e;return(e=this.$store.state.files.upload.show)!=null?e:!1}get cancelTokenSource(){return this.$store.state.files.upload.cancelTokenSource}get filename(){var e;return(e=this.$store.state.files.upload.filename)!=null?e:""}get currentNumber(){var e;return(e=this.$store.state.files.upload.currentNumber)!=null?e:0}get maxNumber(){var e;return(e=this.$store.state.files.upload.maxNumber)!=null?e:0}get speed(){var e;return Qe(Math.round((e=this.$store.state.files.upload.speed)!=null?e:0))}get percent(){var e;return Math.round((e=this.$store.state.files.upload.percent)!=null?e:0)}cancelUpload(){var e;(e=this.cancelTokenSource)==null||e.cancel(),this.$store.dispatch("files/uploadSetShow",!1),this.$store.dispatch("socket/removeLoading",{name:"gcodeUpload"}),this.$store.dispatch("socket/removeLoading",{name:"configFileUpload"})}showChanged(e){const s=document.getElementsByTagName("body")[0];e?s.classList.add("fullscreenUpload--active"):s.classList.remove("fullscreenUpload--active")}};gT([ce("show")],Cu.prototype,"showChanged",1);Cu=gT([w({components:{}})],Cu);var kle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.show?t(Wi,{attrs:{timeout:-1,value:!0,fixed:"",right:"",bottom:""},scopedSlots:e._u([{key:"action",fn:function(r){var i=r.attrs;return[t(g,e._b({staticStyle:{"min-width":"auto"},attrs:{color:"red",text:""},on:{click:e.cancelUpload}},"v-btn",i,!1),[t(_,{staticClass:"0"},[e._v(e._s(e.mdiClose))])],1)]}}],null,!1,2940317734)},[e.maxNumber>1?t("span",{staticClass:"mr-1"},[e._v("("+e._s(e.currentNumber)+"/"+e._s(e.maxNumber)+")")]):e._e(),t("strong",[e._v(e._s(e.$t("Editor.Uploading")+" "+e.filename))]),t("br"),e._v(" "+e._s(e.percent)+" % @ "+e._s(e.speed)+"/s "),t("br"),t(Es,{staticClass:"mt-2",attrs:{value:e.percent}})],1):e._e()},Rle=[];const F2={};var Hle=E(Cu,kle,Rle,!1,jle,null,null,null);function jle(e){for(let s in F2)this[s]=F2[s]}const _T=function(){return Hle.exports}();var Ile=Object.defineProperty,Nle=Object.getOwnPropertyDescriptor,Vle=(e,s,t,r)=>{for(var i=r>1?void 0:r?Nle(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ile(s,t,i),i};let tf=class extends M(O){constructor(){super(...arguments),this.mdiArrowCollapseDown=Nu,this.mdiArrowExpandUp=DC,this.mdiInformation=It,this.mdiPlusThick=H5,this.mdiMinusThick=M5,this.mdiChevronTripleLeft=WM,this.mdiChevronTripleRight=zM,this.mdiCloseThick=pe}get showDialog(){var e,s;return this.boolManualProbeDialog&&(s=(e=this.$store.state.printer.manual_probe)==null?void 0:e.is_active)!=null?s:!1}get boolManualProbeDialog(){var e;return(e=this.$store.state.gui.uiSettings.boolManualProbeDialog)!=null?e:!0}get offsetsZ(){return[1,.1,.05,.01,.005].sort()}get z_position(){var e,s;return((s=(e=this.$store.state.printer.manual_probe)==null?void 0:e.z_position)!=null?s:0).toFixed(3)}get z_position_lower(){var s,t;const e=(t=(s=this.$store.state.printer.manual_probe)==null?void 0:s.z_position_lower)!=null?t:null;return e===null?"??????":e.toFixed(3)}get z_position_upper(){var s,t;const e=(t=(s=this.$store.state.printer.manual_probe)==null?void 0:s.z_position_upper)!=null?t:null;return e===null?"??????":e.toFixed(3)}get loadingAbort(){return this.loadings.includes("manualProbeAbort")}get loadingAccept(){return this.loadings.includes("manualProbeAccept")}sendTestZ(e){const s="TESTZ Z=".concat(e);this.$store.dispatch("server/addEvent",{message:s,type:"command"}),this.$socket.emit("printer.gcode.script",{script:s})}sendAbort(){const e="ABORT";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"manualProbeAbort"})}sendAccept(){const e="ACCEPT";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"manualProbeAccept"})}};tf=Vle([w({components:{Panel:B,Responsive:st}})],tf);var Ule=Object.defineProperty,Ble=Object.getOwnPropertyDescriptor,zo=(e,s,t,r)=>{for(var i=r>1?void 0:r?Ble(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Ule(s,t,i),i};let vi=class extends M(O){get expand(){return this.$store.getters["gui/getPanelExpand"](this.subPanelClass,this.viewport)}set expand(e){this.$store.dispatch("gui/saveExpandPanel",{name:this.subPanelClass,value:e,viewport:this.viewport})}};zo([x({required:!1,default:Or})],vi.prototype,"iconExpanded",2);zo([x({required:!1,default:Or})],vi.prototype,"iconCollapsed",2);zo([x({required:!0,default:""})],vi.prototype,"title",2);zo([x({required:!0})],vi.prototype,"subPanelClass",2);vi=zo([w],vi);var Gle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"px-3 d-flex align-center"},[t(g,{staticClass:"px-0 btn-collapsible",attrs:{plain:"",small:"",ripple:!1},on:{click:function(r){e.expand=!e.expand}}},[t(_,{class:e.expand?"":"icon-rotate-n90",attrs:{small:""}},[e._v(" "+e._s(e.expand?e.iconExpanded:e.iconCollapsed)+" ")]),t("span",{staticClass:"pl-1"},[e._v(e._s(e.title))])],1),t(H,{staticClass:"ml-3"})],1),t(ku,[t("div",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"expand"}]},[e._t("default")],2)])],1)},Wle=[];const A2={};var zle=E(vi,Gle,Wle,!1,qle,"28d7b868",null,null);function qle(e){for(let s in A2)this[s]=A2[s]}const Zle=function(){return zle.exports}();var Yle=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:"",fullscreen:e.isMobile}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{title:e.$t("ManualProbe.Headline").toString(),icon:e.mdiArrowCollapseDown,"card-class":"manual_probe-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.sendAbort}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Pe,[t(C,[t(v,{staticClass:"d-flex align-center justify-center"},[t("span",{staticClass:"text-h5"},[e._v(e._s(e.z_position_lower))]),t(_,{staticClass:"mx-2"},[e._v(e._s(e.mdiChevronTripleRight))]),t("span",{staticClass:"text-h4"},[e._v(e._s(e.z_position))]),t(_,{staticClass:"mx-2"},[e._v(e._s(e.mdiChevronTripleLeft))]),t("span",{staticClass:"text-h5"},[e._v(e._s(e.z_position_upper))])],1)],1),t(C,[t(v,{staticClass:"text-left"},[t(g,{attrs:{color:"primary"},on:{click:function(r){return e.sendTestZ("--")}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMinusThick))]),t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMinusThick))])],1)],1),t(v,{staticClass:"text-left"},[t(g,{attrs:{color:"primary"},on:{click:function(r){return e.sendTestZ("-")}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiMinusThick))])],1)],1),t(v,{staticClass:"text-right"},[t(g,{attrs:{color:"primary"},on:{click:function(r){return e.sendTestZ("+")}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiPlusThick))])],1)],1),t(v,{staticClass:"text-right"},[t(g,{attrs:{color:"primary"},on:{click:function(r){return e.sendTestZ("++")}}},[t(_,{attrs:{small:""}},[e._v(e._s(e.mdiPlusThick))]),t(_,{attrs:{small:""}},[e._v(e._s(e.mdiPlusThick))])],1)],1)],1)],1),t(Zle,{staticClass:"mb-n2",attrs:{title:e.$t("ManualProbe.Advanced"),"sub-panel-class":"manual-probe-dialog-advanced"}},[t(Pe,[t(qt,{staticClass:"_btn-group"},e._l(e.offsetsZ,function(r,i){return t(g,{key:"offsetsUp-".concat(i),staticClass:"_btn-qs flex-grow-1 px-1",attrs:{small:""},on:{click:function(n){e.sendTestZ(r.toString())}}},[i===0?t(_,{staticClass:"mr-1 ml-n1",attrs:{left:"",small:""}},[e._v(" "+e._s(e.mdiArrowExpandUp)+" ")]):e._e(),t("span",[e._v("+"+e._s(r))])],1)}),1),t(qt,{staticClass:"_btn-group mt-6 mt-sm-3"},e._l(e.offsetsZ,function(r,i){return t(g,{key:"offsetsDown-".concat(i),staticClass:"_btn-qs flex-grow-1 px-1",attrs:{small:""},on:{click:function(n){e.sendTestZ((r*-1).toString())}}},[i===0?t(_,{staticClass:"mr-1 ml-n1",attrs:{left:"",small:""}},[e._v(" "+e._s(e.mdiArrowCollapseDown)+" ")]):e._e(),t("span",[e._v("−"+e._s(r))])],1)}),1)],1)],1),t(ae,[t(ie),t(g,{attrs:{text:"",loading:e.loadingAbort},on:{click:e.sendAbort}},[e._v(" "+e._s(e.$t("ManualProbe.Abort"))+" ")]),t(g,{attrs:{color:"primary",text:"",loading:e.loadingAccept},on:{click:e.sendAccept}},[e._v(" "+e._s(e.$t("ManualProbe.Accept"))+" ")])],1)],1)],1)},Xle=[];const k2={};var Jle=E(tf,Yle,Xle,!1,Kle,"01252f2e",null,null);function Kle(e){for(let s in k2)this[s]=k2[s]}const vT=function(){return Jle.exports}();var Qle=Object.defineProperty,ece=Object.getOwnPropertyDescriptor,tce=(e,s,t,r)=>{for(var i=r>1?void 0:r?ece(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Qle(s,t,i),i};let sf=class extends M(O,Xe){constructor(){super(...arguments),this.mdiArrowCollapseDown=Nu,this.mdiInformation=It,this.mdiCloseThick=pe}get showDialog(){var s,t;return this.boolBedScrewsDialog?((t=(s=this.$store.state.printer.bed_screws)==null?void 0:s.is_active)!=null?t:!1)&&this.homedAxes.includes("xyz"):!1}get boolBedScrewsDialog(){var e;return(e=this.$store.state.gui.uiSettings.boolBedScrewsDialog)!=null?e:!0}get config(){var e,s,t;return(t=(s=(e=this.$store.state.printer.configfile)==null?void 0:e.settings)==null?void 0:s.bed_screws)!=null?t:{}}get bed_screws_state(){var e;return(e=this.$store.state.printer.bed_screws)==null?void 0:e.state}get current_screw(){var e;return(e=this.$store.state.printer.bed_screws)==null?void 0:e.current_screw}get accepted_screws(){var e;return(e=this.$store.state.printer.bed_screws)==null?void 0:e.accepted_screws}get loadingAbort(){return this.loadings.includes("bedScrewsAbort")}get loadingAccept(){return this.loadings.includes("bedScrewsAccept")}get loadingAdjusted(){return this.loadings.includes("bedScrewsAdjusted")}get screwNames(){const s=Object.keys(this.config).filter(r=>r.startsWith("screw")&&r.endsWith("_name")),t=[];return s==null||s.forEach(r=>{var a;const i=r.indexOf("_"),n=parseInt(r.slice(5,i));t[n-1]=(a=this.config["screw".concat(n,"_name")])!=null?a:""}),t}get countScrews(){return this.screwNames.length}get currentScrewName(){var e;return(e=this.screwNames[this.current_screw])!=null?e:"UNKNOWN"}get currentScrewOutput(){return this.$t("BedScrews.ScrewOutput",{current:this.current_screw,max:this.countScrews})}get acceptedScrewOutput(){return this.$t("BedScrews.ScrewOutput",{current:this.accepted_screws,max:this.countScrews})}sendAbort(){const e="ABORT";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"manualProbeAbort"})}sendAccept(){const e="ACCEPT";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"manualProbeAccept"})}sendAdjusted(){const e="ADJUSTED";this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e},{loading:"manualProbeAccept"})}};sf=tce([w({components:{Panel:B,Responsive:st}})],sf);var sce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:"",fullscreen:e.isMobile}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{title:e.$t("BedScrews.Headline").toString(),icon:e.mdiArrowCollapseDown,"card-class":"manual_probe-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.sendAbort}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[t(C,[t(v,[t(re,{attrs:{label:e.$t("BedScrews.ScrewName"),outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.currentScrewName,callback:function(r){e.currentScrewName=r},expression:"currentScrewName"}})],1)],1),t(C,[t(v,{attrs:{cols:"6"}},[t(re,{attrs:{label:e.$t("BedScrews.ScrewIndex"),outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.currentScrewOutput,callback:function(r){e.currentScrewOutput=r},expression:"currentScrewOutput"}})],1),t(v,{attrs:{cols:"6"}},[t(re,{attrs:{label:e.$t("BedScrews.ScrewAccepted"),outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.acceptedScrewOutput,callback:function(r){e.acceptedScrewOutput=r},expression:"acceptedScrewOutput"}})],1)],1),t(C,[t(v,[t("p",{staticClass:"text-center mb-0",domProps:{innerHTML:e._s(e.$t("BedScrews.Description"))}})])],1)],1),t(ae,[t(ie),t(g,{attrs:{text:"",loading:e.loadingAbort},on:{click:e.sendAbort}},[e._v(" "+e._s(e.$t("BedScrews.Abort"))+" ")]),t(g,{attrs:{color:"primary",text:"",loading:e.loadingAdjusted},on:{click:e.sendAdjusted}},[e._v(" "+e._s(e.$t("BedScrews.Adjusted"))+" ")]),t(g,{attrs:{color:"primary",text:"",loading:e.loadingAccept},on:{click:e.sendAccept}},[e._v(" "+e._s(e.$t("BedScrews.Accept"))+" ")])],1)],1)],1)},rce=[];const R2={};var ice=E(sf,sce,rce,!1,nce,null,null,null);function nce(e){for(let s in R2)this[s]=R2[s]}const bT=function(){return ice.exports}();var ace=Object.defineProperty,oce=Object.getOwnPropertyDescriptor,M1=(e,s,t,r)=>{for(var i=r>1?void 0:r?oce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&ace(s,t,i),i};let mo=class extends M(O,Xe){constructor(){super(...arguments),this.mdiRotateLeft=z5,this.mdiCloseThick=pe,this.mdiRotateRight=q5}get settings(){var e,s,t;return(t=(s=(e=this.$store.state.printer.configfile)==null?void 0:e.settings)==null?void 0:s.screws_tilt_adjust)!=null?t:{}}get outputName(){var e;return(e=this.settings[this.name+"_name"])!=null?e:"Unknown"}get coordinates(){var e;return(e=this.settings[this.name])!=null?e:[0,0]}get x(){var e;return(e=this.coordinates[0])!=null?e:0}get y(){var e;return(e=this.coordinates[1])!=null?e:0}get z(){return this.result.z.toFixed(3)}get subTitle(){return"(X: ".concat(this.x,", Y: ").concat(this.y,", Z: ").concat(this.z,")")}get sign(){var e;return(e=this.result.sign)!=null?e:""}get adjust(){var e;return(e=this.result.adjust)!=null?e:"00:00"}get is_base(){var e;return(e=this.result.is_base)!=null?e:!1}};M1([x({required:!0})],mo.prototype,"name",2);M1([x({required:!0})],mo.prototype,"result",2);mo=M1([w({components:{Panel:B,Responsive:st,SettingsRow:U}})],mo);var lce=function(){var e,s=this,t=s.$createElement,r=s._self._c||t;return r(U,{attrs:{title:s.outputName,"sub-title":s.subTitle}},[(e=s.is_base)!==null&&e!==void 0&&e?r(fs,{attrs:{label:"",small:""}},[s._v(s._s(s.$t("ScrewsTiltAdjust.Base")))]):r(fs,{attrs:{label:"",small:""}},[s.sign==="CCW"?r(_,{attrs:{small:"",left:""}},[s._v(s._s(s.mdiRotateLeft))]):s._e(),s.sign==="CW"?r(_,{attrs:{small:"",left:""}},[s._v(s._s(s.mdiRotateRight))]):s._e(),s._v(" "+s._s(s.adjust)+" ")],1)],1)},cce=[];const H2={};var uce=E(mo,lce,cce,!1,dce,null,null,null);function dce(e){for(let s in H2)this[s]=H2[s]}const yT=function(){return uce.exports}();var hce=Object.defineProperty,mce=Object.getOwnPropertyDescriptor,pce=(e,s,t,r)=>{for(var i=r>1?void 0:r?mce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&hce(s,t,i),i};let rf=class extends M(O,Xe){constructor(){super(...arguments),this.mdiArrowCollapseDown=Nu,this.mdiCloseThick=pe}get state(){var e;return(e=this.$store.state.printer.screws_tilt_adjust)!=null?e:{}}get error(){var e,s;return(s=(e=this.$store.state.printer.screws_tilt_adjust)==null?void 0:e.error)!=null?s:!1}get max_deviation(){var e,s;return(s=(e=this.$store.state.printer.screws_tilt_adjust)==null?void 0:e.max_deviation)!=null?s:null}get results(){var e,s;return(s=(e=this.$store.state.printer.screws_tilt_adjust)==null?void 0:e.results)!=null?s:{}}get showDialog(){return!this.boolScrewsTiltAdjustDialog||this.max_deviation!==null?!1:this.error||Object.keys(this.results).length}get boolScrewsTiltAdjustDialog(){var e;return(e=this.$store.state.gui.uiSettings.boolScrewsTiltAdjustDialog)!=null?e:!0}clearScrewsTiltAdjust(){this.$store.dispatch("printer/clearScrewsTiltAdjust")}async retryScrewsTiltAdjust(){var t,r;const s=[...(t=this.$store.state.server.events)!=null?t:[]].reverse().find(i=>i.type==="command"&&i.message.startsWith("SCREWS_TILT_CALCULATE"));await this.$store.dispatch("printer/clearScrewsTiltAdjust"),this.doSend((r=s==null?void 0:s.message)!=null?r:"SCREWS_TILT_CALCULATE")}};rf=pce([w({components:{TheScrewsTiltAdjustDialogEntry:yT,Panel:B,Responsive:st,SettingsRow:U}})],rf);var fce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:"",fullscreen:e.isMobile}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{title:e.$t("ScrewsTiltAdjust.Headline"),icon:e.mdiArrowCollapseDown,"card-class":"manual_probe-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.clearScrewsTiltAdjust}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[e.error?t(Z,[t(C,[t(v,[t(et,{attrs:{border:"left",text:"",type:"error"}},[e._v(e._s(e.$t("ScrewsTiltAdjust.ErrorText")))])],1)],1)],1):e._e(),Object.keys(e.results).length?t(Z,[e._l(e.results,function(r,i,n){return[n?t(H,{key:"result-divider-".concat(i),staticClass:"my-1"}):e._e(),t(yT,{key:"result-".concat(i,"-").concat(i),attrs:{name:i.toString(),result:r}})]})],2):e._e(),t(ae,[t(ie),t(g,{attrs:{text:""},on:{click:e.retryScrewsTiltAdjust}},[e._v(" "+e._s(e.$t("ScrewsTiltAdjust.Retry"))+" ")]),t(g,{attrs:{color:"primary",text:""},on:{click:e.clearScrewsTiltAdjust}},[e._v(" "+e._s(e.$t("ScrewsTiltAdjust.Accept"))+" ")])],1)],1)],1)},gce=[];const j2={};var _ce=E(rf,fce,gce,!1,vce,null,null,null);function vce(e){for(let s in j2)this[s]=j2[s]}const CT=function(){return _ce.exports}();var bce=Object.defineProperty,yce=Object.getOwnPropertyDescriptor,$T=(e,s,t,r)=>{for(var i=r>1?void 0:r?yce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&bce(s,t,i),i};let $u=class extends M(O){get splits(){return this.event.message.split("|")}get text(){return this.splits[0]}get command(){var e;return(e=this.splits[1])!=null?e:this.text}get color(){var e;return(e=this.splits[2])!=null?e:""}clickButton(){this.$store.dispatch("server/addEvent",{message:this.command,type:"command"}),this.$socket.emit("printer.gcode.script",{script:this.command})}};$T([x({type:Object,required:!0})],$u.prototype,"event",2);$u=$T([w({})],$u);var Cce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(g,{attrs:{color:e.color,text:""},on:{click:e.clickButton}},[e._v(" "+e._s(e.text)+" ")])},$ce=[];const I2={};var xce=E($u,Cce,$ce,!1,Sce,null,null,null);function Sce(e){for(let s in I2)this[s]=I2[s]}const xT=function(){return xce.exports}();var wce=Object.defineProperty,Pce=Object.getOwnPropertyDescriptor,ST=(e,s,t,r)=>{for(var i=r>1?void 0:r?Pce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&wce(s,t,i),i};let xu=class extends M(O){get text(){return this.event.message}};ST([x({type:Object,required:!0})],xu.prototype,"event",2);xu=ST([w({})],xu);var Tce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,[t("p",{staticClass:"mb-0"},[e._v(e._s(e.text))])])],1)},Dce=[];const N2={};var Mce=E(xu,Tce,Dce,!1,Ece,null,null,null);function Ece(e){for(let s in N2)this[s]=N2[s]}const wT=function(){return Mce.exports}();var Oce=Object.defineProperty,Lce=Object.getOwnPropertyDescriptor,PT=(e,s,t,r)=>{for(var i=r>1?void 0:r?Lce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Oce(s,t,i),i};let Su=class extends M(O){get splits(){return this.event.message.split("|")}get text(){return this.splits[0]}get command(){var s;return(s=this.splits[1])!=null?s:this.text}get color(){var s;return(s=this.splits[2])!=null?s:""}sendCommand(){this.$store.dispatch("server/addEvent",{message:this.command,type:"command"}),this.$socket.emit("printer.gcode.script",{script:this.command})}};PT([x({type:Object,required:!0})],Su.prototype,"event",2);Su=PT([w({})],Su);var Fce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(g,{staticClass:"mx-2",attrs:{color:e.color},on:{click:e.sendCommand}},[e._v(e._s(e.text))])},Ace=[];const V2={};var kce=E(Su,Fce,Ace,!1,Rce,null,null,null);function Rce(e){for(let s in V2)this[s]=V2[s]}const TT=function(){return kce.exports}();var Hce=Object.defineProperty,jce=Object.getOwnPropertyDescriptor,E1=(e,s,t,r)=>{for(var i=r>1?void 0:r?jce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Hce(s,t,i),i};let po=class extends M(O){};E1([x({type:Array,required:!0})],po.prototype,"children",2);E1([x({type:Number,required:!0})],po.prototype,"groupIndex",2);po=E1([w({})],po);var Ice=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(C,[t(v,{staticClass:"text-center"},e._l(e.children,function(r,i){return t(TT,{key:"prompt_"+e.groupIndex+"_"+i,attrs:{event:r}})}),1)],1)},Nce=[];const U2={};var Vce=E(po,Ice,Nce,!1,Uce,null,null,null);function Uce(e){for(let s in U2)this[s]=U2[s]}const nf=function(){return Vce.exports}();var Bce=Object.defineProperty,Gce=Object.getOwnPropertyDescriptor,Wce=(e,s,t,r)=>{for(var i=r>1?void 0:r?Gce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Bce(s,t,i),i};let af=class extends M(O){constructor(){super(...arguments),this.mdiInformation=It,this.mdiCloseThick=pe,this.internalCloseCommand=null,this.checkpointEvent=null,this.currentPrompt=[],this.promptMessageExp=/^\/\/ action:prompt_(?<type>[^\s]+) *(?<msg>.*)$/}get events(){return this.$store.state.server.events}get macroPromptEvents(){var t,r,i,n;const e=this.events,s=[];for(let a=e.length-1;a>=0;a--){const o=e[a];if(o===this.checkpointEvent)break;if(o.type!=="action"||!((t=o.message)!=null&&t.startsWith("// action:prompt_")))continue;const l=o.message.match(this.promptMessageExp),c=(i=(r=l==null?void 0:l.groups)==null?void 0:r.type)!=null?i:"";if(c==="end"){this.currentPrompt=[];break}const u=(((n=l==null?void 0:l.groups)==null?void 0:n.msg)||"").trim();if(s.unshift({date:o.date,type:c,message:u}),c==="begin"){this.currentPrompt=[];break}}return this.checkpointEvent=e[e.length-1],s.length>0&&(this.currentPrompt=[...this.currentPrompt,...s]),this.currentPrompt}get lastPromptBeginPos(){return this.lastPromptShowPos===-1?-1:this.macroPromptEvents.findLastIndex(e=>e.type==="begin",this.lastPromptShowPos)}get lastPromptShowPos(){return this.macroPromptEvents.findLastIndex(e=>e.type==="show")}get lastPromptClosePos(){return this.macroPromptEvents.findLastIndex(e=>e.type==="end")}get showDialog(){var s,t,r;if(this.lastPromptBeginPos===-1)return!1;const e=(s=this.macroPromptEvents[this.lastPromptBeginPos])!=null?s:null;return this.internalCloseCommand!==null&&this.internalCloseCommand==((r=(t=e==null?void 0:e.date)==null?void 0:t.getTime())!=null?r:null)?!1:this.lastPromptBeginPos>this.lastPromptClosePos&&this.activePromptContent.length>0}get activePrompt(){return this.lastPromptShowPos===-1?[]:this.macroPromptEvents.slice(this.lastPromptBeginPos,this.lastPromptShowPos)}get activePromptContent(){const e=["button","text","button_group_start","button_group_end"],s=this.activePrompt.filter(t=>e.includes(t.type));for(;s.findIndex(t=>t.type==="button_group_start")!==-1&&s.findIndex(t=>t.type==="button_group_end")!==-1;){const t=s.findIndex(n=>n.type==="button_group_start"),r=s.findIndex(n=>n.type==="button_group_end"),i=s.slice(t+1,r);s[t]={date:i[0].date,type:"button_group",message:"",children:i.filter(n=>n.type==="button")},s.splice(t+1,i.length+1)}return s}get headline(){var e,s;return!this.showDialog||this.lastPromptBeginPos===-1?"":(s=(e=this.macroPromptEvents[this.lastPromptBeginPos])==null?void 0:e.message)!=null?s:""}get footerButtons(){return!this.showDialog||this.lastPromptBeginPos===-1?[]:this.activePrompt.filter(e=>e.type==="footer_button")}closePrompt(){var s,t,r;this.internalCloseCommand=(r=(t=(s=this.macroPromptEvents[this.lastPromptBeginPos])==null?void 0:s.date)==null?void 0:t.getTime())!=null?r:null;const e='RESPOND type="command" msg="action:prompt_end"';this.$store.dispatch("server/addEvent",{message:e,type:"command"}),this.$socket.emit("printer.gcode.script",{script:e})}};af=Wce([w({components:{MacroPromptButtonGroup:nf,MacroPromptButton:TT,MacroPromptText:wT,MacroPromptFooterButton:xT,Panel:B}})],af);var zce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{attrs:{value:e.showDialog,width:"400",persistent:"",fullscreen:e.isMobile}},[t(B,{staticStyle:{overflow:"hidden"},attrs:{title:e.headline,icon:e.mdiInformation,"card-class":"macro_prompt-dialog","margin-bottom":!1,height:e.isMobile?0:548},scopedSlots:e._u([{key:"buttons",fn:function(){return[t(g,{attrs:{icon:"",tile:""},on:{click:e.closePrompt}},[t(_,[e._v(e._s(e.mdiCloseThick))])],1)]},proxy:!0}])},[t(Z,[e._l(e.activePromptContent,function(r,i){var n;return[r.type==="text"?t(wT,{key:"prompt_"+i,attrs:{event:r}}):e._e(),r.type==="button_group"?t(nf,{key:"prompt_"+i,attrs:{"group-index":i,children:(n=r.children)!==null&&n!==void 0?n:[]}}):e._e(),r.type==="button"?t(nf,{key:"prompt_"+i,attrs:{"group-index":i,children:[r]}}):e._e()]})],2),e.footerButtons.length?t(ae,[t(ie),e._l(e.footerButtons,function(r,i){return t(xT,{key:"prompt_footer_"+i,attrs:{event:r}})})],2):e._e()],1)],1)},qce=[];const B2={};var Zce=E(af,zce,qce,!1,Yce,null,null,null);function Yce(e){for(let s in B2)this[s]=B2[s]}const DT=function(){return Zce.exports}();var Xce=Object.defineProperty,Jce=Object.getOwnPropertyDescriptor,as=(e,s,t,r)=>{for(var i=r>1?void 0:r?Jce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Xce(s,t,i),i};w.registerHooks(["metaInfo"]);let jt=class extends M(O,yt){metaInfo(){let s=this.$store.getters.getTitle;return this.isPrinterPowerOff&&(s=this.$t("App.Titles.PrinterOff")),{title:s,titleTemplate:"%s"}}get title(){return this.$store.getters.getTitle}get naviDrawer(){return this.$store.state.naviDrawer}get navigationStyle(){return this.$store.state.gui.uiSettings.navigationStyle}get mainStyle(){let s={paddingLeft:"0"};return this.mainBgImage!==null&&(s.backgroundImage="url("+this.mainBgImage+")"),this.naviDrawer&&!this.$vuetify.breakpoint.mdAndDown&&(this.navigationStyle==="iconsAndText"&&(s.paddingLeft="220px"),this.navigationStyle==="iconsOnly"&&(s.paddingLeft="56px")),s}get customStylesheet(){return this.$store.getters["files/getCustomStylesheet"]}get customFavicons(){var s;return(s=this.$store.getters["files/getCustomFavicons"])!=null?s:null}get language(){return this.$store.state.gui.general.language}get current_file(){var s,t;return(t=(s=this.$store.state.printer.print_stats)==null?void 0:s.filename)!=null?t:""}get mode(){return this.$store.state.gui.uiSettings.mode}get logoColor(){return this.$store.state.gui.uiSettings.logo}get primaryColor(){return this.$store.state.gui.uiSettings.primary}get warningColor(){var s,t,r,i,n;return(n=(i=(r=(t=(s=this.$vuetify)==null?void 0:s.theme)==null?void 0:t.currentTheme)==null?void 0:r.warning)==null?void 0:i.toString())!=null?n:"#ff8300"}get primaryTextColor(){let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.primaryColor);if(s){const t=parseInt(s[1],16)*.2126,r=parseInt(s[2],16)*.7152,i=parseInt(s[3],16)*.0722;return(t+r+i)/255>.7?"#222":"#fff"}return"#ffffff"}get cssVars(){return{"--v-btn-text-primary":this.primaryTextColor,"--color-logo":this.logoColor,"--color-primary":this.primaryColor,"--color-warning":this.warningColor,"--panel-toolbar-icon-btn-width":Kh+"px","--panel-toolbar-text-btn-height":Kh+"px","--topbar-icon-btn-width":ca+"px","--sidebar-menu-item-height":gM+"px"}}get print_percent(){return Math.floor(this.$store.getters["printer/getPrintPercent"]*100)}get containerClasses(){var t,r;const s=(t=this.$router.options.routes)==null?void 0:t.find(i=>i.name===this.$route.name);return{"px-3":!0,"px-sm-6":!0,"py-sm-6":!0,"mx-auto":!0,fullscreen:(r=s==null?void 0:s.fullscreen)!=null?r:!1}}get progressAsFavicon(){return this.$store.state.gui.uiSettings.progressAsFavicon}async languageChanged(s){await XS(s)}customStylesheetChanged(s){const t=document.getElementById("customStylesheet");if(s!==null&&t===null){const r=document.createElement("link");r.id="customStylesheet",r.type="text/css",r.rel="stylesheet",r.href=s,document.head.appendChild(r)}else s!==null&&t?t.setAttribute("href",s):t&&t.remove()}current_fileChanged(s){s!==""&&this.$socket.emit("server.files.metadata",{filename:s},{action:"files/getMetadataCurrentFile"})}primaryColorChanged(s){this.$nextTick(()=>{this.$vuetify.theme.currentTheme.primary=s})}modeChanged(s){const t=s!=="light";this.$vuetify.theme.dark=t;const r=document.documentElement;r.className=t?"theme--dark":"theme--light"}async drawFavicon(s){var n,a,o;const t=document.querySelector("link[rel*='icon'][sizes='16x16']"),r=document.querySelector("link[rel*='icon'][sizes='32x32']");if(!t||!r)return;if(this.progressAsFavicon&&this.printerIsPrinting){let l=64,c=document.createElement("canvas");c.width=l,c.height=l;const u=c.getContext("2d"),d=c.width/2,h=c.height/2,m=32;if(!u)return;u.beginPath(),u.moveTo(d,h),u.arc(d,h,m,0,2*Math.PI,!1),u.closePath(),u.fillStyle="#ddd",u.fill(),u.strokeStyle="rgba(200, 208, 218, 0.66)",u.stroke();let p=1.5*Math.PI,f=0,b=(Math.PI-.5*Math.PI)/25;(s>=0&&s<=25||s>25&&s<=50||s>50&&s<=75||s>75&&s<=100)&&(f=p+s*b),u.beginPath(),u.moveTo(d,h),u.arc(d,h,m,p,f,!1),u.closePath(),u.fillStyle=this.logoColor,u.fill(),t.href=c.toDataURL("image/png"),r.href=c.toDataURL("image/png");return}if(this.customFavicons){const[l,c]=this.customFavicons;t.href=l,r.href=c;return}if((o=(a=(n=this.theme)==null?void 0:n.logo)==null?void 0:a.show)!=null&&o&&this.sidebarLogo.endsWith(".svg")){const l=await fetch(this.sidebarLogo);if(!l.ok)return;const u=(await l.text()).replace(/fill="var\(--color-logo, #[0-9a-fA-F]{6}\)"/g,'fill="'.concat(this.logoColor,'"')),d=new Blob([u],{type:"image/svg+xml"}),h=new FileReader;h.onloadend=()=>{const m=h.result;t.href=m,r.href=m},h.readAsDataURL(d);return}const i="data:image/svg+xml;base64,"+window.btoa('\n            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 599.38 523.11" xml:space="preserve">\n                <g>\n                    <path style="fill:'.concat(this.logoColor,';" d="M382.29,142.98L132.98,522.82L0,522.68L344.3,0l0,0C352.18,49.06,365.2,97.68,382.29,142.98"/>\n                    <path style="fill:').concat(this.logoColor,';" d="M413.28,213.54L208.5,522.92l132.94,0.19l135.03-206.33l0,0C452.69,284.29,431.53,249.77,413.28,213.54 L413.28,213.54"/>\n                    <path style="fill:').concat(this.logoColor,';" d="M599.38,447.69l-49.25,75.42L417,522.82l101.6-153.67l0,0C543.48,397.35,570.49,423.61,599.38,447.69 L599.38,447.69z"/>\n                </g>\n            </svg>\n        '));t.href=i,r.href=i}customFaviconsChanged(){this.drawFavicon(this.print_percent)}progressAsFaviconChanged(){this.drawFavicon(this.print_percent)}logoColorChanged(){this.drawFavicon(this.print_percent)}themeCssChanged(s){const t=document.getElementById("theme-css");t&&t.remove(),s!==null&&fetch(s).then(r=>r.text()).then(r=>{const i=document.createElement("style");i.id="theme-css",i.innerHTML=r,document.head.appendChild(i)})}print_percentChanged(s){this.drawFavicon(s),this.refreshSpoolman()}printerIsPrintingChanged(){this.drawFavicon(this.print_percent)}refreshSpoolman(){this.moonrakerComponents.includes("spoolman")&&this.$store.dispatch("server/spoolman/refreshActiveSpool",null,{root:!0})}appHeight(){this.$nextTick(()=>{document.documentElement.style.setProperty("--app-height",window.innerHeight+"px")})}mounted(){this.drawFavicon(this.print_percent),this.appHeight(),window.addEventListener("resize",this.appHeight),window.addEventListener("orientationchange",this.appHeight)}};as([ce("language")],jt.prototype,"languageChanged",1);as([ce("customStylesheet")],jt.prototype,"customStylesheetChanged",1);as([ce("current_file")],jt.prototype,"current_fileChanged",1);as([ce("primaryColor")],jt.prototype,"primaryColorChanged",1);as([ce("mode")],jt.prototype,"modeChanged",1);as([ce("customFavicons")],jt.prototype,"customFaviconsChanged",1);as([ce("progressAsFavicon")],jt.prototype,"progressAsFaviconChanged",1);as([ce("logoColor")],jt.prototype,"logoColorChanged",1);as([ce("themeCss")],jt.prototype,"themeCssChanged",1);as([ce("print_percent")],jt.prototype,"print_percentChanged",1);as([ce("printerIsPrinting")],jt.prototype,"printerIsPrintingChanged",1);jt=as([w({components:{TheMacroPrompt:DT,TheTimelapseRenderingSnackbar:pT,TheEditor:mT,TheSelectPrinterDialog:Xf,TheConnectingDialog:hT,TheUpdateDialog:dT,TheTopbar:cT,TheSidebar:fP,TheFullscreenUpload:fT,TheUploadSnackbar:_T,TheManualProbeDialog:vT,TheBedScrewsDialog:bT,TheScrewsTiltAdjustDialog:CT}})],jt);var Kce=Object.defineProperty,Qce=Object.getOwnPropertyDescriptor,eue=(e,s,t,r)=>{for(var i=r>1?void 0:r?Qce(s,t):s,n=e.length-1,a;n>=0;n--)(a=e[n])&&(i=(r?a(s,t,i):a(i))||i);return r&&i&&Kce(s,t,i),i};let of=class extends M(O){constructor(){super(...arguments),this.showDialog=!1,this.updateSW=null}onOfflineReady(){window.console.info("PWA is offline ready")}onNeedRefresh(){window.console.warn("PWA needs to refresh"),this.showDialog=!0}onRegistered(){window.console.debug("PWA is registered")}onRegisterError(e){window.console.error("PWA registration error:",e)}update(){var e;(e=this.updateSW)==null||e.call(this,!0),this.showDialog=!1}async mounted(){const{registerSW:e}=await ge(()=>import("./virtual_pwa-register-aaf58dbe.js"),["assets/virtual_pwa-register-aaf58dbe.js","assets/vuetify-d556346d.js","assets/vuetify-950d1cb0.css","assets/overlayscrollbars-44d87bcf.js","assets/overlayscrollbars-a16bc3d3.css","assets/echarts-ff51454d.js"]);this.updateSW=e({immediate:!0,onOfflineReady:this.onOfflineReady,onNeedRefresh:this.onNeedRefresh,onRegistered:this.onRegistered,onRegisterError:this.onRegisterError})}};of=eue([w],of);var tue=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(oe,{staticClass:"mx-0",attrs:{persistent:"","max-width":"400"},model:{value:e.showDialog,callback:function(r){e.showDialog=r},expression:"showDialog"}},[t(B,{attrs:{title:e.$t("App.TheServiceWorker.TitleNeedUpdate"),"card-class":"service-worker-dialog","margin-bottom":!1}},[t(Z,[t("p",[e._v(e._s(e.$t("App.TheServiceWorker.DescriptionNeedUpdate")))])]),t(ae,[t(ie),t(g,{attrs:{text:"",color:"primary"},on:{click:e.update}},[e._v(e._s(e.$t("App.TheServiceWorker.Update")))])],1)],1)],1)},sue=[];const G2={};var rue=E(of,tue,sue,!1,iue,null,null,null);function iue(e){for(let s in G2)this[s]=G2[s]}const nue=function(){return rue.exports}();var aue=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(QD,{style:e.cssVars},[e.socketIsConnected&&e.guiIsReady?[t(fP),t(cT),t(e3,{style:e.mainStyle,attrs:{id:"content"}},[t(Pe,{class:e.containerClasses,attrs:{id:"page-container",fluid:""}},[t("router-view")],1)],1),t(nue),t(dT),t(mT),t(pT),t(fT),t(_T),t(vT),t(bT),t(CT),t(DT)]:e.instancesDB!=="moonraker"?t(Xf):t(hT)],2)},oue=[];const W2={};var lue=E(jt,aue,oue,!1,cue,null,null,null);function cue(e){for(let s in W2)this[s]=W2[s]}const uue=function(){return lue.exports}();y.use(fC,{directives:{Touch:t3,Ripple:s3}});const MT=new fC({theme:{dark:!0,options:{customProperties:!0}},icons:{iconfont:"mdiSvg"},breakpoint:{mobileBreakpoint:768}});/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function due(e){var s=Number(e.version.split(".")[0]);if(s>=2)e.mixin({beforeCreate:r});else{var t=e.prototype._init;e.prototype._init=function(i){i===void 0&&(i={}),i.init=i.init?[r].concat(i.init):r,t.call(this,i)}}function r(){var i=this.$options;i.store?this.$store=typeof i.store=="function"?i.store():i.store:i.parent&&i.parent.$store&&(this.$store=i.parent.$store)}}var hue=typeof window<"u"?window:typeof global<"u"?global:{},ki=hue.__VUE_DEVTOOLS_GLOBAL_HOOK__;function mue(e){ki&&(e._devtoolHook=ki,ki.emit("vuex:init",e),ki.on("vuex:travel-to-state",function(s){e.replaceState(s)}),e.subscribe(function(s,t){ki.emit("vuex:mutation",s,t)},{prepend:!0}),e.subscribeAction(function(s,t){ki.emit("vuex:action",s,t)},{prepend:!0}))}function pue(e,s){return e.filter(s)[0]}function lf(e,s){if(s===void 0&&(s=[]),e===null||typeof e!="object")return e;var t=pue(s,function(i){return i.original===e});if(t)return t.copy;var r=Array.isArray(e)?[]:{};return s.push({original:e,copy:r}),Object.keys(e).forEach(function(i){r[i]=lf(e[i],s)}),r}function Nn(e,s){Object.keys(e).forEach(function(t){return s(e[t],t)})}function ET(e){return e!==null&&typeof e=="object"}function fue(e){return e&&typeof e.then=="function"}function gue(e,s){return function(){return e(s)}}var ws=function(s,t){this.runtime=t,this._children=Object.create(null),this._rawModule=s;var r=s.state;this.state=(typeof r=="function"?r():r)||{}},OT={namespaced:{configurable:!0}};OT.namespaced.get=function(){return!!this._rawModule.namespaced};ws.prototype.addChild=function(s,t){this._children[s]=t};ws.prototype.removeChild=function(s){delete this._children[s]};ws.prototype.getChild=function(s){return this._children[s]};ws.prototype.hasChild=function(s){return s in this._children};ws.prototype.update=function(s){this._rawModule.namespaced=s.namespaced,s.actions&&(this._rawModule.actions=s.actions),s.mutations&&(this._rawModule.mutations=s.mutations),s.getters&&(this._rawModule.getters=s.getters)};ws.prototype.forEachChild=function(s){Nn(this._children,s)};ws.prototype.forEachGetter=function(s){this._rawModule.getters&&Nn(this._rawModule.getters,s)};ws.prototype.forEachAction=function(s){this._rawModule.actions&&Nn(this._rawModule.actions,s)};ws.prototype.forEachMutation=function(s){this._rawModule.mutations&&Nn(this._rawModule.mutations,s)};Object.defineProperties(ws.prototype,OT);var Ti=function(s){this.register([],s,!1)};Ti.prototype.get=function(s){return s.reduce(function(t,r){return t.getChild(r)},this.root)};Ti.prototype.getNamespace=function(s){var t=this.root;return s.reduce(function(r,i){return t=t.getChild(i),r+(t.namespaced?i+"/":"")},"")};Ti.prototype.update=function(s){LT([],this.root,s)};Ti.prototype.register=function(s,t,r){var i=this;r===void 0&&(r=!0);var n=new ws(t,r);if(s.length===0)this.root=n;else{var a=this.get(s.slice(0,-1));a.addChild(s[s.length-1],n)}t.modules&&Nn(t.modules,function(o,l){i.register(s.concat(l),o,r)})};Ti.prototype.unregister=function(s){var t=this.get(s.slice(0,-1)),r=s[s.length-1],i=t.getChild(r);i&&i.runtime&&t.removeChild(r)};Ti.prototype.isRegistered=function(s){var t=this.get(s.slice(0,-1)),r=s[s.length-1];return t?t.hasChild(r):!1};function LT(e,s,t){if(s.update(t),t.modules)for(var r in t.modules){if(!s.getChild(r))return;LT(e.concat(r),s.getChild(r),t.modules[r])}}var Ft,Xt=function(s){var t=this;s===void 0&&(s={}),!Ft&&typeof window<"u"&&window.Vue&&kT(window.Vue);var r=s.plugins;r===void 0&&(r=[]);var i=s.strict;i===void 0&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ti(s),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Ft,this._makeLocalGettersCache=Object.create(null);var n=this,a=this,o=a.dispatch,l=a.commit;this.dispatch=function(h,m){return o.call(n,h,m)},this.commit=function(h,m,p){return l.call(n,h,m,p)},this.strict=i;var c=this._modules.root.state;sh(this,c,[],this._modules.root),L1(this,c),r.forEach(function(d){return d(t)});var u=s.devtools!==void 0?s.devtools:Ft.config.devtools;u&&mue(this)},O1={state:{configurable:!0}};O1.state.get=function(){return this._vm._data.$$state};O1.state.set=function(e){};Xt.prototype.commit=function(s,t,r){var i=this,n=wu(s,t,r),a=n.type,o=n.payload,l={type:a,payload:o},c=this._mutations[a];c&&(this._withCommit(function(){c.forEach(function(d){d(o)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Xt.prototype.dispatch=function(s,t){var r=this,i=wu(s,t),n=i.type,a=i.payload,o={type:n,payload:a},l=this._actions[n];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(o,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(a)})):l[0](a);return new Promise(function(u,d){c.then(function(h){try{r._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(o,r.state)})}catch{}u(h)},function(h){try{r._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(o,r.state,h)})}catch{}d(h)})})}};Xt.prototype.subscribe=function(s,t){return FT(s,this._subscribers,t)};Xt.prototype.subscribeAction=function(s,t){var r=typeof s=="function"?{before:s}:s;return FT(r,this._actionSubscribers,t)};Xt.prototype.watch=function(s,t,r){var i=this;return this._watcherVM.$watch(function(){return s(i.state,i.getters)},t,r)};Xt.prototype.replaceState=function(s){var t=this;this._withCommit(function(){t._vm._data.$$state=s})};Xt.prototype.registerModule=function(s,t,r){r===void 0&&(r={}),typeof s=="string"&&(s=[s]),this._modules.register(s,t),sh(this,this.state,s,this._modules.get(s),r.preserveState),L1(this,this.state)};Xt.prototype.unregisterModule=function(s){var t=this;typeof s=="string"&&(s=[s]),this._modules.unregister(s),this._withCommit(function(){var r=F1(t.state,s.slice(0,-1));Ft.delete(r,s[s.length-1])}),AT(this)};Xt.prototype.hasModule=function(s){return typeof s=="string"&&(s=[s]),this._modules.isRegistered(s)};Xt.prototype.hotUpdate=function(s){this._modules.update(s),AT(this,!0)};Xt.prototype._withCommit=function(s){var t=this._committing;this._committing=!0,s(),this._committing=t};Object.defineProperties(Xt.prototype,O1);function FT(e,s,t){return s.indexOf(e)<0&&(t&&t.prepend?s.unshift(e):s.push(e)),function(){var r=s.indexOf(e);r>-1&&s.splice(r,1)}}function AT(e,s){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var t=e.state;sh(e,t,[],e._modules.root,!0),L1(e,t,s)}function L1(e,s,t){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,n={};Nn(i,function(o,l){n[l]=gue(o,e),Object.defineProperty(e.getters,l,{get:function(){return e._vm[l]},enumerable:!0})});var a=Ft.config.silent;Ft.config.silent=!0,e._vm=new Ft({data:{$$state:s},computed:n}),Ft.config.silent=a,e.strict&&$ue(e),r&&(t&&e._withCommit(function(){r._data.$$state=null}),Ft.nextTick(function(){return r.$destroy()}))}function sh(e,s,t,r,i){var n=!t.length,a=e._modules.getNamespace(t);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!n&&!i){var o=F1(s,t.slice(0,-1)),l=t[t.length-1];e._withCommit(function(){Ft.set(o,l,r.state)})}var c=r.context=_ue(e,a,t);r.forEachMutation(function(u,d){var h=a+d;bue(e,h,u,c)}),r.forEachAction(function(u,d){var h=u.root?d:a+d,m=u.handler||u;yue(e,h,m,c)}),r.forEachGetter(function(u,d){var h=a+d;Cue(e,h,u,c)}),r.forEachChild(function(u,d){sh(e,s,t.concat(d),u,i)})}function _ue(e,s,t){var r=s==="",i={dispatch:r?e.dispatch:function(n,a,o){var l=wu(n,a,o),c=l.payload,u=l.options,d=l.type;return(!u||!u.root)&&(d=s+d),e.dispatch(d,c)},commit:r?e.commit:function(n,a,o){var l=wu(n,a,o),c=l.payload,u=l.options,d=l.type;(!u||!u.root)&&(d=s+d),e.commit(d,c,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return vue(e,s)}},state:{get:function(){return F1(e.state,t)}}}),i}function vue(e,s){if(!e._makeLocalGettersCache[s]){var t={},r=s.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===s){var n=i.slice(r);Object.defineProperty(t,n,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[s]=t}return e._makeLocalGettersCache[s]}function bue(e,s,t,r){var i=e._mutations[s]||(e._mutations[s]=[]);i.push(function(a){t.call(e,r.state,a)})}function yue(e,s,t,r){var i=e._actions[s]||(e._actions[s]=[]);i.push(function(a){var o=t.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},a);return fue(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):o})}function Cue(e,s,t,r){e._wrappedGetters[s]||(e._wrappedGetters[s]=function(n){return t(r.state,r.getters,n.state,n.getters)})}function $ue(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function F1(e,s){return s.reduce(function(t,r){return t[r]},e)}function wu(e,s,t){return ET(e)&&e.type&&(t=s,s=e,e=e.type),{type:e,payload:s,options:t}}function kT(e){Ft&&e===Ft||(Ft=e,due(Ft))}var RT=ih(function(e,s){var t={};return rh(s).forEach(function(r){var i=r.key,n=r.val;t[i]=function(){var o=this.$store.state,l=this.$store.getters;if(e){var c=nh(this.$store,"mapState",e);if(!c)return;o=c.context.state,l=c.context.getters}return typeof n=="function"?n.call(this,o,l):o[n]},t[i].vuex=!0}),t}),HT=ih(function(e,s){var t={};return rh(s).forEach(function(r){var i=r.key,n=r.val;t[i]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var c=this.$store.commit;if(e){var u=nh(this.$store,"mapMutations",e);if(!u)return;c=u.context.commit}return typeof n=="function"?n.apply(this,[c].concat(o)):c.apply(this.$store,[n].concat(o))}}),t}),jT=ih(function(e,s){var t={};return rh(s).forEach(function(r){var i=r.key,n=r.val;n=e+n,t[i]=function(){if(!(e&&!nh(this.$store,"mapGetters",e)))return this.$store.getters[n]},t[i].vuex=!0}),t}),IT=ih(function(e,s){var t={};return rh(s).forEach(function(r){var i=r.key,n=r.val;t[i]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var c=this.$store.dispatch;if(e){var u=nh(this.$store,"mapActions",e);if(!u)return;c=u.context.dispatch}return typeof n=="function"?n.apply(this,[c].concat(o)):c.apply(this.$store,[n].concat(o))}}),t}),xue=function(e){return{mapState:RT.bind(null,e),mapGetters:jT.bind(null,e),mapMutations:HT.bind(null,e),mapActions:IT.bind(null,e)}};function rh(e){return Sue(e)?Array.isArray(e)?e.map(function(s){return{key:s,val:s}}):Object.keys(e).map(function(s){return{key:s,val:e[s]}}):[]}function Sue(e){return Array.isArray(e)||ET(e)}function ih(e){return function(s,t){return typeof s!="string"?(t=s,s=""):s.charAt(s.length-1)!=="/"&&(s+="/"),e(s,t)}}function nh(e,s,t){var r=e._modulesNamespaceMap[t];return r}function wue(e){e===void 0&&(e={});var s=e.collapsed;s===void 0&&(s=!0);var t=e.filter;t===void 0&&(t=function(u,d,h){return!0});var r=e.transformer;r===void 0&&(r=function(u){return u});var i=e.mutationTransformer;i===void 0&&(i=function(u){return u});var n=e.actionFilter;n===void 0&&(n=function(u,d){return!0});var a=e.actionTransformer;a===void 0&&(a=function(u){return u});var o=e.logMutations;o===void 0&&(o=!0);var l=e.logActions;l===void 0&&(l=!0);var c=e.logger;return c===void 0&&(c=console),function(u){var d=lf(u.state);typeof c>"u"||(o&&u.subscribe(function(h,m){var p=lf(m);if(t(h,d,p)){var f=Z2(),b=i(h),$="mutation "+h.type+f;z2(c,$,s),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",b),c.log("%c next state","color: #4CAF50; font-weight: bold",r(p)),q2(c)}d=p}),l&&u.subscribeAction(function(h,m){if(n(h,m)){var p=Z2(),f=a(h),b="action "+h.type+p;z2(c,b,s),c.log("%c action","color: #03A9F4; font-weight: bold",f),q2(c)}}))}}function z2(e,s,t){var r=t?e.groupCollapsed:e.group;try{r.call(e,s)}catch{e.log(s)}}function q2(e){try{e.groupEnd()}catch{e.log("—— log end ——")}}function Z2(){var e=new Date;return" @ "+ul(e.getHours(),2)+":"+ul(e.getMinutes(),2)+":"+ul(e.getSeconds(),2)+"."+ul(e.getMilliseconds(),3)}function Pue(e,s){return new Array(s+1).join(e)}function ul(e,s){return Pue("0",s-e.toString().length)+e}var Tue={Store:Xt,install:kT,version:"3.6.2",mapState:RT,mapMutations:HT,mapGetters:jT,mapActions:IT,createNamespacedHelpers:xue,createLogger:wue};const NT=Tue,Due={switchToDashboard(){uo.currentRoute.fullPath!=="/"&&uo.push("/")},changePrinter({dispatch:e,getters:s},t){e("files/reset"),e("gui/reset"),e("printer/reset"),e("server/reset"),e("socket/reset");const r=s["farm/"+t.printer+"/getSocketData"];e("socket/setSocket",{hostname:r.hostname,port:r.port,path:r.path})},setNaviDrawer({commit:e},s){e("setNaviDrawer",s)},async importConfigJson({commit:e},s){var r;let t=(r=s.instancesDB)!=null?r:"moonraker";if({}.VUE_APP_INSTANCES_DB&&(t={}.VUE_APP_INSTANCES_DB),t!=="moonraker"){e("setInstancesDB",t),t==="json"&&"instances"in s&&Array.isArray(s.instances)&&s.instances.length&&e("setConfigInstances",s.instances);return}s.hostname&&e("socket/setData",{hostname:s.hostname}),s.port&&e("socket/setData",{port:parseInt(s.port.toString())}),s.path&&e("socket/setData",{route_prefix:s.path})}},Mue={setNaviDrawer(e,s){y.set(e,"naviDrawer",s),localStorage.setItem("naviDrawer",s)},setInstancesDB(e,s){y.set(e,"instancesDB",s)},setConfigInstances(e,s){y.set(e,"configInstances",s)}},Eue={getVersion:e=>e.packageVersion,getTitle:(e,s)=>{var r,i,n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I;if(!((r=e.socket)!=null&&r.isConnected))return"Mainsail";if(((i=e.server)==null?void 0:i.klippy_state)!=="ready")return be.t("App.Titles.Error");let t=(o=(a=(n=e.printer)==null?void 0:n.print_stats)==null?void 0:a.state)!=null?o:"";if(e.printer&&((l=e.printer["gcode_macro TIMELAPSE_TAKE_FRAME"])!=null&&l.is_paused)&&t==="paused"&&(t="printing"),t==="paused")return be.t("App.Titles.Pause");if(((u=(c=e.printer)==null?void 0:c.print_stats)==null?void 0:u.state)==="complete"){let N=be.t("App.Titles.Complete",{filename:e.printer.print_stats.filename});return(d=e.gui)!=null&&d.general.printername&&(N+="- ".concat((h=e.gui)==null?void 0:h.general.printername)),N}if(t==="printing"){const N=s["printer/getEstimatedTimeETAFormat"],G=Math.floor(s["printer/getPrintPercent"]*100);if(N!=="--"){let se=be.t("App.Titles.PrintingETA",{percent:G,filename:(p=(m=e.printer)==null?void 0:m.print_stats)==null?void 0:p.filename,eta:N});return(f=e.gui)!=null&&f.general.printername&&(se+="- ".concat((b=e.gui)==null?void 0:b.general.printername)),se}let q=be.t("App.Titles.Printing",{percent:G,filename:(P=($=e.printer)==null?void 0:$.print_stats)==null?void 0:P.filename});return(D=e.gui)!=null&&D.general.printername&&(q+="- ".concat((R=e.gui)==null?void 0:R.general.printername)),q}return(I=(L=(k=e.gui)==null?void 0:k.general.printername)!=null?L:(S=e.printer)==null?void 0:S.hostname)!=null?I:"Mainsail"},getDependencies:e=>{var b,$,P,D,R,k,S,L,I,N,G,q;const s=[],t=($=(b=e.printer)==null?void 0:b.software_version)!=null?$:"",r=t.split("-"),i=(P=r[0])!=null?P:"",n=parseInt((D=r[1])!=null?D:0),a=Z1.split("-"),o=(R=a[0])!=null?R:"",l=parseInt((k=a[1])!=null?k:0);nt.valid(i)&&(nt.gt(o,i)||nt.eq(o,i)&&n<l)&&s.push({serviceName:"Klipper",installedVersion:t,neededVersion:Z1});const c=(L=(S=e.server)==null?void 0:S.moonraker_version)!=null?L:"",u=c.split("-"),d=(I=u[0])!=null?I:"",h=parseInt((N=u[1])!=null?N:0),m=Y1.split("-"),p=(G=m[0])!=null?G:"",f=parseInt((q=m[1])!=null?q:0);return nt.valid(d)&&(nt.gt(p,d)||nt.eq(p,d)&&h<f)&&s.push({serviceName:"Moonraker",installedVersion:c,neededVersion:Y1}),s}},Oue={reset({commit:e}){e("setDisconnected"),e("clearLoadings"),e("reset")},setData({commit:e},s){e("setData",s)},async setSocket({commit:e,state:s},t){if(e("setData",t),"$socket"in y.prototype){const r=t.path.replaceAll(/(^\/*)|(\/*$)/g,""),i=r.length>0?"/".concat(r):"";await y.prototype.$socket.close(),await y.prototype.$socket.setUrl(s.protocol+"://"+t.hostname+":"+t.port+i+"/websocket"),await y.prototype.$socket.connect()}},onOpen({commit:e,dispatch:s,rootState:t}){var r,i;e("setConnected"),s("server/init",null,{root:!0}),(i=(r=t==null?void 0:t.server)==null?void 0:r.updateManager)!=null&&i.updateResponse.complete||e("server/updateManager/setStatus",{busy:!1},{root:!0})},onClose({commit:e}){e("setDisconnected")},onMessage({commit:e,dispatch:s},t){switch(t.method){case"notify_status_update":s("printer/getData",t.params[0],{root:!0});break;case"notify_gcode_response":s("server/addEvent",Object.assign({result:t.params[0]},{send:!1}),{root:!0});break;case"notify_klippy_ready":e("server/setKlippyConnected",null,{root:!0}),s("server/stopKlippyConnectedInterval",null,{root:!0}),s("server/stopKlippyStateInterval",null,{root:!0}),s("printer/init",null,{root:!0});break;case"notify_klippy_disconnected":s("server/setKlippyDisconnected",null,{root:!0});break;case"notify_klippy_shutdown":s("server/setKlippyShutdown",null,{root:!0});break;case"notify_proc_stat_update":s("server/updateProcStats",t.params[0],{root:!0});break;case"notify_cpu_throttled":e("server/setThrottledState",t.params[0],{root:!0});break;case"notify_filelist_changed":s("files/filelist_changed",t.params[0],{root:!0});break;case"notify_metadata_update":e("files/setMetadata",t.params[0],{root:!0});break;case"notify_power_changed":e("server/power/setStatus",t.params[0],{root:!0});break;case"notify_update_response":e("server/updateManager/addUpdateResponse",t.params[0],{root:!0});break;case"notify_update_refreshed":s("server/updateManager/onUpdateStatus",t.params[0],{root:!0});break;case"notify_history_changed":s("server/history/getChanged",t.params[0],{root:!0});break;case"notify_service_state_changed":s("server/serviceStateChanged",t.params[0],{root:!0});break;case"notify_timelapse_event":s("server/timelapse/getEvent",t.params[0],{root:!0});break;case"notify_job_queue_changed":s("server/jobQueue/getEvent",t.params[0],{root:!0});break;case"notify_announcement_update":s("server/announcements/getList",t.params[0],{root:!0});break;case"notify_announcement_dismissed":s("server/announcements/getDismissed",t.params[0],{root:!0});break;case"notify_announcement_wake":s("server/announcements/getWaked",t.params[0],{root:!0});break;case"notify_webcams_changed":s("gui/webcams/initStore",t.params[0],{root:!0});break;case"notify_active_spool_set":s("server/spoolman/getActiveSpoolId",t.params[0],{root:!0});break;case"notify_sensor_update":s("server/sensor/updateSensors",t.params[0],{root:!0});break;default:window.console.debug(t)}},addLoading({commit:e},s){e("addLoading",s)},removeLoading({commit:e},s){e("removeLoading",s)},clearLoadings({commit:e}){e("clearLoadings")},addInitModule({commit:e},s){e("addInitModule",s)},removeInitModule({commit:e},s){e("removeInitModule",s)},removeInitComponent({commit:e},s){e("removeInitComponent",s)},reportDebug(e,s){window.console.log(s)},setConnectionFailed({commit:e},s){e("setDisconnected",s)}},Lue={reset(e){const s=VT();y.set(e,"initializationList",s.initializationList)},setConnected(e){y.set(e,"isConnected",!0),y.set(e,"isConnecting",!1),y.set(e,"connectingFailed",!1)},setDisconnected(e,s){y.set(e,"isConnected",!1),y.set(e,"isConnecting",!1),y.set(e,"connectingFailed",!0),y.set(e,"connection_id",null),s&&y.set(e,"connectionFailedMessage",s)},setData(e,s){"socket"in s&&(s=s.socket),Object.entries(s).forEach(([t,r])=>{y.set(e,t,r)})},addLoading(e,s){e.loadings.push(s.name)},removeLoading(e,s){const t=e.loadings.indexOf(s.name);t>-1&&e.loadings.splice(t,1)},clearLoadings(e){e.loadings.length&&y.set(e,"loadings",[])},addInitModule(e,s){const t=[...e.initializationList];t.indexOf(s)>-1||(t.push(s),y.set(e,"initializationList",t))},removeInitModule(e,s){const t=[...e.initializationList],r=t.indexOf(s);r!==-1&&(t.splice(r,1),y.set(e,"initializationList",t))},removeInitComponent(e,s){const t=[...e.initializationList],r=t.reduce((i,n,a)=>(n.startsWith(s)&&i.push(a),i),[]);r.length&&(r.forEach(i=>t.splice(i,1)),y.set(e,"initializationList",t))}},Fue={getUrl:e=>{const s=e.port!==80?":"+e.port:"";let t="/"+e.path.replace(/^\/|\/$/g,"");return t.endsWith("/")&&(t=t.slice(0,-1)),"//".concat(e.hostname).concat(s).concat(t)},getHostUrl:e=>{const s=e.protocol==="wss"?"https":"http";return"".concat(s,"://").concat(e.hostname,"/")},getWebsocketUrl:(e,s)=>e.protocol+":"+s.getUrl+"/websocket"},VT=()=>{const e={}.VUE_APP_HOSTNAME||window.location.hostname,s=window.location.port||(window.location.protocol==="https:"?443:80),t={}.VUE_APP_PORT?Number({}.VUE_APP_PORT):Number(s),r={}.VUE_APP_PATH||"";return{hostname:e,port:t,path:r,protocol:document.location.protocol==="https:"?"wss":"ws",reconnectInterval:Number({}.VUE_APP_RECONNECT_INTERVAL||2e3),isConnected:!1,isConnecting:!1,connectingFailed:!1,connectionFailedMessage:null,loadings:[],initializationList:["server"],connection_id:null}},Aue=VT(),kue={namespaced:!0,state:Aue,getters:Fue,actions:Oue,mutations:Lue},Rue={reset({commit:e,dispatch:s}){s("stopKlippyConnectedInterval"),s("stopKlippyStateInterval"),e("reset"),s("power/reset"),s("updateManager/reset")},async init({commit:e,dispatch:s,rootState:t}){window.console.debug("init Server");try{const r=await y.$socket.emitAndWait("server.connection.identify",{client_name:"mainsail",version:t.packageVersion,type:"web",url:"https://github.com/mainsail-crew/mainsail"});e("setConnectionId",r.connection_id)}catch(r){r.message==="Unauthorized"&&this.dispatch("socket/setConnectionFailed",r.message),window.console.error("Error while identifying client: "+r.message);return}s("socket/addInitModule","server/info",{root:!0}),s("socket/addInitModule","server/config",{root:!0}),s("socket/addInitModule","server/systemInfo",{root:!0}),s("socket/addInitModule","server/procStats",{root:!0}),s("socket/addInitModule","server/databaseList",{root:!0}),y.$socket.emit("server.info",{},{action:"server/initServerInfo"}),y.$socket.emit("server.config",{},{action:"server/initServerConfig"}),y.$socket.emit("machine.system_info",{},{action:"server/initSystemInfo"}),y.$socket.emit("machine.proc_stats",{},{action:"server/initProcStats"}),y.$socket.emit("server.database.list",{root:"config"},{action:"server/checkDatabases"}),await s("socket/removeInitModule","server",{root:!0})},checkDatabases({dispatch:e,commit:s},t){var r,i;(r=t.namespaces)!=null&&r.includes("mainsail")?(e("socket/addInitModule","gui/init",{root:!0}),e("gui/init",null,{root:!0})):e("gui/initDb",null,{root:!0}),(i=t.namespaces)!=null&&i.includes("maintenance")?(e("socket/addInitModule","gui/maintenance/init",{root:!0}),e("gui/maintenance/init",null,{root:!0})):e("gui/maintenance/initDb",null,{root:!0}),e("socket/addInitModule","gui/webcam/init",{root:!0}),e("gui/webcams/init",null,{root:!0}),s("saveDbNamespaces",t.namespaces),y.$socket.emit("server.info",{},{action:"server/checkKlippyConnected"}),e("socket/removeInitModule","server/databaseList",{root:!0})},initServerInfo({dispatch:e,commit:s},t){var r,i;if("plugins"in t&&delete t.plugins,"failed_plugins"in t&&delete t.failed_plugins,(r=t.components)!=null&&r.length)for(let n of t.components)n=u6(n),wC.includes(n)&&(window.console.debug("init server component: "+n),e("socket/addInitModule","server/"+n+"/init",{root:!0}),e("server/"+n+"/init",{},{root:!0}));(i=t.registered_directories)!=null&&i.length&&e("files/initRootDirs",t.registered_directories,{root:!0}),s("setData",t),e("socket/removeInitModule","server/info",{root:!0})},initServerConfig({commit:e,dispatch:s},t){e("setConfig",t),s("socket/removeInitModule","server/config",{root:!0})},initSystemInfo({commit:e,dispatch:s},t){e("setSystemInfo",t.system_info),s("socket/removeInitModule","server/systemInfo",{root:!0})},initProcStats({commit:e,dispatch:s},t){if(t.throttled_state!==null&&e("setThrottledState",t.throttled_state),t.system_uptime){const r=new Date(new Date().getTime()-t.system_uptime*1e3);e("setSystemBootAt",r)}s("socket/removeInitModule","server/procStats",{root:!0})},updateProcStats({commit:e},s){"cpu_temp"in s&&e("setCpuTemp",s.cpu_temp),"moonraker_stats"in s&&e("setMoonrakerStats",s.moonraker_stats),"network"in s&&e("setNetworkStats",s.network),"system_cpu_usage"in s&&e("setCpuStats",s.system_cpu_usage)},setKlippyReady({dispatch:e}){e("stopKlippyConnectedInterval"),e("stopKlippyStateInterval"),e("printer/reset",null,{root:!0}),e("printer/init",null,{root:!0})},setKlippyDisconnected({commit:e,dispatch:s}){e("setKlippyDisconnected",null),s("stopKlippyStateInterval"),s("startKlippyConnectedInterval")},setKlippyShutdown({commit:e,dispatch:s}){e("setKlippyShutdown",null),s("stopKlippyStateInterval"),s("startKlippyConnectedInterval")},startKlippyConnectedInterval({commit:e,state:s}){if(s.klippy_connected_timer)return;const t=setInterval(()=>{y.$socket.emit("server.info",{},{action:"server/checkKlippyConnected"})},2e3);e("setKlippyConnectedTimer",t)},stopKlippyConnectedInterval({commit:e,state:s}){s.klippy_connected_timer!==null&&(clearInterval(s.klippy_connected_timer),e("setKlippyConnectedTimer",null))},checkKlippyConnected({commit:e,dispatch:s},t){if(!t.klippy_connected){s("startKlippyConnectedInterval");return}s("stopKlippyConnectedInterval"),e("setKlippyConnected"),s("printer/initGcodes",null,{root:!0}),s("checkKlippyState",{state:t.klippy_state,state_message:null})},startKlippyStateInterval({commit:e,state:s}){if(s.klippy_state_timer)return;const t=setInterval(()=>{y.$socket.emit("printer.info",{},{action:"server/checkKlippyState"})},2e3);e("setKlippyStateTimer",t)},stopKlippyStateInterval({commit:e,state:s}){s.klippy_state_timer!==null&&(clearInterval(s.klippy_state_timer),e("setKlippyStateTimer",null))},checkKlippyState({commit:e,dispatch:s},t){if(e("setKlippyState",t.state),e("setKlippyMessage",t.state_message),t.state!=="ready"){s("startKlippyStateInterval");return}s("stopKlippyConnectedInterval"),s("stopKlippyStateInterval"),s("printer/init",null,{root:!0})},getData({commit:e},s){e("setData",s)},getGcodeStore({commit:e,dispatch:s,rootGetters:t},r){e("clearGcodeStore");let i=r.gcode_store;t["gui/console/getConsolefilterRules"].forEach(o=>{try{const l=new RegExp(o);i=i.filter(c=>!l.test(c.message))}catch{window.console.error("Custom console filter '"+o+"' doesn't work")}});const a=t["gui/console/getConsoleClearedSince"];i=i.filter(o=>a?o.time&&o.time*1e3<a?!1:!(o.date&&new Date(o.date).valueOf()<a):!0),e("setGcodeStore",i),s("socket/removeInitModule","server/gcode_store",{root:!0})},addRootDirectory({commit:e,state:s},t){s.registered_directories.includes(t.item.root)||e("addRootDirectory",{name:t.item.root})},addEvent({commit:e,rootGetters:s},t){let r=t,i="response";typeof t=="object"&&"type"in t&&(i=t.type),"message"in t?r=t.message:"result"in t?r=t.result:"error"in t&&(r=r.error.message);let n=Qf(r);i==="response"&&(r.startsWith("// action:")?i="action":r.startsWith("// debug:")&&(i="debug"));const a=s["gui/console/getConsolefilterRules"];let o=!0;a.every(l=>{try{new RegExp(l).test(n)&&(o=!1)}catch{window.console.error("Custom console filter '"+l+"' doesn't work!")}return o}),o&&(t.type==="command"&&(n='<a class="command text--blue">'+n+"</a>"),e("addEvent",{date:new Date,message:r,formatMessage:n,type:i}),["error","response"].includes(i)&&!["/","/console"].includes(uo.currentRoute.path)&&r.startsWith("!! ")&&y.$toast.error(n))},serviceStateChanged({commit:e},s){e("updateServiceState",s)},addFailedInitComponent({commit:e},s){e("removeComponent",s),e("addFailedInitComponent",s)}},Hue={reset(e){Object.assign(e,XT())},setKlippyConnected(e){y.set(e,"klippy_connected",!0)},setKlippyState(e,s){y.set(e,"klippy_state",s)},setKlippyStateTimer(e,s){y.set(e,"klippy_state_timer",s)},setKlippyMessage(e,s){y.set(e,"klippy_message",s)},setKlippyDisconnected(e){y.set(e,"klippy_connected",!1),y.set(e,"klippy_state","disconnected"),y.set(e,"klippy_message","Disconnected...")},setKlippyShutdown(e){y.set(e,"klippy_state","shutdown"),y.set(e,"klippy_message","Shutdown...")},setCpuTemp(e,s){y.set(e,"cpu_temp",s)},setMoonrakerStats(e,s){y.set(e,"moonraker_stats",s)},setNetworkStats(e,s){y.set(e,"network_stats",s)},setCpuStats(e,s){y.set(e,"system_cpu_usage",s)},setKlippyConnectedTimer(e,s){y.set(e,"klippy_connected_timer",s)},setProcStats(e,s){y.set(e,"cpu_temp",s.cpu_temp),y.set(e,"moonraker_stats",s.moonraker_stats)},setConnectionId(e,s){y.set(e,"connection_id",s)},setData(e,s){"requestParams"in s&&delete s.requestParams,Object.entries(s).forEach(([t,r])=>{y.set(e,t,r)})},saveDbNamespaces(e,s){y.set(e,"dbNamespaces",s)},setConfig(e,s){y.set(e,"config",s)},setConsoleClearedThisSession(e){y.set(e,"console_cleared_this_session",!0)},clearGcodeStore(e){y.set(e,"events",[])},setGcodeStore(e,s){s.length>=Jo&&(s=s.slice(s.length-Jo)),s.forEach(t=>{const r=new Date(t.time*1e3);let i=Qf(t.message),n=t.type;n==="command"&&(i='<a class="command text--blue">'+i+"</a>"),n==="response"&&(t.message.startsWith("// action:")?n="action":t.message.startsWith("// debug:")&&(n="debug")),e.events.push({date:r,message:t.message,formatMessage:i,type:n})})},addEvent(e,s){var t;["command","autocomplete"].includes(s.type)&&((t=e.events[e.events.length-1])==null?void 0:t.type)==="autocomplete"&&e.events.pop(),e.events.push({date:s.date,message:s.message,formatMessage:s.formatMessage,type:s.type}),e.events.length>=Jo&&(e.events=e.events.slice(e.events.length-Jo))},setSystemInfo(e,s){y.set(e,"system_info",s)},setThrottledState(e,s){s&&"bits"in s&&y.set(e.throttled_state,"bits",s.bits),s&&"flags"in s&&y.set(e.throttled_state,"flags",s.flags)},setSystemBootAt(e,s){y.set(e,"system_boot_at",s)},addRootDirectory(e,s){e.registered_directories.push(s.name)},updateServiceState(e,s){var r;const t=Object.keys(s)[0];(r=e.system_info)!=null&&r.service_state&&y.set(e.system_info.service_state,t,s[t])},addFailedInitComponent(e,s){const t=e.failed_init_components;t.includes(s)||t.push(s),y.set(e,"failed_init_components",t)},removeComponent(e,s){const t=e.components,r=t.indexOf(s);r!==-1&&(t.splice(r,1),y.set(e,"components",t))}},jue={getConsoleEvents:e=>(s=!0,t=500)=>{var i;const r=(i=[...e.events].slice(t*-1))!=null?i:[];if(r.length<20&&!e.console_cleared_this_session){const n=r.length?r[0].date:new Date;let a="";a+='- Type <a class="command text--blue">HELP</a> to get a list of available commands.\n',a+='- Click on the "?" button to get a searchable list.\n',a+="- Commands in the console are clickable and will be placed into the input field.\n",a+="- Use the tab key to complete your inputs. If there are several options, a list is displayed.\n",a+="- Use the ⇵ arrow keys to navigate through the previous entries.\n",r.unshift({date:n,message:a,formatMessage:Qf(a),type:"response"})}return s?r.reverse():r},getConfig:e=>(s,t)=>{var i,n;const r=(n=(i=e.config)==null?void 0:i.config)!=null?n:{};return s in r&&t in r[s]?r[s][t]:null},getHostStats:(e,s,t,r)=>{var n,a,o,l,c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee,te,j,z,T,A,V,Q;let i=null;if("system_info"in e){let le=null;(n=t.printer)!=null&&n.software_version&&(le=(a=t.printer)==null?void 0:a.software_version.split("-").slice(0,4).join("-")),(o=t.printer)!=null&&o.app_name&&(le=((l=t.printer)==null?void 0:l.app_name)+" "+le);let he=null;if((u=(c=e.system_info)==null?void 0:c.python)!=null&&u.version_string){const ND=(h=(d=e.system_info)==null?void 0:d.python)==null?void 0:h.version_string.indexOf(" ");he=(p=(m=e.system_info)==null?void 0:m.python)==null?void 0:p.version_string.slice(0,ND+1)}const _e=($=(b=(f=e.system_info)==null?void 0:f.cpu_info)==null?void 0:b.cpu_count)!=null?$:1,De=Math.round(((D=(P=t.printer.system_stats)==null?void 0:P.sysload)!=null?D:0)*100)/100,it=Math.round(De/_e*100);let Dt="primary";it>95?Dt="error":it>80&&(Dt="warning");let Nt=null,Di=null;const Vn=((k=(R=t.printer.system_stats)==null?void 0:R.memavail)!=null?k:0)*1024,ks=((I=(L=(S=e.system_info)==null?void 0:S.cpu_info)==null?void 0:L.total_memory)!=null?I:0)*1024;Vn>0&&ks>0?(Nt=Qe(ks-Vn)+" / "+Qe(ks),Di=Math.round((ks-Vn)/ks*100)):ks&&(Nt=Qe(ks));let uh="primary";Di&&Di>95?uh="error":Di&&Di>80&&(uh="warning");let dh=r["printer/getHostTempSensor"];dh===null&&e.cpu_temp!==null&&(dh={temperature:(N=e.cpu_temp)==null?void 0:N.toFixed(0),measured_min_temp:null,measured_max_temp:null}),i={cpuName:(se=(q=(G=e.system_info)==null?void 0:G.cpu_info)==null?void 0:q.processor)!=null?se:null,cpuDesc:(X=(W=(F=e.system_info)==null?void 0:F.cpu_info)==null?void 0:W.cpu_desc)!=null?X:null,bits:(te=(ee=(J=e.system_info)==null?void 0:J.cpu_info)==null?void 0:ee.bits)!=null?te:null,version:le,pythonVersion:he,os:(T=(z=(j=e.system_info)==null?void 0:j.distribution)==null?void 0:z.name)!=null?T:null,release_info:(Q=(V=(A=e.system_info)==null?void 0:A.distribution)==null?void 0:V.release_info)!=null?Q:null,load:De,loadPercent:it<100?it:100,loadProgressColor:Dt,memoryFormat:Nt,memUsed:Qe(ks-Vn),memAvail:Qe(Vn),memTotal:Qe(ks),memUsage:Di,memUsageColor:uh,tempSensor:dh}}return i},getCpuUsage:e=>"cpu"in e.system_cpu_usage?Math.round(e.system_cpu_usage.cpu):null,getNetworkInterfaces:e=>{const s={};return Object.keys(e.network_stats).forEach(t=>{var r,i,n,a,o;t!=="lo"&&(t in((i=(r=e.system_info)==null?void 0:r.network)!=null?i:{})||t.startsWith("can"))&&(s[t]={...e.network_stats[t]},(n=e.system_info)!=null&&n.network&&t in((o=(a=e.system_info)==null?void 0:a.network)!=null?o:{})&&(s[t].details={...e.system_info.network[t]}))}),s},getThrottledStateFlags:e=>{let s=e.throttled_state.flags.filter(t=>t!=="?");return s=s.map(t=>(t=t.replace(/ /g,"").replace(/-/g,""),t.charAt(0).toUpperCase()+t.slice(1))),s}},Iue={reset({commit:e}){e("reset")},init(){y.$socket.emit("machine.device_power.devices",{},{action:"server/power/getDevices"})},async getDevices({commit:e,dispatch:s},t){t.error||await e("setDevices",t.devices),await s("socket/removeInitModule","server/power/init",{root:!0})},getStatus({commit:e},s){s.error||e("setStatus",s)},responseToggle({commit:e},s){"requestParams"in s&&delete s.requestParams;for(const[t,r]of Object.entries(s))e("setStatus",{device:t,status:r})}},Nue={reset(e){Object.assign(e,UT())},setDevices(e,s){y.set(e,"devices",s)},setStatus(e,s){const t=e.devices.findIndex(r=>r.device===s.device);t>=0&&y.set(e.devices[t],"status",s.status)}},Vue={getDevices:e=>e.devices},UT=()=>({devices:[]}),Uue=UT(),Bue={namespaced:!0,state:Uue,getters:Vue,actions:Iue,mutations:Nue},Gue={reset({commit:e}){e("reset")},init(){y.$socket.emit("machine.update.status",{},{action:"server/updateManager/onUpdateStatus"})},async onUpdateStatus({commit:e,dispatch:s},t){var r,i;await e("resetRepos");for(const n of Object.keys(t.version_info)){const a=(r=t.version_info[n])!=null?r:{},o=(i=a.configured_type)!=null?i:null;if(["git_repo","zip"].includes(o)){await e("storeGitRepo",{...a,name:n});continue}if(["web","web_beta","python"].includes(o)){await e("storeWebRepo",{...a,name:n});continue}n==="system"&&await e("updateSystem",{...a})}await s("socket/removeInitModule","server/updateManager/init",{root:!0})}},Wue={reset(e){Object.assign(e,BT())},resetRepos(e){y.set(e,"git_repos",[]),y.set(e,"web_repos",[]),y.set(e,"system",{package_count:0,package_list:[]})},storeGitRepo(e,s){const t=[...e.git_repos];t.push({...s}),y.set(e,"git_repos",t)},storeWebRepo(e,s){const t=[...e.web_repos];t.push({...s}),y.set(e,"web_repos",t)},updateSystem(e,s){const t={...e.system};t.package_count=s.package_count,t.package_list=s.package_list,y.set(e,"system",t)},addUpdateResponse(e,s){e.updateResponse.application!==s.application&&y.set(e.updateResponse,"application",s.application),e.updateResponse.complete!==s.complete&&y.set(e.updateResponse,"complete",s.complete),"complete"in s&&s.complete&&y.$socket.emit("machine.update.status",{refresh:!1},{action:"server/updateManager/onUpdateStatus"}),e.updateResponse.messages.push({date:new Date,message:s.message})},resetUpdateResponse(e){y.set(e,"updateResponse",{application:"",complete:!0,messages:[]})}},zue={getUpdateManagerList(e){const s=[];return e.git_repos.forEach(t=>{s.push({name:t.name,type:"git",data:{...t}})}),e.web_repos.forEach(t=>{s.push({name:t.name,type:"web",data:{...t}})}),Rt(s,"name")}},BT=()=>({busy:!1,github_rate_limit:null,github_requests_remaining:null,github_limit_reset_time:null,git_repos:[],web_repos:[],system:{package_count:0,package_list:[]},updateResponse:{application:"",complete:!0,messages:[]}}),que=BT(),Zue={namespaced:!0,state:que,getters:zue,actions:Gue,mutations:Wue},Yue={reset({commit:e}){e("reset")},init(){y.$socket.emit("server.history.list",{start:0,limit:50,max:100},{action:"server/history/getHistory"}),y.$socket.emit("server.history.totals",{},{action:"server/history/getTotals"})},getTotals({commit:e},s){var r;e("setTotals",s.job_totals);const t=(r=s.auxiliary_totals)!=null?r:[];t.length&&e("setAuxiliaryTotals",t)},async getHistory({commit:e,dispatch:s,state:t},r){var o,l,c,u,d,h,m,p,f,b,$;"requestParams"in r&&((l=(o=r.requestParams)==null?void 0:o.start)!=null?l:0)===0&&e("resetJobs"),(c=r.jobs)==null||c.forEach(P=>{t.jobs.findIndex(D=>D.job_id===P.job_id)===-1&&e("addJob",P)});const i=(d=(u=r.requestParams)==null?void 0:u.start)!=null?d:0,n=(m=(h=r.requestParams)==null?void 0:h.limit)!=null?m:50,a=(f=(p=r.requestParams)==null?void 0:p.max)!=null?f:null;if(n>0&&(a===null||a>i+n)&&((b=r.jobs)==null?void 0:b.length)===n){y.$socket.emit("server.history.list",{start:i+n,limit:n,max:a},{action:"server/history/getHistory"});return}(($=r.jobs)==null?void 0:$.length)<n&&(s("socket/removeLoading",{name:"historyLoadAll"},{root:!0}),e("setAllLoaded")),s("loadHistoryNotes")},loadHistoryNotes({dispatch:e,rootState:s}){var t;(t=s.server)!=null&&t.dbNamespaces.includes("history_notes")?y.$socket.emit("server.database.get_item",{namespace:"history_notes"},{action:"server/history/initHistoryNotes"}):e("socket/removeInitModule","server/history/init",{root:!0})},async initHistoryNotes({commit:e,dispatch:s},t){const r=Object.keys(t.value);for(const i of r){const n=t.value[i];await e("setHistoryNotes",{job_id:i,text:n.text})}await s("socket/removeInitModule","server/history/init",{root:!0})},getChanged({commit:e},s){s.action==="added"?e("addJob",s.job):s.action==="finished"&&e("updateJob",s.job),y.$socket.emit("server.history.totals",{},{action:"server/history/getTotals"})},getDeletedJobs({commit:e},s){"deleted_jobs"in s&&Array.isArray(s.deleted_jobs)&&s.deleted_jobs.forEach(t=>{e("destroyJob",t)})},saveHistoryNote({commit:e},s){y.$socket.emit("server.database.post_item",{namespace:"history_notes",key:s.job_id,value:{text:s.note}}),e("setHistoryNotes",{job_id:s.job_id,text:s.note})}},Xue={reset(e){Object.assign(e,GT())},resetJobs(e){y.set(e,"jobs",[])},setTotals(e,s){y.set(e,"job_totals",s)},setAuxiliaryTotals(e,s){y.set(e,"auxiliary_totals",s)},setHistoryNotes(e,s){const t=e.jobs.find(r=>r.job_id===s.job_id);t&&y.set(t,"note",s.text)},addJob(e,s){const t=[...e.jobs];t.push(s),y.set(e,"jobs",t)},updateJob(e,s){const t=e.jobs.findIndex(r=>r.job_id===s.job_id);t!==-1&&y.set(e.jobs,t,s)},destroyJob(e,s){const t=e.jobs.findIndex(r=>r.job_id===s);t!==-1&&e.jobs.splice(t,1)},setAllLoaded(e){y.set(e,"all_loaded",!0)}},Jue={getSelectedJobs:(e,s,t)=>{var i;return((i=t.gui.view.history.selectedJobs)!=null?i:[]).filter(n=>n.type==="job")},getTotalPrintTime(e){let s=0;return e.jobs.forEach(t=>{s+=t.print_duration}),s},getTotalCompletedPrintTime(e){let s=0;return e.jobs.forEach(t=>{t.status==="completed"&&(s+=t.print_duration)}),s},getLongestPrintTime(e){let s=0;return e.jobs.forEach(t=>{t.print_duration>s&&(s=t.print_duration)}),s},getTotalFilamentUsed(e){let s=0;return e.jobs.forEach(t=>{s+=t.filament_used}),s},getTotalJobsCount(e){return e.jobs.length},getTotalCompletedJobsCount(e){return e.jobs.filter(s=>s.status==="completed").length},getAvgPrintTime(e,s){const t=s.getTotalCompletedPrintTime,r=s.getTotalCompletedJobsCount;return t>0&&r>0?Math.round(t/r):0},getFilamentUsageArray(e,s){const t=[],r=new Date;r.setTime(r.getTime()-60*60*24*14*1e3),r.setHours(0,0,0,0);let i=[...e.jobs.filter(n=>new Date(n.start_time*1e3)>=r&&n.filament_used>0)];s.getSelectedJobs.length&&(i=[...s.getSelectedJobs.filter(n=>new Date(n.start_time*1e3)>=r&&n.filament_used>0)]);for(let n=0;n<=14;n++){const a=new Date;a.setTime(r.getTime()+60*60*24*n*1e3),t.push([new Date(a).setHours(0,0,0,0),0])}return i.length&&i.forEach(n=>{const a=new Date(n.start_time*1e3).setHours(0,0,0,0),o=t.findIndex(l=>l[0]===a);o!==-1&&(t[o][1]+=Math.round(n.filament_used)/1e3)}),t.sort((n,a)=>a[0]-n[0])},getPrinttimeAvgArray(e,s){const t=[0,0,0,0,0],r=new Date(new Date().getTime()-60*60*24*14*1e3);let i=[...e.jobs.filter(n=>new Date(n.start_time*1e3)>=r&&n.status==="completed")];return s.getSelectedJobs.length&&(i=[...s.getSelectedJobs.filter(n=>new Date(n.start_time*1e3)>=r&&n.status==="completed")]),i.length&&i.forEach(n=>{n.print_duration>0&&n.print_duration<=60*60*2?t[0]++:n.print_duration>60*60*2&&n.print_duration<=60*60*6?t[1]++:n.print_duration>60*60*6&&n.print_duration<=60*60*12?t[2]++:n.print_duration>60*60*12&&n.print_duration<=60*60*24?t[3]++:n.print_duration>60*60*24&&t[4]++}),t},getPrintStatus:e=>s=>{var t;if(e.jobs.length){const r=e.jobs.find(i=>i.job_id===s);return(t=r==null?void 0:r.status)!=null?t:""}return""},getPrintJobById:e=>s=>{if(e.jobs.length!==0)return e.jobs.find(t=>t.job_id===s)},getPrintJobsForGcodes:e=>(s,t,r,i,n)=>{if(e.jobs.length===0)return[];if(i)return e.jobs.filter(o=>{var l;return((l=o.metadata)==null?void 0:l.uuid)===i});const a=e.jobs.filter(o=>{var l,c,u;return((l=o.metadata)==null?void 0:l.size)===r&&Math.round(((u=(c=o.metadata)==null?void 0:c.modified)!=null?u:0)*1e3)===t});return a.length?a:n?a.filter(o=>o.job_id===n):[]},getPrintStatusByFilename:e=>(s,t)=>{var r;if(e.jobs.length){const i=e.jobs.find(n=>{var a,o;return n.filename===s&&Math.round(((o=(a=n.metadata)==null?void 0:a.modified)!=null?o:0)*1e3)===t});return(r=i==null?void 0:i.status)!=null?r:""}return""},getPrintStatusIconColor:()=>e=>{switch(e){case"in_progress":return"blue accent-3";case"completed":return"green";case"cancelled":return"red";default:return"orange"}},getPrintStatusTextColor:()=>e=>{switch(e){case"in_progress":return"blue--text";case"completed":return"green--text";case"cancelled":return"red--text";default:return"orange--text"}},getPrintStatusIcon:()=>e=>{switch(e){case"in_progress":return N5;case"completed":return VM;case"cancelled":return YM;default:return ba}},getFilteredJobList:(e,s,t)=>{const r=t.gui.view.history.hidePrintStatus;return e.jobs.filter(i=>!r.includes(i.status))}},GT=()=>({jobs:[],job_totals:{total_jobs:0,total_time:0,total_print_time:0,total_filament_used:0,longest_job:0,longest_print:0},auxiliary_totals:[],all_loaded:!1}),Kue=GT(),Que={namespaced:!0,state:Kue,getters:Jue,actions:Yue,mutations:Xue},ede={reset({commit:e}){e("reset")},init(){y.$socket.emit("machine.timelapse.get_settings",{},{action:"server/timelapse/initSettings"}),y.$socket.emit("machine.timelapse.lastframeinfo",{},{action:"server/timelapse/initLastFrameinfo"})},async initSettings({commit:e,dispatch:s},t){"requestParams"in t&&delete t.requestParams,await e("setSettings",t),await s("socket/removeInitModule","server/timelapse/init",{root:!0})},initLastFrameinfo({commit:e},s){e("setLastFrame",{count:s.framecount,file:s.lastframefile})},getEvent({commit:e},s){switch(s.action){case"newframe":e("setLastFrame",{count:parseInt(s.frame),file:s.framefile});break;case"render":s.status==="error"?(y.$toast.error(s.msg),e("resetSnackbar")):e("setRenderStatus",s);break;default:window.console.log("unknown timelapse event",s)}},saveSetting(e,s){y.$socket.emit("machine.timelapse.post_settings",s,{action:"server/timelapse/initSettings"})},updateCamSettings({dispatch:e,state:s},t){s.settings.camera===t.oldName&&e("saveSetting",{camera:t.newName})},resetSnackbar({commit:e}){e("resetSnackbar")}},tde={reset(e){Object.assign(e,WT())},setSettings(e,s){Object.keys(s).forEach(t=>{t in e.settings&&e.settings[t]!==s[t]&&y.set(e.settings,t,s[t])})},setLastFrame(e,s){y.set(e.lastFrame,"count",s.count),y.set(e.lastFrame,"file",s.file)},setRenderStatus(e,s){var t,r;y.set(e,"rendering",{status:s.status,progress:(t=s.progress)!=null?t:0,filename:(r=s.filename)!=null?r:""})},resetSnackbar(e){y.set(e,"rendering",{status:"",progress:0,filename:""})}},sde={},WT=()=>({settings:{enabled:!0,camera:"",mode:"layermacro",autorender:!0,autorenderOnce:!1,saveframes:!1,stream_delay_compensation:.05,gcode_verbose:!0,parkhead:!1,parkpos:"back_left",park_custom_pos_x:0,park_custom_pos_y:0,park_custom_pos_dz:0,park_travel_speed:100,park_retract_speed:15,park_retract_distance:1,park_extrude_speed:15,park_extrude_distance:1,park_time:.1,fw_retract:!1,hyperlapse_cycle:30,constant_rate_factor:23,output_framerate:30,pixelformat:"yuv420p",extraoutputparams:"",variable_fps:!1,targetlength:60,variable_fps_min:5,variable_fps_max:60,rotation:0,duplicatelastframe:0,previewimage:!0,time_format_code:"%Y%m%d_%H%M",blockedsettings:[]},lastFrame:{count:0,file:""},rendering:{status:"",progress:0,filename:""}}),rde=WT(),ide={namespaced:!0,state:rde,getters:sde,actions:ede,mutations:tde},nde={reset({commit:e}){e("reset")},init(){y.$socket.emit("server.job_queue.status",{},{action:"server/jobQueue/getStatus"})},getEvent({commit:e},s){"updated_queue"in s&&s.updated_queue!==null&&e("setQueuedJobs",s.updated_queue),"queue_state"in s&&e("setQueueState",s.queue_state)},async getStatus({commit:e,dispatch:s},t){"queued_jobs"in t&&e("setQueuedJobs",t.queued_jobs),"queue_state"in t&&e("setQueueState",t.queue_state),await s("socket/removeInitModule","server/jobQueue/init",{root:!0})},async addToQueue(e,s){y.$socket.emit("server.job_queue.post_job",{filenames:s})},changeCount({dispatch:e,getters:s},t){const r=s.getJobs,i=r.findIndex(n=>n.job_id===t.job_id);i!==-1&&(r[i].combinedIds=Array(t.count-1).fill(t.job_id),e("sendNewQueueList",{jobs:r}))},changePosition({dispatch:e,getters:s},t){const r=s.getJobs,i=r.splice(t.oldIndex,1)[0];r.splice(t.newIndex,0,i),e("sendNewQueueList",{jobs:r})},startByJobId({dispatch:e,getters:s},t){const r=s.getJobs,i=r.findIndex(a=>a.job_id===t);if(i===-1)return;const n=r.splice(i,1)[0];r.splice(0,0,n),e("sendNewQueueList",{jobs:r,printStart:!0})},sendNewQueueList(e,s){const t=s.jobs.map(i=>{var a,o;const n=((o=(a=i.combinedIds)==null?void 0:a.length)!=null?o:0)+1;return n===1?i.filename:Array(n).fill(i.filename)}).flat(),r={};s.printStart&&(r.action="server/jobQueue/start"),y.$socket.emit("server.job_queue.post_job",{filenames:t,reset:!0},r)},deleteFromQueue(e,s){y.$socket.emit("server.job_queue.delete_job",{job_ids:s})},clearQueue(){y.$socket.emit("server.job_queue.delete_job",{all:!0})},start(){y.$socket.emit("server.job_queue.start",{},{loading:"startJobqueue"})},pause(){y.$socket.emit("server.job_queue.pause",{},{loading:"pauseJobqueue"})}},ade={reset(e){Object.assign(e,zT())},setQueuedJobs(e,s){y.set(e,"queued_jobs",s)},setQueueState(e,s){y.set(e,"queue_state",s)}},ode={getJobs:(e,s,t,r)=>{const i=[];return e.queued_jobs.forEach(n=>{var l;const a={...n};if(i.length&&i[i.length-1].filename===a.filename){(l=i[i.length-1].combinedIds)==null||l.push(a.job_id);return}const o=r["files/getFile"]("gcodes/"+a.filename);o!=null&&o.metadataPulled||y.$socket.emit("server.files.metadata",{filename:a.filename},{action:"files/getMetadata"}),a.metadata=o,a.combinedIds=[],i.push(a)}),i},getJobsCount:e=>e.queued_jobs.length,getSmallThumbnail:(e,s,t,r)=>i=>{var n,a,o,l;if((a=(n=i==null?void 0:i.metadata)==null?void 0:n.thumbnails)!=null&&a.length){const c=(o=i==null?void 0:i.metadata)==null?void 0:o.thumbnails.find(d=>d.width>=Qt&&d.width<=es&&d.height>=Qt&&d.height<=es),u=i.filename.lastIndexOf("/")!==-1?"gcodes/"+i.filename.slice(0,i.filename.lastIndexOf("/")):"gcodes";if(c&&"relative_path"in c)return r["socket/getUrl"]+"/server/files/"+Ie(u)+"/"+Ie(c.relative_path)+"?timestamp="+((l=i.metadata)==null?void 0:l.modified.getTime())}return""},getBigThumbnail:(e,s,t,r)=>i=>{var n,a,o,l;if((a=(n=i==null?void 0:i.metadata)==null?void 0:n.thumbnails)!=null&&a.length){const c=(o=i==null?void 0:i.metadata)==null?void 0:o.thumbnails.find(d=>d.width>=Vs),u=i.filename.lastIndexOf("/")!==-1?"gcodes/"+i.filename.slice(0,i.filename.lastIndexOf("/")):"gcodes";if(c&&"relative_path"in c)return r["socket/getUrl"]+"/server/files/"+Ie(u)+"/"+Ie(c.relative_path)+"?timestamp="+((l=i.metadata)==null?void 0:l.modified.getTime())}return""}},zT=()=>({queued_jobs:[],queue_state:""}),lde=zT(),cde={namespaced:!0,state:lde,getters:ode,actions:nde,mutations:ade},ude={reset({commit:e}){e("reset")},init(){y.$socket.emit("server.announcements.list",{},{action:"server/announcements/getList"})},async getList({commit:e,dispatch:s},t){if("entries"in t){const r=t.entries.map(i=>{const n=new Date(i.date*1e3),a=t.date_dismissed?new Date(i.date_dismissed*1e3):null,o=t.dismiss_wake?new Date(i.dismiss_wake*1e3):null;return{...i,date:n,date_dismissed:a,dismiss_wake:o}});await e("setEntries",r)}"feeds"in t&&await e("setFeeds",t.feeds),await s("socket/removeInitModule","server/announcements/init",{root:!0})},getDismissed({commit:e},s){e("setDismissed",{entry_id:s.entry_id,status:!0})},getWaked({commit:e},s){e("setDismissed",{entry_id:s.entry_id,status:!1})},close(e,s){y.$socket.emit("server.announcements.dismiss",{entry_id:s.entry_id})},dismiss(e,s){y.$socket.emit("server.announcements.dismiss",{entry_id:s.entry_id,wake_time:s.time})}},dde={reset(e){Object.assign(e,qT())},setEntries(e,s){y.set(e,"entries",s)},setFeeds(e,s){y.set(e,"feeds",s)},setDismissed(e,s){const t=[...e.entries],r=t.findIndex(i=>i.entry_id===s.entry_id);r>-1&&(t[r].dismissed=s.status,s.status?t[r].date_dismissed=new Date:(t[r].date_dismissed=null,t[r].dismiss_wake=null)),y.set(e,"entries",t)}},hde={getAnnouncements:e=>e.entries.filter(s=>!s.dismissed)},qT=()=>({entries:[],feeds:[]}),mde=qT(),pde={namespaced:!0,state:mde,getters:hde,actions:ude,mutations:dde};function Jn(e){var s,t,r,i;return((t=(s=e.error)==null?void 0:s.message)!=null?t:null)!==null?(y.$toast.error((i=(r=e.error)==null?void 0:r.message)!=null?i:"unknown spoolman error"),null):"response"in e?e.response:e}const fde={reset({commit:e}){e("reset")},init({dispatch:e}){y.$socket.emit("server.spoolman.get_spool_id",{},{action:"server/spoolman/getActiveSpoolId"}),y.$socket.emit("server.spoolman.proxy",{request_method:"GET",path:"/v1/info",use_v2_response:!0},{action:"server/spoolman/getInfo"}),y.$socket.emit("server.spoolman.proxy",{request_method:"GET",path:"/v1/health",use_v2_response:!0},{action:"server/spoolman/getHealth"}),y.$socket.emit("server.spoolman.proxy",{request_method:"GET",path:"/v1/vendor",use_v2_response:!0},{action:"server/spoolman/getVendors"}),e("socket/addInitModule","server/spoolman/getActiveSpoolId",{root:!0}),e("socket/addInitModule","server/spoolman/getHealth",{root:!0}),e("socket/addInitModule","server/spoolman/getInfo",{root:!0}),e("socket/addInitModule","server/spoolman/getVendors",{root:!0}),e("socket/removeInitModule","server/spoolman/init",{root:!0})},getActiveSpoolId({commit:e,dispatch:s},t){if(e("setActiveSpoolId",t.spool_id),s("socket/removeInitModule","server/spoolman/getActiveSpoolId",{root:!0}),[null,0].includes(t.spool_id)){e("setActiveSpool",null);return}y.$socket.emit("server.spoolman.proxy",{request_method:"GET",use_v2_response:!0,path:"/v1/spool/".concat(t.spool_id)},{action:"server/spoolman/getActiveSpool"})},getActiveSpool({commit:e},s){"requestParams"in s&&delete s.requestParams,s=Jn(s),s!==null&&e("setActiveSpool",s)},getHealth({commit:e,dispatch:s},t){delete t.requestParams,s("socket/removeInitModule","server/spoolman/getHealth",{root:!0}),t=Jn(t),t!==null&&e("setHealth",t.status)},getInfo({commit:e,dispatch:s},t){delete t.requestParams,s("socket/removeInitModule","server/spoolman/getInfo",{root:!0}),t=Jn(t),t!==null&&e("setInfo",t)},getVendors({commit:e,dispatch:s},t){delete t.requestParams,s("socket/removeInitModule","server/spoolman/getVendors",{root:!0}),t=Jn(t),t!==null&&e("setVendors",Object.entries(t).map(r=>r))},refreshSpools({dispatch:e}){y.$socket.emit("server.spoolman.proxy",{request_method:"GET",path:"/v1/spool"},{action:"server/spoolman/getSpools"}),e("socket/addLoading","refreshSpools",{root:!0})},getSpools({commit:e,dispatch:s},t){if("requestParams"in t&&delete t.requestParams,s("socket/removeLoading","refreshSpools",{root:!0}),t=Jn(t),t===null)return;const r=Object.entries(t).map(i=>i[1]);e("setSpools",r)},setActiveSpool(e,s){const t={};s!==null&&(t.spool_id=s),y.$socket.emit("server.spoolman.post_spool_id",t)},refreshActiveSpool({state:e}){e.active_spool_id!==null&&y.$socket.emit("server.spoolman.proxy",{request_method:"GET",path:"/v1/spool/".concat(e.active_spool_id)},{action:"server/spoolman/getActiveSpool"})}},gde={reset(e){Object.assign(e,ZT())},setActiveSpoolId(e,s){y.set(e,"active_spool_id",s)},setActiveSpool(e,s){y.set(e,"active_spool",s)},setHealth(e,s){y.set(e,"health",s)},setInfo(e,s){y.set(e,"info",s)},setVendors(e,s){y.set(e,"vendors",s)},setSpools(e,s){y.set(e,"spools",s)}},_de={},ZT=()=>({health:"",info:{automatic_backups:!1,backups_dir:"",data_dir:"",debug_mode:!1,version:""},active_spool_id:null,active_spool:null,vendors:[],feeds:[]}),vde=ZT(),bde={namespaced:!0,state:vde,getters:_de,actions:fde,mutations:gde},yde={reset({commit:e}){e("reset")},init(){y.$socket.emit("server.sensors.list",{},{action:"server/sensor/getSensors"})},getSensors({commit:e,dispatch:s},t){e("setSensors",t.sensors),s("socket/removeInitModule","server/sensor/init",{root:!0})},updateSensors({commit:e},s){Object.keys(s).forEach(t=>{e("updateSensor",{key:t,value:s[t]})})}},Cde={reset(e){Object.assign(e,YT())},setSensors(e,s){y.set(e,"sensors",s)},updateSensor(e,s){s.key in e.sensors&&y.set(e.sensors[s.key],"values",s.value)}},$de={getSensors:e=>Object.keys(e.sensors)},YT=()=>({sensors:{}}),xde=YT(),Sde={namespaced:!0,state:xde,getters:$de,actions:yde,mutations:Cde},XT=()=>({klippy_connected:!1,klippy_connected_timer:null,klippy_state:"",klippy_state_timer:null,klippy_message:"",components:[],failed_components:[],failed_init_components:[],warnings:[],registered_directories:[],events:[],config:{},system_info:null,system_boot_at:null,cpu_temp:0,moonraker_stats:null,throttled_state:{bits:0,flags:[]},network_stats:{},system_cpu_usage:{},dbNamespaces:[],websocket_count:0,moonraker_version:""}),wde=XT(),Pde={namespaced:!0,state:wde,getters:jue,actions:Rue,mutations:Hue,modules:{power:Bue,updateManager:Zue,history:Que,timelapse:ide,jobQueue:cde,announcements:pde,spoolman:bde,sensor:Sde}},Tde={reset({commit:e}){e("reset"),e("tempHistory/reset"),e("socket/clearLoadings",null,{root:!0})},init({dispatch:e}){window.console.debug("init printer"),e("reset"),e("socket/addInitModule","printer/info",{root:!0}),e("socket/addInitModule","printer/initSubscripts",{root:!0}),e("socket/addInitModule","printer/initTempHistory",{root:!0}),e("socket/addInitModule","server/gcode_store",{root:!0}),y.$socket.emit("printer.info",{},{action:"printer/getInfo"}),y.$socket.emit("server.gcode_store",{},{action:"server/getGcodeStore"}),e("initSubscripts")},getInfo({commit:e,dispatch:s},t){var r;e("server/setData",{klippy_state:t.state,klippy_message:t.state_message},{root:!0}),e("setData",{app_name:(r=t.app)!=null?r:null,hostname:t.hostname,software_version:t.software_version,cpu_info:t.cpu_info}),s("socket/removeInitModule","printer/info",{root:!0})},async initSubscripts({dispatch:e}){const s=await y.$socket.emitAndWait("printer.objects.list");let t={};const r=["menu"];if(s.objects.forEach(i=>{const n=i.split(" ");r.includes(n[0])||(t={...t,[i]:null})}),Object.keys(t).length>0){const i=await y.$socket.emitAndWait("printer.objects.subscribe",{objects:t},{});"screws_tilt_adjust"in i.status&&(i.status.screws_tilt_adjust.error=!1,i.status.screws_tilt_adjust.results={}),e("getData",i),setTimeout(()=>{e("initExtruderCanExtrude")},200)}y.$socket.emit("server.temperature_store",{include_monitors:!0},{action:"printer/tempHistory/init"}),e("socket/removeInitModule","printer/initSubscripts",{root:!0})},getData({commit:e,dispatch:s,state:t},r){var i,n,a,o,l,c,u,d,h,m;"status"in r&&(r=r.status),"requestParams"in r&&delete r.requestParams,"webhooks"in r&&(this.dispatch("server/getData",{klippy_state:r.webhooks.state,klippy_message:r.webhooks.state_message},{root:!0}),delete r.webhooks),"bed_mesh"in t&&"bed_mesh"in r&&"profiles"in r.bed_mesh&&(e("setBedMeshProfiles",r.bed_mesh.profiles),delete r.bed_mesh.profiles),(a=(n=(i=r.configfile)==null?void 0:i.settings)==null?void 0:n.printer)!=null&&a.kinematics&&s("gui/updateGcodeviewerCache",{kinematics:(c=(l=(o=r.configfile)==null?void 0:o.settings)==null?void 0:l.printer)==null?void 0:c.kinematics},{root:!0}),(u=r.toolhead)!=null&&u.axis_maximum&&s("gui/updateGcodeviewerCache",{axis_maximum:(d=r.toolhead)==null?void 0:d.axis_maximum},{root:!0}),(h=r.toolhead)!=null&&h.axis_minimum&&s("gui/updateGcodeviewerCache",{axis_minimum:(m=r.toolhead)==null?void 0:m.axis_minimum},{root:!0}),e("setData",r)},async initGcodes({commit:e}){const s=await y.$socket.emitAndWait("printer.objects.query",{objects:{gcode:["commands"]}},{});e("setData",s.status)},async initExtruderCanExtrude({dispatch:e,state:s}){const t=Object.keys(s).filter(n=>n.startsWith("extruder")),r={};t.forEach(n=>{r[n]=["can_extrude"]});const i=await y.$socket.emitAndWait("printer.objects.query",{objects:r},{});e("getData",i.status)},getEndstopStatus({commit:e},s){e("setEndstopStatus",s)},removeBedMeshProfile({commit:e},s){e("removeBedMeshProfile",s)},sendGcode({dispatch:e},s){if(e("server/addEvent",{message:s,type:"command"},{root:!0}),s.toLowerCase().trim()==="m112"){y.$socket.emit("printer.emergency_stop",{},{loading:"sendGcode"});return}y.$socket.emit("printer.gcode.script",{script:s},{loading:"sendGcode"})},clearScrewsTiltAdjust({commit:e}){e("clearScrewsTiltAdjust")}},Dde={reset(e){const s=KT();for(const t of Object.keys(e))!(t in s)&&t!=="tempHistory"&&delete e[t];for(const[t,r]of Object.entries(s))y.set(e,t,r)},setData(e,s){Object.keys(s).forEach(t=>{const r=s[t];if(typeof r!="object"||r===null||!(t in e)){y.set(e,t,r);return}typeof r=="object"&&Object.keys(r).forEach(i=>{y.set(e[t],i,r[i])})})},setBedMeshProfiles(e,s){"bed_mesh"in e&&y.set(e.bed_mesh,"profiles",s)},clearCurrentFile(e){y.set(e,"current_file",{})},setEndstopStatus(e,s){delete s.requestParams,y.set(e,"endstops",s)},removeBedMeshProfile(e,s){"bed_mesh "+s.name in e.configfile.config&&Object.assign(e.configfile.config["bed_mesh "+s.name],{deleted:!0})},clearScrewsTiltAdjust(e){y.set(e.screws_tilt_adjust,"error",!1),y.set(e.screws_tilt_adjust,"results",{})}},Mde={getPrintPercent:(e,s,t)=>{var i,n,a;switch((a=(n=(i=t==null?void 0:t.gui)==null?void 0:i.general)==null?void 0:n.calcPrintProgress)!=null?a:"file-relative"){case"file-relative":return s.getPrintPercentByFilepositionRelative;case"file-absolute":return s.getPrintPercentByFilepositionAbsolute;case"slicer":return s.getPrintPercentBySlicer;case"filament":return s.getPrintPercentByFilament;default:return s.getPrintPercentByFilepositionRelative}},getPrintPercentByFilepositionRelative:e=>{var s,t,r,i,n;if((s=e.current_file)!=null&&s.filename&&((t=e.current_file)!=null&&t.gcode_start_byte)&&((r=e.current_file)!=null&&r.gcode_end_byte)&&e.current_file.filename===e.print_stats.filename){if(e.virtual_sdcard.file_position<=e.current_file.gcode_start_byte)return 0;if(e.virtual_sdcard.file_position>=e.current_file.gcode_end_byte)return 1;const a=e.virtual_sdcard.file_position-e.current_file.gcode_start_byte,o=e.current_file.gcode_end_byte-e.current_file.gcode_start_byte;if(a>0&&o>0)return 1/o*a}return(n=(i=e.virtual_sdcard)==null?void 0:i.progress)!=null?n:0},getPrintPercentByFilepositionAbsolute:e=>{var s,t;return(t=(s=e.virtual_sdcard)==null?void 0:s.progress)!=null?t:0},getPrintPercentBySlicer:e=>{var s,t;return(t=(s=e.display_status)==null?void 0:s.progress)!=null?t:0},getPrintPercentByFilament:e=>{var r,i,n,a,o,l;const s=(i=(r=e.print_stats)==null?void 0:r.filament_used)!=null?i:null,t=(a=(n=e.current_file)==null?void 0:n.filament_total)!=null?a:null;if(s!==null&&t!==null){if(t==0)return 0;const c=s/t;return c>1?1:c}return(l=(o=e.virtual_sdcard)==null?void 0:o.progress)!=null?l:0},getPrintMaxLayers:e=>{var s,t,r,i,n,a,o;if(((r=(t=(s=e.print_stats)==null?void 0:s.info)==null?void 0:t.total_layer)!=null?r:null)!==null)return e.print_stats.info.total_layer;if((i=e.current_file)!=null&&i.layer_count)return e.current_file.layer_count;if(((n=e.current_file)==null?void 0:n.first_layer_height)!==void 0&&((a=e.current_file)==null?void 0:a.layer_height)!==void 0&&((o=e.current_file)==null?void 0:o.object_height)!==void 0){const l=Math.ceil((e.current_file.object_height-e.current_file.first_layer_height)/e.current_file.layer_height+1);return l>0?l:0}return 0},getPrintCurrentLayer:(e,s)=>{var t,r,i,n,a,o,l,c;if(((i=(r=(t=e.print_stats)==null?void 0:t.info)==null?void 0:r.current_layer)!=null?i:null)!==null)return e.print_stats.info.current_layer;if(((n=e.print_stats)==null?void 0:n.print_duration)>0&&((a=e.current_file)==null?void 0:a.first_layer_height)!==void 0&&((o=e.current_file)==null?void 0:o.layer_height)!==void 0){const u=(c=(l=e.gcode_move)==null?void 0:l.gcode_position[2])!=null?c:0,d=Math.ceil((u-e.current_file.first_layer_height)/e.current_file.layer_height+1);if(d>s.getPrintMaxLayers)return s.getPrintMaxLayers;if(d>0)return d}return 0},getPrinterObjects:e=>s=>{var r,i,n,a;const t=[];for(const[o,l]of Object.entries(e)){let c=o.substring(0,o.indexOf(" ")).trimEnd(),u=o.substring(o.indexOf(" ")+1).trimStart();o.indexOf(" ")===-1&&(c=u=o),s.includes(c)&&t.push({name:u,type:c,state:{...l},config:(i=(r=e.configfile)==null?void 0:r.config[o])!=null?i:{},settings:(a=(n=e.configfile)==null?void 0:n.settings[o.toLowerCase()])!=null?a:{}})}return t},getMacros:e=>{var a,o,l,c;const s=[],t=(o=(a=e.configfile)==null?void 0:a.settings)!=null?o:null,r=(c=(l=e.gcode)==null?void 0:l.commands)!=null?c:{},i="gcode_macro ",n=i.length;return Object.keys(e).filter(u=>u.toLowerCase().startsWith(i)).forEach(u=>{var b,$,P,D;const d=u.slice(n),h=(b=r[d.toUpperCase()])!=null?b:{};if(d.startsWith("_"))return;const m=u.toLowerCase(),p=($=t[m])!=null?$:{};if("rename_existing"in p)return;const f=(P=e[u])!=null?P:{};s.push({name:d,description:(D=h==null?void 0:h.help)!=null?D:null,prop:p,params:m6(p),variables:f})}),Rt(s,"name")},getMacro:(e,s)=>t=>{const r=t.toLowerCase();return s.getMacros.find(i=>i.name.toLowerCase()===r)},getPartFanSpeed:e=>"fan"in e?e.fan.speed:0,getFans:(e,s)=>{const t=[],r=["temperature_fan","controller_fan","heater_fan","fan_generic","fan"],i=s.getPrinterObjects(r),n=["fan_generic","fan"];return i.foreach(a=>{var o;t.push({name:a.name,type:a.type,speed:(o=a.state.speed)!=null?o:0,controllable:n.includes(a.type)})}),t.sort((a,o)=>{if(a.controllable<o.controllable)return 1;if(a.controllable>o.controllable)return-1;const l=a.name.toUpperCase(),c=o.name.toUpperCase();return l<c?-1:l>c?1:0})},getLights:(e,s)=>{const t=[],r=["dotstar","led","neopixel","pca9533","pca9632"];return s.getPrinterObjects(r).filter(n=>!n.name.startsWith("_")).forEach(n=>{var m,p,f,b,$,P,D,R,k,S,L;let a="RGB",o=null;const l=(m=n.state.color_data)!=null?m:[];"color_order"in n.settings&&(typeof n.settings.color_order=="string"?a=n.settings.color_order:Array.isArray(n.settings.color_order)&&n.settings.color_order.length>0&&(a=n.settings.color_order[0])),n.type==="led"&&(a="","red_pin"in n.config&&(a+="R"),"green_pin"in n.config&&(a+="G"),"blue_pin"in n.config&&(a+="B"),"white_pin"in n.config&&(a+="W"));let c=(p=n.settings.initial_red)!=null?p:null;"initial_red"in n.config||(c=null);let u=(f=n.settings.initial_green)!=null?f:null;"initial_green"in n.config||(u=null);let d=(b=n.settings.initial_blue)!=null?b:null;"initial_blue"in n.config||(d=null);let h=($=n.settings.initial_white)!=null?$:null;if("initial_white"in n.config||(h=null),n.type==="led"&&a.length===1){const I=(P=l[0])!=null?P:[];switch(a){case"R":o=(D=I[0])!=null?D:0;break;case"G":o=(R=I[1])!=null?R:0;break;case"B":o=(k=I[2])!=null?k:0;break;case"W":o=(S=I[3])!=null?S:0;break}}t.push({name:n.name,type:n.type,chainCount:(L=n.settings.chain_count)!=null?L:1,colorOrder:a,initialRed:c,initialGreen:u,initialBlue:d,initialWhite:h,colorData:l,singleChannelTarget:o})}),t.sort((n,a)=>{const o=n.name.toUpperCase(),l=a.name.toUpperCase();return o<l?-1:o>l?1:0})},getMiscellaneous:e=>{var i,n,a,o,l,c;const s=[],t=["controller_fan","heater_fan","fan_generic","fan","output_pin","pwm_tool","pwm_cycle_time"],r=["fan_generic","fan"];for(const[u,d]of Object.entries(e)){const h=u.split(" ");if(t.includes(h[0])){const m=h.length>1?h[1]:h[0];if(!m.startsWith("_")){let p=r.includes(h[0].toLowerCase());const f=(n=(i=e.configfile)==null?void 0:i.settings[u.toLowerCase()])!=null?n:{},b="speed"in d?d.speed:"value"in d?d.value:0,$="rpm"in d?d.rpm:null;let P=p,D=1;h[0].toLowerCase()==="fan"&&(D=255),["output_pin","pwm_tool","pwm_cycle_time"].includes(h[0])&&(p=!0,P=!1,"pwm"in f&&(P=(a=f==null?void 0:f.pwm)!=null?a:!1),["pwm_tool","pwm_cycle_time"].includes(h[0])&&(P=!0),"scale"in f&&(D=(o=f==null?void 0:f.scale)!=null?o:1));const R={name:m,type:h[0],power:b,controllable:p,pwm:P,rpm:$,scale:D,object:d,config:f,off_below:void 0,max_power:void 0};"configfile"in e&&"settings"in e.configfile&&u.toLowerCase()in e.configfile.settings&&("off_below"in f&&(R.off_below=(l=f==null?void 0:f.off_below)!=null?l:0),"max_power"in f&&(R.max_power=(c=f==null?void 0:f.max_power)!=null?c:1)),s.push(R)}}}return s.sort((u,d)=>{if(u.type==="fan")return-1;if(d.type==="fan"||u.pwm<d.pwm)return 1;if(u.pwm>d.pwm)return-1;if(u.controllable<d.controllable)return 1;if(u.controllable>d.controllable)return-1;const h=u.name.toUpperCase(),m=d.name.toUpperCase();return h<m?-1:h>m?1:0})},getAvailableHeaters:e=>{var s,t;return(t=(s=e.heaters)==null?void 0:s.available_heaters)!=null?t:[]},getAvailableSensors:e=>{var s,t;return(t=(s=e.heaters)==null?void 0:s.available_sensors)!=null?t:[]},getAvailableMonitors:e=>{var s,t;return(t=(s=e.heaters)==null?void 0:s.available_monitors)!=null?t:[]},getFilamentSensors:e=>{const s=["filament_switch_sensor","filament_motion_sensor"],t=[];for(const[r,i]of Object.entries(e)){const n=r.split(" ");s.includes(n[0])&&t.push({name:n[1],enabled:i.enabled,filament_detected:i.filament_detected})}return Rt(t,"name")},getMcus:(e,s)=>{const t=[];return Object.keys(e).forEach(r=>{var i,n,a,o,l,c,u,d,h,m,p,f;if(r==="mcu"||r.startsWith("mcu ")){const b=e[r];let $=((i=b.mcu_version)!=null?i:"unknown").split("-").slice(0,4).join("-");"app"in b&&b.app!=="Klipper"&&($=b.app+" "+$);let P=0;(n=b.last_stats)!=null&&n.mcu_task_avg&&((a=b.last_stats)!=null&&a.mcu_task_stddev)&&(P=b.last_stats.mcu_task_avg+3*((o=b.last_stats)==null?void 0:o.mcu_task_stddev)/.0025);let D="primary";P>.95?D="error":P>.8&&(D="warning"),t.push({name:r,mcu_constants:b.mcu_constants,last_stats:b.last_stats,version:$,chip:(c=(l=b.mcu_constants)==null?void 0:l.MCU)!=null?c:null,freq:(d=(u=b.last_stats)==null?void 0:u.freq)!=null?d:null,freqFormat:d6((m=(h=b.last_stats)==null?void 0:h.freq)!=null?m:0),awake:(((f=(p=b.last_stats)==null?void 0:p.mcu_awake)!=null?f:0)/5).toFixed(2),load:P.toFixed(2),loadPercent:P<1?Math.round(P*100):100,loadProgressColor:D,tempSensor:s.getMcuTempSensor(r)})}}),t},getPrinterObject:e=>s=>s in e?e[s]:null,getPrinterConfigObjects:e=>s=>{var r;const t={};return(r=e.configfile)!=null&&r.settings&&Object.keys(e.configfile.settings).forEach(i=>{const n=i.split(" ");s.includes(n[0])&&(t[i]=e.configfile.settings[i])}),t},getHostTempSensor:(e,s)=>{const t=["rpi_temperature","temperature_host"],r=["temperature_sensor","temperature_fan"];let i=null;const n=s.getPrinterConfigObjects(r);return Object.keys(n).forEach(a=>{var c,u,d;const o=n[a],l=Object.keys(e).find(h=>h.toLowerCase()===a.toLowerCase())||"";if("sensor_type"in o&&t.includes(o.sensor_type)&&l in e){const h=e[l];i={temperature:(c=h.temperature)==null?void 0:c.toFixed(0),measured_min_temp:(u=h.measured_min_temp)==null?void 0:u.toFixed(1),measured_max_temp:(d=h.measured_max_temp)==null?void 0:d.toFixed(1)}}}),i},getMcuTempSensors:(e,s)=>{const t=["temperature_sensor","temperature_fan"],r=[],i=s.getPrinterConfigObjects(t);return Object.keys(i).forEach(n=>{const a=i[n],o=Object.keys(e).find(l=>l.toLowerCase()===n.toLowerCase())||"";"sensor_type"in a&&a.sensor_type==="temperature_mcu"&&"sensor_mcu"in a&&r.push({key:o,settings:a,object:o in e?e[o]:{}})}),r},getMcuTempSensor:(e,s)=>t=>{let r=null;return s.getMcuTempSensors.forEach(n=>{var a,o,l,c,u,d;t.endsWith((a=n.settings)==null?void 0:a.sensor_mcu)&&((o=n.object)!=null&&o.temperature)&&(r={temperature:n.object.temperature.toFixed(0),measured_min_temp:(c=(l=n.object.measured_min_temp)==null?void 0:l.toFixed(1))!=null?c:null,measured_max_temp:(d=(u=n.object.measured_max_temp)==null?void 0:u.toFixed(1))!=null?d:null})}),r},getExtruders:e=>{var t,r;const s=[];return(t=e.configfile)!=null&&t.settings&&Object.keys((r=e.configfile)==null?void 0:r.settings).filter(i=>i.match(/^(extruder)\d?$/g)).sort().forEach(i=>{var a;const n=(a=e.configfile)==null?void 0:a.settings[i];s.push({key:i,name:"Extruder ".concat(i=="extruder"?"0":i.replace("extruder","")),filamentDiameter:n.filament_diameter,nozzleDiameter:n.nozzle_diameter,minExtrudeTemp:n.min_extrude_temp,maxExtrudeOnlyDistance:n.max_extrude_only_distance})}),s},getExtruderSteppers:e=>{var t,r;const s=[];return(t=e.configfile)!=null&&t.settings&&Object.keys((r=e.configfile)==null?void 0:r.settings).filter(i=>i.match(/^extruder_stepper/g)).sort().forEach(i=>{var a;const n=(a=e.configfile)==null?void 0:a.settings[i];s.push({key:i,name:i.replace("extruder_stepper ",""),extruder:n.extruder})}),s},getExtrudePossible:e=>{var t,r,i,n;const s=(r=(t=e.toolhead)==null?void 0:t.extruder)!=null?r:"extruder";return(n=(i=e[s])==null?void 0:i.can_extrude)!=null?n:!1},getBedMeshProfileName:e=>"bed_mesh"in e&&"profile_name"in e.bed_mesh?e.bed_mesh.profile_name:"",getMaxTemp:e=>{var t,r;let s=0;return(r=(t=e.heaters)==null?void 0:t.available_sensors)==null||r.forEach(i=>{var a;const n=(a=e.configfile)==null?void 0:a.settings[i];n&&"max_temp"in n&&Math.round(n.max_temp)>s&&Math.round(n.max_temp)<1e4&&(s=Math.round(n.max_temp))}),s>0?s+10:300},existPrinterConfig:e=>{var s;return(s=e.configfile)!=null&&s.config?Object.keys(e.configfile.config).length>0:!1},checkConfig:e=>s=>e.configfile.config?Object.keys(e.configfile.config).findIndex(r=>r.toLowerCase()===s.toLowerCase())!==-1:!1,checkNecessaryConfig:(e,s)=>{const t=[];return dM.forEach(r=>{s.checkConfig(r)||t.push(r)}),!s.checkConfig("display")&&!s.checkConfig("display_status")&&t.push("display_status"),t},getEstimatedTimeFile:(e,s)=>"print_stats"in e&&"print_duration"in e.print_stats&&e.print_stats.print_duration>0&&s.getPrintPercent>0?(e.print_stats.print_duration/s.getPrintPercent-e.print_stats.print_duration).toFixed(0):0,getEstimatedTimeFilament:e=>"print_stats"in e&&"print_duration"in e.print_stats&&"filament_used"in e.print_stats&&"current_file"in e&&"filament_total"in e.current_file&&e.print_stats.print_duration>0&&e.current_file.filament_total>0&&e.current_file.filament_total>e.print_stats.filament_used?(e.print_stats.print_duration/(e.print_stats.filament_used/e.current_file.filament_total)-e.print_stats.print_duration).toFixed(0):0,getEstimatedTimeSlicer:e=>"print_stats"in e&&"print_duration"in e.print_stats&&"current_file"in e&&"estimated_time"in e.current_file&&e.print_stats.print_duration>0&&e.current_file.estimated_time>0?(e.current_file.estimated_time-e.print_stats.print_duration).toFixed(0):0,getEstimatedTimeAvg:(e,s,t)=>{var o,l,c,u,d,h,m,p;let r=0,i=0;const n=(u=(c=(l=(o=t.gui)==null?void 0:o.general)==null?void 0:l.calcEstimateTime)==null?void 0:c.includes("file"))!=null?u:!1,a=(p=(m=(h=(d=t.gui)==null?void 0:d.general)==null?void 0:h.calcEstimateTime)==null?void 0:m.includes("filament"))!=null?p:!1;return n&&s.getEstimatedTimeFile>0&&(r+=parseInt(s.getEstimatedTimeFile),i++),a&&s.getEstimatedTimeFilament>0&&(r+=parseInt(s.getEstimatedTimeFilament),i++),r&&i?r/i:0},getEstimatedTimeETA:(e,s,t)=>{var l,c,u,d,h,m,p,f,b,$,P,D;let r=0,i=0;const n=(d=(u=(c=(l=t.gui)==null?void 0:l.general)==null?void 0:c.calcEtaTime)==null?void 0:u.includes("file"))!=null?d:!1,a=(f=(p=(m=(h=t.gui)==null?void 0:h.general)==null?void 0:m.calcEtaTime)==null?void 0:p.includes("filament"))!=null?f:!1,o=(D=(P=($=(b=t.gui)==null?void 0:b.general)==null?void 0:$.calcEtaTime)==null?void 0:P.includes("slicer"))!=null?D:!1;return n&&s.getEstimatedTimeFile>0&&(r+=parseInt(s.getEstimatedTimeFile),i++),a&&s.getEstimatedTimeFilament>0&&(r+=parseInt(s.getEstimatedTimeFilament),i++),o&&s.getEstimatedTimeSlicer>0&&(r+=parseInt(s.getEstimatedTimeSlicer),i++),r&&i?Math.round(Date.now()+r/i*1e3):0},getEstimatedTimeETAFormat:(e,s,t,r)=>{var h;const i=(h=r["gui/getHours12Format"])!=null?h:!1,n=s.getEstimatedTimeETA;if(n===0)return"--";const a=new Date(n);let o=!0,l=a.getHours();i&&l>11&&(o=!1),i&&l>12&&(l-=12),i&&l==0&&(l+=12),l<10&&(l="0"+l);const c=a.getMinutes()>=10?a.getMinutes():"0"+a.getMinutes(),u=n-new Date().getTime();let d=l+":"+c;return i&&(d+=" ".concat(o?"AM":"PM")),u>60*60*24*1e3&&(d+="+".concat(Math.trunc(u/(60*60*24*1e3)))),d},getKinematics:e=>{var s,t,r,i,n;return(t=(s=e.configfile)==null?void 0:s.settings)!=null&&t.printer?(n=(i=(r=e.configfile)==null?void 0:r.settings)==null?void 0:i.printer.kinematics)!=null?n:"none":!1},existsQGL:e=>{var s;return(s=e.configfile)!=null&&s.settings?"quad_gantry_level"in e.configfile.settings:!1},existsZtilt:e=>{var r,i,n,a;const s=(i=(r=e.gcode)==null?void 0:r.commands)!=null?i:null;if(s)return"Z_TILT_ADJUST"in s;const t=(a=(n=e.configfile)==null?void 0:n.settings)!=null?a:null;return t?"z_tilt"in t:!1},existsBedTilt:e=>{var s;return(s=e.configfile)!=null&&s.settings?"bed_tilt"in e.configfile.settings:!1},existsBedScrews:e=>{var s;return(s=e.configfile)!=null&&s.settings?"bed_screws"in e.configfile.settings:!1},existsDeltaCalibrate:e=>{var s;return(s=e.configfile)!=null&&s.settings?"delta_calibrate"in e.configfile.settings:!1},existsScrewsTilt:e=>{var s;return(s=e.configfile)!=null&&s.settings?"screws_tilt_adjust"in e.configfile.settings:!1},existsFirmwareRetraction:e=>{var s;return(s=e.configfile)!=null&&s.settings?"firmware_retraction"in e.configfile.settings:!1}},Ede={reset({commit:e,state:s}){s.updateSourceInterval!==null&&clearInterval(s.updateSourceInterval),e("reset")},init({commit:e,rootGetters:s,dispatch:t},r){var c,u,d;window.console.debug("init printer/tempHistory"),t("reset");const i=new Date,n=(c=s["printer/getAvailableHeaters"])!=null?c:[],a=(u=s["printer/getAvailableSensors"])!=null?u:[],o=(d=s["printer/getAvailableMonitors"])!=null?d:[],l=s["printer/tempHistory/getTemperatureStoreSize"];if(r!==void 0){"requestParams"in r&&delete r.requestParams;const h=Object.keys(r),m={};h.forEach(k=>{let S=k;if(S.indexOf(" ")!==-1&&(S=S.substring(S.indexOf(" ")+1)),!(a.includes(k)||o.includes(k))||S.startsWith("_")){delete r[k];return}const L=r[k];ta.forEach(I=>{if(I+"s"in L){const N=l-L[I+"s"].length;L[I+"s"]=[...Array.from({length:N},()=>null),...L[I+"s"]]}}),m[k]={...L}}),a.concat(o).forEach(k=>{if(k in r)return;let S=k,L=k;const I=k.indexOf(" ");if(I!==-1&&(S=k.substring(I+1),L=k.substring(0,I)),S.startsWith("_"))return;const N={temperatures:Array(l).fill(null)};n.includes(k)?(N.targets=Array(l).fill(null),N.powers=Array(l).fill(null)):["temperature_fan"].includes(L)&&(N.targets=Array(l).fill(null),N.speeds=Array(l).fill(null)),m[k]={...N}});const f=[];for(let k=0;k<l;k++){const S={date:new Date(i.getTime()-1e3*(l-k))};Object.keys(m).forEach(L=>{ta.forEach(I=>{const N="".concat(I,"s");N in m[L]&&(S["".concat(L,"-").concat(I)]=m[L][N][k])})}),f.push(S)}e("setInitSource",f);const b=Object.keys(f[0]).filter(k=>k!=="date"),$=b.filter(k=>k.endsWith("-temperature")).map(k=>k.slice(0,k.length-12)).sort(),P=[];let D=0;$.forEach(k=>{let S=s["gui/getDatasetValue"]({name:k,type:"color"});S||(k==="heater_bed"&&(S=oM),k.endsWith(" chamber")&&(S=lM),S||(S=aM[D],D++,S===void 0&&(S="#"+Math.floor(16777215*Math.random()).toString(16))));const L={id:P.length+1,color:S,type:"line",name:"".concat(k,"-temperature"),encode:{x:"date",y:"".concat(k,"-temperature")},animation:!1,yAxisIndex:0,lineStyle:{color:S,width:2,opacity:.9},showSymbol:!1,emphasis:{lineStyle:{color:S,width:2,opacity:.9}}};P.push(L),ta.forEach(I=>{if(I==="temperature")return;const N=k+"-"+I;if(!b.includes(N))return;const G=JSON.parse(JSON.stringify(L));G.id=P.length+1,G.name=N,G.encode.y=N,I==="target"&&(G.lineStyle.width=0,G.emphasis.lineStyle.width=0,G.areaStyle={color:S,opacity:.1},G.emphasis.areaStyle={color:S,opacity:.1}),_a.includes(I)&&(G.yAxisIndex=1,G.lineStyle.width=1.5,G.lineStyle.opacity=.75,G.lineStyle.type="dotted",G.emphasis.lineStyle.width=1.5,G.emphasis.lineStyle.opacity=.75,G.emphasis.lineStyle.type="dotted"),P.push(G)})}),e("setInitSeries",P);const R=setInterval(()=>{t("updateSource")},cM);e("setUpdateSourceInterval",R)}t("socket/removeInitModule","printer/initTempHistory",{root:!0})},async updateSource({commit:e,rootState:s,rootGetters:t,state:r}){var o,l;const i=(o=t["printer/getAvailableSensors"])!=null?o:[],n=(l=t["printer/getAvailableMonitors"])!=null?l:[],a=i.concat(n);if(a.length){const c=new Date;if(r.source.length){const d=r.source[r.source.length-1],h=d.date.getSeconds(),m=c.getSeconds(),p=c.getTime()-d.date.getTime();if(h===m&&p<1e3)return}const u={date:c};a.forEach(d=>{if(!(s.printer&&d in s.printer))return;const h={...s.printer[d]};ta.forEach(m=>{if(!(m in h))return;let p=h[m];p!==null&&(p=Math.round(h[m]*10)/10),_a.includes(m)&&(p=Math.round(h[m]*1e3)/1e3),u["".concat(d,"-").concat(m)]=p})}),e("addToSource",{data:u,maxHistory:t["printer/tempHistory/getTemperatureStoreSize"]})}},setColor({commit:e},s){e("setColor",s)}},Ode={reset(e){Object.assign(e,JT())},setInitSource(e,s){y.set(e,"source",s)},setInitSeries(e,s){y.set(e,"series",s)},addToSource(e,s){const t=[...e.source];for(t.push(s.data);t.length>s.maxHistory;)t.splice(0,1);y.set(e,"source",t)},saveLastDate(e,s){y.set(e,"timeLastUpdate",s)},setUpdateSourceInterval(e,s){y.set(e,"updateSourceInterval",s)},setColor(e,s){e.series.filter(t=>s.name===t.name||t.name.startsWith(s.name+"-")).forEach(t=>{var r;if(t.color=s.value,t.lineStyle.color=s.value,t.emphasis.lineStyle.color=s.value,t.name.endsWith("-target")){const i=t.areaStyle;i&&(i.color=s.value);const n=(r=t.emphasis)==null?void 0:r.areaStyle;n&&(n.color=s.value)}})}},Lde={getDatasetColor:(e,s)=>t=>{var i,n;const r=s.getSeries("".concat(t,"-temperature"));return(n=(i=r==null?void 0:r.lineStyle)==null?void 0:i.color)!=null?n:null},getSeries:e=>s=>e.series.find(t=>t.name===s),getSerieNames:e=>s=>{const t=[];return e.series.map(i=>i.name).filter(i=>i.startsWith("".concat(s,"-"))).forEach(i=>{t.push(i.slice(s.length+1))}),t},getBoolDisplayPwmAxis:(e,s)=>{const t=s.getSelectedLegends;return Object.keys(t).find(r=>t[r]===!0&&(r.endsWith("-power")||r.endsWith("-speed")))!==void 0},getAvg:e=>(s,t)=>{const r=t&&t!=="temperature"?s+"-"+t:s,i=new Date().getTime()-1e3*60;let n=0,a=0;return e.source.filter(o=>o.date>i).forEach(o=>{r in o&&(n+=o[r],a++)}),a&&_a.includes(t)?n/a*100:a?n/a:0},getAvgPower:(e,s)=>t=>s.getAvg(t,"power"),getAvgSpeed:(e,s)=>t=>s.getAvg(t,"speed"),getHostMcuSensors:(e,s,t)=>{var a,o,l,c,u,d,h,m,p;const r=(l=(o=(a=t.printer)==null?void 0:a.configfile)==null?void 0:o.settings)!=null?l:{},i=(d=(u=(c=t.printer)==null?void 0:c.heaters)==null?void 0:u.available_heaters)!=null?d:[];return((p=(m=(h=t.printer)==null?void 0:h.heaters)==null?void 0:m.available_sensors)!=null?p:[]).filter(f=>{var P;if(i.includes(f)||f.startsWith("temperature_fan"))return!1;const b=r[f.toLowerCase()];if(!b)return!1;const $=(P=b.sensor_type)!=null?P:"";return["temperature_mcu","temperature_host"].includes($)})},getSelectedLegends:(e,s,t)=>{var c,u,d,h,m,p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W;const r={},i=(d=(u=(c=t.printer)==null?void 0:c.heaters)==null?void 0:u.available_sensors)!=null?d:[],n=(p=(m=(h=t.printer)==null?void 0:h.heaters)==null?void 0:m.available_monitors)!=null?p:[],a=(P=($=(b=(f=t.gui)==null?void 0:f.view)==null?void 0:b.tempchart)==null?void 0:$.datasetSettings)!=null?P:{};if(Object.keys(a).forEach(X=>{!i.includes(X)&&!n.includes(X)||Object.keys(a[X]).forEach(J=>{if(!ta.includes(J))return;const ee="".concat(X,"-").concat(J);e.series.findIndex(te=>te.name===ee)!==-1&&(r[ee]=a[X][J])})}),e.series.forEach(X=>{if(Object.keys(r).includes(X.name))return;const J=X.name.slice(X.name.lastIndexOf("-")+1);r[X.name]=!_a.includes(J)}),(S=(k=(R=(D=t.gui)==null?void 0:D.view)==null?void 0:R.tempchart)==null?void 0:k.hideMcuHostSensors)!=null?S:!1){const X=(L=s.getHostMcuSensors)!=null?L:[];Object.keys(r).filter(J=>{const ee=J.slice(0,J.lastIndexOf("-"));return X.includes(ee)}).forEach(J=>{r[J]=!1})}if((q=(G=(N=(I=t.gui)==null?void 0:I.view)==null?void 0:N.tempchart)==null?void 0:G.hideMonitors)!=null?q:!1){const X=(W=(F=(se=t.printer)==null?void 0:se.heaters)==null?void 0:F.available_monitors)!=null?W:[];Object.keys(r).filter(J=>{const ee=J.slice(0,J.lastIndexOf("-"));return X.includes(ee)}).forEach(J=>{r[J]=!1})}return r},getTemperatureStoreSize:(e,s,t,r)=>{const i=r["server/getConfig"]("data_store","temperature_store_size");return i!=null?i:1200}},JT=()=>({source:[],series:[],timeLastUpdate:null,updateSourceInterval:null}),Fde=JT(),Ade={namespaced:!0,state:Fde,getters:Lde,actions:Ede,mutations:Ode},KT=()=>({}),kde=KT(),Rde={namespaced:!0,state:kde,getters:Mde,actions:Tde,mutations:Dde,modules:{tempHistory:Ade}},Hde={reset({commit:e}){e("reset")},initRootDirs({state:e,commit:s},t){t.forEach(r=>{e.filetree.findIndex(i=>i.filename===r)===-1&&(s("createRootDir",{name:r,permissions:"r"}),y.$socket.emit("server.files.get_directory",{path:r},{action:"files/getDirectory"}))})},getDirectory({state:e,commit:s,getters:t},r){var c,u,d,h,m,p;const i=r.requestParams.path.split("/"),n=i.length?i[0]:r.requestParams.path,a=r.requestParams.path.indexOf("/"),o=a>1?r.requestParams.path.slice(a+1):"",l=t.getDirectory(n+"/"+o);if((c=l==null?void 0:l.childrens)!=null&&c.length&&(l==null||l.childrens.forEach(f=>{var b,$;f!=null&&f.isDirectory&&((b=r.dirs)==null?void 0:b.findIndex(P=>P.dirname===f.filename))<0?s("setDeleteDir",{item:{path:o.length?o+"/"+f.filename:f.filename,root:n}}):!(f!=null&&f.isDirectory)&&(($=r.files)==null?void 0:$.findIndex(P=>P.filename===f.filename))<0&&s("setDeleteFile",{item:{path:o.length?o+"/"+f.filename:f.filename,root:n}})})),(u=r.dirs)!=null&&u.length&&r.dirs.filter(f=>!bM.includes(f.dirname)).forEach(f=>{var b;((b=l==null?void 0:l.childrens)==null?void 0:b.findIndex($=>$.isDirectory&&$.filename===f.dirname))===-1&&(s("setCreateDir",{item:{path:o.length?o+"/"+f.dirname:f.dirname,root:n,permissions:f.permissions,modified:f.modified*1e3}}),y.$socket.emit("server.files.get_directory",{path:r.requestParams.path+"/"+f.dirname},{action:"files/getDirectory"}))}),(d=r.files)!=null&&d.length&&r.files.forEach(f=>{var $;const b=($=l==null?void 0:l.childrens)==null?void 0:$.find(P=>!P.isDirectory&&P.filename===f.filename);b&&(b.size!==f.size||b.modified.getTime()!==new Date(f.modified*1e3).getTime())?s("setModifyFile",{item:{path:o.length?o+"/"+f.filename:f.filename,root:n,modified:f.modified,size:f.size}}):b||s("setCreateFile",{item:{path:o.length?o+"/"+f.filename:f.filename,root:n,permissions:f.permissions,modified:f.modified,size:f.size}})}),(h=r==null?void 0:r.root_info)!=null&&h.name){const f=e.filetree.find(b=>{var $;return b.filename===(($=r==null?void 0:r.root_info)==null?void 0:$.name)});f&&f.permissions!==((m=r.root_info)==null?void 0:m.permissions)&&s("setRootPermissions",r.root_info)}(p=r.requestParams)!=null&&p.path&&r.disk_usage&&s("setDiskUsage",{disk_usage:r.disk_usage,path:r.requestParams.path})},scanMetadata({commit:e},s){if(s.filename.slice(0,s.filename.indexOf("/"))==="gcodes"){const r=s.filename.slice(7);e("setMetadataRequested",{filename:r}),y.$socket.emit("server.files.metascan",{filename:r},{action:"files/getScanMetadata"})}},getScanMetadata({dispatch:e},s){if(s!==void 0&&s.filename!==""){e("getMetadata",s);const t=s.filename;y.$toast.success(be.t("Files.ScanMetaSuccess",{filename:t}).toString())}},requestMetadata({commit:e},s){let t=[];for(const{filename:r}of s)if(t.length>=100&&(y.$socket.emitBatch(t),t=[]),r.slice(0,r.indexOf("/"))==="gcodes"){const n=r.slice(7);e("setMetadataRequested",{filename:n}),t.push({method:"server.files.metadata",params:{filename:n},emitOptions:{action:"files/getMetadata"}})}y.$socket.emitBatch(t)},getMetadata({commit:e,rootState:s},t){var r,i;t!==void 0&&t.filename!==""&&(t.filename===((i=(r=s==null?void 0:s.printer)==null?void 0:r.print_stats)==null?void 0:i.filename)&&(e("printer/clearCurrentFile",null,{root:!0}),e("printer/setData",{current_file:t},{root:!0})),e("setMetadata",t))},getMetadataCurrentFile({commit:e},s){e("printer/clearCurrentFile",null,{root:!0}),e("printer/setData",{current_file:s},{root:!0})},async filelist_changed({commit:e,dispatch:s},t){var r,i;switch(t.action){case"create_file":e("setCreateFile",t);break;case"move_file":if(((r=t.source_item)==null?void 0:r.path)==="printer_autosave.cfg"&&((i=t.source_item)==null?void 0:i.root)==="config"){e("setCreateFile",t);return}await e("setMoveFile",t),t.item.root==="gcodes"&&Zi.includes(t.item.path.slice(t.item.path.lastIndexOf(".")))&&await s("requestMetadata",[{filename:"gcodes/"+t.item.path}]);break;case"delete_file":e("setDeleteFile",t);break;case"modify_file":e("setModifyFile",t);break;case"create_dir":e("setCreateDir",t);break;case"move_dir":e("setMoveDir",t);break;case"delete_dir":e("setDeleteDir",t);break;case"root_update":s("server/addRootDirectory",t,{root:!0}),e("setRootUpdate",t);break;default:window.console.error("Unknown filelist_changed action: "+t.action);break}},getMove(e,s){if(s.error)y.$toast.error(s.error.message);else{const t=s.requestParams.dest.substr(s.requestParams.dest.lastIndexOf("/")).replace("/",""),r=s.requestParams.source.substr(0,s.requestParams.source.lastIndexOf("/")),i=s.requestParams.dest.substr(0,s.requestParams.dest.lastIndexOf("/"));r===i?y.$toast.success(be.t("Files.SuccessfullyRenamed",{filename:t})):y.$toast.success(be.t("Files.SuccessfullyMoved",{filename:t}))}},getCreateDir(e,s){if(s.error)y.$toast.error(s.error.message);else{const t=s.requestParams.path.substr(s.requestParams.path.lastIndexOf("/")+1);y.$toast.success(be.t("Files.SuccessfullyCreated",{filename:t}))}},getDeleteDir(e,s){if(s.error)y.$toast.error(s.error.message);else{const t=s.requestParams.path.substr(s.requestParams.path.lastIndexOf("/")+1);y.$toast.success(be.t("Files.SuccessfullyDeleted",{filename:t}))}},getDeleteFile(e,s){if(s.error)y.$toast.error(s.error.message);else{const t=s.item.path.substr(s.item.path.lastIndexOf("/")+1),r=s.item.path.substr(s.item.path.lastIndexOf(".")+1);s.item.root==="timelapse"&&r==="jpg"||y.$toast.success(be.t("Files.SuccessfullyDeleted",{filename:t}))}},async uploadFile({commit:e,rootGetters:s},t){const r=s["socket/getUrl"],i=new FormData;i.append("file",t.file,t.file.name),i.append("root",t.root),i.append("path",t.path);const n=Ns.CancelToken.source();return await e("uploadClearState"),await e("uploadSetCancelTokenSource",n),await e("uploadSetFilename",t.file.name),await e("uploadSetShow",!0),new Promise(a=>{Ns.post(r+"/server/files/upload",i,{cancelToken:n.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{var u,d;const l=((u=o.progress)!=null?u:0)*100;e("uploadSetPercent",l);const c=(d=o.rate)!=null?d:0;e("uploadSetSpeed",c)}}).then(o=>{e("uploadSetShow",!1);const l=o.data.item.path.lastIndexOf("/"),c=o.data.item.path.slice(l+1);a(c)}).catch(()=>{e("uploadSetShow",!1),y.$toast.error(be.t("FullscreenUpload.CannotUploadFile").toString()),a(!1)})})},uploadSetShow({commit:e},s){e("uploadSetShow",s)},uploadSetCurrentNumber({commit:e},s){e("uploadSetCurrentNumber",s)},uploadIncrementCurrentNumber({state:e,commit:s}){s("uploadSetCurrentNumber",e.upload.currentNumber+1)},uploadSetMaxNumber({commit:e},s){e("uploadSetMaxNumber",s)},downloadZip({rootGetters:e},s){const t=e["socket/getUrl"],r="".concat(t,"/server/files/").concat(s.destination.root,"/").concat(encodeURI(s.destination.path));window.open(r)},rolloverLog(e,s){s.rolled_over.forEach(t=>{y.$toast.success(be.t("Machine.LogfilesPanel.RolloverToastSuccessful",{name:t}))}),Object.keys(s.failed).forEach(t=>{const r=s.failed[t];y.$toast.error(be.t("Machine.LogfilesPanel.RolloverToastFailed",{name:t,message:r}))}),setTimeout(()=>{y.$socket.emit("server.files.get_directory",{path:"logs"},{action:"files/getDirectory"})},500)}},jde={reset(e){Object.assign(e,QT())},createRootDir(e,s){e.filetree.push({isDirectory:!0,filename:s.name,modified:new Date,permissions:s.permissions,childrens:[],disk_usage:{free:0,total:0,used:0}})},setMetadataRequested(e,s){let t="gcodes/"+s.filename;const r=t.split("/");t=r[r.length-1];const i=Ut(e.filetree,r),n=i==null?void 0:i.findIndex(a=>a.filename===t);if(i&&n!==void 0&&n!==-1){const a={...i[n]};a.metadataRequested=!0,y.set(i,n,a)}else window.console.error("file not found in filetree: "+s.filename)},setMetadata(e,s){let t="gcodes/"+s.filename;const r=t.split("/");t=r[r.length-1];const i=Ut(e.filetree,r),n=i==null?void 0:i.findIndex(a=>a.filename===t);if(i&&n!==void 0&&n!==-1){const a={...i[n]};hM.forEach(o=>{o in s&&(a[o]=s[o])}),a.metadataRequested=!0,a.metadataPulled=!0,y.set(i,n,a)}else window.console.error("file not found in filetree: "+s.filename)},setCreateFile(e,s){let t=s.item.path;s.item.path.lastIndexOf("/")>=0&&(t=s.item.path.substr(s.item.path.lastIndexOf("/")).replace("/",""));const r=s.item.path.substr(0,s.item.path.lastIndexOf("/")),i=Ut(e.filetree,(s.item.root+"/"+r).split("/"));if(i){const n=i.findIndex(a=>!a.isDirectory&&a.filename===t);if(n===-1){const a=new Date(s.item.modified*1e3);i.push({isDirectory:!1,filename:t,modified:a,permissions:s.item.permissions,size:s.item.size,metadataRequested:!1,metadataPulled:!1})}else{i[n].modified=new Date(s.item.modified*1e3),i[n].size=s.item.size,i[n].metadataRequested=!1,i[n].metadataPulled=!1;const a=t.substring(t.lastIndexOf(".")+1);s.item.root==="gcodes"&&a==="gcode"&&y.$socket.emit("server.files.metadata",{filename:s.item.path},{action:"files/getMetadata"})}}},setMoveFile(e,s){let t=s.source_item.path,r=s.source_item.root;const i=s.source_item.path.lastIndexOf("/");i!==-1&&(t=s.source_item.path.substring(i+1),r=s.source_item.root+"/"+s.source_item.path.substring(0,i));let n=s.item.path,a=s.item.root;const o=s.item.path.lastIndexOf("/");o!==-1&&(n=s.item.path.substring(o+1),a=s.item.root+"/"+s.item.path.substring(0,o));const l=Ut(e.filetree,r.split("/")),c=l==null?void 0:l.findIndex(h=>h.filename===t);if(c===void 0||c===-1||l===null)return;const u=l.splice(c,1)[0];u.filename=n,r!==a&&"metadataPulled"in u&&u.metadataPulled&&"thumbnails"in u&&(u.metadataPulled=!1,delete u.thumbnails);const d=Ut(e.filetree,a.split("/"));d==null||d.push(u)},setModifyFile(e,s){let t=s.item.path,r=s.item.root;const i=s.item.path.lastIndexOf("/");i!==-1&&(t=s.item.path.substr(i+1),r=s.item.root+"/"+s.item.path.substr(0,i+1));const n=Ut(e.filetree,r.split("/")),a=n==null?void 0:n.findIndex(o=>o.filename===t);a!==void 0&&a>-1&&n&&n[a]&&("metadataPulled"in n[a]&&n[a].metadataPulled&&(n[a].metadataPulled=!1,"thumbnails"in n[a]&&delete n[a].thumbnails),n[a].modified=new Date(s.item.modified*1e3),n[a].size=s.item.size)},setMoveDir(e,s){let t=s.source_item.path,r=s.source_item.root;const i=s.source_item.path.lastIndexOf("/");i!==-1&&(t=s.source_item.path.substr(i+1),r=s.source_item.root+"/"+s.source_item.path.substr(0,i+1));let n=s.item.path,a=s.item.root;const o=s.item.path.lastIndexOf("/");o!==-1&&(n=s.item.path.substr(o+1),a=s.item.root+"/"+s.item.path.substr(0,o+1));const l=Ut(e.filetree,r.split("/")),c=l==null?void 0:l.findIndex(u=>u.filename===t);if(c!==void 0&&l&&l[c]){const u=l.splice(c,1)[0];u.filename=n;const d=Ut(e.filetree,a.split("/"));d==null||d.push(u)}},setDeleteFile(e,s){let t=s.item.path.substr(0,s.item.path.lastIndexOf("/"));const r=s.item.path.substr(s.item.path.lastIndexOf("/")+1);t=Ut(e.filetree,(s.item.root+"/"+t).split("/"));const i=t.findIndex(n=>n.filename===r);i>=0&&t[i]&&t.splice(i,1)},setCreateDir(e,s){var n;const t=s.item.path.substr(s.item.path.lastIndexOf("/")+1),r=s.item.path.substr(0,s.item.path.lastIndexOf("/")),i=Ut(e.filetree,(s.item.root+"/"+r).split("/"));i&&i.push({isDirectory:!0,filename:t,modified:(n=s.item.modified)!=null?n:new Date,permissions:s.item.permissions,childrens:[]})},setDeleteDir(e,s){let t=s.item.path.substr(0,s.item.path.lastIndexOf("/"));const r=s.item.path.substr(s.item.path.lastIndexOf("/")+1);t=Ut(e.filetree,(s.item.root+"/"+t).split("/"));const i=t.findIndex(n=>n.filename===r);i>=0&&t[i]&&t.splice(i,1)},setRootUpdate(e,s){var r,i,n;const t=e.filetree.findIndex(a=>a.filename===s.item.root);t!==-1&&((r=e.filetree[t].childrens)!=null&&r.length)&&((n=e.filetree[t].childrens)==null||n.splice(0,(i=e.filetree[t].childrens)==null?void 0:i.length))},setDiskUsage(e,s){const t=s.path.substr(0,s.path.lastIndexOf("/")),r=s.path.substr(s.path.lastIndexOf("/")+1),i=Ut(e.filetree,t.split("/")),n=i==null?void 0:i.find(a=>a.isDirectory&&a.filename===r);n&&y.set(n,"disk_usage",s.disk_usage)},setRootPermissions(e,s){const t=e.filetree.find(r=>r.filename===s.name);t&&y.set(t,"permissions",s.permissions)},uploadClearState(e){const s={...e.upload};s.show=!1,s.filename="",s.cancelTokenSource=null,s.speed=0,s.percent=0,y.set(e,"upload",s)},uploadSetShow(e,s){y.set(e.upload,"show",s)},uploadSetFilename(e,s){y.set(e.upload,"filename",s)},uploadSetCancelTokenSource(e,s){y.set(e.upload,"cancelTokenSource",s)},uploadSetCurrentNumber(e,s){y.set(e.upload,"currentNumber",s)},uploadSetMaxNumber(e,s){y.set(e.upload,"maxNumber",s)},uploadSetPercent(e,s){e.upload.percent!==s&&y.set(e.upload,"percent",s)},uploadSetSpeed(e,s){e.upload.speed!==s&&y.set(e.upload,"speed",s)}},Ide={getDirectory:e=>s=>{s.startsWith("/")&&(s=s.substr(1)),s.endsWith("/")&&(s=s.substr(0,s.length-1));const t=function(r,i){var n;if(i.length){const a=(n=r==null?void 0:r.childrens)==null?void 0:n.find(o=>o.isDirectory&&o.filename===i[0]);return a?(i.shift(),t(a,i)):null}return r};return t({childrens:e.filetree},s.split("/"))},getFile:(e,s)=>t=>{var a;const r=t.slice(0,t.lastIndexOf("/")),i=t.slice(t.lastIndexOf("/")+1),n=s.getDirectory(r);return(a=n==null?void 0:n.childrens)==null?void 0:a.find(o=>o.filename===i&&!o.isDirectory)},getGcodeFiles:(e,s,t,r)=>(i,n,a)=>{var d;const o=s.getDirectory("gcodes");if(o===null)return[];let l="".concat(r["socket/getUrl"],"/server/files/gcodes"),c=[];if(i!==null){l+=Ie(i);const h=s.getDirectory("gcodes"+i);c=(d=h==null?void 0:h.childrens)!=null?d:[]}else{const h=(m,p)=>{var f,b;m.isDirectory&&((f=m.childrens)!=null&&f.length)&&((b=m.childrens)==null||b.forEach($=>{if($.isDirectory)h($,p+$.filename+"/");else{const P={...$};P.filename=p+$.filename,c.push(P)}}))};h(o,"")}c=c.filter(h=>{if(!n&&(h.filename==="thumbs"||h.filename.startsWith(".")))return!1;if(h.isDirectory)return!0;const m=h.filename.lastIndexOf("."),p=h.filename.slice(m);return Zi.includes(p)});const u=[];return c.forEach(h=>{var D,R;const m=typeof h.modified.getTime=="function"?h.modified.getTime():0,p={...h,preheat_gcode:null,small_thumbnail:null,big_thumbnail:null,big_thumbnail_width:null,count_printed:0,last_start_time:null,last_end_time:null,last_filament_used:null,last_status:null,last_print_duration:null,last_total_duration:null},f=[];if([{name:"first_layer_extr_temp",gcode:"M104"},{name:"first_layer_bed_temp",gcode:"M140"}].forEach(k=>{k.name in h&&h[k.name]>1&&f.push("".concat(k.gcode," S").concat(h[k.name]))}),f.length&&(p.preheat_gcode=f.join("\n")),(D=h.thumbnails)!=null&&D.length){let k="";if(i===null){const I=h.filename.lastIndexOf("/");I>0&&(k="/"+h.filename.slice(0,I))}const S=h.thumbnails.find(I=>I.width>=Qt&&I.width<=es&&I.height>=Qt&&I.height<=es);S&&"relative_path"in S&&(p.small_thumbnail="".concat(l).concat(Ie(k+"/"+S.relative_path),"?timestamp=").concat(m));const L=h.thumbnails.find(I=>I.width>=Vs);L&&"relative_path"in L&&(p.big_thumbnail="".concat(l).concat(Ie(k+"/"+L.relative_path),"?timestamp=").concat(m),p.big_thumbnail_width=L.width)}const $=i&&i.length?i+"/"+h.filename:h.filename;let P=r["server/history/getPrintJobsForGcodes"]($,m,h.size,(R=h.uuid)!=null?R:null,h.job_id);if(P&&P.length){P=P.sort((L,I)=>I.start_time-L.start_time);const k=P.filter(L=>L.status==="completed"),S=[...P].shift();if(p.last_status=S.status,p.count_printed=k.length,p.last_start_time=new Date(S.start_time*1e3),p.count_printed>0){const L=k[0];p.last_start_time=new Date(L.start_time*1e3),p.last_end_time=new Date(L.end_time*1e3),p.last_filament_used=L.filament_used,p.last_print_duration=L.print_duration,p.last_total_duration=L.total_duration}}(a||p.count_printed===0)&&u.push(p)}),u},getAllGcodes:(e,s)=>s.getGcodeFiles(null,!1,!0),getThemeFileUrl:(e,s,t,r)=>(i,n)=>{var l;const a=s.getDirectory("config/"+qi),o=(l=a==null?void 0:a.childrens)==null?void 0:l.find(c=>{var u,d,h,m;return((d=c.filename)==null?void 0:d.slice(0,(u=c.filename)==null?void 0:u.lastIndexOf(".")))===i&&n.includes((m=c.filename)==null?void 0:m.slice(((h=c.filename)==null?void 0:h.lastIndexOf("."))+1))});return o?"".concat(r["socket/getUrl"],"/server/files/config/").concat(qi,"/").concat(o.filename,"?timestamp=").concat(o.modified.getTime()):null},getSidebarLogo:(e,s)=>{var i;const t="sidebar-logo",r=["svg","jpg","jpeg","png","gif"];return(i=s.getThemeFileUrl(t,r))!=null?i:""},getCustomSidebarBackground:(e,s)=>{var i;const t="sidebar-background",r=["jpg","jpeg","png","gif","svg"];return(i=s.getThemeFileUrl(t,r))!=null?i:null},getMainBackground:(e,s)=>{const t="main-background",r=["jpg","jpeg","png","gif","svg"];return s.getThemeFileUrl(t,r)},getCustomStylesheet:(e,s)=>{var i;const t="custom",r=["css"];return(i=s.getThemeFileUrl(t,r))!=null?i:null},getCustomNaviPoints:(e,s)=>{var i;const t="navi",r=["json"];return(i=s.getThemeFileUrl(t,r))!=null?i:null},getCustomFavicons:(e,s)=>{const t="favicon-32x32",r="favicon-32x32",i=["png","svg"],n=s.getThemeFileUrl(t,i),a=s.getThemeFileUrl(r,i);return n&&a?[n,a]:n?[n,n]:a?[a,a]:null},getDiskUsage:e=>s=>{s.indexOf("/")===0&&(s=s.substr(1)),s.indexOf("/")!==-1&&(s=s.substr(0,s.indexOf("/")));const t=e.filetree.find(r=>r.filename===s);return t&&"disk_usage"in t?t.disk_usage:null},checkConfigFile:(e,s)=>t=>{var i;const r=s.getDirectory("config");return((i=r==null?void 0:r.childrens)==null?void 0:i.findIndex(n=>n.filename!==void 0&&n.filename===t))!==-1},getSmallThumbnail:(e,s,t,r)=>(i,n)=>{var a;if("thumbnails"in i&&((a=i.thumbnails)!=null&&a.length)){const o=i.thumbnails.find(l=>l.width>=Qt&&l.width<=es&&l.height>=Qt&&l.height<=es);if(o&&"relative_path"in o)return"".concat(r["socket/getUrl"],"/server/files/").concat(Ie(n),"/").concat(Ie(o.relative_path),"?timestamp=").concat(i.modified.getTime())}return""},getBigThumbnail:(e,s,t,r)=>(i,n)=>{var a;if("thumbnails"in i&&((a=i.thumbnails)!=null&&a.length)){const o=i.thumbnails.find(l=>l.width>=Vs);if(o&&"relative_path"in o)return"".concat(r["socket/getUrl"],"/server/files/").concat(Ie(n),"/").concat(Ie(o.relative_path),"?timestamp=").concat(i.modified.getTime())}return""}},QT=()=>({filetree:[],upload:{show:!1,filename:"",currentNumber:0,maxNumber:0,cancelTokenSource:null,percent:0,speed:0}}),Nde=QT(),Vde={namespaced:!0,state:Nde,getters:Ide,actions:Hde,mutations:jde},Ude={reset({commit:e,dispatch:s}){e("reset"),s("console/reset"),s("gcodehistory/reset"),s("macros/reset"),s("presets/reset"),s("webcams/reset")},init(){window.console.debug("init gui"),y.$socket.emit("server.database.get_item",{namespace:"mainsail"},{action:"gui/initStore"})},async initStore({commit:e,dispatch:s,rootGetters:t,rootState:r},i){var o,l,c,u,d,h;const a=t["socket/getUrl"]+"/server/database/item"+"?namespace=mainsail";if("remoteprinters"in i.value&&(r.instancesDB==="moonraker"&&s("remoteprinters/initStore",i.value.remoteprinters.printers),delete i.value.remoteprinters),(c=(l=(o=i.value)==null?void 0:o.view)==null?void 0:l.gcodefiles)!=null&&c.currentPath&&(window.console.debug("remove currentPath from gui namespace"),await fetch(a+"&key=view.gcodefiles.currentPath",{method:"DELETE"})),(h=(d=(u=i.value)==null?void 0:u.view)==null?void 0:d.configfiles)!=null&&h.currentPath&&(window.console.debug("remove currentPath from gui namespace"),await fetch(a+"&key=view.configfiles.currentPath",{method:"DELETE"})),"cooldownGcode"in i.value&&(window.console.debug("update cooldownGcode to new namespace"),s("saveSetting",{name:"presets.cooldownGcode",value:i.value.cooldownGcode}),await fetch(a+"&key=cooldownGcode",{method:"DELETE"}),delete i.value.cooldownGcode),"presets"in i.value&&Array.isArray(i.value.presets)&&(window.console.debug("update presets to new namespace"),i.value.presets.forEach(m=>{s("presets/store",{values:m})}),delete i.value.presets),"dashboard"in i.value&&"nonExpandPanels"in i.value.dashboard&&Array.isArray(i.value.dashboard.nonExpandPanels)&&(await fetch(a+"&key=dashboard.nonExpandPanels",{method:"DELETE"}),s("saveSetting",{name:"dashboard.nonExpandPanels.widescreen",value:i.value.dashboard.nonExpandPanels}),delete i.value.dashboard.nonExpandPanels),"dashboard"in i.value){const m=i.value.dashboard;["mobileLayout","tabletLayout1","tabletLayout2","desktopLayout1","desktopLayout2","widescreenLayout1","widescreenLayout2","widescreenLayout3"].forEach(f=>{if(f in m){const b=m[f].findIndex($=>$.name==="tools");b!==-1&&(m[f][b].name="temperature",s("saveSetting",{name:"dashboard."+f,value:m[f]}))}})}await e("setData",i.value),await s("socket/removeInitModule","gui/init",{root:!0})},async initDb({dispatch:e,rootGetters:s}){var a;const t=s["socket/getUrl"]+"/server/database/item",r=s["socket/getUrl"]+"/server/files/config/"+qi+"/default.json?time="+Date.now(),i=await fetch(r);let n={};i&&(n=await i.json(),((a=n.error)==null?void 0:a.code)===404&&(n={}));for(const o in n)if(["webcams","timelapse"].includes(o))for(const l of n[o])await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:o,key:l,value:n[o][l]})});else await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:"mainsail",key:o,value:n[o]})});await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:"mainsail",key:"initVersion",value:s.getVersion})}),e("init")},saveSetting({commit:e},s){e("saveSetting",s),y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:s.name,value:s.value})},saveSettingWithoutUpload({commit:e},s){e("saveSetting",s)},updateSettings(e,s){const t=s.keyName;let r=s.newVal;"value"in s&&t in s.value&&typeof s.value[t]!="string"&&!Array.isArray(s.value[t])&&(r=Object.assign(s.value[t],{...r})),y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:t,value:r})},setGcodefilesMetadata({commit:e,dispatch:s,state:t},r){e("setGcodefilesMetadata",r),s("updateSettings",{keyName:"view.gcodefiles.hideMetadataColumns",newVal:t.view.gcodefiles.hideMetadataColumns})},setGcodefilesShowHiddenFiles({commit:e,dispatch:s,state:t},r){e("setGcodefilesShowHiddenFiles",r),s("updateSettings",{keyName:"view.gcodefiles.showHiddenFiles",newVal:t.view.gcodefiles.showHiddenFiles})},setCurrentWebcam({commit:e,dispatch:s,state:t},r){e("setCurrentWebcam",r),s("updateSettings",{keyName:"view.webcam.currentCam",newVal:t.view.webcam.currentCam})},setTempchartDatasetAdditionalSensorSetting({commit:e,dispatch:s,state:t},r){e("setTempchartDatasetAdditionalSensorSetting",r),s("updateSettings",{keyName:"view.tempchart",newVal:t.view.tempchart})},async resetMoonrakerDB({rootGetters:e},s){var n,a;const t=e["socket/getUrl"]+"/server/database/item",r=e["socket/getUrl"]+"/server/files/config/"+qi+"/default.json?time="+Date.now();let i={};try{i=await fetch(r).then(o=>o.json())}catch(o){window.console.error("Error while fetching/parsing default.json",o),i={}}for(const o of s)if(["maintenance","timelapse","webcams"].includes(o)){const l=t+"?namespace="+o,u=await(await fetch(l)).json();if((n=u==null?void 0:u.result)!=null&&n.value)for(const d of Object.keys((a=u==null?void 0:u.result)==null?void 0:a.value))await fetch(l+"&key="+d,{method:"DELETE"});if(o in i)for(const d of i[o])await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:o,key:d,value:i[o][d]})})}else o==="history_jobs"?await fetch(e["socket/getUrl"]+"/server/history/job?all=true",{method:"DELETE"}):o==="history_totals"?await fetch(e["socket/getUrl"]+"/server/history/reset_totals",{method:"POST"}):(await fetch(e["socket/getUrl"]+"/server/database/item?namespace=mainsail&key="+o,{method:"DELETE"}),o in i&&await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:"mainsail",key:o,value:i[o]})}));window.location.reload()},async backupMoonrakerDB({rootGetters:e},s){var o,l,c,u;const t={},i=await(await fetch(e["socket/getUrl"]+"/server/database/item?namespace=mainsail")).json(),n=(l=(o=i==null?void 0:i.result)==null?void 0:o.value)!=null?l:{};for(const d of s)if(["timelapse","webcams"].includes(d)){const h=e["socket/getUrl"]+"/server/database/item?namespace="+d,p=await(await fetch(h)).json();(c=p==null?void 0:p.result)!=null&&c.value&&(t[d]={...(u=p==null?void 0:p.result)==null?void 0:u.value})}else d in n&&(t[d]={...n[d]});const a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(t))),a.setAttribute("download","backup-mainsail.json"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},async restoreMoonrakerDB({rootGetters:e},s){var l,c,u,d,h,m;const t=e["socket/getUrl"]+"/server/database/item",r=t+"?namespace=mainsail",n=await(await fetch(e["socket/getUrl"]+"/server/database/list")).json(),a=(c=(l=n==null?void 0:n.result)==null?void 0:l.namespaces)!=null?c:[];let o=[];if(a.includes("mainsail")){const f=await(await fetch(r)).json();o=Object.keys((d=(u=f==null?void 0:f.result)==null?void 0:u.value)!=null?d:{})}for(const p of s.dbCheckboxes)if(["timelapse","webcams"].includes(p)){if(a.includes(p)){const f=t+"?namespace="+p,$=await(await fetch(f)).json();if((h=$==null?void 0:$.result)!=null&&h.value)for(const P of Object.keys((m=$==null?void 0:$.result)==null?void 0:m.value))await fetch(f+"&key="+P,{method:"DELETE"})}for(const f of Object.keys(s.restoreObjects[p])){const b=s.restoreObjects[p][f];await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:p,key:f,value:b})})}}else o.includes(p)&&await fetch(r+"&key="+p,{method:"DELETE"}),await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({namespace:"mainsail",key:p,value:s.restoreObjects[p]})});window.location.reload()},setHistoryColumns({commit:e,dispatch:s,state:t},r){e("setHistoryColumns",r),s("updateSettings",{keyName:"view.history",newVal:t.view.history})},hideStatusInHistoryList({commit:e,dispatch:s,state:t},r){const i=[...t.view.history.hidePrintStatus];i.includes(r)||(i.push(r),e("setHistoryHidePrintStatus",i),s("updateSettings",{keyName:"view.history.hidePrintStatus",newVal:i}))},saveExpandPanel({commit:e,dispatch:s,state:t},r){r.value?e("removeClosePanel",{name:r.name,viewport:r.viewport}):e("addClosePanel",{name:r.name,viewport:r.viewport}),s("updateSettings",{keyName:"dashboard.nonExpandPanels.".concat(r.viewport),newVal:t.dashboard.nonExpandPanels[r.viewport]})},showStatusInHistoryList({commit:e,dispatch:s,state:t},r){const i=[...t.view.history.hidePrintStatus],n=i.indexOf(r);n!==-1&&(i.splice(n,1),e("setHistoryHidePrintStatus",i),s("updateSettings",{keyName:"view.history.hidePrintStatus",newVal:i}))},resetLayout({dispatch:e},s){var i;const r=(i=ah().dashboard[s])!=null?i:[];e("saveSetting",{name:"dashboard."+s,value:r})},updateGcodeviewerCache({dispatch:e,state:s},t){var i;const r=(i=s.gcodeViewer.klipperCache)!=null?i:{};Object.keys(t).forEach(n=>{const a=t[n],o=n in r?r[n]:null;JSON.stringify(a)!==JSON.stringify(o)&&e("saveSetting",{name:"gcodeViewer.klipperCache.".concat(n),value:a})})},announcementDismissFlag(e,s){window.console.log(s)},setChartDatasetStatus({commit:e,dispatch:s,state:t},r){e("setChartDatasetStatus",r),s("updateSettings",{keyName:"view.tempchart.datasetSettings",newVal:t.view.tempchart.datasetSettings})},setDatasetAdditionalSensorStatus({commit:e,dispatch:s,state:t},r){e("setDatasetAdditionalSensorStatus",r),s("updateSettings",{keyName:"view.tempchart.datasetSettings",newVal:t.view.tempchart.datasetSettings})},setChartColor({commit:e,dispatch:s,state:t},r){e("setChartDatasetStatus",{objectName:r.objectName,dataset:"color",value:r.value}),s("updateSettings",{keyName:"view.tempchart.datasetSettings",newVal:t.view.tempchart.datasetSettings})}},Bde={reset(e){Object.assign(e,ah())},setData(e,s){Kf(e,s)},saveSetting(e,s){const t=(r,i,n)=>i!==void 0&&typeof i=="string"?t(r,i.split("."),n):i.length==1&&n!==void 0?r[i[0]]=n:i.length==0?r:(i[0]in r||(r[i[0]]={}),t(r[i[0]],i.slice(1),n));t(e,s.name,s.value)},setHeaterChartVisibility(e,s){const t=e.view.tempchart.hiddenDataset.indexOf(s.name.toUpperCase());s.hidden&&t===-1?e.view.tempchart.hiddenDataset.push(s.name.toUpperCase()):s.hidden!==!0&&t>-1&&e.view.tempchart.hiddenDataset.splice(t,1)},setGcodefilesMetadata(e,s){const t=[...e.view.gcodefiles.hideMetadataColumns],r=t.findIndex(i=>i===s.name);s.value&&r!==-1?t.splice(r,1):!s.value&&r===-1&&t.push(s.name),y.set(e.view.gcodefiles,"hideMetadataColumns",t)},setGcodefilesShowHiddenFiles(e,s){y.set(e.view.gcodefiles,"showHiddenFiles",s)},setCurrentWebcam(e,s){y.set(e.view.webcam.currentCam,s.page,s.value)},setHistoryColumns(e,s){s.value&&e.view.history.hideColums.includes(s.name)?e.view.history.hideColums.splice(e.view.history.hideColums.indexOf(s.name),1):!s.value&&!e.view.history.hideColums.includes(s.name)&&e.view.history.hideColums.push(s.name)},setHistoryHidePrintStatus(e,s){y.set(e.view.history,"hidePrintStatus",s)},addClosePanel(e,s){const t=[...e.dashboard.nonExpandPanels[s.viewport]];t.includes(s.name)||(t.push(s.name),y.set(e.dashboard.nonExpandPanels,s.viewport,t))},removeClosePanel(e,s){const t=[...e.dashboard.nonExpandPanels[s.viewport]],r=t.indexOf(s.name);r>-1&&(t.splice(r,1),y.set(e.dashboard.nonExpandPanels,s.viewport,t))},deleteFromDashboardLayout(e,s){const t=[...e.dashboard[s.layoutname]];t.splice(s.index,1),y.set(e.dashboard,s.layoutname,t)},setChartDatasetStatus(e,s){if(!(s.objectName in e.view.tempchart.datasetSettings)){const t={};t[s.dataset]=s.value,y.set(e.view.tempchart.datasetSettings,s.objectName,t);return}y.set(e.view.tempchart.datasetSettings[s.objectName],s.dataset,s.value)},setDatasetAdditionalSensorStatus(e,s){if(!(s.objectName in e.view.tempchart.datasetSettings)){const t={additionalSensors:{}};t.additionalSensors[s.dataset]=s.value,y.set(e.view.tempchart.datasetSettings,s.objectName,t);return}if(!("additionalSensors"in e.view.tempchart.datasetSettings[s.objectName])){const t={};t[s.dataset]=s.value,y.set(e.view.tempchart.datasetSettings[s.objectName],"additionalSensors",t);return}y.set(e.view.tempchart.datasetSettings[s.objectName].additionalSensors,s.dataset,s.value)}},Gde={theme:e=>{const s=e.uiSettings.theme;return Ui.findIndex(t=>t.name===s)===-1?$C:s},getTheme:(e,s)=>{var t;return(t=Ui.find(r=>r.name===s.theme))!=null?t:Ui[0]},getDatasetValue:e=>s=>s.name in e.view.tempchart.datasetSettings&&s.type in e.view.tempchart.datasetSettings[s.name]?e.view.tempchart.datasetSettings[s.name][s.type]:["temperature","target"].includes(s.type),getDatasetAdditionalSensorValue:e=>s=>s.name in e.view.tempchart.datasetSettings&&"additionalSensors"in e.view.tempchart.datasetSettings[s.name]&&s.sensor in e.view.tempchart.datasetSettings[s.name].additionalSensors?e.view.tempchart.datasetSettings[s.name].additionalSensors[s.sensor]:!0,getPanelExpand:e=>(s,t)=>"dashboard"in e&&t in e.dashboard.nonExpandPanels?!e.dashboard.nonExpandPanels[t].includes(s):!0,getAllPossiblePanels:(e,s,t,r)=>{var c,u,d,h;let i=[...pM];return((c=e.macros)==null?void 0:c.mode)==="expert"&&(s["macros/getAllMacrogroups"].forEach(p=>{i.push("macrogroup_"+p.id)}),i=i.filter(p=>p!=="macros")),r["printer/getKinematics"]==="none"&&(i=i.filter(m=>!["toolhead-control","machine-settings"].includes(m))),r["printer/getExtruders"].length<1&&(i=i.filter(m=>m!=="extruder-control")),((h=(d=(u=t.printer)==null?void 0:u.heaters)==null?void 0:d.available_sensors)!=null?h:[]).length<1&&(i=i.filter(m=>m!=="temperature")),s["webcams/getWebcams"].length===0&&(i=i.filter(m=>m!=="webcam")),t.server.components.includes("spoolman")||(i=i.filter(m=>m!=="spoolman")),i},getPanels:(e,s,t)=>(r,i,n=!1)=>{var c,u;const a=i?"".concat(r,"Layout").concat(i):"".concat(r,"Layout");let o=(u=(c=e.dashboard[a])==null?void 0:c.filter(d=>d!==null))!=null?u:[];const l=s.getAllPossiblePanels;if(i<2){const d=s.getAllPanelsFromViewport(r),h=[];l.forEach(m=>{d.find(p=>p.name===m)||h.push({name:m,visible:!0})}),o=o.concat(h)}if(n&&(o=o.filter(d=>d.visible)),t.gui.macros.mode==="simple")o=o.filter(d=>!d.name.startsWith("macrogroup_"));else{o=o.filter(h=>h.name!=="macros");const d=s["macros/getAllMacrogroups"];d.length&&(o=o.filter(h=>{if(!h.name.startsWith("macrogroup_"))return!0;const m=h.name.slice(11);return d.findIndex(p=>p.id===m)!==-1}))}return o.filter(d=>l.includes(d.name))},getAllPanelsFromViewport:e=>s=>{let t=[];"".concat(s,"Layout")in e.dashboard&&(t=t.concat(e.dashboard["".concat(s,"Layout")]));let r=1;for(;"".concat(s,"Layout").concat(r)in e.dashboard;)t=t.concat(e.dashboard["".concat(s,"Layout").concat(r)]),r++;return t},getDefaultControlActionButton:(e,s,t,r)=>r["printer/existsQGL"]?"qgl":r["printer/existsZtilt"]?"ztilt":"m84",getHours12Format:e=>{const s=e.general.timeFormat;return s==="12hours"?!0:s===null?Intl.DateTimeFormat(navigator.language,{hour:"numeric"}).resolvedOptions().hour12:!1}},Wde={reset({commit:e}){e("reset")},clear({commit:e}){const s=new Date().valueOf();y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"console.cleared_since",value:s}),e("clear",{cleared_since:s}),e("server/clearGcodeStore",{},{root:!0}),e("server/setConsoleClearedThisSession",{},{root:!0})},saveSetting({dispatch:e},s){e("gui/saveSetting",{name:"console."+s.name,value:s.value},{root:!0})},filterUpload(e,s){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"console.consolefilters."+s.id,value:s.value})},filterStore({commit:e,dispatch:s,state:t},r){const i=vs();e("filterStore",{id:i,values:r.values}),s("filterUpload",{id:i,value:t.consolefilters[i]})},filterUpdate({commit:e,dispatch:s,state:t},r){e("filterUpdate",r),s("filterUpload",{id:r.id,value:t.consolefilters[r.id]})},filterDelete({commit:e},s){e("filterDelete",s),y.$socket.emit("server.database.delete_item",{namespace:"mainsail",key:"console.consolefilters."+s})}},zde={reset(e){Object.assign(e,eD())},clear(e,s){y.set(e,"cleared_since",s.cleared_since)},filterStore(e,s){y.set(e.consolefilters,s.id,s.values)},filterUpdate(e,s){if(!(s.id in e.consolefilters))return;const t={...e.consolefilters[s.id]};Object.assign(t,s.values),y.set(e.consolefilters,s.id,t)},filterDelete(e,s){s in e.consolefilters&&y.delete(e.consolefilters,s)}},qde={getConsolefilters:e=>{const s=[];return Object.keys(e.consolefilters).forEach(t=>{s.push({...e.consolefilters[t],id:t})}),Rt(s,"name")},getConsolefilterRules:(e,s,t)=>{const r=[];return t.gui.console.hideWaitTemperatures&&r.push("^(?:ok\\s+)?(B|C|T\\d*):"),t.gui.console.hideTlCommands&&_M.forEach(i=>{r.push(i)}),Object.keys(e.consolefilters).forEach(i=>{const n=e.consolefilters[i];n.bool&&n.regex.split("\n").forEach(a=>{a!==""&&r.push(a)})}),r},getConsoleClearedSince:e=>e.cleared_since},eD=()=>({hideWaitTemperatures:!0,hideTlCommands:!0,direction:"table",entryStyle:"default",height:300,autoscroll:!0,consolefilters:{},rawOutput:!1}),Zde=eD(),Yde={namespaced:!0,state:Zde,getters:qde,actions:Wde,mutations:zde},Xde={reset({commit:e}){e("reset")},upload({state:e}){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"gcodehistory.entries",value:e.entries})},async addToHistory({commit:e,dispatch:s,state:t},r){const i=[...t.entries];for(i.push(r);i.length>mM;)i.splice(0,1);await e("updateHistory",i),await s("upload")}},Jde={reset(e){Object.assign(e,tD())},updateHistory(e,s){y.set(e,"entries",s)}},Kde={},tD=()=>({entries:[]}),Qde=tD(),ehe={namespaced:!0,state:Qde,getters:Kde,actions:Xde,mutations:Jde},the={reset({commit:e}){e("reset")},saveSetting({dispatch:e},s){e("gui/saveSetting",{name:"macros."+s.name,value:s.value},{root:!0})},groupUpload({state:e},s){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"macros.macrogroups."+s,value:e.macrogroups[s]})},async groupStore({commit:e,dispatch:s},t){const r=vs();return await e("groupStore",{id:r,values:t.values}),await s("groupUpload",r),r},groupUpdate({commit:e,dispatch:s},t){e("groupUpdate",t),s("groupUpload",t.id)},addMacroToMacrogroup({commit:e,dispatch:s},t){e("addMacroToMacrogroup",t),s("groupUpload",t.id)},updateMacroFromMacrogroup({commit:e,dispatch:s},t){e("updateMacroFromMacrogroup",t),s("groupUpload",t.id)},removeMacroFromMacrogroup({commit:e,dispatch:s},t){e("removeMacroFromMacrogroup",t),s("groupUpload",t.id)},groupDelete({commit:e,dispatch:s,rootState:t},r){e("groupDelete",r),y.$socket.emit("server.database.delete_item",{namespace:"mainsail",key:"macros.macrogroups."+r}),["mobileLayout","tabletLayout1","tabletLayout2","desktopLayout1","desktopLayout2","widescreenLayout1","widescreenLayout2","widescreenLayout3"].forEach(n=>{var l;const o=(t.gui?[...t.gui.dashboard[n]]:[]).findIndex(c=>c.name==="macrogroup_"+r);o!==-1&&(e("gui/deleteFromDashboardLayout",{layoutname:n,index:o},{root:!0}),s("gui/updateSettings",{keyName:"dashboard."+n,newVal:(l=t.gui)==null?void 0:l.dashboard[n]},{root:!0}))})}},she={reset(e){Object.assign(e,sD())},groupStore(e,s){y.set(e.macrogroups,s.id,s.values)},groupUpdate(e,s){if(s.id in e.macrogroups){const t={...e.macrogroups[s.id]};Object.assign(t,s.values),y.set(e.macrogroups,s.id,t)}},addMacroToMacrogroup(e,s){var i,n;const t=[...(n=(i=e.macrogroups[s.id])==null?void 0:i.macros)!=null?n:[]],r={pos:1,name:s.macro,color:"group",showInStandby:!0,showInPrinting:!0,showInPause:!0};t.length&&(r.pos=Math.max(...t.map(a=>a.pos))+1),t.push(r),y.set(e.macrogroups[s.id],"macros",t)},updateMacroFromMacrogroup(e,s){var i,n;const t=[...(n=(i=e.macrogroups[s.id])==null?void 0:i.macros)!=null?n:[]],r=t.findIndex(a=>a.name===s.macro);if(r!==-1){const a=t[r];a[s.option]=s.value,y.set(e.macrogroups[s.id],"macros",t)}},removeMacroFromMacrogroup(e,s){var i,n;const t=[...(n=(i=e.macrogroups[s.id])==null?void 0:i.macros)!=null?n:[]],r=t.findIndex(a=>a.name===s.macro);if(r!==-1){const a=t[r].pos;t.splice(r,1),t.filter(o=>o.pos>a).forEach(o=>{o.pos=o.pos-1})}y.set(e.macrogroups[s.id],"macros",t)},groupDelete(e,s){s in e.macrogroups&&y.delete(e.macrogroups,s)}},rhe={getAllMacrogroups:e=>{const s=[];return Object.keys(e.macrogroups).forEach(t=>{s.push({...e.macrogroups[t],id:t})}),Rt(s,"name")},getMacrogroup:e=>s=>e.macrogroups[s]},sD=()=>({mode:"simple",hiddenMacros:[],macrogroups:{}}),ihe=sD(),nhe={namespaced:!0,state:ihe,getters:rhe,actions:the,mutations:she},ahe={reset({commit:e}){e("reset")},upload({state:e},s){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"miscellaneous.entries."+s,value:e.entries[s]})},async store({commit:e,dispatch:s},t){const r=vs();return await e("store",{id:r,values:t}),await s("upload",r),r},async storeLightgroup({commit:e,dispatch:s,getters:t},r){let i=t.getId(r.entry);i===null&&(i=await s("store",r.entry));const n=vs();return await e("updateLightgroup",{entryId:i,lightgroupId:n,values:r.lightgroup}),await s("upload",i),n},async updateLightgroup({commit:e,dispatch:s,getters:t},r){const i=t.getId(r.entry);if(i!==null)return await e("updateLightgroup",{entryId:i,lightgroupId:r.lightgroup.id,values:r.lightgroup}),await s("upload",i),r.lightgroup.id},async deleteLightgroup({commit:e,dispatch:s,getters:t},r){const i=t.getId(r.entry);i!==null&&(await e("destroyLightgroup",{entryId:i,lightgroupId:r.lightgroupId}),await s("upload",i))},async storePreset({commit:e,dispatch:s,getters:t},r){let i=t.getId(r.entry);i===null&&(i=await s("store",r.entry));const n=vs();return await e("updatePreset",{entryId:i,presetId:n,values:r.preset}),await s("upload",i),n},async updatePreset({commit:e,dispatch:s,getters:t},r){const i=t.getId(r.entry);if(i!==null)return await e("updatePreset",{entryId:i,presetId:r.preset.id,values:r.preset}),await s("upload",i),r.preset.id},async deletePreset({commit:e,dispatch:s,getters:t},r){const i=t.getId(r.entry);i!==null&&(await e("destroyPreset",{entryId:i,presetId:r.presetId}),await s("upload",i))}},ohe={reset(e){Object.assign(e,rD())},store(e,s){const t={name:s.values.name,type:s.values.type,lightgroups:{},presets:{}};y.set(e.entries,s.id,t)},updateLightgroup(e,s){const t={name:s.values.name,start:parseInt(s.values.start.toString()),end:parseInt(s.values.end.toString())};y.set(e.entries[s.entryId].lightgroups,s.lightgroupId,t)},destroyLightgroup(e,s){const t={...e.entries};delete t[s.entryId].lightgroups[s.lightgroupId],y.set(e,"entries",t)},updatePreset(e,s){const t={name:s.values.name,red:s.values.red,green:s.values.green,blue:s.values.blue,white:s.values.white};y.set(e.entries[s.entryId].presets,s.presetId,t)},destroyPreset(e,s){const t={...e.entries};delete t[s.entryId].presets[s.presetId],y.set(e,"entries",t)}},lhe={getEntries:e=>{const s=[];return Object.entries(e.entries).forEach(([t,r])=>{s.push({id:t,name:r.name,type:r.type,lightgroups:{...r.lightgroups},presets:{...r.presets}})}),s},getEntry:(e,s)=>t=>s.getEntries.find(r=>r.name===t.name&&r.type===t.type),getId:(e,s)=>t=>{var r,i;return(i=(r=s.getEntry(t))==null?void 0:r.id)!=null?i:null},getEntryLightgroups:(e,s)=>t=>{const r=s.getEntry(t);if(!r)return[];const i=[];return Object.entries(r.lightgroups).forEach(([n,a])=>{i.push({name:a.name,start:a.start,end:a.end,id:n})}),Rt(i,"name")},getEntryPresets:(e,s)=>t=>{const r=s.getEntry(t);if(!r)return[];const i=[];return Object.entries(r.presets).forEach(([n,a])=>{i.push({name:a.name,red:a.red,green:a.green,blue:a.blue,white:a.white,id:n})}),Rt(i,"name")}},rD=()=>({entries:{}}),che=rD(),uhe={namespaced:!0,state:che,getters:lhe,actions:ahe,mutations:ohe},dhe={reset({commit:e}){e("reset")},upload({state:e}){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"navigation.entries",value:e.entries})},updatePos({commit:e},s){e("updatePos",s)},changeVisibility({commit:e,dispatch:s},t){e("changeVisibility",t),s("upload")}},hhe={reset(e){Object.assign(e,iD())},updatePos(e,s){const t=e.entries.findIndex(n=>n.type===s.type&&n.title===s.title);if(t!==-1){e.entries[t].position=s.position;return}const r={type:s.type,title:s.title,visible:s.visible,position:s.position},i=[...e.entries];i.push(r),y.set(e,"entries",i)},changeVisibility(e,s){var a;const t=(a=s.orgTitle)!=null?a:s.title,r=e.entries.findIndex(o=>o.type===s.type&&o.title===t);if(r!==-1){e.entries[r].visible=!s.visible;return}const i={type:s.type,title:t,visible:!s.visible,position:s.position},n=[...e.entries];n.push(i),y.set(e,"entries",n)}},mhe={},iD=()=>({entries:[]}),phe=iD(),fhe={namespaced:!0,state:phe,getters:mhe,actions:dhe,mutations:hhe},ghe={reset({commit:e}){e("reset")},upload({state:e}){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"notifications.dismiss",value:e.dismiss})},close({dispatch:e},s){const t=s.id.indexOf("/");if(t===-1)return;const r=s.id.slice(0,t),i=s.id.slice(t+1);if(r==="announcement"){e("server/announcements/close",{entry_id:i},{root:!0});return}e("storeDismiss",{entry_id:i,category:r,type:"ever",time:null})},dismiss({dispatch:e},s){const t=s.id.indexOf("/");if(t===-1)return;const r=s.id.slice(0,t),i=s.id.slice(t+1);if(r==="announcement"){e("server/announcements/dismiss",{entry_id:i,time:s.time},{root:!0});return}e("storeDismiss",{entry_id:i,category:r,type:s.type,time:s.time})},async storeDismiss({commit:e,dispatch:s,state:t},r){var a;let i=new Date().getTime();r.type==="time"&&(i=new Date().getTime()+((a=r.time)!=null?a:0)*1e3);const n={id:r.entry_id,category:r.category,type:r.type,date:i};t.dismiss.filter(o=>o.id===n.id&&o.category===n.category&&o.type===n.type).length&&await e("removeDismiss",n),await e("addDismiss",n),await s("upload")}},_he={reset(e){Object.assign(e,aD())},addDismiss(e,s){const t=[...e.dismiss];t.push(s),y.set(e,"dismiss",t)},removeDismiss(e,s){const t=[...e.dismiss],r=t.findIndex(i=>i.id===s.id&&i.category===s.category&&i.type===s.type);r!==-1&&t.splice(r),y.set(e,"dismiss",t)}};var nD={exports:{}};const vhe={},bhe=Object.freeze(Object.defineProperty({__proto__:null,default:vhe},Symbol.toStringTag,{value:"Module"})),Y2=$f(bhe);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */(function(e){(function(){var s="input is invalid type",t=typeof window=="object",r=t?window:{};r.JS_SHA256_NO_WINDOW&&(t=!1);var i=!t&&typeof self=="object",n=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n?r=Wr:i&&(r=self);var a=!r.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,o=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],u=[24,16,8,0],d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=["hex","array","digest","arrayBuffer"],m=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(S){return Object.prototype.toString.call(S)==="[object Array]"}),o&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(S){return typeof S=="object"&&S.buffer&&S.buffer.constructor===ArrayBuffer});var p=function(S,L){return function(I){return new D(L,!0).update(I)[S]()}},f=function(S){var L=p("hex",S);n&&(L=b(L,S)),L.create=function(){return new D(S)},L.update=function(G){return L.create().update(G)};for(var I=0;I<h.length;++I){var N=h[I];L[N]=p(N,S)}return L},b=function(S,L){var I=Y2,N=Y2.Buffer,G=L?"sha224":"sha256",q;N.from&&!r.JS_SHA256_NO_BUFFER_FROM?q=N.from:q=function(F){return new N(F)};var se=function(F){if(typeof F=="string")return I.createHash(G).update(F,"utf8").digest("hex");if(F==null)throw new Error(s);return F.constructor===ArrayBuffer&&(F=new Uint8Array(F)),Array.isArray(F)||ArrayBuffer.isView(F)||F.constructor===N?I.createHash(G).update(q(F)).digest("hex"):S(F)};return se},$=function(S,L){return function(I,N){return new R(I,L,!0).update(N)[S]()}},P=function(S){var L=$("hex",S);L.create=function(G){return new R(G,S)},L.update=function(G,q){return L.create(G).update(q)};for(var I=0;I<h.length;++I){var N=h[I];L[N]=$(N,S)}return L};function D(S,L){L?(m[0]=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=S}D.prototype.update=function(S){if(!this.finalized){var L,I=typeof S;if(I!=="string"){if(I==="object"){if(S===null)throw new Error(s);if(o&&S.constructor===ArrayBuffer)S=new Uint8Array(S);else if(!Array.isArray(S)&&(!o||!ArrayBuffer.isView(S)))throw new Error(s)}else throw new Error(s);L=!0}for(var N,G=0,q,se=S.length,F=this.blocks;G<se;){if(this.hashed&&(this.hashed=!1,F[0]=this.block,F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0),L)for(q=this.start;G<se&&q<64;++G)F[q>>2]|=S[G]<<u[q++&3];else for(q=this.start;G<se&&q<64;++G)N=S.charCodeAt(G),N<128?F[q>>2]|=N<<u[q++&3]:N<2048?(F[q>>2]|=(192|N>>6)<<u[q++&3],F[q>>2]|=(128|N&63)<<u[q++&3]):N<55296||N>=57344?(F[q>>2]|=(224|N>>12)<<u[q++&3],F[q>>2]|=(128|N>>6&63)<<u[q++&3],F[q>>2]|=(128|N&63)<<u[q++&3]):(N=65536+((N&1023)<<10|S.charCodeAt(++G)&1023),F[q>>2]|=(240|N>>18)<<u[q++&3],F[q>>2]|=(128|N>>12&63)<<u[q++&3],F[q>>2]|=(128|N>>6&63)<<u[q++&3],F[q>>2]|=(128|N&63)<<u[q++&3]);this.lastByteIndex=q,this.bytes+=q-this.start,q>=64?(this.block=F[16],this.start=q-64,this.hash(),this.hashed=!0):this.start=q}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},D.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var S=this.blocks,L=this.lastByteIndex;S[16]=this.block,S[L>>2]|=c[L&3],this.block=S[16],L>=56&&(this.hashed||this.hash(),S[0]=this.block,S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0),S[14]=this.hBytes<<3|this.bytes>>>29,S[15]=this.bytes<<3,this.hash()}},D.prototype.hash=function(){var S=this.h0,L=this.h1,I=this.h2,N=this.h3,G=this.h4,q=this.h5,se=this.h6,F=this.h7,W=this.blocks,X,J,ee,te,j,z,T,A,V,Q,le;for(X=16;X<64;++X)j=W[X-15],J=(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3,j=W[X-2],ee=(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10,W[X]=W[X-16]+J+W[X-7]+ee<<0;for(le=L&I,X=0;X<64;X+=4)this.first?(this.is224?(A=300032,j=W[0]-1413257819,F=j-150054599<<0,N=j+24177077<<0):(A=704751109,j=W[0]-210244248,F=j-1521486534<<0,N=j+143694565<<0),this.first=!1):(J=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),ee=(G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7),A=S&L,te=A^S&I^le,T=G&q^~G&se,j=F+ee+T+d[X]+W[X],z=J+te,F=N+j<<0,N=j+z<<0),J=(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),ee=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),V=N&S,te=V^N&L^A,T=F&G^~F&q,j=se+ee+T+d[X+1]+W[X+1],z=J+te,se=I+j<<0,I=j+z<<0,J=(I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10),ee=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),Q=I&N,te=Q^I&S^V,T=se&F^~se&G,j=q+ee+T+d[X+2]+W[X+2],z=J+te,q=L+j<<0,L=j+z<<0,J=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),ee=(q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7),le=L&I,te=le^L&N^Q,T=q&se^~q&F,j=G+ee+T+d[X+3]+W[X+3],z=J+te,G=S+j<<0,S=j+z<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+S<<0,this.h1=this.h1+L<<0,this.h2=this.h2+I<<0,this.h3=this.h3+N<<0,this.h4=this.h4+G<<0,this.h5=this.h5+q<<0,this.h6=this.h6+se<<0,this.h7=this.h7+F<<0},D.prototype.hex=function(){this.finalize();var S=this.h0,L=this.h1,I=this.h2,N=this.h3,G=this.h4,q=this.h5,se=this.h6,F=this.h7,W=l[S>>28&15]+l[S>>24&15]+l[S>>20&15]+l[S>>16&15]+l[S>>12&15]+l[S>>8&15]+l[S>>4&15]+l[S&15]+l[L>>28&15]+l[L>>24&15]+l[L>>20&15]+l[L>>16&15]+l[L>>12&15]+l[L>>8&15]+l[L>>4&15]+l[L&15]+l[I>>28&15]+l[I>>24&15]+l[I>>20&15]+l[I>>16&15]+l[I>>12&15]+l[I>>8&15]+l[I>>4&15]+l[I&15]+l[N>>28&15]+l[N>>24&15]+l[N>>20&15]+l[N>>16&15]+l[N>>12&15]+l[N>>8&15]+l[N>>4&15]+l[N&15]+l[G>>28&15]+l[G>>24&15]+l[G>>20&15]+l[G>>16&15]+l[G>>12&15]+l[G>>8&15]+l[G>>4&15]+l[G&15]+l[q>>28&15]+l[q>>24&15]+l[q>>20&15]+l[q>>16&15]+l[q>>12&15]+l[q>>8&15]+l[q>>4&15]+l[q&15]+l[se>>28&15]+l[se>>24&15]+l[se>>20&15]+l[se>>16&15]+l[se>>12&15]+l[se>>8&15]+l[se>>4&15]+l[se&15];return this.is224||(W+=l[F>>28&15]+l[F>>24&15]+l[F>>20&15]+l[F>>16&15]+l[F>>12&15]+l[F>>8&15]+l[F>>4&15]+l[F&15]),W},D.prototype.toString=D.prototype.hex,D.prototype.digest=function(){this.finalize();var S=this.h0,L=this.h1,I=this.h2,N=this.h3,G=this.h4,q=this.h5,se=this.h6,F=this.h7,W=[S>>24&255,S>>16&255,S>>8&255,S&255,L>>24&255,L>>16&255,L>>8&255,L&255,I>>24&255,I>>16&255,I>>8&255,I&255,N>>24&255,N>>16&255,N>>8&255,N&255,G>>24&255,G>>16&255,G>>8&255,G&255,q>>24&255,q>>16&255,q>>8&255,q&255,se>>24&255,se>>16&255,se>>8&255,se&255];return this.is224||W.push(F>>24&255,F>>16&255,F>>8&255,F&255),W},D.prototype.array=D.prototype.digest,D.prototype.arrayBuffer=function(){this.finalize();var S=new ArrayBuffer(this.is224?28:32),L=new DataView(S);return L.setUint32(0,this.h0),L.setUint32(4,this.h1),L.setUint32(8,this.h2),L.setUint32(12,this.h3),L.setUint32(16,this.h4),L.setUint32(20,this.h5),L.setUint32(24,this.h6),this.is224||L.setUint32(28,this.h7),S};function R(S,L,I){var N,G=typeof S;if(G==="string"){var q=[],se=S.length,F=0,W;for(N=0;N<se;++N)W=S.charCodeAt(N),W<128?q[F++]=W:W<2048?(q[F++]=192|W>>6,q[F++]=128|W&63):W<55296||W>=57344?(q[F++]=224|W>>12,q[F++]=128|W>>6&63,q[F++]=128|W&63):(W=65536+((W&1023)<<10|S.charCodeAt(++N)&1023),q[F++]=240|W>>18,q[F++]=128|W>>12&63,q[F++]=128|W>>6&63,q[F++]=128|W&63);S=q}else if(G==="object"){if(S===null)throw new Error(s);if(o&&S.constructor===ArrayBuffer)S=new Uint8Array(S);else if(!Array.isArray(S)&&(!o||!ArrayBuffer.isView(S)))throw new Error(s)}else throw new Error(s);S.length>64&&(S=new D(L,!0).update(S).array());var X=[],J=[];for(N=0;N<64;++N){var ee=S[N]||0;X[N]=92^ee,J[N]=54^ee}D.call(this,L,I),this.update(J),this.oKeyPad=X,this.inner=!0,this.sharedMemory=I}R.prototype=new D,R.prototype.finalize=function(){if(D.prototype.finalize.call(this),this.inner){this.inner=!1;var S=this.array();D.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(S),D.prototype.finalize.call(this)}};var k=f();k.sha256=k,k.sha224=f(!0),k.sha256.hmac=P(),k.sha224.hmac=P(!0),a?e.exports=k:(r.sha256=k.sha256,r.sha224=k.sha224)})()})(nD);var mr=nD.exports,X2=globalThis&&globalThis.__spreadArray||function(e,s,t){if(t||arguments.length===2)for(var r=0,i=s.length,n;r<i;r++)(n||!(r in s))&&(n||(n=Array.prototype.slice.call(s,0,r)),n[r]=s[r]);return e.concat(n||Array.prototype.slice.call(s))},yhe=function(){function e(s,t,r){this.name=s,this.version=t,this.os=r,this.type="browser"}return e}(),Che=function(){function e(s){this.version=s,this.type="node",this.name="node",this.os=process.platform}return e}(),$he=function(){function e(s,t,r,i){this.name=s,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return e}(),xhe=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),She=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),whe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Phe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,J2=3,The=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",whe]],K2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Dhe(e){return e?Q2(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new She:typeof navigator<"u"?Q2(navigator.userAgent):Ohe()}function Mhe(e){return e!==""&&The.reduce(function(s,t){var r=t[0],i=t[1];if(s)return s;var n=i.exec(e);return!!n&&[r,n]},!1)}function Q2(e){var s=Mhe(e);if(!s)return null;var t=s[0],r=s[1];if(t==="searchbot")return new xhe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<J2&&(i=X2(X2([],i,!0),Lhe(J2-i.length),!0)):i=[];var n=i.join("."),a=Ehe(e),o=Phe.exec(e);return o&&o[1]?new $he(t,n,a,o[1]):new yhe(t,n,a)}function Ehe(e){for(var s=0,t=K2.length;s<t;s++){var r=K2[s],i=r[0],n=r[1],a=n.exec(e);if(a)return i}return null}function Ohe(){var e=typeof process<"u"&&process.version;return e?new Che(process.version.slice(1)):null}function Lhe(e){for(var s=[],t=0;t<e;t++)s.push("0");return s}const Fhe={getNotifications:(e,s)=>{let t=[];t=t.concat(s.getNotificationsAnnouncements),t=t.concat(s.getNotificationsFlags),t=t.concat(s.getNotificationsDependencies),t=t.concat(s.getNotificationsMoonrakerWarnings),t=t.concat(s.getNotificationsMoonrakerFailedComponents),t=t.concat(s.getNotificationsMoonrakerFailedInitComponents),t=t.concat(s.getNotificationsKlipperWarnings),t=t.concat(s.getNotificationsOverdueMaintenance),t=t.concat(s.getNotificationsBrowserWarnings),t=t.concat(s.getNotificationsOverheatDrivers);const r={normal:2,high:1,critical:0};return t.sort((i,n)=>r[i.priority]<r[n.priority]?-1:r[i.priority]>r[n.priority]?1:n.date.getTime()-i.date.getTime())},getNotificationsAnnouncements:(e,s,t,r)=>{const i=[],n=r["server/announcements/getAnnouncements"];return n.length&&n.forEach(a=>{i.push({id:"announcement/"+a.entry_id,priority:a.priority,title:a.title,description:a.description,date:a.date,dismissed:a.dismissed,url:a.url})}),i},getNotificationsFlags:(e,s,t,r)=>{var a;const i=[];let n=r["server/getThrottledStateFlags"];if(n.length){const o=(a=t.server.system_boot_at)!=null?a:new Date,l=r["gui/notifications/getDismissByCategory"]("flag").map(c=>c.id);n=n.filter(c=>!l.includes(c)),n.forEach(c=>{i.push({id:"flag/"+c,priority:c.startsWith("Previously")?"high":"critical",title:be.t("App.ThrottledStates.Title".concat(c)),description:be.t("App.ThrottledStates.Description".concat(c)),date:o,dismissed:!1})})}return i},getNotificationsDependencies:(e,s,t,r)=>{var a;const i=[];let n=r.getDependencies;if(n.length){const o=(a=t.server.system_boot_at)!=null?a:new Date,l=r["gui/notifications/getDismissByCategory"]("dependency").map(c=>c.id);n=n.filter(c=>!l.includes("".concat(c.serviceName,"/").concat(c.neededVersion))),n.forEach(c=>{i.push({id:"dependency/".concat(c.serviceName,"/").concat(c.neededVersion),priority:"high",title:be.t("App.Notifications.DependencyName",{name:c.serviceName}).toString(),description:be.t("App.Notifications.DependencyDescription",{name:c.serviceName,installedVersion:c.installedVersion,neededVersion:c.neededVersion}).toString(),date:o,dismissed:!1})})}return i},getNotificationsMoonrakerWarnings:(e,s,t,r)=>{var a,o;const i=[];let n=(a=t.server.warnings)!=null?a:[];if(n.length){const l=(o=t.server.system_boot_at)!=null?o:new Date,c=r["gui/notifications/getDismissByCategory"]("moonrakerWarning").map(u=>u.id);n=n.filter(u=>!c.includes(mr.sha256(u))),n.forEach(u=>{var h,m,p,f;let d=u;if(u.startsWith("Unparsed config option")){const $=(m=(h=RegExp(/'(?<option>.+): (?<value>.+)'.+\[(?<section>.+)\]/).exec(u))==null?void 0:h.groups)!=null?m:{option:"",section:"",value:""};d=be.t("App.Notifications.MoonrakerWarnings.UnparsedConfigOption",$).toString()}else if(u.startsWith("Unparsed config section")){const $=(f=(p=RegExp(/\[(?<section>.+)\]/).exec(u))==null?void 0:p.groups)!=null?f:{section:""};d=be.t("App.Notifications.MoonrakerWarnings.UnparsedConfigSection",$).toString()}i.push({id:"moonrakerWarning/".concat(mr.sha256(u)),priority:"high",title:be.t("App.Notifications.MoonrakerWarnings.MoonrakerWarning").toString(),description:d,date:l,dismissed:!1})})}return i},getNotificationsMoonrakerFailedComponents:(e,s,t,r)=>{var a,o;const i=[];let n=(a=t.server.failed_components)!=null?a:[];if(n.length){const l=(o=t.server.system_boot_at)!=null?o:new Date,c=r["gui/notifications/getDismissByCategory"]("moonrakerFailedComponent").map(u=>u.id);n=n.filter(u=>!c.includes(u)),n.forEach(u=>{i.push({id:"moonrakerFailedComponent/".concat(u),priority:"high",title:be.t("App.Notifications.MoonrakerWarnings.MoonrakerComponent",{component:u}).toString(),description:be.t("App.Notifications.MoonrakerWarnings.MoonrakerFailedComponentDescription",{component:u}).toString(),date:l,dismissed:!1})})}return i},getNotificationsMoonrakerFailedInitComponents:(e,s,t,r)=>{var a,o;const i=[];let n=(a=t.server.failed_init_components)!=null?a:[];if(n.length){const l=(o=t.server.system_boot_at)!=null?o:new Date,c=r["gui/notifications/getDismissByCategory"]("moonrakerFailedInitComponent").map(u=>u.id);n=n.filter(u=>!c.includes(u)),n.forEach(u=>{i.push({id:"moonrakerFailedInitComponent/".concat(u),priority:"high",title:be.t("App.Notifications.MoonrakerWarnings.MoonrakerInitComponent",{component:u}).toString(),description:be.t("App.Notifications.MoonrakerWarnings.MoonrakerFailedInitComponentDescription",{component:u}).toString(),date:l,dismissed:!1})})}return i},getNotificationsKlipperWarnings:(e,s,t,r)=>{var a,o,l;const i=[];let n=(o=(a=t.printer.configfile)==null?void 0:a.warnings)!=null?o:[];if(n.length){const c=(l=t.server.system_boot_at)!=null?l:new Date,u=r["gui/notifications/getDismissByCategory"]("klipperWarning").map(d=>d.id);n=n.filter(d=>!u.includes(mr.sha256(d.message))),n.forEach(d=>{let h=be.t("App.Notifications.KlipperWarnings.KlipperWarning").toString(),m=d.message;d.type==="deprecated_value"?(h=be.t("App.Notifications.KlipperWarnings.DeprecatedValueHeadline").toString(),m=be.t("App.Notifications.KlipperWarnings.DeprecatedValue",d).toString()):d.type==="deprecated_option"?(h=be.t("App.Notifications.KlipperWarnings.DeprecatedOptionHeadline").toString(),m=be.t("App.Notifications.KlipperWarnings.DeprecatedOption",d).toString()):d.type==="runtime_warning"&&(h=be.t("App.Notifications.KlipperWarnings.KlipperRuntimeWarning").toString());let p="https://docs.mainsail.xyz/faq/klipper_warnings/"+d.type;d.type==="deprecated_option"&&d.option.startsWith("default_parameter")?p+="#default_parameter":d.type==="deprecated_option"?p+="#"+d.option:d.type==="deprecated_value"&&(p+="#"+d.value),i.push({id:"klipperWarning/".concat(mr.sha256(d.message)),priority:"high",title:h,description:m,date:c,url:p,dismissed:!1})})}return i},getNotificationsBrowserWarnings:(e,s,t)=>{var o,l;const r=[],i=Dhe(),n=(o=t.server.system_boot_at)!=null?o:new Date;if(i===null)return r;window.console.debug("Browser: ".concat(i.name," ").concat(i.version,", OS: ").concat(i.os));const a=nM.find(c=>c.name.toLowerCase()===i.name.toLowerCase());return a===void 0||nt.valid(i.version)&&nt.valid(a.version)&&nt.gt(a.version,(l=i.version)!=null?l:"0.0.0")&&r.push({id:"browserWarning/".concat(a.name,"/").concat(a.version),priority:"critical",title:be.t("App.Notifications.BrowserWarnings.Headline").toString(),description:be.t("App.Notifications.BrowserWarnings.Description",{name:a.name,version:i.version,minVersion:a.version}).toString(),date:n,dismissed:!1}),r},getNotificationsOverdueMaintenance:(e,s,t,r)=>{var l;const i=[];let n=r["gui/maintenance/getOverdueEntries"];if(n.length==0)return[];const a=(l=t.server.system_boot_at)!=null?l:new Date,o=r["gui/notifications/getDismissByCategory"]("maintenance").map(c=>c.id);return n=n.filter(c=>!o.includes(c.id)),n.forEach(c=>{i.push({id:"maintenance/".concat(c.id),priority:"high",title:be.t("App.Notifications.MaintenanceReminder").toString(),description:be.t("App.Notifications.MaintenanceReminderText",{name:c.name}).toString(),date:a,dismissed:!1})}),i},getNotificationsOverheatDrivers:(e,s,t)=>{var a;const r=[],i=(a=t.server.system_boot_at)!=null?a:new Date;Object.keys(t.printer).filter(o=>o.startsWith("tmc")).forEach(o=>{var u,d,h,m;const l=t.printer[o],c=o.split(" ")[1];((d=(u=l.drv_status)==null?void 0:u.ot)!=null?d:null)===1&&r.push({id:"tmcwarning/".concat(o,"-ot"),priority:"critical",title:be.t("App.Notifications.TmcOtFlag").toString(),description:be.t("App.Notifications.TmcOtFlagText",{name:c}).toString(),date:i,dismissed:!1,url:"https://www.klipper3d.org/TMC_Drivers.html#tmc-reports-error-ot1overtemperror"}),((m=(h=l.drv_status)==null?void 0:h.otpw)!=null?m:null)===1&&r.push({id:"tmcwarning/".concat(o,"-otpw"),priority:"high",title:be.t("App.Notifications.TmcOtpwFlag").toString(),description:be.t("App.Notifications.TmcOtpwFlagText",{name:c}).toString(),date:i,dismissed:!1,url:"https://www.klipper3d.org/TMC_Drivers.html#tmc-reports-error-ot1overtemperror"})});const n=s.getDismissByCategory("tmcwarning").map(o=>"tmcwarning/".concat(o.id));return r.filter(o=>!n.includes(o.id))},getDismiss:(e,s,t)=>{var a;const r=new Date,i=(a=t.server.system_boot_at)!=null?a:new Date;let n=[...e.dismiss];return n=n.filter(o=>o.type==="reboot"?i.getTime()<o.date:o.type==="time"?r.getTime()<o.date:!0),n},getDismissByCategory:(e,s)=>t=>{let r=s.getDismiss;return r=r.filter(i=>i.category===t),r}},aD=()=>({dismiss:[]}),Ahe=aD(),khe={namespaced:!0,state:Ahe,getters:Fhe,actions:ghe,mutations:_he},Rhe={reset({commit:e}){e("reset")},saveSetting({dispatch:e},s){e("gui/saveSetting",{name:"presets."+s.name,value:s.value},{root:!0})},upload(e,s){y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"presets.presets."+s.id,value:s.value})},store({commit:e,dispatch:s,state:t},r){const i=vs();e("store",{id:i,values:{...r.values}}),s("upload",{id:i,value:t.presets[i]})},update({commit:e,dispatch:s,state:t},r){e("update",r),s("upload",{id:r.id,value:t.presets[r.id]})},delete({commit:e},s){e("delete",s),y.$socket.emit("server.database.delete_item",{namespace:"mainsail",key:"presets.presets."+s})}},Hhe={reset(e){Object.assign(e,oD())},initStore(e,s){"cooldownGcode"in s.value&&(y.set(e,"cooldownGcode",s.value.cooldownGcode),delete s.value.cooldownGcode),y.set(e,"presets",s.value)},store(e,s){y.set(e.presets,s.id,s.values)},update(e,s){s.id in e.presets&&y.set(e.presets,s.id,s.values)},updateCooldownGcode(e,s){y.set(e,"cooldownGcode",s)},delete(e,s){s in e.presets&&y.delete(e.presets,s)}},jhe={getCooldownGcode:e=>{var s;return(s=e.cooldownGcode)!=null?s:"TURN_OFF_HEATERS"},getPresets:e=>{const s=[];return"presets"in e&&Object.keys(e.presets).forEach(t=>{s.push({...e.presets[t],id:t})}),Rt(s,"name")},getPresetsFromHeater:e=>s=>{const t=[];return t.push({value:0,text:"0 °C"}),"presets"in e?(Object.keys(e.presets).forEach(r=>{var n;const i=e.presets[r];(n=i.values[s.name])!=null&&n.bool&&t.findIndex(a=>{var o,l,c;return a.value===parseFloat((c=(l=(o=i.values[s.name])==null?void 0:o.value)==null?void 0:l.toString())!=null?c:"0")})===-1&&t.push({value:parseFloat(i.values[s.name].value),text:i.values[s.name].value+" °C"})}),t.sort((r,i)=>r.value>i.value?-1:r.value<i.value?1:0)):t}},oD=()=>({presets:{},cooldownGcode:"TURN_OFF_HEATERS"}),Ihe=oD(),Nhe={namespaced:!0,state:Ihe,getters:jhe,actions:Rhe,mutations:Hhe},Vhe={reset({commit:e,dispatch:s,state:t}){Object.keys(t.printers).forEach(r=>{s("farm/unregisterPrinter",r,{root:!0})}),e("reset")},initFromLocalstorage({dispatch:e,rootState:s}){var r,i;let t=(r=s.configInstances)!=null?r:[];if(s.instancesDB==="browser"&&(t=JSON.parse((i=localStorage.getItem("printers"))!=null?i:"{}")),Array.isArray(t)){const n={};t.forEach(a=>{const o=vs();n[o]=a}),e("initStore",n)}},async initStore({commit:e,dispatch:s},t){s("reset"),Object.keys(t).forEach(r=>{var n,a,o,l;const i=t[r];e("store",{id:r,values:i}),s("farm/registerPrinter",{id:r,hostname:(n=i.hostname)!=null?n:"",port:(a=i.port)!=null?a:7125,path:(o=i.path)!=null?o:"",settings:(l=i.settings)!=null?l:{}},{root:!0})})},upload({state:e,rootState:s},t){var r;if(s.instancesDB==="browser"){const i=[];Object.keys(e.printers).forEach(n=>{i.push({hostname:e.printers[n].hostname,port:e.printers[n].port,name:e.printers[n].name,path:e.printers[n].path,settings:e.printers[n].settings})}),localStorage.setItem("printers",JSON.stringify(i))}else if(s.instancesDB==="moonraker"&&t in e.printers){const i={hostname:e.printers[t].hostname,port:e.printers[t].port,path:e.printers[t].path,settings:(r=e.printers[t].settings)!=null?r:{}};y.$socket.emit("server.database.post_item",{namespace:"mainsail",key:"remoteprinters.printers."+t,value:i})}},store({commit:e,dispatch:s},t){var i,n,a;const r=vs();e("store",{id:r,values:t.values}),s("farm/registerPrinter",{id:r,hostname:(i=t.values.hostname)!=null?i:"",port:(n=t.values.port)!=null?n:7125,path:(a=t.values.path)!=null?a:"",name:t.values.name},{root:!0}),s("upload",r)},update({commit:e,dispatch:s},t){e("update",t),s("farm/updatePrinter",t,{root:!0}),s("upload",t.id)},updateSettings({commit:e,dispatch:s},t){e("update",{id:t.id,values:{settings:t.values}}),s("upload",t.id)},delete({commit:e,dispatch:s,rootState:t},r){e("delete",r),s("farm/unregisterPrinter",r,{root:!0}),t.instancesDB==="browser"?s("upload"):y.$socket.emit("server.database.delete_item",{namespace:"mainsail",key:"remoteprinters.printers."+r})}},Uhe={reset(e){Object.assign(e,lD())},store(e,s){y.set(e.printers,s.id,s.values)},update(e,s){if(s.id in e.printers){const t={...e.printers[s.id]};Object.assign(t,s.values),y.set(e.printers,s.id,t)}},delete(e,s){s in e.printers&&y.delete(e.printers,s)}},Bhe={getRemoteprinters:(e,s,t,r)=>{const i=[];return Object.keys(e.printers).forEach(n=>{const a={...r["farm/getPrinterSocketState"](n)};i.push({...e.printers[n],id:n,socket:a})}),Rt(i,"hostname")}},lD=()=>({printers:{}}),Ghe=lD(),Whe={namespaced:!0,state:Ghe,getters:Bhe,actions:Vhe,mutations:Uhe},zhe={reset({commit:e}){e("reset")},init(){y.$socket.emit("server.database.get_item",{namespace:"maintenance"},{action:"gui/maintenance/initStore"})},async initDb({dispatch:e,rootGetters:s}){var u,d,h;const t=s["socket/getUrl"],r="".concat(t,"/server/files/config/").concat(qi,"/maintenance.json?time=").concat(Date.now()),n=(u=(await fetch(r).then(m=>m.status!==200?{entries:[]}:m.json()).catch(m=>(window.console.error("maintenance.json cannot be parsed",m),{entries:[]}))).entries)!=null?u:[];if((n==null?void 0:n.length)===0){y.$socket.emit("server.database.post_item",{namespace:"maintenance",key:vs(),value:{name:"MAINTENANCE_INIT"}});return}const a=await fetch("".concat(t,"/server/history/totals")).then(m=>m.status!==200?{}:m.json()).then(m=>{var p,f;return(f=(p=m.result)==null?void 0:p.job_totals)!=null?f:{}}).catch(m=>{window.console.debug("History totals could not be loaded",m)}),o=(d=a.total_filament_used)!=null?d:0,l=(h=a.total_print_time)!=null?h:0,c=new Date().getTime()/1e3;n.forEach(m=>{var p,f,b,$,P,D,R,k,S,L,I,N,G,q,se,F,W,X,J,ee,te;e("store",{entry:{name:m.name,note:(p=m.note)!=null?p:"",start_time:c,end_time:null,start_filament:o,end_filament:null,start_printtime:l,end_printtime:null,last_entry:null,reminder:{type:(b=(f=m.reminder)==null?void 0:f.type)!=null?b:null,filament:{bool:(D=(P=($=m.reminder)==null?void 0:$.filament)==null?void 0:P.bool)!=null?D:!1,value:(S=(k=(R=m.reminder)==null?void 0:R.filament)==null?void 0:k.value)!=null?S:null},printtime:{bool:(N=(I=(L=m.reminder)==null?void 0:L.printtime)==null?void 0:I.bool)!=null?N:!1,value:(se=(q=(G=m.reminder)==null?void 0:G.printtime)==null?void 0:q.value)!=null?se:null},date:{bool:(X=(W=(F=m.reminder)==null?void 0:F.date)==null?void 0:W.bool)!=null?X:!1,value:(te=(ee=(J=m.reminder)==null?void 0:J.date)==null?void 0:ee.value)!=null?te:null}}}})})},async initStore({commit:e,dispatch:s},t){var n;await e("reset");const r=(n=t.value)!=null?n:{},i=Object.keys(r).find(a=>{var o;return((o=r[a])==null?void 0:o.name)==="MAINTENANCE_INIT"});i&&delete r[i],await e("initStore",r),await s("socket/removeInitModule","gui/maintenance/init",{root:!0})},upload(e,s){y.$socket.emit("server.database.post_item",{namespace:"maintenance",key:s.id,value:s.value})},store({commit:e,dispatch:s,state:t},r){const i=vs();e("store",{id:i,values:r.entry}),s("upload",{id:i,value:t.entries[i]})},update({commit:e,dispatch:s},t){const r=t.id;delete t.id,e("update",{id:r,entry:t}),s("upload",{id:r,value:t})},delete({commit:e},s){e("delete",s),y.$socket.emit("server.database.delete_item",{namespace:"maintenance",key:s})},perform({dispatch:e,state:s,rootState:t},r){var o,l,c,u,d,h,m,p;const i=s.entries[r.id];if(!i)return;const n=(u=(c=(l=(o=t.server)==null?void 0:o.history)==null?void 0:l.job_totals)==null?void 0:c.total_filament_used)!=null?u:0,a=(p=(m=(h=(d=t.server)==null?void 0:d.history)==null?void 0:h.job_totals)==null?void 0:m.total_print_time)!=null?p:0;if(i.id=r.id,i.end_time=Date.now()/1e3,i.end_filament=n,i.end_printtime=a,i.perform_note=r.note.trim()||null,e("update",i),i.reminder.type==="repeat"){const f=new Date;e("store",{entry:{name:i.name,note:i.note,start_time:f.getTime()/1e3,end_time:null,start_filament:n,end_filament:null,start_printtime:a,end_printtime:null,last_entry:r.id,reminder:{...i.reminder}}})}}},qhe={reset(e){Object.assign(e,cD())},initStore(e,s){y.set(e,"entries",s)},store(e,s){y.set(e.entries,s.id,s.values)},update(e,s){if(!(s.id in e.entries))return;const t={...e.entries[s.id]};Object.assign(t,s.entry),y.set(e.entries,s.id,t)},delete(e,s){s in e.entries&&y.delete(e.entries,s)}},Zhe={getEntries:e=>{const s=[];return Object.keys(e.entries).forEach(t=>{s.push({...e.entries[t],id:t})}),s},getOverdueEntries:(e,s,t)=>{var o,l,c;const r=(o=t.server.history.job_totals.total_print_time)!=null?o:0,i=(l=t.server.history.job_totals.total_filament_used)!=null?l:0,n=new Date().getTime()/1e3;return((c=s.getEntries)!=null?c:[]).filter(u=>{var d,h,m;return u.reminder.type===null||u.end_time!==null?!1:!!(u.reminder.filament.bool&&u.start_filament+((d=u.reminder.filament.value)!=null?d:0)*1e3<=i||u.reminder.printtime.bool&&u.start_printtime+((h=u.reminder.printtime.value)!=null?h:0)*3600<=r||u.reminder.date.bool&&u.start_time+((m=u.reminder.date.value)!=null?m:0)*24*60*60<=n)})}},cD=()=>({entries:{}}),Yhe=cD(),Xhe={namespaced:!0,state:Yhe,getters:Zhe,actions:zhe,mutations:qhe},Jhe={reset({commit:e}){e("reset")},init(){window.console.debug("init gui/webcams"),y.$socket.emit("server.webcams.list",{},{action:"gui/webcams/initStore"})},async initStore({commit:e,dispatch:s},t){await e("reset"),await e("initStore",t.webcams),await s("socket/removeInitModule","gui/webcam/init",{root:!0})},store(e,s){y.$socket.emit("server.webcams.post_item",s)},update({dispatch:e,rootState:s},t){var r;y.$socket.emit("server.webcams.post_item",t.webcam),t.webcam.name!==t.oldWebcamName&&e("delete",t.oldWebcamName),(r=s.server)!=null&&r.components.includes("timelapse")&&e("server/timelapse/updateCamSettings",{newName:t.webcam.name,oldName:t.oldWebcamName},{root:!0})},delete(e,s){y.$socket.emit("server.webcams.delete_item",{name:s})}},Khe={reset(e){Object.assign(e,uD())},initStore(e,s){y.set(e,"webcams",s)}},Qhe={getWebcams:e=>e.webcams.filter(s=>s.enabled),getWebcam:(e,s)=>t=>{var i;return((i=s.getWebcams)!=null?i:[]).find(n=>n.name===t)}},uD=()=>({webcams:[]}),eme=uD(),tme={namespaced:!0,state:eme,getters:Qhe,actions:Jhe,mutations:Khe},sme={getActiveColorSchemeList:e=>{switch(e.activecolorscheme.toLowerCase()){case"hsv":return["#0000ff","#00ffff","#00ff00","#ffff00","#ff0000"];case"spring":return["#ff00ff","#ffff00"];case"hot":return["#000000","#ff0000","#ffff00","#ffffff"];case"grayscale":return["#ffffff","#000000"];default:return["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}}},rme={saveActiveColorScheme({commit:e},s){e("saveActiveColorScheme",s)},saveSetting({dispatch:e},s){e("gui/saveSetting",{name:"heightmap."+s.name,value:s.value},{root:!0})}},ime=()=>({activecolorscheme:"portland",defaultOrientation:"rightFront"}),nme=ime(),ame={namespaced:!0,state:nme,getters:sme,actions:rme},ah=()=>({general:{printername:"",language:"en",dateFormat:null,timeFormat:null,calcPrintProgress:"file-relative",calcEstimateTime:["file","filament"],calcEtaTime:["file","filament","slicer"]},control:{style:"bars",actionButton:null,hideDuringPrint:!1,enableXYHoming:!1,feedrateXY:100,stepsXY:[100,10,1],feedrateZ:25,offsetsZ:[.005,.01,.025,.05],offsetZSaveOption:null,stepsZ:[25,1,.1],stepsAll:[.1,1,10,25,50,100],stepsCircleXY:[1,10,50,100],stepsCircleZ:[.1,1,10,50],selectedCrossStep:null,reverseX:!1,reverseY:!1,reverseZ:!1,extruder:{feedamount:25,feedamounts:[50,25,10,5,1],feedrate:5,feedrates:[10,5,2,1],showEstimatedExtrusionInfo:!0}},dashboard:{nonExpandPanels:{mobile:[],tablet:[],desktop:[],widescreen:[]},mobileLayout:[{name:"webcam",visible:!1},{name:"toolhead-control",visible:!0},{name:"extruder-control",visible:!0},{name:"macros",visible:!0},{name:"machine-settings",visible:!0},{name:"miscellaneous",visible:!0},{name:"temperature",visible:!0},{name:"miniconsole",visible:!1}],tabletLayout1:[{name:"webcam",visible:!0},{name:"toolhead-control",visible:!0},{name:"extruder-control",visible:!0},{name:"macros",visible:!0},{name:"machine-settings",visible:!0},{name:"miscellaneous",visible:!0}],tabletLayout2:[{name:"temperature",visible:!0},{name:"miniconsole",visible:!0}],desktopLayout1:[{name:"webcam",visible:!0},{name:"toolhead-control",visible:!0},{name:"extruder-control",visible:!0},{name:"macros",visible:!0},{name:"machine-settings",visible:!0},{name:"miscellaneous",visible:!0}],desktopLayout2:[{name:"temperature",visible:!0},{name:"miniconsole",visible:!0}],widescreenLayout1:[{name:"toolhead-control",visible:!0},{name:"extruder-control",visible:!0},{name:"macros",visible:!0},{name:"miscellaneous",visible:!0}],widescreenLayout2:[{name:"temperature",visible:!0},{name:"machine-settings",visible:!0}],widescreenLayout3:[{name:"webcam",visible:!0},{name:"miniconsole",visible:!0}]},editor:{escToClose:!0,confirmUnsavedChanges:!0,klipperRestartMethod:"FIRMWARE_RESTART",tabSize:2,fileStructureSidebar:!0},gcodeViewer:{extruderColors:["#E76F51FF","#F4A261FF","#E9C46AFF","#2A9D8FFF","#264653FF"],gridColor:"#B3B3B3",backgroundColor:"#121212",colorMode:2,showAxes:!0,minFeed:20,maxFeed:100,minFeedColor:"#2196f3",maxFeedColor:"#D41216",progressColor:"#ECECEC",showCursor:!0,showTravelMoves:!1,showObjectSelection:!1,hdRendering:!1,forceLineRendering:!1,transparency:!1,voxelMode:!1,voxelWidth:1,voxelHeight:1,specularLighting:!1,klipperCache:{kinematics:null,axis_minimum:null,axis_maximum:null},showGCodePanel:!1,cncMode:!1},navigation:{entries:[]},uiSettings:{mode:CC,theme:$C,logo:ti,primary:kl,displayCancelPrint:!1,lockSlidersOnTouchDevices:!0,lockSlidersDelay:1.5,confirmOnEmergencyStop:!1,confirmOnCoolDown:!1,confirmOnPowerDeviceChange:!1,confirmOnCancelJob:!1,boolBigThumbnail:!0,bigThumbnailBackground:kt,boolWideNavDrawer:!1,boolHideUploadAndPrintButton:!1,navigationStyle:"iconsAndText",defaultNavigationStateSetting:"alwaysOpen",powerDeviceName:null,progressAsFavicon:!0,hideSaveConfigForBedMash:!1,disableFanAnimation:!1,boolManualProbeDialog:!0,boolBedScrewsDialog:!0,boolScrewsTiltAdjustDialog:!0,tempchartHeight:250,hideUpdateWarnings:!1,printstatusThumbnailZoom:!0,dashboardFilesLimit:5,dashboardFilesFilter:["new","failed","completed"],dashboardHistoryLimit:5,hideOtherInstances:!1},view:{blockFileUpload:!1,configfiles:{countPerPage:10,sortBy:"filename",sortDesc:!1,showHiddenFiles:!1,hideBackupFiles:!1,currentPath:"",rootPath:"config",selectedFiles:[]},extruder:{showTools:!0,showExtrusionFactor:!0,showPressureAdvance:!0,showFirmwareRetraction:!0,showExtruderControl:!0},gcodefiles:{countPerPage:10,sortBy:"modified",sortDesc:!0,showHiddenFiles:!1,showPrintedFiles:!0,hideMetadataColumns:[],orderMetadataColumns:["size","modified","object_height","layer_height","nozzle_diameter","filament_name","filament_type","filament_total","filament_weight_total","estimated_time","last_print_duration","slicer"],currentPath:"",selectedFiles:[]},heightmap:{probed:!0,mesh:!1,flat:!1,wireframe:!0,scaleGradient:!1,scaleZMax:.5},history:{countPerPage:10,toggleChartCol2:"chart",toggleChartCol3:"filament_usage",hidePrintStatus:[],hideColums:["size","modified","end_time","total_duration","filament_total","first_layer_extr_temp","first_layer_bed_temp","first_layer_height","layer_height","object_height"],selectedJobs:[],showMaintenanceEntries:!0,showPrintJobs:!0},jobqueue:{countPerPage:10},lockedSliders:[],tempchart:{boolTempchart:!0,hiddenDataset:[],hideMcuHostSensors:!1,hideMonitors:!1,autoscale:!1,datasetSettings:{}},timelapse:{countPerPage:10,sortBy:"modified",sortDesc:!0,showHiddenFiles:!1,currentPath:"timelapse",selectedFiles:[]},toolhead:{showPosition:!0,showCoordinates:!0,showControl:!0,showZOffset:!0,showSpeedFactor:!0},webcam:{currentCam:{dashboard:"all",page:"all"}},mmu:{showClogDetection:!0,showTtgMap:!0,showDetails:!0,largeFilamentStatus:!1,showLogos:!0,showUnavailableSpoolColor:!1}}}),ome=ah(),lme={namespaced:!0,state:ome,getters:Gde,actions:Ude,mutations:Bde,modules:{console:Yde,gcodehistory:ehe,macros:nhe,maintenance:Xhe,miscellaneous:uhe,navigation:fhe,notifications:khe,presets:Nhe,remoteprinters:Whe,webcams:tme,heightmap:ame}},cme={reset({commit:e}){e("reset")},connect({state:e,commit:s,dispatch:t,getters:r,rootGetters:i}){s("setSocketData",{isConnecting:!0});const n=new WebSocket(r.getSocketUrl);n.onopen=()=>{s("setSocketData",{instance:n,reconnects:0,isConnecting:!1,isConnected:!0}),t("sendObj",{method:"server.info",action:"getServerInfo"})},n.onclose=a=>{i["farm/existsPrinter"](e._namespace)&&(!a.wasClean&&e.socket.reconnects<e.socket.maxReconnects?(s("setSocketData",{reconnects:e.socket.reconnects+1}),setTimeout(()=>{t("connect")},e.socket.reconnectInterval)):s("setSocketData",{isConnecting:!1,isConnected:!1,reconnects:0}))},n.onerror=()=>{window.console.error("Farm Printer WebSocket Error")},n.onmessage=a=>{const o=JSON.parse(a.data);if(o&&o.method)switch(o.method){case"notify_status_update":t("getData",o.params[0]);break;case"notify_klippy_disconnected":t("disconnectKlippy");break;case"notify_klippy_ready":t("connectKlippy");break}else if("result"in o){const l=e.socket.wsData.findIndex(c=>c.id===o.id);if(l!==-1&&e.socket.wsData[l].action!==void 0&&e.socket.wsData[l].action!==""){let c=o.result;c==="ok"&&(c={result:c}),typeof c=="string"&&(c={result:c});const u={},d=e.socket.wsData[l];d.actionPreload&&Object.assign(u,d.actionPreload),Object.assign(u,{requestParams:d.params}),Object.assign(u,c),t(d.action,u)}l!==-1&&s("removeWsData",l)}}},reconnect({state:e,dispatch:s}){e.socket.instance&&e.socket.instance.close(),s("connect")},sendObj({state:e,commit:s},t){if(e.socket.instance&&e.socket.instance.readyState===WebSocket.OPEN){const r=Math.floor(Math.random()*1e4)+1;s("addWsData",{id:r,action:t.action,params:t.params||{},actionPreload:t.actionPreload||null}),e.socket.instance.send(JSON.stringify({jsonrpc:"2.0",method:t.method,params:t.params||{},id:r}))}},connectKlippy({commit:e,dispatch:s}){e("setKlippyConnected",!0),s("initPrinter")},disconnectKlippy({commit:e}){e("setKlippyConnected",!1)},getServerInfo({commit:e,dispatch:s},t){e("setKlippyConnected",t.klippy_connected),s("initPrinter")},initPrinter({state:e,commit:s,dispatch:t}){s("resetData"),e.server.klippy_connected&&t("sendObj",{method:"printer.objects.list",action:"getObjectsList"}),t("sendObj",{method:"server.files.list",action:"getConfigDir",params:{root:"config"}}),t("sendObj",{method:"server.database.list",action:"getDatabases"})},getObjectsList({dispatch:e},s){var i;const t=["webhooks","print_stats","virtual_sdcard","display_status","heaters","heater_bed","heater_fan","fan","temperature_fan","temperature_sensor","idle_timeout","toolhead"];let r={};(i=s.objects)==null||i.forEach(n=>{const o=n.split(" ")[0];(t.includes(o)||o.startsWith("extruder"))&&(r={...r,[n]:null})}),Object.keys(r).length>0&&e("sendObj",{method:"printer.objects.subscribe",params:{objects:r},action:"getData"})},getData({commit:e,dispatch:s},t){var i,n,a;const r="status"in t?{...t.status}:{...t};e("setData",r),((n=(i=r.print_stats)==null?void 0:i.filename)!=null?n:"")!==""&&s("sendObj",{method:"server.files.metadata",params:{filename:(a=r.print_stats)==null?void 0:a.filename},action:"getMetadataCurrentFile"})},setSettings({commit:e,dispatch:s,state:t},r){e("setSettings",r),s("gui/remoteprinters/updateSettings",{id:t._namespace,values:t.settings},{root:!0})},getMetadataCurrentFile({commit:e},s){e("setCurrentFile",s)},getConfigDir({commit:e},s){e("setConfigDir",s)},getDatabases({commit:e,dispatch:s},t){e("setDatabases",t.namespaces),t.namespaces.includes("mainsail")&&s("sendObj",{method:"server.database.get_item",params:{namespace:"mainsail"},action:"getMainsailData"}),s("sendObj",{method:"server.webcams.list",action:"getWebcamsData"})},getMainsailData({commit:e},s){e("setMainsailData",s.value)},getWebcamsData({commit:e},s){e("setWebcamsData",s.webcams)}},ume={reset(e){Object.assign(e,cf())},resetData(e){Object.assign(e.data,cf().data)},setSocketData(e,s){"status"in s&&(s=s.status),"requestParams"in s&&delete s.requestParams,"_namespace"in s&&(y.set(e,"_namespace",s._namespace),delete s._namespace),Object.entries(s).forEach(([t,r])=>{y.set(e.socket,t,r)})},setData(e,s){"requestParams"in s&&delete s.requestParams,Object.entries(s).forEach(([t,r])=>{typeof r=="object"?y.set(e.data,t,{...e.data[t],...r}):y.set(e.data,t,r)})},setSettings(e,s){y.set(e,"settings",{...e.settings,...s})},addWsData(e,s){const t=[...e.socket.wsData];t.push(s),y.set(e.socket,"wsData",t)},removeWsData(e,s){const t=[...e.socket.wsData];t.splice(s,1),y.set(e.socket,"wsData",t)},setKlippyConnected(e,s){y.set(e.server,"klippy_connected",s)},setCurrentFile(e,s){"requestParams"in s&&delete s.requestParams,y.set(e,"current_file",s)},setConfigDir(e,s){Object.values(s).forEach(t=>{var r;(r=t.path)!=null&&r.startsWith(".theme/")&&e.theme_files.push(t.path)})},setDatabases(e,s){y.set(e,"databases",s)},setMainsailData(e,s){Kf(e.data.gui,s)},setWebcamsData(e,s){y.set(e.data,"webcams",s)}},dme={getSocketUrl:e=>{const s=e.socket.path.replaceAll(/(^\/*)|(\/*$)/g,""),t=s.length>0?"/".concat(s):"";return e.socket.protocol+"://"+e.socket.hostname+":"+e.socket.port+t+"/websocket"},getSocketData:e=>e.socket,isCurrentPrinter:(e,s,t)=>t.socket.hostname===e.socket.hostname&&t.socket.port===e.socket.port,getSetting:e=>(s,t)=>{var r;return(r=e.settings[s])!=null?r:t},getPrinterName:e=>"gui"in e.data&&"general"in e.data.gui&&"printername"in e.data.gui.general&&e.data.gui.general.printername!==""?e.data.gui.general.printername:e.socket.hostname+(e.socket.port!=80?":"+e.socket.port:"")+e.socket.path,getPrinterSocketState:e=>e.socket,getLogoColor:e=>{var s,t,r;return(r=(t=(s=e.data.gui)==null?void 0:s.uiSettings)==null?void 0:t.logo)!=null?r:ti},getStatus:(e,s)=>{var t,r;if(e.socket.isConnected)if(e.server.klippy_connected){if((r=(t=e.data)==null?void 0:t.print_stats)!=null&&r.state){if(e.data.print_stats.state==="printing"){const i=s.getPrintPercent;return Math.floor(i*100)+"% Printing"}return e.data.print_stats.state.charAt(0).toUpperCase()+e.data.print_stats.state.slice(1)}}else return"ERROR";else return e.socket.isConnecting?"Connecting...":"Disconnected";return"Unknown"},getCurrentFilename:e=>{var s,t;return(t=(s=e.data.print_stats)==null?void 0:s.filename)!=null?t:""},getPrintPercent:(e,s)=>{var r,i,n;switch((n=(i=(r=e.data.gui)==null?void 0:r.general)==null?void 0:i.calcPrintProgress)!=null?n:"file-relative"){case"file-relative":return s.getPrintPercentByFilepositionRelative;case"file-absolute":return s.getPrintPercentByFilepositionAbsolute;case"slicer":return s.getPrintPercentBySlicer;case"filament":return s.getPrintPercentByFilament;default:return s.getPrintPercentByFilepositionRelative}},getPrintPercentByFilepositionRelative:e=>{var s,t,r,i,n,a;if((s=e.current_file)!=null&&s.filename&&((t=e.current_file)!=null&&t.gcode_start_byte)&&((r=e.current_file)!=null&&r.gcode_end_byte)&&e.current_file.filename===e.data.print_stats.filename){if(e.data.virtual_sdcard.file_position<=e.current_file.gcode_start_byte)return 0;if(e.data.virtual_sdcard.file_position>=((i=e.current_file)==null?void 0:i.gcode_end_byte))return 1;const o=e.data.virtual_sdcard.file_position-e.current_file.gcode_start_byte,l=e.current_file.gcode_end_byte-e.current_file.gcode_start_byte;if(o>0&&l>0)return 1/l*o}return(a=(n=e.data.virtual_sdcard)==null?void 0:n.progress)!=null?a:0},getPrintPercentByFilepositionAbsolute:e=>{var s,t;return(t=(s=e.data.virtual_sdcard)==null?void 0:s.progress)!=null?t:0},getPrintPercentBySlicer:e=>{var s,t;return(t=(s=e.data.display_status)==null?void 0:s.progress)!=null?t:0},getPrintPercentByFilament:e=>{var r,i,n,a,o,l;const s=(i=(r=e.data.print_stats)==null?void 0:r.filament_used)!=null?i:null,t=(a=(n=e.current_file)==null?void 0:n.filament_total)!=null?a:null;return s!==null&&t!==null?t==0?0:s/t:(l=(o=e.data.virtual_sdcard)==null?void 0:o.progress)!=null?l:0},getImage:e=>{var s;if(e.current_file.filename&&((s=e.current_file.thumbnails)!=null&&s.length)){const t=e.current_file.filename.lastIndexOf("/"),r=t!==-1?e.current_file.filename.substring(0,t)+"/":"",i=e.current_file.thumbnails.find(o=>o.width>=Vs),n=e.socket.path.replaceAll(/(^\/*)|(\/*$)/g,""),a=n.length>0?"/".concat(n):"";if(i&&"relative_path"in i)return"//"+e.socket.hostname+":"+e.socket.port+a+"/server/files/gcodes/"+r+i.relative_path}return null},getThemeFileUrl:e=>(s,t)=>{const r=e.theme_files.find(a=>a.substr(0,a.lastIndexOf("."))===qi+"/"+s&&t.includes(a.substr(a.lastIndexOf(".")+1))),i=e.socket.path.replaceAll(/(^\/*)|(\/*$)/g,""),n=i.length>0?"/".concat(i):"";return r?"//"+e.socket.hostname+":"+e.socket.port+n+"/server/files/config/"+r:null},getLogo:(e,s)=>{const t="sidebar-logo",r=["gif","jpg","png","gif","svg"];return s.getThemeFileUrl(t,r)},getPosition:e=>"toolhead"in e.data&&"position"in e.data.toolhead?e.data.toolhead.position:[],getPrinterPreview:(e,s,t,r)=>{var n,a,o,l,c,u,d,h;if(!e.server.klippy_connected)return[];const i=[];if(Object.keys(e.data).filter(m=>m.startsWith("extruder")).forEach(m=>{var p,f,b,$;((p=e.data[m])==null?void 0:p.temperature)!==void 0&&((f=e.data[m])==null?void 0:f.target)!==void 0&&i.push({name:at(m),value:((b=e.data[m].temperature)==null?void 0:b.toFixed(0))+"° / "+(($=e.data[m].target)==null?void 0:$.toFixed(0))+"°"})}),((n=e.data.heater_bed)==null?void 0:n.temperature)!==void 0&&((a=e.data.heater_bed)==null?void 0:a.target)!==void 0&&i.push({name:at("heater_bed"),value:e.data.heater_bed.temperature.toFixed(0)+"° / "+e.data.heater_bed.target.toFixed(0)+"°"}),((o=e.data["temperature_fan chamber"])==null?void 0:o.temperature)!==void 0&&((l=e.data["temperature_fan chamber"])==null?void 0:l.target)!==void 0&&i.push({name:at("chamber"),value:e.data["temperature_fan chamber"].temperature.toFixed(0)+"° / "+e.data["temperature_fan chamber"].target.toFixed(0)+"°"}),"temperature_sensor chamber"in e.data&&i.push({name:at("chamber"),value:e.data["temperature_sensor chamber"].temperature.toFixed(0)+"°"}),((d=(u=(c=e.data)==null?void 0:c.print_stats)==null?void 0:u.state)!=null?d:"")==="printing"&&s.getPrintPercent>0){const m=(h=r["gui/getHours12Format"])!=null?h:!1,p=new Date(s.estimated_time_eta),f=new Date(p);let b=!0,$=f.getHours();m&&$>11&&(b=!1),m&&$>12&&($-=12),$<10&&($="0"+$);const P=f.getMinutes()>=10?f.getMinutes():"0"+f.getMinutes(),D=f.getTime()-new Date().getTime();let R=$+":"+P;m&&(R+=" ".concat(b?"AM":"PM")),D>60*60*24*1e3&&(R+="+".concat(Math.trunc(D/(60*60*24*1e3)))),i.push({name:"ETA",value:s.estimated_time_eta>0?R:"--",file:s.estimated_time_file,filament:s.estimated_time_filament,slicer:s.estimated_time_slicer,eta:s.estimated_time_eta})}return i},estimated_time_file:(e,s)=>{var t;return((t=e.data.print_stats)==null?void 0:t.print_duration)>0&&s.getPrintPercent>0?(e.data.print_stats.print_duration/s.getPrintPercent-e.data.print_stats.print_duration).toFixed(0):0},estimated_time_filament:e=>{var s,t;return(s=e.data.print_stats)!=null&&s.print_duration&&((t=e.data.print_stats)!=null&&t.filament_used)&&e.current_file.filament_total&&e.data.print_stats.filament_used>0&&e.current_file.filament_total>e.data.print_stats.filament_used?(e.data.print_stats.print_duration/(e.data.print_stats.filament_used/e.current_file.filament_total)-e.data.print_stats.print_duration).toFixed(0):0},estimated_time_slicer:e=>{var s,t,r;return e.data.print_stats&&((s=e.data.print_stats)!=null&&s.print_duration)&&((t=e.current_file)!=null&&t.estimated_time)&&((r=e.current_file)==null?void 0:r.estimated_time)>e.data.print_stats.print_duration?(e.current_file.estimated_time-e.data.print_stats.print_duration).toFixed(0):0},estimated_time_eta:(e,s)=>{var o,l,c,u,d,h,m,p,f,b,$,P;let t=0,r=0;const i=(u=(c=(l=(o=e.data.gui)==null?void 0:o.general)==null?void 0:l.calcEtaTime)==null?void 0:c.includes("file"))!=null?u:!0,n=(p=(m=(h=(d=e.data.gui)==null?void 0:d.general)==null?void 0:h.calcEtaTime)==null?void 0:m.includes("filament"))!=null?p:!0,a=(P=($=(b=(f=e.data.gui)==null?void 0:f.general)==null?void 0:b.calcEtaTime)==null?void 0:$.includes("slicer"))!=null?P:!0;return i&&s.estimated_time_file>0&&(t+=parseInt(s.estimated_time_file),r++),n&&s.estimated_time_filament>0&&(t+=parseInt(s.estimated_time_filament),r++),a&&s.estimated_time_slicer>0&&(t+=parseInt(s.estimated_time_slicer),r++),t&&r?Date.now()+t/r*1e3:0},getPrinterWebcams:e=>e.data.webcams.filter(s=>s.enabled)},cf=()=>({_namespace:"",socket:{instance:null,hostname:"",port:7125,path:"",webPort:80,protocol:document.location.protocol==="https:"?"wss":"ws",isConnected:!1,isConnecting:!1,reconnects:0,maxReconnects:2,reconnectInterval:1e3,wsData:[]},server:{klippy_connected:!1},data:{gui:ah(),webcams:[]},settings:{},databases:[],current_file:{isDirectory:!1,filename:"",modified:new Date,permissions:""},theme_files:[]}),hme=()=>cf(),mme={namespaced:!0,state:hme,getters:dme,actions:cme,mutations:ume},pme=()=>({}),fme=()=>pme(),gme={namespaced:!0,state:fme,getters:{countPrinters:e=>Object.keys(e).length,getPrinters:e=>e,getPrinterName:(e,s)=>t=>s[t+"/getPrinterName"],getPrinterSocketState:(e,s)=>t=>{var r;return(r=s[t+"/getPrinterSocketState"])!=null?r:{isConnecting:!1,isConnected:!1}},existsPrinter:e=>s=>Object.keys(e).includes(s)},actions:{registerPrinter({commit:e,dispatch:s},t){this.hasModule(["farm",t.id])||(this.registerModule(["farm",t.id],mme),e("farm/"+t.id+"/setSocketData",{...t,_namespace:t.id},{root:!0}),"settings"in t&&e("farm/"+t.id+"/setSettings",t.settings,{root:!0}),s("farm/"+t.id+"/connect",{},{root:!0}))},updatePrinter({dispatch:e,commit:s},t){s(t.id+"/setSocketData",{hostname:t.values.hostname,port:t.values.port,path:t.values.path,isConnecting:!0}),e(t.id+"/reconnect")},unregisterPrinter({state:e},s){var t,r;s in e&&((r=(t=e[s].socket)==null?void 0:t.instance)==null||r.close(),this.unregisterModule(["farm",s]))}},mutations:{}},_me={reset({commit:e}){e("reset")},downloadProgress({state:e,commit:s},t){var o;let r=e.loaderProgress.speed,i=e.loaderProgress.lastTimestamp,n=e.loaderProgress.lastLoaded;const a=t.progressEvent.timeStamp-e.loaderProgress.lastTimestamp;if(a>500){let c=(t.progressEvent.loaded-n)/a;const u=["kB","MB","GB"];let d=0;for(;c>1024;)c/=1024,d=Math.min(2,d+1);r=c.toFixed(2)+u[d],i=t.progressEvent.timeStamp,n=t.progressEvent.loaded}s("updateLoader",{direction:t.direction,speed:r,loaded:t.progressEvent.loaded,total:(o=t.filesize)!=null?o:t.progressEvent.total,lastLoaded:n,lastTimestamp:i})},openFile({state:e,dispatch:s,commit:t,rootGetters:r},i){const n=[];n.push(i.root);let a=i.path;a.slice(0,1)==="/"&&(a=a.slice(1)),a.slice(-1)==="/"&&(a=a.slice(0,-1)),a!==""&&n.push(a),n.push(i.filename);const o=n.join("/"),l=r["socket/getUrl"]+"/server/files/"+Ie(o)+"?".concat(Date.now());e.cancelToken&&s("cancelLoad");const u=Ns.CancelToken.source();t("updateCancelTokenSource",u),t("updateLoaderState",!0),t("setFilename",i.filename),t("setPermissions",i.permissions),Ns.get(l,{cancelToken:u.token,onDownloadProgress:d=>s("downloadProgress",{progressEvent:d,direction:"downloading",filesize:i.size}),responseType:"blob"}).then(d=>d.data.text()).then(d=>{t("openFile",{filename:i.filename,fileroot:i.root,filepath:a,file:d})}).finally(()=>{setTimeout(()=>{s("clearLoader")},100)})},async saveFile({state:e,commit:s,getters:t,rootGetters:r,dispatch:i},n){const a=new Blob([n.content],{type:"text/plain"}),o=new FormData;o.append("file",a,e.filename),o.append("root",e.fileroot),o.append("path",e.filepath),o.append("checksum",mr.sha256(n.content));const l=r["socket/getUrl"]+"/server/files/upload";e.cancelToken&&i("cancelLoad");const u=Ns.CancelToken.source();s("updateCancelTokenSource",u),s("updateLoaderState",!0),Ns.post(l,o,{cancelToken:u.token,onUploadProgress:d=>i("downloadProgress",{progressEvent:d,direction:"uploading",filesize:null})}).then(d=>d.data).then(d=>{if(i("clearLoader"),y.$toast.success(be.t("Editor.SuccessfullySaved",{filename:d.item.path}).toString()),n.restartServiceName==="klipper"){const h=t.getKlipperRestartMethod;y.$socket.emit("printer.gcode.script",{script:h})}else n.restartServiceName==="moonraker"?y.$socket.emit("server.restart",{}):n.restartServiceName!==null&&y.$socket.emit("machine.services.restart",{service:n.restartServiceName});s("updateLoadedHash",n.content),n.restartServiceName!==null&&i("close")}).catch(d=>{var h;window.console.log((h=d.response)==null?void 0:h.data.error),i("clearLoader"),y.$toast.error(be.t("Editor.FailedSave",{filename:e.filename}).toString())})},cancelLoad({state:e,commit:s,dispatch:t}){e.cancelToken&&(e.cancelToken.cancel("User canceled upload/download"),s("updateCancelTokenSource",null),t("clearLoader"))},clearLoader({commit:e}){e("updateLoaderState",!1),e("updateLoader",{direction:"downloading",lastLoaded:0,lastTimestamp:0,loaded:0,total:0,speed:""})},close({commit:e}){e("reset"),window.removeEventListener("beforeunload",cm)},updateSourcecode({commit:e},s){e("updateSourcecode",s)}},vme={reset(e){Object.assign(e,dD())},updateCancelTokenSource(e,s){y.set(e,"cancelToken",s)},updateLoaderState(e,s){y.set(e,"loaderBool",s)},updateLoader(e,s){y.set(e,"loaderProgress",s)},openFile(e,s){y.set(e,"filename",s.filename),y.set(e,"fileroot",s.fileroot),y.set(e,"filepath",s.filepath),y.set(e,"sourcecode",s.file),y.set(e,"loadedHash",mr.sha256(s.file.replace(/(?:\r\n|\r|\n)/g,"\n"))),y.set(e,"changed",!1),y.set(e,"bool",!0)},showEditor(e){y.set(e,"bool",!0)},setFilename(e,s){y.set(e,"filename",s)},setPermissions(e,s){y.set(e,"permissions",s)},hideEditor(e){y.set(e,"bool",!1)},updateSourcecode(e,s){y.set(e,"sourcecode",s),e.changed=mr.sha256(s)!=e.loadedHash},updateLoadedHash(e,s){y.set(e,"loadedHash",mr.sha256(s.replace(/(?:\r\n|\r|\n)/g,"\n"))),y.set(e,"changed",!1)}},bme={getKlipperRestartMethod:(e,s,t)=>{var r,i;return(i=(r=t.gui.editor)==null?void 0:r.klipperRestartMethod)!=null?i:"FIRMWARE_RESTART"}},dD=()=>({bool:!1,filename:"",permissions:"",fileroot:"",filepath:"",sourcecode:"",loaderBool:!1,loaderProgress:{direction:"downloading",lastTimestamp:0,lastLoaded:0,loaded:0,total:0,speed:""},cancelToken:null,loadedHash:"",changed:!1}),yme=dD(),Cme={namespaced:!0,state:yme,getters:bme,actions:_me,mutations:vme},$me={reset({commit:e}){e("reset")},setViewerBackup({commit:e},s){e("setViewerBackup",s)},setCanvasBackup({commit:e},s){e("setCanvasBackup",s)},setLoadedFileBackup({commit:e},s){e("setLoadedFileBackup",s)}},xme={reset(e){Object.assign(e,hD())},setViewerBackup(e,s){y.set(e,"viewerBackup",r3(s))},setCanvasBackup(e,s){y.set(e,"canvasBackup",s)},setLoadedFileBackup(e,s){y.set(e,"loadedFileBackup",s)}},Sme={},hD=()=>({viewerBackup:null,canvasBackup:null,loadedFileBackup:null}),wme=hD(),Pme={namespaced:!0,state:wme,getters:Sme,actions:$me,mutations:xme};y.use(NT);const Tme=()=>({packageVersion:"2.13.2",debugMode:{}.VUE_APP_DEBUG_MODE||!1,naviDrawer:null,instancesDB:"moonraker",configInstances:[]}),Dme=Tme(),Ur=new NT.Store({state:Dme,modules:{socket:kue,server:Pde,printer:Rde,files:Vde,gui:lme,farm:gme,editor:Cme,gcodeviewer:Pme},getters:Eue,mutations:Mue,actions:Due});class Mme{constructor(s){this.url="",this.instance=null,this.maxReconnects=5,this.reconnectInterval=1e3,this.reconnects=0,this.keepAliveTimeout=1e3,this.messageId=0,this.timerId=null,this.store=null,this.waits=[],this.heartbeatTimer=null,this.url=s.url,this.maxReconnects=s.maxReconnects||5,this.reconnectInterval=s.reconnectInterval||1e3,this.store=s.store}setUrl(s){this.url=s}handleMessage(s){var r,i,n,a,o,l,c,u,d,h,m,p,f;const t=this.getWaitById(s.id);if("error"in s&&(t!=null&&t.reject)){t.reject(s.error),this.removeWaitById(t.id);return}if((r=s.error)!=null&&r.message){if(((i=s.error)==null?void 0:i.message)!=="Klippy Disconnected"&&window.console.error("Response Error: ".concat(s.error.message," (").concat((n=t==null?void 0:t.action)!=null?n:"no action",")")),t){const b=(o=(a=t.action)==null?void 0:a.split("/")[1])!=null?o:null;if(b&&((l=t.action)!=null&&l.startsWith("server/"))&&wC.includes(b)&&((u=(c=this.store)==null?void 0:c.state.socket)!=null&&u.initializationList.length)){const $=t.action.replace("server/","").split("/")[0];window.console.error("init server component ".concat($," failed")),(d=this.store)==null||d.dispatch("server/addFailedInitComponent",$),(h=this.store)==null||h.dispatch("socket/removeInitComponent","server/".concat($,"/"))}this.removeWaitById(t.id)}return}if(!t){(m=this.store)==null||m.dispatch("socket/onMessage",s);return}if(t!=null&&t.resolve&&t.resolve((p=s.result)!=null?p:{}),t.action){let b=s.result;b==="ok"&&(b={result:b}),typeof b=="string"&&(b={result:b});const $={};t.actionPayload&&Object.assign($,t.actionPayload),Object.assign($,{requestParams:t.params}),Object.assign($,b),(f=this.store)==null||f.dispatch(t.action,$)}this.removeWaitById(t.id)}async connect(){var s,t;(s=this.store)==null||s.dispatch("socket/setData",{isConnecting:!0}),(t=this.instance)==null||t.close(),this.instance=new WebSocket(this.url),this.instance.onopen=()=>{var r;this.reconnects=0,(r=this.store)==null||r.dispatch("socket/onOpen",event)},this.instance.onclose=r=>{var i;if(r.wasClean||this.reconnects>=this.maxReconnects){(i=this.store)==null||i.dispatch("socket/onClose",r);return}this.reconnects++,setTimeout(()=>{this.connect()},this.reconnectInterval)},this.instance.onerror=()=>{var r;(r=this.instance)==null||r.close()},this.instance.onmessage=r=>{if(this.store===null)return;this.heartbeat();const i=JSON.parse(r.data);if(Array.isArray(i)){for(const n of i)this.handleMessage(n);return}this.handleMessage(i)}}close(){var s;(s=this.instance)==null||s.close()}getWaitById(s){var t;return(t=this.waits.find(r=>r.id===s))!=null?t:null}removeWaitById(s){var r;const t=this.waits.findIndex(i=>i.id===s);if(t){const i=this.waits[t];i.loading&&((r=this.store)==null||r.dispatch("socket/removeLoading",{name:i.loading})),this.waits.splice(t,1)}}emit(s,t,r={}){var n,a,o,l,c,u;if(((n=this.instance)==null?void 0:n.readyState)!==WebSocket.OPEN)return;const i=this.messageId++;this.waits.push({id:i,params:t,action:(a=r.action)!=null?a:null,actionPayload:(o=r.actionPayload)!=null?o:{},loading:(l=r.loading)!=null?l:null}),r.loading&&((c=this.store)==null||c.dispatch("socket/addLoading",{name:r.loading})),(u=this.instance)==null||u.send(JSON.stringify({jsonrpc:"2.0",method:s,params:t,id:i}))}async emitAndWait(s,t=void 0,r={}){return new Promise((i,n)=>{var o,l,c,u,d,h;((o=this.instance)==null?void 0:o.readyState)!==WebSocket.OPEN&&n();const a=this.messageId++;this.waits.push({id:a,params:t,action:(l=r.action)!=null?l:null,actionPayload:(c=r.actionPayload)!=null?c:{},loading:(u=r.loading)!=null?u:null,resolve:i,reject:n}),r.loading&&((d=this.store)==null||d.dispatch("socket/addLoading",{name:r.loading})),(h=this.instance)==null||h.send(JSON.stringify({jsonrpc:"2.0",method:s,params:t,id:a}))})}emitBatch(s){var r,i,n,a,o;if(s.length===0||((r=this.instance)==null?void 0:r.readyState)!==WebSocket.OPEN)return;const t=[];for(const{method:l,params:c,emitOptions:u={}}of s){const d=this.messageId++;this.waits.push({id:d,params:c,action:(i=u.action)!=null?i:null,actionPayload:(n=u.actionPayload)!=null?n:{},loading:(a=u.loading)!=null?a:null}),u.loading&&((o=this.store)==null||o.dispatch("socket/addLoading",{name:u.loading})),t.push({jsonrpc:"2.0",method:l,params:c,id:d})}this.instance.send(JSON.stringify(t))}heartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=window.setTimeout(()=>{var s,t;((s=this.instance)==null?void 0:s.readyState)!==WebSocket.OPEN||!this.store||(this.close(),(t=this.store)==null||t.dispatch("socket/onClose"))},1e4)}}function Eme(e,s){const t=new Mme(s);e.prototype.$socket=t,e.$socket=t}function Ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(s){return typeof s}:Ml=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ml(e)}function Ome(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function eC(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lme(e,s,t){return s&&eC(e.prototype,s),t&&eC(e,t),e}function tC(e){return Fme(e)||Ame(e)||kme()}function Fme(e){if(Array.isArray(e)){for(var s=0,t=new Array(e.length);s<e.length;s++)t[s]=e[s];return t}}function Ame(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function kme(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Rme(e){var s;return typeof e=="function"?s={callback:e}:s=e,s}function Hme(e,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,n,a=function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(n=u,!(r&&l===i)){var h=t.leading;typeof h=="function"&&(h=h(l,i)),(!r||l!==i)&&h&&e.apply(void 0,[l].concat(tC(n))),i=l,clearTimeout(r),r=setTimeout(function(){e.apply(void 0,[l].concat(tC(n))),r=0},s)}};return a._clear=function(){clearTimeout(r),r=null},a}function mD(e,s){if(e===s)return!0;if(Ml(e)==="object"){for(var t in e)if(!mD(e[t],s[t]))return!1;return!0}return!1}var jme=function(){function e(s,t,r){Ome(this,e),this.el=s,this.observer=null,this.frozen=!1,this.createObserver(t,r)}return Lme(e,[{key:"createObserver",value:function(t,r){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=Rme(t),this.callback=function(o,l){i.options.callback(o,l),o&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var n=this.options.throttleOptions||{},a=n.leading;this.callback=Hme(this.callback,this.options.throttle,{leading:function(l){return a==="both"||a==="visible"&&l||a==="hidden"&&!l}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(o){var l=o[0];if(o.length>1){var c=o.find(function(d){return d.isIntersecting});c&&(l=c)}if(i.callback){var u=l.isIntersecting&&l.intersectionRatio>=i.threshold;if(u===i.oldResult)return;i.oldResult=u,i.callback(u,l)}},this.options.intersection),r.context.$nextTick(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function pD(e,s,t){var r=s.value;if(r)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new jme(e,r,t);e._vue_visibilityState=i}}function Ime(e,s,t){var r=s.value,i=s.oldValue;if(!mD(r,i)){var n=e._vue_visibilityState;if(!r){fD(e);return}n?n.createObserver(r,t):pD(e,{value:r},t)}}function fD(e){var s=e._vue_visibilityState;s&&(s.destroyObserver(),delete e._vue_visibilityState)}var gD={bind:pD,update:Ime,unbind:fD};function Nme(e){e.directive("observe-visibility",gD)}var Vme={version:"1.0.0",install:Nme},Pu=null;typeof window<"u"?Pu=window.Vue:typeof global<"u"&&(Pu=global.Vue);Pu&&Pu.use(Vme);var Ume=function(s){return Bme(s)&&!Gme(s)};function Bme(e){return!!e&&typeof e=="object"}function Gme(e){var s=Object.prototype.toString.call(e);return s==="[object RegExp]"||s==="[object Date]"||qme(e)}var Wme=typeof Symbol=="function"&&Symbol.for,zme=Wme?Symbol.for("react.element"):60103;function qme(e){return e.$$typeof===zme}function Zme(e){return Array.isArray(e)?[]:{}}function fo(e,s){return s.clone!==!1&&s.isMergeableObject(e)?wn(Zme(e),e,s):e}function Yme(e,s,t){return e.concat(s).map(function(r){return fo(r,t)})}function Xme(e,s){if(!s.customMerge)return wn;var t=s.customMerge(e);return typeof t=="function"?t:wn}function Jme(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(s){return Object.propertyIsEnumerable.call(e,s)}):[]}function sC(e){return Object.keys(e).concat(Jme(e))}function _D(e,s){try{return s in e}catch{return!1}}function Kme(e,s){return _D(e,s)&&!(Object.hasOwnProperty.call(e,s)&&Object.propertyIsEnumerable.call(e,s))}function Qme(e,s,t){var r={};return t.isMergeableObject(e)&&sC(e).forEach(function(i){r[i]=fo(e[i],t)}),sC(s).forEach(function(i){Kme(e,i)||(_D(e,i)&&t.isMergeableObject(s[i])?r[i]=Xme(i,t)(e[i],s[i],t):r[i]=fo(s[i],t))}),r}function wn(e,s,t){t=t||{},t.arrayMerge=t.arrayMerge||Yme,t.isMergeableObject=t.isMergeableObject||Ume,t.cloneUnlessOtherwiseSpecified=fo;var r=Array.isArray(s),i=Array.isArray(e),n=r===i;return n?r?t.arrayMerge(e,s,t):Qme(e,s,t):fo(s,t)}wn.all=function(s,t){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(r,i){return wn(r,i,t)},{})};var epe=wn,tpe=epe;const spe=Pn(tpe);/**
 * vue-meta v2.4.0
 * (c) 2020
 * - Declan de Wet
 * - Sébastien Chopin (@Atinux)
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */var rpe="2.4.0";function fa(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fa=function(s){return typeof s}:fa=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},fa(e)}function uf(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function rC(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function cs(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?rC(Object(t),!0).forEach(function(r){uf(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rC(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function vD(e){return ipe(e)||npe(e)||bD(e)||ape()}function ipe(e){if(Array.isArray(e))return df(e)}function npe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bD(e,s){if(e){if(typeof e=="string")return df(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return df(e,s)}}function df(e,s){(s==null||s>e.length)&&(s=e.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=e[t];return r}function ape(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ope(e,s){var t;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=bD(e))||s&&e&&typeof e.length=="number"){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n=!0,a=!1,o;return{s:function(){t=e[Symbol.iterator]()},n:function(){var l=t.next();return n=l.done,l},e:function(l){a=!0,o=l},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(a)throw o}}}}function Tu(e){return Array.isArray(e)}function Gs(e){return typeof e>"u"}function oh(e){return fa(e)==="object"}function iC(e){return fa(e)==="object"&&e!==null}function lh(e){return typeof e=="function"}function lpe(e){return typeof e=="string"}function cpe(){try{return!Gs(window)}catch{return!1}}var upe=cpe(),dpe=upe?window:global,Gh=dpe.console||{};function Du(e){!Gh||!Gh.warn||Gh.warn(e)}var yD=function(){return Du("This vue app/component has no vue-meta configuration")},A1={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},Oe="_vueMeta",hpe="metaInfo",mpe="data-vue-meta",ppe="data-vue-meta-server-rendered",fpe="vmid",gpe="template",_pe="content",vpe="ssr",bpe=10,ype=!0,Rs={keyName:hpe,attribute:mpe,ssrAttribute:ppe,tagIDKeyName:fpe,contentKeyName:_pe,metaTemplateKeyName:gpe,waitOnDestroyed:ype,debounceWait:bpe,ssrAppId:vpe},Qr=Object.keys(A1),Mu=[Qr[12],Qr[13]],k1=[Qr[1],Qr[2],"changed"].concat(Mu),ch=[Qr[3],Qr[4],Qr[5]],Cpe=["link","style","script"],$pe=["base","meta","link"],xpe=["noscript","script","style"],Spe=["innerHTML","cssText","json"],CD=["once","skip","template"],$D=["body","pbody"],qo=["allowfullscreen","amp","amp-boilerplate","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],Wh=null;function Kn(e,s,t){var r=e.debounceWait;!s[Oe].initialized&&(s[Oe].initializing||t==="watcher")&&(s[Oe].initialized=null),s[Oe].initialized&&!s[Oe].pausing&&wpe(function(){return void s.$meta().refresh()},r)}function wpe(e,s){if(s=s===void 0?10:s,!s){e();return}return clearTimeout(Wh),Wh=setTimeout(function(){e()},s),Wh}function Ppe(e,s,t){if(!Array.prototype.find){for(var r=0;r<e.length;r++)if(s.call(t,e[r],r,e))return e[r];return}return e.find(s,t)}function xD(e,s,t){if(!Array.prototype.findIndex){for(var r=0;r<e.length;r++)if(s.call(t,e[r],r,e))return r;return-1}return e.findIndex(s,t)}function R1(e){return Array.from?Array.from(e):Array.prototype.slice.call(e)}function ps(e,s){if(!Array.prototype.includes){for(var t in e)if(e[t]===s)return!0;return!1}return e.includes(s)}var H1=function(s,t){return(t||document).querySelectorAll(s)};function Vi(e,s){return e[s]||(e[s]=document.getElementsByTagName(s)[0]),e[s]}function Tpe(e){var s=e.body,t=e.pbody;return s?"body":t?"pbody":"head"}function zh(e,s,t){var r=s.appId,i=s.attribute,n=s.type,a=s.tagIDKeyName;t=t||{};var o=["".concat(n,"[").concat(i,'="').concat(r,'"]'),"".concat(n,"[data-").concat(a,"]")].map(function(l){for(var c in t){var u=t[c],d=u&&u!==!0?'="'.concat(u,'"'):"";l+="[data-".concat(c).concat(d,"]")}return l});return R1(H1(o.join(", "),e))}function Dpe(e,s){var t=e.attribute;R1(H1("[".concat(t,'="').concat(s,'"]'))).map(function(r){return r.remove()})}function Eu(e,s){e.removeAttribute(s)}function hf(e){return e=e||this,e&&(e[Oe]===!0||oh(e[Oe]))}function Mpe(e){return e=e||this,e&&!Gs(e[Oe])}function SD(e,s){return e[Oe].pausing=!0,function(){return j1(e,s)}}function j1(e,s){if(e[Oe].pausing=!1,s||s===void 0)return e.$meta().refresh()}function mf(e){var s=e.$router;e[Oe].navGuards||!s||(e[Oe].navGuards=!0,s.beforeEach(function(t,r,i){SD(e),i()}),s.afterEach(function(){e.$nextTick(function(){var t=j1(e),r=t.metaInfo;r&&lh(r.afterNavigation)&&r.afterNavigation(r)})}))}var nC=1;function Epe(e,s){var t=["activated","deactivated","beforeMount"],r=!1;return{beforeCreate:function(){var n=this,a="$root",o=this[a],l=this.$options,c=e.config.devtools;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return c&&!o[Oe].deprecationWarningShown&&(Du("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),o[Oe].deprecationWarningShown=!0),hf(this)}}),this===o&&o.$once("hook:beforeMount",function(){if(r=this.$el&&this.$el.nodeType===1&&this.$el.hasAttribute("data-server-rendered"),!r&&o[Oe]&&o[Oe].appId===1){var d=Vi({},"html");r=d&&d.hasAttribute(s.ssrAttribute)}}),!(Gs(l[s.keyName])||l[s.keyName]===null)){if(o[Oe]||(o[Oe]={appId:nC},nC++,c&&o.$options[s.keyName]&&this.$nextTick(function(){var d=Ppe(o.$children,function(h){return h.$vnode&&h.$vnode.fnOptions});d&&d.$vnode.fnOptions[s.keyName]&&Du("VueMeta has detected a possible global mixin which adds a ".concat(s.keyName," property to all Vue components on the page. This could cause severe performance issues. If possible, use $meta().addApp to add meta information instead"))})),!this[Oe]){this[Oe]=!0;for(var u=this.$parent;u&&u!==o;)Gs(u[Oe])&&(u[Oe]=!1),u=u.$parent}lh(l[s.keyName])&&(l.computed=l.computed||{},l.computed.$metaInfo=l[s.keyName],this.$isServer||this.$on("hook:created",function(){this.$watch("$metaInfo",function(){Kn(s,this[a],"watcher")})})),Gs(o[Oe].initialized)&&(o[Oe].initialized=this.$isServer,o[Oe].initialized||(o[Oe].initializedSsr||(o[Oe].initializedSsr=!0,this.$on("hook:beforeMount",function(){var d=this[a];r&&(d[Oe].appId=s.ssrAppId)})),this.$on("hook:mounted",function(){var d=this[a];d[Oe].initialized||(d[Oe].initializing=!0,this.$nextTick(function(){var h=d.$meta().refresh(),m=h.tags,p=h.metaInfo;m===!1&&d[Oe].initialized===null&&this.$nextTick(function(){return Kn(s,d,"init")}),d[Oe].initialized=!0,delete d[Oe].initializing,!s.refreshOnceOnNavigation&&p.afterNavigation&&mf(d)}))}),s.refreshOnceOnNavigation&&mf(o))),this.$on("hook:destroyed",function(){var d=this;!this.$parent||!hf(this)||(delete this._hasMetaInfo,this.$nextTick(function(){if(!s.waitOnDestroyed||!d.$el||!d.$el.offsetParent){Kn(s,d.$root,"destroyed");return}var h=setInterval(function(){d.$el&&d.$el.offsetParent!==null||(clearInterval(h),Kn(s,d.$root,"destroyed"))},50)}))}),!this.$isServer&&t.forEach(function(d){n.$on("hook:".concat(d),function(){Kn(s,this[a],d)})})}}}}function wD(e){return e=oh(e)?e:{},{keyName:e.keyName||Rs.keyName,attribute:e.attribute||Rs.attribute,ssrAttribute:e.ssrAttribute||Rs.ssrAttribute,tagIDKeyName:e.tagIDKeyName||Rs.tagIDKeyName,contentKeyName:e.contentKeyName||Rs.contentKeyName,metaTemplateKeyName:e.metaTemplateKeyName||Rs.metaTemplateKeyName,debounceWait:Gs(e.debounceWait)?Rs.debounceWait:e.debounceWait,waitOnDestroyed:Gs(e.waitOnDestroyed)?Rs.waitOnDestroyed:e.waitOnDestroyed,ssrAppId:e.ssrAppId||Rs.ssrAppId,refreshOnceOnNavigation:!!e.refreshOnceOnNavigation}}function Ope(e){var s={};for(var t in e)s[t]=e[t];return s}function aC(e,s){return!s||!oh(e)?Tu(e)?e:[]:(Tu(e[s])||(e[s]=[]),e)}var PD=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#x27;"]],Lpe=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];function pf(e,s,t,r){var i=s.tagIDKeyName,n=t.doEscape,a=n===void 0?function(m){return m}:n,o={};for(var l in e){var c=e[l];if(ps(k1,l)){o[l]=c;continue}var u=Mu[0];if(t[u]&&ps(t[u],l)){o[l]=c;continue}var d=e[i];if(d&&(u=Mu[1],t[u]&&t[u][d]&&ps(t[u][d],l))){o[l]=c;continue}if(lpe(c)?o[l]=a(c):Tu(c)?o[l]=c.map(function(m){return iC(m)?pf(m,s,t,!0):a(m)}):iC(c)?o[l]=pf(c,s,t,!0):o[l]=c,r){var h=a(l);l!==h&&(o[h]=o[l],delete o[l])}}return o}function Fpe(e,s,t){t=t||[];var r={doEscape:function(n){return t.reduce(function(a,o){return a.replace(o[0],o[1])},n)}};return Mu.forEach(function(i,n){if(n===0)aC(s,i);else if(n===1)for(var a in s[i])aC(s[i],a);r[i]=s[i]}),pf(s,e,r)}function Ou(e,s,t,r){var i=e.component,n=e.metaTemplateKeyName,a=e.contentKeyName;return t===!0||s[n]===!0?!1:(Gs(t)&&s[n]&&(t=s[n],s[n]=!0),t?(Gs(r)&&(r=s[a]),s[a]=lh(t)?t.call(i,r):t.replace(/%s/g,r),!0):(delete s[n],!1))}function Ape(e,s,t){var r=e.component,i=e.tagIDKeyName,n=e.metaTemplateKeyName,a=e.contentKeyName,o=[];return!s.length&&!t.length?o:(s.forEach(function(l,c){if(!l[i]){o.push(l);return}var u=xD(t,function(p){return p[i]===l[i]}),d=t[u];if(u===-1){o.push(l);return}if(a in d&&d[a]===void 0||"innerHTML"in d&&d.innerHTML===void 0){o.push(l),t.splice(u,1);return}if(d[a]===null||d.innerHTML===null){t.splice(u,1);return}var h=l[n];if(h){var m=d[n];if(!m){Ou({component:r,metaTemplateKeyName:n,contentKeyName:a},d,h),d.template=!0;return}d[a]||Ou({component:r,metaTemplateKeyName:n,contentKeyName:a},d,void 0,l[a])}}),o.concat(t))}var oC=!1;function kpe(e,s,t){return t=t||{},s.title===void 0&&delete s.title,ch.forEach(function(r){if(s[r])for(var i in s[r])i in s[r]&&s[r][i]===void 0&&(ps(qo,i)&&!oC&&(Du("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),oC=!0),delete s[r][i])}),spe(e,s,{arrayMerge:function(i,n){return Ape(t,i,n)}})}function TD(e,s){return DD(e||{},s,A1)}function DD(e,s,t){if(t=t||{},s._inactive)return t;e=e||{};var r=e,i=r.keyName,n=s.$metaInfo,a=s.$options,o=s.$children;if(a[i]){var l=n||a[i];oh(l)&&(t=kpe(t,l,e))}return o.length&&o.forEach(function(c){Mpe(c)&&(t=DD(e,c,t))}),t}var MD=[];function Rpe(e){return(e||document).readyState==="complete"}function Hpe(e,s){arguments.length===1&&(s=e,e=""),MD.push([e,s])}function jpe(e,s,t,r){var i=e.tagIDKeyName,n=!1;return t.forEach(function(a){!a[i]||!a.callback||(n=!0,Hpe("".concat(s,"[data-").concat(i,'="').concat(a[i],'"]'),a.callback))}),!r||!n?n:ED()}function ED(){if(Rpe()){lC();return}document.onreadystatechange=function(){lC()}}function lC(e){MD.forEach(function(s){var t=s[0],r=s[1],i="".concat(t,'[onload="this.__vm_l=1"]'),n=[];e||(n=R1(H1(i))),e&&e.matches(i)&&(n=[e]),n.forEach(function(a){if(!a.__vm_cb){var o=function(){a.__vm_cb=!0,Eu(a,"onload"),r(a)};if(a.__vm_l){o();return}a.__vm_ev||(a.__vm_ev=!0,a.addEventListener("load",o))}})})}var qh={};function OD(e,s,t,r,i){var n=s||{},a=n.attribute,o=i.getAttribute(a);o&&(qh[t]=JSON.parse(decodeURI(o)),Eu(i,a));var l=qh[t]||{},c=[];for(var u in l)l[u]!==void 0&&e in l[u]&&(c.push(u),r[u]||delete l[u][e]);for(var d in r){var h=l[d];(!h||h[e]!==r[d])&&(c.push(d),r[d]!==void 0&&(l[d]=l[d]||{},l[d][e]=r[d]))}for(var m=0,p=c;m<p.length;m++){var f=p[m],b=l[f],$=[];for(var P in b)Array.prototype.push.apply($,[].concat(b[P]));if($.length){var D=ps(qo,f)&&$.some(Boolean)?"":$.filter(function(R){return R!==void 0}).join(" ");i.setAttribute(f,D)}else Eu(i,f)}qh[t]=l}function Ipe(e){!e&&e!==""||(document.title=e)}function Npe(e,s,t,r,i,n){var a=s||{},o=a.attribute,l=a.tagIDKeyName,c=$D.slice();c.push(l);var u=[],d={appId:e,attribute:o,type:t,tagIDKeyName:l},h={head:zh(i,d),pbody:zh(n,d,{pbody:!0}),body:zh(n,d,{body:!0})};if(r.length>1){var m=[];r=r.filter(function(b){var $=JSON.stringify(b),P=!ps(m,$);return m.push($),P})}r.forEach(function(b){if(!b.skip){var $=document.createElement(t);b.once||$.setAttribute(o,e),Object.keys(b).forEach(function(k){if(!ps(CD,k)){if(k==="innerHTML"){$.innerHTML=b.innerHTML;return}if(k==="json"){$.innerHTML=JSON.stringify(b.json);return}if(k==="cssText"){$.styleSheet?$.styleSheet.cssText=b.cssText:$.appendChild(document.createTextNode(b.cssText));return}if(k==="callback"){$.onload=function(){return b[k]($)};return}var S=ps(c,k)?"data-".concat(k):k,L=ps(qo,k);if(!(L&&!b[k])){var I=L?"":b[k];$.setAttribute(S,I)}}});var P=h[Tpe(b)],D,R=P.some(function(k,S){return D=S,$.isEqualNode(k)});R&&(D||D===0)?P.splice(D,1):u.push($)}});var p=[];for(var f in h)Array.prototype.push.apply(p,h[f]);return p.forEach(function(b){b.parentNode.removeChild(b)}),u.forEach(function(b){if(b.hasAttribute("data-body")){n.appendChild(b);return}if(b.hasAttribute("data-pbody")){n.insertBefore(b,n.firstChild);return}i.appendChild(b)}),{oldTags:p,newTags:u}}function ff(e,s,t){s=s||{};var r=s,i=r.ssrAttribute,n=r.ssrAppId,a={},o=Vi(a,"html");if(e===n&&o.hasAttribute(i)){Eu(o,i);var l=!1;return Cpe.forEach(function(b){t[b]&&jpe(s,b,t[b])&&(l=!0)}),l&&ED(),!1}var c={},u={};for(var d in t)if(!ps(k1,d)){if(d==="title"){Ipe(t.title);continue}if(ps(ch,d)){var h=d.substr(0,4);OD(e,s,d,t[d],Vi(a,h));continue}if(Tu(t[d])){var m=Npe(e,s,d,t[d],Vi(a,"head"),Vi(a,"body")),p=m.oldTags,f=m.newTags;f.length&&(c[d]=f,u[d]=p)}}return{tagsAdded:c,tagsRemoved:u}}var br;function Vpe(e,s,t){return{set:function(i){return Upe(e,s,t,i)},remove:function(){return Bpe(e,s,t)}}}function Upe(e,s,t,r){if(e&&e.$el)return ff(s,t,r);br=br||{},br[s]=r}function Bpe(e,s,t){if(e&&e.$el){var r={},i=ope(ch),n;try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.substr(0,4);OD(s,t,a,{},Vi(r,o))}}catch(l){i.e(l)}finally{i.f()}return Dpe(t,s)}br[s]&&(delete br[s],I1())}function LD(){return br}function I1(e){(e||!Object.keys(br).length)&&(br=void 0)}function N1(e,s,t,r){e=e||{},t=t||[];var i=e,n=i.tagIDKeyName;return s.title&&(s.titleChunk=s.title),s.titleTemplate&&s.titleTemplate!=="%s"&&Ou({component:r,contentKeyName:"title"},s,s.titleTemplate,s.titleChunk||""),s.base&&(s.base=Object.keys(s.base).length?[s.base]:[]),s.meta&&(s.meta=s.meta.filter(function(a,o,l){var c=!!a[n];if(!c)return!0;var u=o===xD(l,function(d){return d[n]===a[n]});return u}),s.meta.forEach(function(a){return Ou(e,a)})),Fpe(e,s,t)}function Gpe(e,s){if(s=s||{},!e[Oe])return yD(),{};var t=TD(s,e),r=N1(s,t,Lpe,e),i=e[Oe].appId,n=ff(i,s,r);n&&lh(r.changed)&&(r.changed(r,n.tagsAdded,n.tagsRemoved),n={addedTags:n.tagsAdded,removedTags:n.tagsRemoved});var a=LD();if(a){for(var o in a)ff(o,s,a[o]),delete a[o];I1(!0)}return{vm:e,metaInfo:r,tags:n}}function Wpe(e,s,t,r){var i=r.addSsrAttribute,n=e||{},a=n.attribute,o=n.ssrAttribute,l="";for(var c in t){var u=t[c],d=[];for(var h in u)d.push.apply(d,vD([].concat(u[h])));d.length&&(l+=qo.includes(c)&&d.some(Boolean)?"".concat(c):"".concat(c,'="').concat(d.join(" "),'"'),l+=" ")}return l&&(l+="".concat(a,'="').concat(encodeURI(JSON.stringify(t)),'"')),s==="htmlAttrs"&&i?"".concat(o).concat(l?" ":"").concat(l):l}function zpe(e,s,t,r){var i=r||{},n=i.ln;return t?"<".concat(s,">").concat(t,"</").concat(s,">").concat(n?"\n":""):""}function cC(e,s,t,r){var i=e||{},n=i.ssrAppId,a=i.attribute,o=i.tagIDKeyName,l=r||{},c=l.appId,u=l.isSSR,d=u===void 0?!0:u,h=l.body,m=h===void 0?!1:h,p=l.pbody,f=p===void 0?!1:p,b=l.ln,$=b===void 0?!1:b,P=[o].concat(vD($D));return!t||!t.length?"":t.reduce(function(D,R){if(R.skip)return D;var k=Object.keys(R);if(k.length===0||!!R.body!==m||!!R.pbody!==f)return D;var S=R.once?"":" ".concat(a,'="').concat(c||(d===!1?"1":n),'"');for(var L in R)if(!(Spe.includes(L)||CD.includes(L))){if(L==="callback"){S+=' onload="this.__vm_l=1"';continue}var I="";P.includes(L)&&(I="data-");var N=!I&&qo.includes(L);N&&!R[L]||(S+=" ".concat(I).concat(L)+(N?"":'="'.concat(R[L],'"')))}var G="";R.json&&(G=JSON.stringify(R.json));var q=R.innerHTML||R.cssText||G,se=!$pe.includes(s),F=se&&xpe.includes(s);return"".concat(D,"<").concat(s).concat(S).concat(!F&&se?"/":"",">")+(F?"".concat(q,"</").concat(s,">"):"")+($?"\n":"")},"")}function FD(e,s,t){var r={data:s,extraData:void 0,addInfo:function(l,c){this.extraData=this.extraData||{},this.extraData[l]=c},callInjectors:function(l){var c=this.injectors;return(l.body||l.pbody?"":c.title.text(l))+c.meta.text(l)+c.base.text(l)+c.link.text(l)+c.style.text(l)+c.script.text(l)+c.noscript.text(l)},injectors:{head:function(l){return r.callInjectors(cs(cs({},t),{},{ln:l}))},bodyPrepend:function(l){return r.callInjectors(cs(cs({},t),{},{ln:l,pbody:!0}))},bodyAppend:function(l){return r.callInjectors(cs(cs({},t),{},{ln:l,body:!0}))}}},i=function(l){if(k1.includes(l))return"continue";r.injectors[l]={text:function(u){var d=u===!0;if(u=cs(cs({addSsrAttribute:d},t),u),l==="title")return zpe(e,l,r.data[l],u);if(ch.includes(l)){var h={},m=r.data[l];if(m){var p=u.isSSR===!1?"1":e.ssrAppId;for(var f in m)h[f]=uf({},p,m[f])}if(r.extraData)for(var b in r.extraData){var $=r.extraData[b][l];if($)for(var P in $)h[P]=cs(cs({},h[P]),{},uf({},b,$[P]))}return Wpe(e,l,h,u)}var D=cC(e,l,r.data[l],u);if(r.extraData)for(var R in r.extraData){var k=r.extraData[R][l],S=cC(e,l,k,cs({appId:R},u));D="".concat(D).concat(S)}return D}}};for(var n in A1)var a=i(n);return r}function qpe(e,s,t){if(!e[Oe])return yD(),{};var r=TD(s,e),i=N1(s,r,PD,e),n=FD(s,i,t),a=LD();if(a){for(var o in a)n.addInfo(o,a[o]),delete a[o];I1(!0)}return n.injectors}function Zpe(e){e=e||{};var s=this.$root;return{getOptions:function(){return Ope(e)},setOptions:function(r){var i="refreshOnceOnNavigation";r&&r[i]&&(e.refreshOnceOnNavigation=!!r[i],mf(s));var n="debounceWait";if(r&&n in r){var a=parseInt(r[n]);isNaN(a)||(e.debounceWait=a)}var o="waitOnDestroyed";r&&o in r&&(e.waitOnDestroyed=!!r[o])},refresh:function(){return Gpe(s,e)},inject:function(r){return qpe(s,e,r)},pause:function(){return SD(s)},resume:function(){return j1(s)},addApp:function(r){return Vpe(s,r,e)}}}function Ype(e,s){s=wD(s);var t=N1(s,e,PD),r=FD(s,t);return r.injectors}function Xpe(e,s){e.__vuemeta_installed||(e.__vuemeta_installed=!0,s=wD(s),e.prototype.$meta=function(){return Zpe.call(this,s)},e.mixin(Epe(e,s)))}var Jpe={version:rpe,install:Xpe,generate:function(s,t){return Ype(s,t)},hasMetaInfo:hf},AD={exports:{}};/*!
 * vue-load-image v0.2.0
 * (c) 2021 Sangwon Lee <lsw0150305@gmail.com>
 * Released under the MIT License.
 */(function(e,s){(function(t,r){e.exports=r()})(window,function(){return function(t){var r={};function i(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=r,i.d=function(n,a,o){i.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:o})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,a){if(1&a&&(n=i(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var l in n)i.d(o,l,(function(c){return n[c]}).bind(null,l));return o},i.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(a,"a",a),a},i.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},i.p="",i(i.s=0)}([function(t,r,i){i.r(r);var n="pending",a="loading",o="loaded",l="failed",c=function(d,h,m,p,f,b,$,P){var D,R=typeof d=="function"?d.options:d;if(h&&(R.render=h,R.staticRenderFns=m,R._compiled=!0),p&&(R.functional=!0),b&&(R._scopeId="data-v-"+b),$?(D=function(L){(L=L||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__>"u"||(L=__VUE_SSR_CONTEXT__),f&&f.call(this,L),L&&L._registeredComponents&&L._registeredComponents.add($)},R._ssrRegister=D):f&&(D=P?function(){f.call(this,this.$root.$options.shadowRoot)}:f),D)if(R.functional){R._injectStyles=D;var k=R.render;R.render=function(L,I){return D.call(I),k(L,I)}}else{var S=R.beforeCreate;R.beforeCreate=S?[].concat(S,D):[D]}return{exports:d,options:R}}({data:function(){return{status:null,img:null,src:null}},created:function(){var d=this.$slots.image[0].data.attrs;if(this.src=d.src||d["data-src"],this.src)return this.status=a,this.crossOrigin=d.crossorigin,void this.createLoader();this.status=n},updated:function(){var d=this.$slots.image[0].data.attrs,h=d.src||d["data-src"];this.status!==a||this.img?this.src!==h&&(this.src=h,this.crossOrigin=d.crossorigin,this.createLoader()):this.createLoader()},watch:{src:function(d){this.status=d?a:n}},methods:{createLoader:function(){this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad,this.img.onerror=this.handleError,this.img.crossOrigin=this.crossOrigin,this.img.src=this.src},destroyLoader:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)},handleLoad:function(){this.destroyLoader(),this.status=o,this.$emit("onLoad")},handleError:function(d){this.destroyLoader(),this.status=l,this.$emit("onError",d)}}},function(){var d=this.$createElement;return(this._self._c||d)("div",{staticClass:"vue-load-image"},[this.status==="loaded"?this._t("image"):this.status==="failed"?this._t("error"):this.status==="loading"?this._t("preloader"):this._e()],2)},[],!1,null,null,null);c.options.__file="VueLoadImage.vue";var u=c.exports;r.default=u}])})})(AD);var Kpe=AD.exports;const Qpe=Pn(Kpe);var kD={exports:{}};(function(e,s){(function(t,r){e.exports=r()})(Wr,()=>(()=>{var t={d:(h,m)=>{for(var p in m)t.o(m,p)&&!t.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:m[p]})},o:(h,m)=>Object.prototype.hasOwnProperty.call(h,m)},r={};t.d(r,{default:()=>d});class i{constructor(m,p){this.startedAt=Date.now(),this.callback=m,this.delay=p,this.timer=setTimeout(m,p)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const n=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"}),a={all:o=o||new Map,on:function(h,m){var p=o.get(h);p?p.push(m):o.set(h,[m])},off:function(h,m){var p=o.get(h);p&&(m?p.splice(p.indexOf(m)>>>0,1):o.set(h,[]))},emit:function(h,m){var p=o.get(h);p&&p.slice().map(function(f){f(m)}),(p=o.get("*"))&&p.slice().map(function(f){f(h,m)})}};var o,l=function(h,m,p,f,b,$,P,D){var R,k=typeof h=="function"?h.options:h;if(m&&(k.render=m,k.staticRenderFns=p,k._compiled=!0),f&&(k.functional=!0),$&&(k._scopeId="data-v-"+$),P?(R=function(I){(I=I||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__>"u"||(I=__VUE_SSR_CONTEXT__),b&&b.call(this,I),I&&I._registeredComponents&&I._registeredComponents.add(P)},k._ssrRegister=R):b&&(R=D?function(){b.call(this,(k.functional?this.parent:this).$root.$options.shadowRoot)}:b),R)if(k.functional){k._injectStyles=R;var S=k.render;k.render=function(I,N){return R.call(N),S(I,N)}}else{var L=k.beforeCreate;k.beforeCreate=L?[].concat(L,R):[R]}return{exports:h,options:k}}({name:"toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:n.BOTTOM_RIGHT,validator:h=>Object.values(n).includes(h)},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data:()=>({isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}),beforeMount(){this.setupContainer()},mounted(){this.showNotice(),a.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const h=document.body;h.appendChild(this.parentTop),h.appendChild(this.parentBottom)},shouldQueue(){return!!this.queue&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{var h;this.onDismiss.apply(null,arguments),this.$destroy(),(h=this.$el).remove!==void 0?h.remove():h.parentNode.removeChild(h)},150)},showNotice(){this.shouldQueue()?this.queueTimer=setTimeout(this.showNotice,250):(this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.duration&&(this.timer=new i(this.dismiss,this.duration)))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(h){this.pauseOnHover&&this.timer&&(h?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case n.TOP:case n.TOP_RIGHT:case n.TOP_LEFT:return this.parentTop;case n.BOTTOM:case n.BOTTOM_RIGHT:case n.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case n.TOP:case n.TOP_RIGHT:case n.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case n.BOTTOM:case n.BOTTOM_RIGHT:case n.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeDestroy(){a.off("toast-clear",this.dismiss)}},function(){var h=this,m=h._self._c;return m("transition",{attrs:{"enter-active-class":h.transition.enter,"leave-active-class":h.transition.leave}},[m("div",{directives:[{name:"show",rawName:"v-show",value:h.isActive,expression:"isActive"}],staticClass:"v-toast__item",class:["v-toast__item--".concat(h.type),"v-toast__item--".concat(h.position)],attrs:{role:"alert"},on:{mouseover:function(p){return h.toggleTimer(!0)},mouseleave:function(p){return h.toggleTimer(!1)},click:h.whenClicked}},[m("div",{staticClass:"v-toast__icon"}),h._v(" "),m("p",{staticClass:"v-toast__text",domProps:{innerHTML:h._s(h.message)}})])])},[],!1,null,null,null);const c=l.exports,u=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{open(p){let f;typeof p=="string"&&(f=p);const b={message:f},$=Object.assign({},b,m,p);return new(h.extend(c))({el:document.createElement("div"),propsData:$})},clear(){a.emit("toast-clear")},success(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:p,type:"success"},f))},error(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:p,type:"error"},f))},info(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:p,type:"info"},f))},warning(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:p,type:"warning"},f))},default(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:p,type:"default"},f))}}};c.install=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u(h,m);h.$toast=p,h.prototype.$toast=p};const d=c;return r=r.default})())})(kD);var efe=kD.exports;const tfe=Pn(efe);class sfe extends y.extend({name:"overlay-scrollbars",props:{options:{type:Object},extensions:{type:[String,Array,Object]}},methods:{osInstance(){return this._osInstace},osTarget(){return this.$el||null}},watch:{options(s,t){let r=this._osInstace;ml.valid(r)&&r.options(s)}},data(){return{}},mounted(){this._osInstace=ml(this.osTarget(),this.options||{},this.extensions)},beforeDestroy(){const s=this._osInstace;ml.valid(s)&&(s.destroy(),this._osInstace=null)}}){constructor(){super(...arguments),this._osInstace=null}}function rfe(e,s,t,r,i,n,a,o,l,c){typeof a!="boolean"&&(l=o,o=a,a=!1);const u=typeof t=="function"?t.options:t;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r);let d;if(n?(d=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),s&&s.call(this,l(h)),h&&h._registeredComponents&&h._registeredComponents.add(n)},u._ssrRegister=d):s&&(d=a?function(h){s.call(this,c(h,this.$root.$options.shadowRoot))}:function(h){s.call(this,o(h))}),d)if(u.functional){const h=u.render;u.render=function(p,f){return d.call(f),h(p,f)}}else{const h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return t}const ife=sfe;var RD=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"os-host"},[t("div",{staticClass:"os-resize-observer-host"}),e._v(" "),t("div",{staticClass:"os-padding"},[t("div",{staticClass:"os-viewport"},[t("div",{staticClass:"os-content"},[e._t("default")],2)])]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),t("div",{staticClass:"os-scrollbar-corner"})])},nfe=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"os-scrollbar os-scrollbar-horizontal "},[t("div",{staticClass:"os-scrollbar-track"},[t("div",{staticClass:"os-scrollbar-handle"})])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"os-scrollbar os-scrollbar-vertical"},[t("div",{staticClass:"os-scrollbar-track"},[t("div",{staticClass:"os-scrollbar-handle"})])])}];RD._withStripped=!0;const afe=void 0,ofe=void 0,lfe=void 0,cfe=!1,ufe=rfe({render:RD,staticRenderFns:nfe},afe,ife,ofe,cfe,lfe,!1,void 0,void 0,void 0),dfe={install(e,s){s&&ml.defaultOptions(s),e.component("overlay-scrollbars",ufe)}};y.directive("longpress",{bind:function(e,s,t){var l,c;if(typeof s.value!="function"){const u=(l=t.context)==null?void 0:l.$options.name;let d="[longpress:] provided expression '".concat(s.expression,"' is not a function, but has to be");u&&(d+=" Found in component '".concat(u,"' ")),console.warn(d)}const r=Number((c=s.arg)!=null?c:1e3),i=u=>{s.value(u)};let n=null;const a=u=>{var d;if(u.type!=="click"&&!(!u.touches||u.touches.length<1))return(d=document.querySelector("body"))==null||d.setAttribute("style","user-select: none; -webkit-user-select: none; -moz-user-select: none;"),setTimeout(()=>{var h;(h=document.querySelector("body"))==null||h.setAttribute("style","")},r+200),n===null&&(n=window.setTimeout(()=>{u.preventDefault(),u.stopPropagation(),u.stopImmediatePropagation(),u.cancelBubble=!0,i({clientX:u.touches[0].clientX,clientY:u.touches[0].clientY,force:u.touches[0].force,identifier:u.touches[0].identifier,pageX:u.touches[0].pageX,pageY:u.touches[0].pageY,radiusX:u.touches[0].radiusX,radiusY:u.touches[0].radiusY,rotationAngle:u.touches[0].rotationAngle,screenX:u.touches[0].screenX,screenY:u.touches[0].screenY,preventDefault:()=>u.preventDefault()})},r)),!1},o=()=>{n!==null&&(clearTimeout(n),n=null)};e.addEventListener("touchstart",a),e.addEventListener("touchmove",o),e.addEventListener("touchend",o),e.addEventListener("touchcancel",o),document.addEventListener("scroll",o,{passive:!0})}});y.directive("responsive-class",{inserted(e,s){const t=y$(i=>{const n=i[0].contentRect;for(const a in s.value)e.classList.toggle(a,s.value[a](n))},50);new ResizeObserver(t).observe(e)}});var gf=y;y.util.warn;var Zh=null;function hfe(e){return Zh||(Zh=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(s){return setTimeout(s,16)}).bind(window)),Zh(e)}var Yh=null;function mfe(e){Yh||(Yh=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(s){clearTimeout(s)}).bind(window)),Yh(e)}function pfe(e){var s=document.createElement("style");return s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(s),s}function dl(e,s){s===void 0&&(s={});var t=document.createElement(e);return Object.keys(s).forEach(function(r){t[r]=s[r]}),t}function HD(e,s,t){var r=window.getComputedStyle(e,t||null)||{display:"none"};return r[s]}function _f(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var s=e;s!==document;){if(HD(s,"display")==="none")return{detached:!1,rendered:!1};s=s.parentNode}return{detached:!1,rendered:!0}}var ffe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',vf=0,El=null;function gfe(e,s){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=bfe.bind(e));var t=e.__resize_listeners__;if(!t){if(e.__resize_listeners__=[],window.ResizeObserver){var r=e.offsetWidth,i=e.offsetHeight,n=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===r&&e.offsetHeight===i)||Lu(e)}),a=_f(e),o=a.detached,l=a.rendered;e.__resize_observer_triggered__=o===!1&&l===!1,e.__resize_observer__=n,n.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){Lu(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(vf||(El=pfe(ffe)),yfe(e),e.__resize_rendered__=_f(e).rendered,window.MutationObserver){var c=new MutationObserver(e.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=c}}e.__resize_listeners__.push(s),vf++}function _fe(e,s){var t=e.__resize_listeners__;if(t){if(s&&t.splice(t.indexOf(s),1),!t.length||!s){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",V1),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--vf&&El&&El.parentNode.removeChild(El)}}function vfe(e){var s=e.__resize_last__,t=s.width,r=s.height,i=e.offsetWidth,n=e.offsetHeight;return i!==t||n!==r?{width:i,height:n}:null}function bfe(){var e=_f(this),s=e.rendered,t=e.detached;s!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(U1(this),this.addEventListener("scroll",V1,!0)),this.__resize_rendered__=s,Lu(this))}function V1(){var e=this;U1(this),this.__resize_raf__&&mfe(this.__resize_raf__),this.__resize_raf__=hfe(function(){var s=vfe(e);s&&(e.__resize_last__=s,Lu(e))})}function Lu(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(s){s.call(e,e)})}function yfe(e){var s=HD(e,"position");(!s||s==="static")&&(e.style.position="relative"),e.__resize_old_position__=s,e.__resize_last__={};var t=dl("div",{className:"resize-triggers"}),r=dl("div",{className:"resize-expand-trigger"}),i=dl("div"),n=dl("div",{className:"resize-contract-trigger"});r.appendChild(i),t.appendChild(r),t.appendChild(n),e.appendChild(t),e.__resize_triggers__={triggers:t,expand:r,expandChild:i,contract:n},U1(e),e.addEventListener("scroll",V1,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function U1(e){var s=e.__resize_triggers__,t=s.expand,r=s.expandChild,i=s.contract,n=i.scrollWidth,a=i.scrollHeight,o=t.offsetWidth,l=t.offsetHeight,c=t.scrollWidth,u=t.scrollHeight;i.scrollLeft=n,i.scrollTop=a,r.style.width=o+1+"px",r.style.height=l+1+"px",t.scrollLeft=c,t.scrollTop=u}var js=function(){return js=Object.assign||function(e){for(var s,t=1,r=arguments.length;t<r;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);return e},js.apply(this,arguments)};var Cfe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function $fe(e){return s=Object.create(null),Cfe.forEach(function(t){s[t]=function(r){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,i)}}(t)}),s;var s}var xfe={autoresize:[Boolean,Object]},Sfe=/^on[^a-z]/,wfe=function(e){return Sfe.test(e)};function hl(e,s){var t=u3(e);return t&&typeof t=="object"&&"value"in t?t.value||s:t||s}var Pfe="ecLoadingOptions",Tfe={loading:Boolean,loadingOptions:Object},Qn=null,B1="x-vue-echarts",uC=[],ea=[];(function(e,s){if(e&&typeof document<"u"){var t,r=s.prepend===!0?"prepend":"append",i=s.singleTag===!0,n=typeof s.container=="string"?document.querySelector(s.container):document.getElementsByTagName("head")[0];if(i){var a=uC.indexOf(n);a===-1&&(a=uC.push(n)-1,ea[a]={}),t=ea[a]&&ea[a][r]?ea[a][r]:ea[a][r]=o()}else t=o();e.charCodeAt(0)===65279&&(e=e.substring(1)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),s.attributes)for(var c=Object.keys(s.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],s.attributes[c[u]]);var d=r==="prepend"?"afterbegin":"beforeend";return n.insertAdjacentElement(d,l),l}})("x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}\n",{});var Dfe=function(){if(Qn!=null)return Qn;if(typeof HTMLElement>"u"||typeof customElements>"u")return Qn=!1;try{new Function("tag","class EChartsElement extends HTMLElement {\n  __dispose = null;\n\n  disconnectedCallback() {\n    if (this.__dispose) {\n      this.__dispose();\n      this.__dispose = null;\n    }\n  }\n}\n\nif (customElements.get(tag) == null) {\n  customElements.define(tag, EChartsElement);\n}\n")(B1)}catch{return Qn=!1}return Qn=!0}();gf&&gf.config.ignoredElements.push(B1);var Mfe="ecTheme",Efe="ecInitOptions",Ofe="ecUpdateOptions",Lfe=i3({name:"echarts",props:js(js({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},xfe),Tfe),emits:{},inheritAttrs:!1,setup:function(e,s){var t=s.attrs,r=Zo(),i=Zo(),n=Zo(),a=Zo(),o=Yo(Mfe,null),l=Yo(Efe,null),c=Yo(Ofe,null),u=n3(e),d=u.autoresize,h=u.manualUpdate,m=u.loading,p=u.loadingOptions,f=Nr(function(){return a.value||e.option||null}),b=Nr(function(){return e.theme||hl(o,{})}),$=Nr(function(){return e.initOptions||hl(l,{})}),P=Nr(function(){return e.updateOptions||hl(c,{})}),D=Nr(function(){return function(N){var G={};for(var q in N)wfe(q)||(G[q]=N[q]);return G}(t)}),R=a3().proxy.$listeners;function k(N){if(i.value){var G=n.value=d3(i.value,b.value,$.value);e.group&&(G.group=e.group);var q=R;q||(q={},Object.keys(t).filter(function(F){return F.indexOf("on")===0&&F.length>2}).forEach(function(F){var W=F.charAt(2).toLowerCase()+F.slice(3);W.substring(W.length-4)==="Once"&&(W="~".concat(W.substring(0,W.length-4))),q[W]=t[F]})),Object.keys(q).forEach(function(F){var W=q[F];if(W){var X=F.toLowerCase();X.charAt(0)==="~"&&(X=X.substring(1),W.__once__=!0);var J=G;if(X.indexOf("zr:")===0&&(J=G.getZr(),X=X.substring(3)),W.__once__){delete W.__once__;var ee=W;W=function(){for(var te=[],j=0;j<arguments.length;j++)te[j]=arguments[j];ee.apply(void 0,te),J.off(X,W)}}J.on(X,W)}}),d.value?c3(function(){G&&!G.isDisposed()&&G.resize(),se()}):se()}function se(){var F=N||f.value;F&&G.setOption(F,P.value)}}function S(){n.value&&(n.value.dispose(),n.value=void 0)}var L=null;Xo(h,function(N){typeof L=="function"&&(L(),L=null),N||(L=Xo(function(){return e.option},function(G,q){G&&(n.value?n.value.setOption(G,js({notMerge:G!==q},P.value)):k())},{deep:!0}))},{immediate:!0}),Xo([b,$],function(){S(),k()},{deep:!0}),G1(function(){e.group&&n.value&&(n.value.group=e.group)});var I=$fe(n);return function(N,G,q){var se=Yo(Pfe,{}),F=Nr(function(){return js(js({},hl(se,{})),q==null?void 0:q.value)});G1(function(){var W=N.value;W&&(G.value?W.showLoading(F.value):W.hideLoading())})}(n,m,p),function(N,G,q){var se=null;Xo([q,N,G],function(F,W,X){var J=F[0],ee=F[1],te=F[2];if(J&&ee&&te){var j=te===!0?{}:te,z=j.throttle,T=z===void 0?100:z,A=j.onResize,V=function(){ee.resize(),A==null||A()};se=T?h3(V,T):V,gfe(J,se)}X(function(){J&&se&&_fe(J,se)})})}(n,d,i),o3(function(){k()}),l3(function(){Dfe&&r.value?r.value.__dispose=S:S()}),js({chart:n,root:r,inner:i,setOption:function(N,G){e.manualUpdate&&(a.value=N),n.value?n.value.setOption(N,G||{}):k(N)},nonEventAttrs:D},I)},render:function(){var e=gf?{attrs:this.nonEventAttrs}:js({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",W1(B1,e,[W1("div",{ref:"inner"})])}});function Ffe(){var e=window.navigator.userAgent,s=e.indexOf("MSIE ");if(s>0)return parseInt(e.substring(s+5,e.indexOf(".",s)),10);var t=e.indexOf("Trident/");if(t>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}var Ol;function bf(){bf.init||(bf.init=!0,Ol=Ffe()!==-1)}var Afe={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var s=this;bf(),this.$nextTick(function(){s._w=s.$el.offsetWidth,s._h=s.$el.offsetHeight,s.emitOnMount&&s.emitSize()});var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",Ol&&this.$el.appendChild(t),t.data="about:blank",Ol||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!Ol&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function kfe(e,s,t,r,i,n,a,o,l,c){typeof a!="boolean"&&(l=o,o=a,a=!1);var u=typeof t=="function"?t.options:t;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r);var d;if(n?(d=function(f){f=f||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!f&&typeof __VUE_SSR_CONTEXT__<"u"&&(f=__VUE_SSR_CONTEXT__),s&&s.call(this,l(f)),f&&f._registeredComponents&&f._registeredComponents.add(n)},u._ssrRegister=d):s&&(d=a?function(p){s.call(this,c(p,this.$root.$options.shadowRoot))}:function(p){s.call(this,o(p))}),d)if(u.functional){var h=u.render;u.render=function(f,b){return d.call(b),h(f,b)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,d):[d]}return t}var Rfe=Afe,jD=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},Hfe=[];jD._withStripped=!0;var jfe=void 0,Ife="data-v-8859cc6c",Nfe=void 0,Vfe=!1,dC=kfe({render:jD,staticRenderFns:Hfe},jfe,Rfe,Ife,Vfe,Nfe,!1,void 0,void 0,void 0);function Ufe(e){e.component("resize-observer",dC),e.component("ResizeObserver",dC)}var ID={version:"1.0.1",install:Ufe},Fu=null;typeof window<"u"?Fu=window.Vue:typeof global<"u"&&(Fu=global.Vue);Fu&&Fu.use(ID);y.config.productionTip=!1;y.directive("observe-visibility",gD);y.use(Jpe);y.component("VueLoadImage",Qpe);y.use(tfe,{duration:3e3});const Bfe=navigator.userAgent.includes("Safari")&&navigator.userAgent.search("Chrome")===-1,Gfe="ontouchstart"in window||navigator.maxTouchPoints>0&&navigator.maxTouchPoints!==256;y.use(dfe,{className:"os-theme-light",scrollbars:{visibility:"auto",autoHide:Bfe&&Gfe?"scroll":"move"}});m3([p3,f3,g3,_3,v3,b3,y3,C3]);y.component("EChart",Lfe);y.use(ID);const Wfe=async()=>{var s,t;try{const r="/",n=await(await fetch("".concat(r,"config.json"))).json();window.console.debug("Loaded config.json"),await Ur.dispatch("importConfigJson",n),"defaultLocale"in n&&await XS(n.defaultLocale);const a=(s=n.defaultMode)!=null?s:CC;MT.framework.theme.dark=a!=="light"}catch(r){window.console.error("Failed to load config.json"),window.console.error(r)}const e=Ur.getters["socket/getWebsocketUrl"];y.use(Eme,{url:e,store:Ur}),((t=Ur==null?void 0:Ur.state)==null?void 0:t.instancesDB)==="moonraker"&&y.$socket.connect()};Wfe().then(()=>new y({vuetify:MT,router:uo,store:Ur,i18n:be,render:e=>e(uue)}).$mount("#app"));export{jl as A,O as B,w as C,Qe as D,Ns as E,Ie as F,Ye as G,Pr as H,Y2 as I,$r as J,x as P,Fs as R,yt as T,ce as W,B as _,Wu as a,pe as b,Bu as c,Ge as d,Ct as e,Hl as f,Kfe as g,It as h,Xe as i,GC as j,eM as k,Iu as l,M as m,E as n,ge as o,Jfe as p,Yfe as q,Zf as r,d$ as s,go as t,Yt as u,Ku as v,Dn as w,Bf as x,Xfe as y,EC as z};
